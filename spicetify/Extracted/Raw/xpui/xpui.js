(()=>{var e={16858:(e,t,n)=>{n(23157),n(92222),e.exports={convertPathToURL:function(e,t){if("1"==={NODE_ENV:"production",DEBUG_EVENT_SENDER:!1,DEBUG_SEMANTIC_METRICS:void 0}.IS_SPOTIFY_DESKTOP_APP)return"/".concat(e);if("hot"==={NODE_ENV:"production",DEBUG_EVENT_SENDER:!1,DEBUG_SEMANTIC_METRICS:void 0}.WEBPACK_BUILD&&e.startsWith("build/")){var n={NODE_ENV:"production",DEBUG_EVENT_SENDER:!1,DEBUG_SEMANTIC_METRICS:void 0}.WEBPACK_HOT_PORT;return"https://".concat({NODE_ENV:"production",DEBUG_EVENT_SENDER:!1,DEBUG_SEMANTIC_METRICS:void 0}.WEBPACK_HOT_HOST,":").concat(n,"/cdn/").concat(e)}return"".concat(t.cdn_url,"/").concat(e)}}},28230:(e,t,n)=>{"use strict";n.d(t,{g:()=>r});n(21703),n(96647),n(16858);function r(e,t){var n,r;if("string"!=typeof(n='{"fonts/spoticon_regular_2.ttf":"/fonts/spoticon_regular_2.ttf","fonts/spoticon_regular_2.woff":"/fonts/spoticon_regular_2.woff","fonts/spoticon_regular_2.woff2":"/fonts/spoticon_regular_2.woff2","images/checkmark.png":"/images/checkmark.png","images/concert-hub-fb-card.png":"/images/concert-hub-fb-card.png","images/concert-hub-header.png":"/images/concert-hub-header.png","images/concert-hub-iphone-de.png":"/images/concert-hub-iphone-de.png","images/concert-hub-iphone-el.png":"/images/concert-hub-iphone-el.png","images/concert-hub-iphone-en.png":"/images/concert-hub-iphone-en.png","images/concert-hub-iphone-es_419.png":"/images/concert-hub-iphone-es_419.png","images/concert-hub-iphone-es.png":"/images/concert-hub-iphone-es.png","images/concert-hub-iphone-fi.png":"/images/concert-hub-iphone-fi.png","images/concert-hub-iphone-fr_CA.png":"/images/concert-hub-iphone-fr_CA.png","images/concert-hub-iphone-fr.png":"/images/concert-hub-iphone-fr.png","images/concert-hub-iphone-hu.png":"/images/concert-hub-iphone-hu.png","images/concert-hub-iphone-id.png":"/images/concert-hub-iphone-id.png","images/concert-hub-iphone-it.png":"/images/concert-hub-iphone-it.png","images/concert-hub-iphone-ja.png":"/images/concert-hub-iphone-ja.png","images/concert-hub-iphone-ms.png":"/images/concert-hub-iphone-ms.png","images/concert-hub-iphone-nl.png":"/images/concert-hub-iphone-nl.png","images/concert-hub-iphone-pl.png":"/images/concert-hub-iphone-pl.png","images/concert-hub-iphone-pt_BR.png":"/images/concert-hub-iphone-pt_BR.png","images/concert-hub-iphone-sv.png":"/images/concert-hub-iphone-sv.png","images/concert-hub-iphone-tr.png":"/images/concert-hub-iphone-tr.png","images/concert-hub-iphone-zh_TW.png":"/images/concert-hub-iphone-zh_TW.png","images/concert-hub-twitter-card.png":"/images/concert-hub-twitter-card.png","images/connect_header@1x.png":"/images/connect_header@1x.png","images/connect-to-devices-white.svg":"/images/connect-to-devices-white.svg","images/desktop-auth-check.svg":"/images/desktop-auth-check.svg","images/desktop-auth-error.svg":"/images/desktop-auth-error.svg","images/device-picker-equaliser-animation.webp":"/images/device-picker-equaliser-animation.webp","images/devices/mac.png":"/images/devices/mac.png","images/download-badges/apple/ar.svg":"/images/download-badges/apple/ar.svg","images/download-badges/apple/az.svg":"/images/download-badges/apple/az.svg","images/download-badges/apple/bg.svg":"/images/download-badges/apple/bg.svg","images/download-badges/apple/cs_CZ.svg":"/images/download-badges/apple/cs_CZ.svg","images/download-badges/apple/da.svg":"/images/download-badges/apple/da.svg","images/download-badges/apple/de.svg":"/images/download-badges/apple/de.svg","images/download-badges/apple/ee.svg":"/images/download-badges/apple/ee.svg","images/download-badges/apple/el.svg":"/images/download-badges/apple/el.svg","images/download-badges/apple/en.svg":"/images/download-badges/apple/en.svg","images/download-badges/apple/es_mx.svg":"/images/download-badges/apple/es_mx.svg","images/download-badges/apple/es.svg":"/images/download-badges/apple/es.svg","images/download-badges/apple/fi.svg":"/images/download-badges/apple/fi.svg","images/download-badges/apple/fp.svg":"/images/download-badges/apple/fp.svg","images/download-badges/apple/fr_ca.svg":"/images/download-badges/apple/fr_ca.svg","images/download-badges/apple/fr.svg":"/images/download-badges/apple/fr.svg","images/download-badges/apple/he.svg":"/images/download-badges/apple/he.svg","images/download-badges/apple/hu.svg":"/images/download-badges/apple/hu.svg","images/download-badges/apple/id.svg":"/images/download-badges/apple/id.svg","images/download-badges/apple/int.svg":"/images/download-badges/apple/int.svg","images/download-badges/apple/it.svg":"/images/download-badges/apple/it.svg","images/download-badges/apple/ja.svg":"/images/download-badges/apple/ja.svg","images/download-badges/apple/ko.svg":"/images/download-badges/apple/ko.svg","images/download-badges/apple/lt.svg":"/images/download-badges/apple/lt.svg","images/download-badges/apple/lv.svg":"/images/download-badges/apple/lv.svg","images/download-badges/apple/ms.svg":"/images/download-badges/apple/ms.svg","images/download-badges/apple/mt.svg":"/images/download-badges/apple/mt.svg","images/download-badges/apple/nb.svg":"/images/download-badges/apple/nb.svg","images/download-badges/apple/nl.svg":"/images/download-badges/apple/nl.svg","images/download-badges/apple/pl.svg":"/images/download-badges/apple/pl.svg","images/download-badges/apple/pt_br.svg":"/images/download-badges/apple/pt_br.svg","images/download-badges/apple/pt.svg":"/images/download-badges/apple/pt.svg","images/download-badges/apple/ro.svg":"/images/download-badges/apple/ro.svg","images/download-badges/apple/ru.svg":"/images/download-badges/apple/ru.svg","images/download-badges/apple/sk.svg":"/images/download-badges/apple/sk.svg","images/download-badges/apple/sl.svg":"/images/download-badges/apple/sl.svg","images/download-badges/apple/sv.svg":"/images/download-badges/apple/sv.svg","images/download-badges/apple/th_TH.svg":"/images/download-badges/apple/th_TH.svg","images/download-badges/apple/tr.svg":"/images/download-badges/apple/tr.svg","images/download-badges/apple/vi_VN.svg":"/images/download-badges/apple/vi_VN.svg","images/download-badges/apple/zh_HANS.svg":"/images/download-badges/apple/zh_HANS.svg","images/download-badges/apple/zh_HANT.svg":"/images/download-badges/apple/zh_HANT.svg","images/download-badges/google/af.svg":"/images/download-badges/google/af.svg","images/download-badges/google/am.svg":"/images/download-badges/google/am.svg","images/download-badges/google/ar.svg":"/images/download-badges/google/ar.svg","images/download-badges/google/az.svg":"/images/download-badges/google/az.svg","images/download-badges/google/be.svg":"/images/download-badges/google/be.svg","images/download-badges/google/bg.svg":"/images/download-badges/google/bg.svg","images/download-badges/google/bn.svg":"/images/download-badges/google/bn.svg","images/download-badges/google/bs.svg":"/images/download-badges/google/bs.svg","images/download-badges/google/ca.svg":"/images/download-badges/google/ca.svg","images/download-badges/google/cr.svg":"/images/download-badges/google/cr.svg","images/download-badges/google/cs_CZ.svg":"/images/download-badges/google/cs_CZ.svg","images/download-badges/google/da.svg":"/images/download-badges/google/da.svg","images/download-badges/google/de.svg":"/images/download-badges/google/de.svg","images/download-badges/google/el.svg":"/images/download-badges/google/el.svg","images/download-badges/google/en.svg":"/images/download-badges/google/en.svg","images/download-badges/google/es_419.svg":"/images/download-badges/google/es_419.svg","images/download-badges/google/es.svg":"/images/download-badges/google/es.svg","images/download-badges/google/et.svg":"/images/download-badges/google/et.svg","images/download-badges/google/eu.svg":"/images/download-badges/google/eu.svg","images/download-badges/google/fa.svg":"/images/download-badges/google/fa.svg","images/download-badges/google/fi.svg":"/images/download-badges/google/fi.svg","images/download-badges/google/fp.svg":"/images/download-badges/google/fp.svg","images/download-badges/google/fr_ca.svg":"/images/download-badges/google/fr_ca.svg","images/download-badges/google/fr.svg":"/images/download-badges/google/fr.svg","images/download-badges/google/gl.svg":"/images/download-badges/google/gl.svg","images/download-badges/google/gu.svg":"/images/download-badges/google/gu.svg","images/download-badges/google/he.svg":"/images/download-badges/google/he.svg","images/download-badges/google/hi.svg":"/images/download-badges/google/hi.svg","images/download-badges/google/hr.svg":"/images/download-badges/google/hr.svg","images/download-badges/google/hu.svg":"/images/download-badges/google/hu.svg","images/download-badges/google/hy.svg":"/images/download-badges/google/hy.svg","images/download-badges/google/id.svg":"/images/download-badges/google/id.svg","images/download-badges/google/int.svg":"/images/download-badges/google/int.svg","images/download-badges/google/is.svg":"/images/download-badges/google/is.svg","images/download-badges/google/it.svg":"/images/download-badges/google/it.svg","images/download-badges/google/ja.svg":"/images/download-badges/google/ja.svg","images/download-badges/google/ka.svg":"/images/download-badges/google/ka.svg","images/download-badges/google/kk.svg":"/images/download-badges/google/kk.svg","images/download-badges/google/km.svg":"/images/download-badges/google/km.svg","images/download-badges/google/kn.svg":"/images/download-badges/google/kn.svg","images/download-badges/google/ko.svg":"/images/download-badges/google/ko.svg","images/download-badges/google/ky.svg":"/images/download-badges/google/ky.svg","images/download-badges/google/lo.svg":"/images/download-badges/google/lo.svg","images/download-badges/google/lt.svg":"/images/download-badges/google/lt.svg","images/download-badges/google/lv.svg":"/images/download-badges/google/lv.svg","images/download-badges/google/mk.svg":"/images/download-badges/google/mk.svg","images/download-badges/google/ml.svg":"/images/download-badges/google/ml.svg","images/download-badges/google/mn.svg":"/images/download-badges/google/mn.svg","images/download-badges/google/mr.svg":"/images/download-badges/google/mr.svg","images/download-badges/google/ms.svg":"/images/download-badges/google/ms.svg","images/download-badges/google/my.svg":"/images/download-badges/google/my.svg","images/download-badges/google/nb.svg":"/images/download-badges/google/nb.svg","images/download-badges/google/ne.svg":"/images/download-badges/google/ne.svg","images/download-badges/google/nl.svg":"/images/download-badges/google/nl.svg","images/download-badges/google/pa.svg":"/images/download-badges/google/pa.svg","images/download-badges/google/pl.svg":"/images/download-badges/google/pl.svg","images/download-badges/google/pt_br.svg":"/images/download-badges/google/pt_br.svg","images/download-badges/google/pt.svg":"/images/download-badges/google/pt.svg","images/download-badges/google/ro.svg":"/images/download-badges/google/ro.svg","images/download-badges/google/ru.svg":"/images/download-badges/google/ru.svg","images/download-badges/google/si.svg":"/images/download-badges/google/si.svg","images/download-badges/google/sk.svg":"/images/download-badges/google/sk.svg","images/download-badges/google/sl.svg":"/images/download-badges/google/sl.svg","images/download-badges/google/sq.svg":"/images/download-badges/google/sq.svg","images/download-badges/google/sr.svg":"/images/download-badges/google/sr.svg","images/download-badges/google/sv.svg":"/images/download-badges/google/sv.svg","images/download-badges/google/sw.svg":"/images/download-badges/google/sw.svg","images/download-badges/google/ta.svg":"/images/download-badges/google/ta.svg","images/download-badges/google/te.svg":"/images/download-badges/google/te.svg","images/download-badges/google/th_TH.svg":"/images/download-badges/google/th_TH.svg","images/download-badges/google/tr.svg":"/images/download-badges/google/tr.svg","images/download-badges/google/ua.svg":"/images/download-badges/google/ua.svg","images/download-badges/google/ur.svg":"/images/download-badges/google/ur.svg","images/download-badges/google/uz.svg":"/images/download-badges/google/uz.svg","images/download-badges/google/vi_VN.svg":"/images/download-badges/google/vi_VN.svg","images/download-badges/google/zh_HANS.svg":"/images/download-badges/google/zh_HANS.svg","images/download-badges/google/zh_HANT.svg":"/images/download-badges/google/zh_HANT.svg","images/download-badges/google/zh_hk.svg":"/images/download-badges/google/zh_hk.svg","images/download-badges/google/zu.svg":"/images/download-badges/google/zu.svg","images/embed-legacy/copy-32_circle_grey_outline_bg.svg":"/images/embed-legacy/copy-32_circle_grey_outline_bg.svg","images/embed-legacy/embed-code-32_circle_grey_outline_bg.svg":"/images/embed-legacy/embed-code-32_circle_grey_outline_bg.svg","images/embed-legacy/fb_colour.svg":"/images/embed-legacy/fb_colour.svg","images/embed-legacy/messenger_colour.svg":"/images/embed-legacy/messenger_colour.svg","images/embed-legacy/twitter_colour.svg":"/images/embed-legacy/twitter_colour.svg","images/embed-legacy/whatsapp.svg":"/images/embed-legacy/whatsapp.svg","images/employee-podcasts-modal-art.png":"/images/employee-podcasts-modal-art.png","images/equaliser-animated-green.gif":"/images/equaliser-animated-green.gif","images/equaliser-green.svg":"/images/equaliser-green.svg","images/error-page-logo.svg":"/images/error-page-logo.svg","images/favicon.ico":"/images/favicon.ico","images/favicon.png":"/images/favicon.png","images/favicon16.png":"/images/favicon16.png","images/favicon32.png":"/images/favicon32.png","images/focused_stroy_play.png":"/images/focused_stroy_play.png","images/hifi-button-off.svg":"/images/hifi-button-off.svg","images/hifi-button-on.svg":"/images/hifi-button-on.svg","images/hifi.svg":"/images/hifi.svg","images/home-icon.svg":"/images/home-icon.svg","images/icons/Spotify_1024.png":"/images/icons/Spotify_1024.png","images/icons/Spotify_128.png":"/images/icons/Spotify_128.png","images/icons/Spotify_16.png":"/images/icons/Spotify_16.png","images/icons/Spotify_256.png":"/images/icons/Spotify_256.png","images/icons/Spotify_32.png":"/images/icons/Spotify_32.png","images/icons/Spotify_512.png":"/images/icons/Spotify_512.png","images/icons/Spotify_64.png":"/images/icons/Spotify_64.png","images/icons/Spotify_MWP_192.png":"/images/icons/Spotify_MWP_192.png","images/icons/Spotify_MWP_512.png":"/images/icons/Spotify_MWP_512.png","images/improved-modal-bg.jpg":"/images/improved-modal-bg.jpg","images/login-background.jpg":"/images/login-background.jpg","images/login-signup-burst.svg":"/images/login-signup-burst.svg","images/logo-complete-black.svg":"/images/logo-complete-black.svg","images/logo-white-2x.png":"/images/logo-white-2x.png","images/mid-year.png":"/images/mid-year.png","images/mwp-episodelist-placeholder.png":"/images/mwp-episodelist-placeholder.png","images/mwp-tracklist-placeholder.png":"/images/mwp-tracklist-placeholder.png","images/og-image.png":"/images/og-image.png","images/playlist-folder-filled.svg":"/images/playlist-folder-filled.svg","images/ribbon-graphic-mobile.svg":"/images/ribbon-graphic-mobile.svg","images/ribbon-graphic-small-side.svg":"/images/ribbon-graphic-small-side.svg","images/ribbon-graphic-small-top.svg":"/images/ribbon-graphic-small-top.svg","images/ribbon-graphic.svg":"/images/ribbon-graphic.svg","images/s2l-desktopui-ltr.png":"/images/s2l-desktopui-ltr.png","images/s2l-desktopui-rtl.png":"/images/s2l-desktopui-rtl.png","images/s2l-mobileui.png":"/images/s2l-mobileui.png","images/spotifylogo.svg":"/images/spotifylogo.svg","images/station-header-wave.svg":"/images/station-header-wave.svg","images/station-wave.svg":"/images/station-wave.svg","images/stranger-things-nether-bottom-left.png":"/images/stranger-things-nether-bottom-left.png","images/stranger-things-nether-bottom-right.png":"/images/stranger-things-nether-bottom-right.png","images/stranger-things-spores.png":"/images/stranger-things-spores.png","images/sw_saber_ahsoka1.png":"/images/sw_saber_ahsoka1.png","images/sw_saber_anakin.png":"/images/sw_saber_anakin.png","images/sw_saber_leia.png":"/images/sw_saber_leia.png","images/sw_saber_luke.png":"/images/sw_saber_luke.png","images/sw_saber_mace.png":"/images/sw_saber_mace.png","images/sw_saber_rey.png":"/images/sw_saber_rey.png","images/sw_saber_vader.png":"/images/sw_saber_vader.png","images/touch-icon-114.png":"/images/touch-icon-114.png","images/touch-icon-144.png":"/images/touch-icon-144.png","images/touch-icon-57.png":"/images/touch-icon-57.png","images/touch-icon-72.png":"/images/touch-icon-72.png","images/tracklist-placeholder.png":"/images/tracklist-placeholder.png","images/zara-larsson-singles.png":"/images/zara-larsson-singles.png","js/fb.js":"/js/fb.js","js/gtm-old.js":"/js/gtm-old.js","js/gtm.js":"/js/gtm.js","js/retargeting-pixels-old.js":"/js/retargeting-pixels-old.js","js/retargeting-pixels.js":"/js/retargeting-pixels.js","js/urlRedirect.js":"/js/urlRedirect.js","js/urlScheme.js":"/js/urlScheme.js"}'))throw new Error("No __CDN_FILE_URLS__ global variable available.");try{r=JSON.parse(n)}catch(e){throw new Error("Invalid __CDN_FILE_URLS__ global variable.")}if(!r[e])throw new Error("`".concat(e,"` is not available in __CDN_FILE_URLS__."));return r[e]}},69453:e=>{e.exports={af:"af-ZA",am:"am-ET",ar:"ar",az:"az-AZ",bg:"bg-BG",bn:"bn-IN",bho:"bp",cs:"cs-CZ",da:"da-DK",de:"de-DE",el:"el-GR",es:"es-ES","es-419":"es-LA",et:"et-EE",fa:"fa-IR",fr:"fr-FR",fi:"fi-FI",fil:"fp-PH","fr-CA":"fr-CA",gu:"gu-IN",hu:"hu-HU",he:"he-IL",hi:"hi-IN",hr:"hr-HR",id:"id-ID",is:"is-IS",it:"it-IT",ja:"ja-JP",kn:"kn-IN",ko:"ko-KR",lt:"lt-LT",lv:"lv-LV",ml:"ml-IN",mr:"mr-IN",ms:"ms-MY",nb:"nb-NO",ne:"ne-NP",nl:"nl-NL",or:"or-IN","pa-IN":"pa-IN","pa-PK":"pa-PK",pl:"pl-PL","pt-PT":"pt-PT","pt-BR":"pt-BR",ro:"ro-RO",ru:"ru-RU",sk:"sk-SK",sl:"sl-SI",sr:"sr-RS",sv:"sv-SE",sw:"sw",ta:"ta-IN",te:"te-IN",th:"th-TH",tr:"tr-TR",uk:"uk-UA",ur:"ur",vi:"vi-VN","zh-CN":"zh-CN","zh-TW":"zh-TW",zu:"zu-ZA"}},46877:(e,t,n)=>{"use strict";n.d(t,{ag:()=>y,go:()=>r});var r,i,a,o=n(71002),s=n(15671),l=n(43144),c=n(4942),u=(n(96647),n(83710),n(41539),n(39714),n(74916),n(15306),n(66992),n(51532),n(78783),n(33948),n(38862),n(21249),n(2707),n(47941),n(91058),n(77601),n(26699),n(21703),n(3843),n(69453)),d=n.n(u);function m(e){return"string"!=typeof e}!function(e){e.af="af",e.am="am",e.ar="ar",e.az="az",e.bg="bg",e.bn="bn",e.bho="bho",e.cs="cs",e.da="da",e.de="de",e.el="el",e.en="en",e.es419="es-419",e.es="es",e.et="et",e.fa="fa",e.fi="fi",e.fil="fil",e.frCA="fr-CA",e.fr="fr",e.gu="gu",e.he="he",e.hi="hi",e.hr="hr",e.hu="hu",e.id="id",e.is="is",e.it="it",e.ja="ja",e.kn="kn",e.ko="ko",e.lt="lt",e.lv="lv",e.ml="ml",e.mr="mr",e.ms="ms",e.nb="nb",e.ne="ne",e.nl="nl",e.or="or",e.paIN="pa-IN",e.paPK="pa-PK",e.pl="pl",e.ptBR="pt-BR",e.ptPT="pt-PT",e.ro="ro",e.ru="ru",e.sk="sk",e.sl="sl",e.sr="sr",e.sv="sv",e.sw="sw",e.ta="ta",e.te="te",e.th="th",e.tr="tr",e.uk="uk",e.ur="ur",e.vi="vi",e.zhCN="zh-CN",e.zhTW="zh-TW",e.zu="zu"}(r||(r={})),function(e){e.AR="، ",e.FA="، ",e.EN=", "}(i||(i={})),function(e){e.ZERO="zero",e.ONE="one",e.TWO="two",e.FEW="few",e.MANY="many",e.OTHER="other"}(a||(a={}));var p={},f=function(e,t){try{return(p[e]||(p[e]=new Intl.PluralRules(e))).select(t)}catch(e){return a.OTHER}};function v(e){return"number"==typeof e?e.toString():e.replace(/\$/,"$$$$")}var g=function(e){return"ar"===e?"ar-u-nu-latn":e};function h(e){return{seconds:Math.round(e/1e3),minutes:Math.round(e/1e3/60),hours:Math.round(e/1e3/60/60),days:Math.round(e/1e3/60/60/24)}}var y=new(function(){function e(){(0,s.Z)(this,e),(0,c.Z)(this,"_relativeTimeFormat",void 0===Intl.RelativeTimeFormat?null:new Intl.RelativeTimeFormat),(0,c.Z)(this,"_dateTimeFormats",new Map),this._dictionary={},Spicetify.Locale=this,this._locale=r.en}return(0,l.Z)(e,[{key:"getDateTimeFormat",value:function(e){var t=JSON.stringify(Object.keys(e).sort().map((function(t){return(0,c.Z)({},t,e[t])}))),n=this._dateTimeFormats.get(t);return void 0===n&&(n=new Intl.DateTimeFormat(g(this._locale),e),this._dateTimeFormats.set(t,n)),n}},{key:"getDictionary",value:function(){return this._dictionary}},{key:"setDictionary",value:function(e){this._dictionary=e}},{key:"setLocale",value:function(e){this._locale=e,this._dateTimeFormats.clear()}},{key:"getLocale",value:function(){return this._locale}},{key:"getSmartlingLocale",value:function(){var e=this._locale;return d()[e]||e}},{key:"toLocaleLowerCase",value:function(e){return null==e?void 0:e.toLocaleLowerCase(this._locale)}},{key:"toLocaleUpperCase",value:function(e){return null==e?void 0:e.toLocaleUpperCase(this._locale)}},{key:"get",value:function(e){for(var t=(e in this._dictionary?this._dictionary[e]:e),n="",r=arguments.length,i=new Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];if(m(t)){var s=i[0],l=f(this._locale,parseInt(s,10)),c=t[l];void 0!==c?n=c:t.other&&(n=t.other)}else n=t;if(/%\d%/.test(n)){var u=["desktop.login.DefaultErrorMessage","desktop.login.ErrorProxyAuthRequired","desktop.login.MissingUserInfoMessage","desktop.login.RegionMismatchMessage","desktop.login.ClientUpdateFail","desktop.login.FbUserNotFoundSignUp","desktop.login.errorCode","desktop-auth.error"];if(!u.includes(e))throw new Error("i18n: The placeholder format %0% is legacy and is only allowed for existing strings.")}if((null==i?void 0:i.length)>0)for(var d=0;d<i.length;d++){var p=i[d];if(null!=p)if("string"==typeof p)n=n.replace("{".concat(d,"}"),v(p)).replace("%".concat(d,"%"),v(p));else if("number"==typeof p){var g=this.formatNumber(p);n=n.replace("{".concat(d,"}"),g).replace("%".concat(d,"%"),g)}else if("object"===(0,o.Z)(p))for(var h=0,y=Object.keys(p);h<y.length;h++){var k=y[h],E=p[k];n=n.replace("%".concat(k,"%"),v(E))}}return n}},{key:"getSeparator",value:function(){switch(this._locale){case r.ar:return i.AR;case r.fa:return i.FA;default:return i.EN}}},{key:"formatNumber",value:function(e,t){return e.toLocaleString(g(this._locale),t)}},{key:"formatNumberCompact",value:function(e){return this.formatNumber(e,{notation:"compact",maximumFractionDigits:1})}},{key:"formatDate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n={year:"numeric",month:"long",day:"numeric"},r=t||n;return this.getDateTimeFormat(r).format(e)}},{key:"formatRelativeDate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=new Date(Date.now()),r=(e=new Date(e)).getTime()-n.getTime(),i=Math.abs(r)<2592e6;if(i&&null!==this._relativeTimeFormat){var a=h(r),o=a.days,s=a.hours,l=a.minutes,c=a.seconds;return o||s||l?o||s?o?this._relativeTimeFormat.format(o,"days"):this._relativeTimeFormat.format(s,"hours"):this._relativeTimeFormat.format(l,"minutes"):this._relativeTimeFormat.format(c,"seconds")}return this.formatDate(e,t)}},{key:"__resetForTests",value:function(){this._dictionary={},Spicetify.Locale=this,this._locale=r.en,p={}}}]),e}())},96206:(e,t,n)=>{"use strict";n.d(t,{ag:()=>r.ag,go:()=>r.go});var r=n(46877)},10917:(e,t,n)=>{"use strict";n.d(t,{Hp:()=>r,oT:()=>a,q$:()=>i});var r={SHOW_ABOUT_RECS_MODAL:"SHOW_ABOUT_RECS_MODAL",HIDE_ABOUT_RECS_MODAL:"HIDE_ABOUT_RECS_MODAL"},i=function(){return{type:r.SHOW_ABOUT_RECS_MODAL}},a=function(){return{type:r.HIDE_ABOUT_RECS_MODAL}}},98871:(e,t,n)=>{"use strict";n.d(t,{GV:()=>i,Hp:()=>r,se:()=>a});var r={SHOW_ABOUT_SPOTIFY_MODAL:"SHOW_ABOUT_SPOTIFY_MODAL",HIDE_ABOUT_SPOTIFY_MODAL:"HIDE_ABOUT_SPOTIFY_MODAL"},i=function(){return{type:r.SHOW_ABOUT_SPOTIFY_MODAL}},a=function(){return{type:r.HIDE_ABOUT_SPOTIFY_MODAL}}},84629:(e,t,n)=>{"use strict";n.d(t,{Hp:()=>r,QN:()=>o,RM:()=>a,vQ:()=>i});var r={GET_AGE_RESTRICTION_MODAL:"GET_AGE_RESTRICTION_MODAL",SHOW_AGE_RESTRICTION_MODAL:"SHOW_AGE_RESTRICTION_MODAL",HIDE_AGE_RESTRICTION_MODAL:"HIDE_AGE_RESTRICTION_MODAL"},i=function(e){return{type:r.SHOW_AGE_RESTRICTION_MODAL,dialog:e}},a=function(e){return{type:r.GET_AGE_RESTRICTION_MODAL,uri:e}},o=function(){return{type:r.HIDE_AGE_RESTRICTION_MODAL}}},70108:(e,t,n)=>{"use strict";n.d(t,{BH:()=>a,G1:()=>i,V5:()=>r,oX:()=>l,sX:()=>o,xO:()=>s});var r={ANONYMOUS_COLLECTION_NAVIGATION:"ANONYMOUS_COLLECTION_NAVIGATION",ANONYMOUS_LIKED_SONGS_NAVIGATION:"ANONYMOUS_LIKED_SONGS_NAVIGATION",ANONYMOUS_LOGIN_CLICK:"ANONYMOUS_LOGIN_CLICK",ANONYMOUS_SIGNUP_CLICK:"ANONYMOUS_SIGNUP_CLICK",ANONYMOUS_PREMIUM_CLICK:"ANONYMOUS_PREMIUM_CLICK",ANONYMOUS_DECLINE_SIGNUP:"ANONYMOUS_DECLINE_SIGNUP"},i=function(e){return{type:r.ANONYMOUS_COLLECTION_NAVIGATION,pathname:e}},a=function(e){return{type:r.ANONYMOUS_LIKED_SONGS_NAVIGATION,pathname:e}},o=function(){return{type:r.ANONYMOUS_LOGIN_CLICK}},s=function(){return{type:r.ANONYMOUS_SIGNUP_CLICK}},l=function(){return{type:r.ANONYMOUS_PREMIUM_CLICK}}},6581:(e,t,n)=>{"use strict";n.d(t,{A2:()=>a,AJ:()=>l,BQ:()=>o,Mg:()=>m,V5:()=>r,Wf:()=>c,_X:()=>s,il:()=>u,kz:()=>i,l$:()=>d,yi:()=>p});var r={SET_CONCERT_LOCATION:"SET_CONCERT_LOCATION",REQUEST_ARTIST_CONCERTS:"REQUEST_ARTIST_CONCERTS",REQUEST_ARTIST_CONCERTS_SUCCESS:"REQUEST_ARTIST_CONCERTS_SUCCESS",REQUEST_ARTIST_CONCERTS_FAILURE:"REQUEST_ARTIST_CONCERTS_FAILURE",REQUEST_COLLECTION_CONCERTS:"REQUEST_COLLECTION_CONCERTS",REQUEST_COLLECTION_CONCERTS_SUCCESS:"REQUEST_COLLECTION_CONCERTS_SUCCESS",REQUEST_COLLECTION_CONCERTS_FAILURE:"REQUEST_COLLECTION_CONCERTS_FAILURE",REQUEST_CONCERT:"REQUEST_CONCERT",REQUEST_CONCERT_SUCCESS:"REQUEST_CONCERT_SUCCESS",REQUEST_CONCERT_FAILURE:"REQUEST_CONCERT_FAILURE",REQUEST_CONCERT_LOCATIONS:"REQUEST_CONCERT_LOCATIONS",REQUEST_CONCERT_LOCATIONS_SUCCESS:"REQUEST_CONCERT_LOCATIONS_SUCCESS",REQUEST_CONCERT_LOCATIONS_FAILURE:"REQUEST_CONCERT_LOCATIONS_FAILURE"},i=function(e){return{type:r.SET_CONCERT_LOCATION,location:e}},a=function(e,t){return{type:r.REQUEST_ARTIST_CONCERTS,location:e,artistId:t}},o=function(e,t){return{type:r.REQUEST_ARTIST_CONCERTS_SUCCESS,uri:e,data:t}},s=function(e){return{type:r.REQUEST_ARTIST_CONCERTS_FAILURE,error:e}},l=function(e,t){return{type:r.REQUEST_COLLECTION_CONCERTS,location:e,isAnonymous:t}},c=function(e){return{type:r.REQUEST_COLLECTION_CONCERTS_SUCCESS,data:e}},u=function(e){return{type:r.REQUEST_COLLECTION_CONCERTS_FAILURE,error:e}},d=function(e){return{type:r.REQUEST_CONCERT,concertId:e}},m=function(e,t){return{type:r.REQUEST_CONCERT_SUCCESS,uri:e,data:t}},p=function(e){return{type:r.REQUEST_CONCERT_FAILURE,error:e}}},42038:(e,t,n)=>{"use strict";n.d(t,{Hp:()=>a,Ke:()=>o,jV:()=>s,o8:()=>l});n(47941),n(82526),n(57327),n(41539),n(38880),n(89554),n(54747),n(49337),n(33321),n(69070);var r=n(4942);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var a={SHOW_DUPLICATE_TRACKS_DIALOG:"SHOW_DUPLICATE_TRACKS_DIALOG",HIDE_DUPLICATE_TRACKS_DIALOG:"HIDE_DUPLICATE_TRACKS_DIALOG",CHECK_DUPLICATE_TRACKS:"CHECK_DUPLICATE_TRACKS"},o=function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({type:a.SHOW_DUPLICATE_TRACKS_DIALOG},e)},s=function(e,t,n){return{type:a.CHECK_DUPLICATE_TRACKS,playlistUri:e,uris:t,position:n}},l=function(){return{type:a.HIDE_DUPLICATE_TRACKS_DIALOG}}},67870:(e,t,n)=>{"use strict";var r;n.d(t,{EJ:()=>S,EQ:()=>m,Gh:()=>i,Jf:()=>p,MK:()=>_,Mn:()=>l,Oh:()=>h,Rm:()=>d,SS:()=>E,TB:()=>v,X3:()=>a,Xe:()=>g,aW:()=>b,c4:()=>c,kK:()=>k,nY:()=>r,pu:()=>y,rp:()=>f,sO:()=>w,vx:()=>s,xh:()=>o,zn:()=>u}),function(e){e.ERROR="ERROR",e.NOTICE="NOTICE"}(r||(r={}));var i="SHOW_FEEDBACK_BUBBLE",a="CLOSE_FEEDBACK_BUBBLE",o="SHOW_BLOCKED_USER",s="SHOW_UNBLOCKED_USER",l="SHOW_BLOCK_TRACK_FEEDBACK",c="SHOW_BLOCK_ARTIST_FEEDBACK",u="SHOW_BLOCK_TRACK_IN_RADIO_STATION",d="SHOW_SAVED_EPISODE",m="SHOW_REMOVED_EPISODE",p="SHOW_PUBLISHED_PLAYLIST",f="SHOW_UNPUBLISHED_PLAYLIST";function v(e,t){return{type:i,message:e,feedbackType:t}}function g(){return{type:a}}function h(e){return{type:l,playlistName:e}}function y(){return{type:u}}function k(){return{type:d}}function E(){return{type:m}}function b(){return{type:o}}function _(){return{type:s}}function S(){return{type:p}}function w(){return{type:f}}},62504:(e,t,n)=>{"use strict";n.d(t,{Hp:()=>r,qd:()=>i,xh:()=>a});var r={SHOW_LICENSES_MODAL:"SHOW_LICENSES_MODAL",HIDE_LICENSES_MODAL:"HIDE_LICENSES_MODAL"},i=function(){return{type:r.SHOW_LICENSES_MODAL}},a=function(){return{type:r.HIDE_LICENSES_MODAL}}},25896:(e,t,n)=>{"use strict";n.d(t,{V:()=>r,_:()=>i});var r={LOG_OPEN_ANALYTICS_EVENT:"LOG_OPEN_ANALYTICS_EVENT",LOG_INTERACTION:"LOG_INTERACTION"},i=function(e){return{type:r.LOG_INTERACTION,logData:e}}},77630:(e,t,n)=>{"use strict";n.d(t,{J_:()=>l,Nk:()=>c,$P:()=>a,lY:()=>s,cJ:()=>i,Tu:()=>o,V5:()=>r,e2:()=>u});var r={DEVICE_INFO_CHANGED:"DEVICE_INFO_CHANGED",SET_ACTIVE_DEVICE:"SET_ACTIVE_DEVICE",PLAYBACK_ERROR:"PLAYBACK_ERROR",HARMONY_MAX_SUBSCRIPTIONS_REACHED:"HARMONY_MAX_SUBSCRIPTIONS_REACHED",CDM_ERROR:"CDM_ERROR",PLAYBACK_CLEAR_DATA:"PLAYBACK_CLEAR_DATA",QUEUE_UPDATE:"QUEUE_UPDATE",ADD_TO_QUEUE_SUCCESS:"ADD_TO_QUEUE_SUCCESS",ADD_TO_QUEUE_ERROR:"ADD_TO_QUEUE_ERROR",DISCONNECT_HARMONY:"DISCONNECT_HARMONY",UNABLE_TO_PLAY_TRACK:"UNABLE_TO_PLAY_TRACK"},i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"unknown",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"unknown",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return{type:r.PLAYBACK_ERROR,name:e,source:t,message:n}},a=function(e){return{type:r.DEVICE_INFO_CHANGED,deviceInfo:e}},o=function(e){return{type:r.SET_ACTIVE_DEVICE,id:e}},s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"unknown";return{type:r.HARMONY_MAX_SUBSCRIPTIONS_REACHED,source:e}},l=function(){return{type:r.CDM_ERROR,name:r.CDM_ERROR}},c=function(){return{type:r.PLAYBACK_CLEAR_DATA}},u=function(){return{type:r.UNABLE_TO_PLAY_TRACK}}},75484:(e,t,n)=>{"use strict";n.d(t,{$1:()=>O,$B:()=>D,AW:()=>c,Ap:()=>G,D8:()=>Z,DL:()=>s,EW:()=>A,HC:()=>k,HU:()=>a,IF:()=>g,Id:()=>S,L9:()=>M,OC:()=>T,Oy:()=>B,PL:()=>w,Pd:()=>U,Q2:()=>f,Rf:()=>u,Sl:()=>j,V5:()=>r,Vr:()=>y,Xo:()=>L,bW:()=>P,cq:()=>v,ct:()=>H,dC:()=>i,dE:()=>b,fW:()=>F,hx:()=>V,iN:()=>l,jv:()=>N,lJ:()=>E,lW:()=>_,lt:()=>d,me:()=>p,mm:()=>h,oH:()=>I,p:()=>C,pW:()=>o,p_:()=>m,rM:()=>x,x0:()=>R});var r={COPY_LINK_SUCCESS:"COPY_LINK_SUCCESS",OPEN_DELETE_PLAYLIST_DIALOG:"OPEN_DELETE_PLAYLIST_DIALOG",CLOSE_DELETE_PLAYLIST_DIALOG:"CLOSE_DELETE_PLAYLIST_DIALOG",OPEN_DELETE_FOLDER_DIALOG:"OPEN_DELETE_FOLDER_DIALOG",CLOSE_DELETE_FOLDER_DIALOG:"CLOSE_DELETE_FOLDER_DIALOG",OPEN_BLOCK_USER_DIALOG:"OPEN_BLOCK_USER_DIALOG",CLOSE_BLOCK_USER_DIALOG:"CLOSE_BLOCK_USER_DIALOG",OPEN_SIGNUP_PROMPT_DIALOG:"OPEN_SIGNUP_PROMPT_DIALOG",CLOSE_SIGNUP_PROMPT_DIALOG:"CLOSE_SIGNUP_PROMPT_DIALOG",OPEN_LEAVE_PLAYLIST_DIALOG:"OPEN_LEAVE_PLAYLIST_DIALOG",CLOSE_LEAVE_PLAYLIST_DIALOG:"CLOSE_LEAVE_PLAYLIST_DIALOG",HIDE_UNSUPPORTED_MESSAGE:"HIDE_UNSUPPORTED_MESSAGE",SHOW_UNSUPPORTED_MESSAGE:"SHOW_UNSUPPORTED_MESSAGE",HIDE_PLAYBACK_NOT_SUPPORTED_MODAL:"HIDE_PLAYBACK_NOT_SUPPORTED_MODAL",SHOW_PLAYBACK_NOT_SUPPORTED_MODAL:"SHOW_PLAYBACK_NOT_SUPPORTED_MODAL",HIDE_OFFLINE_DEVICE_LIMIT_REACHED_MODAL:"HIDE_OFFLINE_DEVICE_LIMIT_REACHED_MODAL",SHOW_OFFLINE_DEVICE_LIMIT_REACHED_MODAL:"SHOW_OFFLINE_DEVICE_LIMIT_REACHED_MODAL",HIDE_PREMIUM_MODAL:"HIDE_PREMIUM_MODAL",SHOW_PREMIUM_MODAL:"SHOW_PREMIUM_MODAL",HIDE_L2L_MODAL:"HIDE_L2L_MODAL",SHOW_L2L_MODAL:"SHOW_L2L_MODAL",HIDE_S2L_MODAL:"HIDE_S2L_MODAL",SHOW_S2L_MODAL:"SHOW_S2L_MODAL",HIDE_EMPLOYEE_PODCASTS_MODAL:"HIDE_EMPLOYEE_PODCASTS_MODAL",SHOW_EMPLOYEE_PODCASTS_MODAL:"SHOW_EMPLOYEE_PODCASTS_MODAL",EMPLOYEE_PODCASTS_AUTH_SUCCESS:"EMPLOYEE_PODCASTS_AUTH_SUCCESS",EMPLOYEE_PODCASTS_PLUGIN_ENABLED:"EMPLOYEE_PODCASTS_PLUGIN_ENABLED",EMPLOYEE_PODCASTS_PLUGIN_DISABLED:"EMPLOYEE_PODCASTS_PLUGIN_DISABLED",HIDE_COOKIE_NOTICE:"HIDE_COOKIE_NOTICE",SHOW_COOKIE_NOTICE:"SHOW_COOKIE_NOTICE",OPEN_FULLSCREEN_MODE:"OPEN_FULLSCREEN_MODE",CLOSE_FULLSCREEN_MODE:"CLOSE_FULLSCREEN_MODE",SET_NOW_PLAYING_COVER_EXPANDED_STATE:"SET_NOW_PLAYING_COVER_EXPANDED_STATE",SET_NOW_PLAYING_COVER_FORCED_EXPANDED_STATE:"SET_NOW_PLAYING_COVER_FORCED_EXPANDED_STATE",CONNECT_DEVICE_PICKER_OPENED:"CONNECT_DEVICE_PICKER_OPENED",CONNECT_DEVICE_PICKER_CLOSED:"CONNECT_DEVICE_PICKER_CLOSED",UPDATE_UI_HISTORY_STATE:"UPDATE_UI_HISTORY_STATE",ENTER_FULLSCREEN:"ENTER_FULLSCREEN",LEAVE_FULLSCREEN:"LEAVE_FULLSCREEN",ENABLE_KEYBOARD_SHORTCUTS:"ENABLE_KEYBOARD_SHORTCUTS",SET_KEYBOARD_SHORTCUTS_HELP_VISIBILITY:"SET_KEYBOARD_SHORTCUTS_HELP_VISIBILITY",SHOW_TRACK_CREDITS:"SHOW_TRACK_CREDITS",CONTEXT_MENU_OPENED:"CONTEXT_MENU_OPENED",CONTEXT_MENU_CLOSED:"CONTEXT_MENU_CLOSED",INITIALISE_QUICKSILVER:"INITIALISE_QUICKSILVER",OPEN_REMOVE_DOWNLOADS_DIALOG:"OPEN_REMOVE_DOWNLOADS_DIALOG",CLOSE_REMOVE_DOWNLOADS_DIALOG:"CLOSE_REMOVE_DOWNLOADS_DIALOG",OPEN_CLEAR_CACHE_DIALOG:"OPEN_CLEAR_CACHE_DIALOG",CLOSE_CLEAR_CACHE_DIALOG:"CLOSE_CLEAR_CACHE_DIALOG"},i=function(e){return{type:r.COPY_LINK_SUCCESS,link:e}},a=function(){return{type:r.SHOW_L2L_MODAL}},o=function(){return{type:r.HIDE_L2L_MODAL}},s=function(){return{type:r.SHOW_EMPLOYEE_PODCASTS_MODAL}},l=function(){return{type:r.HIDE_EMPLOYEE_PODCASTS_MODAL}},c=function(){return{type:r.EMPLOYEE_PODCASTS_AUTH_SUCCESS}},u=function(){return{type:r.EMPLOYEE_PODCASTS_PLUGIN_ENABLED}},d=function(){return{type:r.EMPLOYEE_PODCASTS_PLUGIN_DISABLED}},m=function(e){return{type:r.OPEN_DELETE_PLAYLIST_DIALOG,uri:e}},p=function(){return{type:r.CLOSE_DELETE_PLAYLIST_DIALOG}},f=function(e){return{type:r.OPEN_DELETE_FOLDER_DIALOG,uri:e}},v=function(){return{type:r.CLOSE_DELETE_FOLDER_DIALOG}},g=function(e){return{type:r.OPEN_LEAVE_PLAYLIST_DIALOG,playlistUri:e}},h=function(){return{type:r.CLOSE_LEAVE_PLAYLIST_DIALOG}},y=function(e,t){return{type:r.OPEN_BLOCK_USER_DIALOG,uri:e,name:t}},k=function(){return{type:r.CLOSE_BLOCK_USER_DIALOG}},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return{type:r.OPEN_SIGNUP_PROMPT_DIALOG,uri:e}},b=function(){return{type:r.CLOSE_SIGNUP_PROMPT_DIALOG}},_=function(){return{type:r.HIDE_UNSUPPORTED_MESSAGE}},S=function(e){return{type:r.SHOW_UNSUPPORTED_MESSAGE,message:e}},w=function(){return{type:r.HIDE_PLAYBACK_NOT_SUPPORTED_MODAL}},N=function(){return{type:r.SHOW_PLAYBACK_NOT_SUPPORTED_MODAL}},O=function(){return{type:r.HIDE_OFFLINE_DEVICE_LIMIT_REACHED_MODAL}},C=function(){return{type:r.SHOW_OFFLINE_DEVICE_LIMIT_REACHED_MODAL}},T=function(){return{type:r.OPEN_FULLSCREEN_MODE}},I=function(){return{type:r.CLOSE_FULLSCREEN_MODE}},A=function(e){return{type:r.SET_NOW_PLAYING_COVER_FORCED_EXPANDED_STATE,forcedExpandedState:e}},P=function(){return{type:r.CONNECT_DEVICE_PICKER_OPENED}},D=function(){return{type:r.CONNECT_DEVICE_PICKER_CLOSED}},R=function(e){return{type:r.UPDATE_UI_HISTORY_STATE,historyState:e}},x=function(){return{type:r.ENTER_FULLSCREEN}},L=function(){return{type:r.LEAVE_FULLSCREEN}},F=function(e){return{type:r.SET_KEYBOARD_SHORTCUTS_HELP_VISIBILITY,isOpen:e}},U=function(e,t){return{type:r.SHOW_TRACK_CREDITS,isOpen:e,trackUri:t}},Z=function(){return{type:r.SHOW_S2L_MODAL}},M=function(){return{type:r.HIDE_S2L_MODAL}},B=function(){return{type:r.INITIALISE_QUICKSILVER}},j=function(){return{type:r.OPEN_REMOVE_DOWNLOADS_DIALOG}},V=function(){return{type:r.CLOSE_REMOVE_DOWNLOADS_DIALOG}},H=function(){return{type:r.OPEN_CLEAR_CACHE_DIALOG}},G=function(){return{type:r.CLOSE_CLEAR_CACHE_DIALOG}}},93077:(e,t,n)=>{"use strict";n.d(t,{Fw:()=>d,Hp:()=>r,Ir:()=>p,MJ:()=>u,_G:()=>a,_M:()=>f,az:()=>c,bo:()=>v,dk:()=>g,fm:()=>l,kH:()=>E,kh:()=>y,lT:()=>k,lb:()=>m,r1:()=>i,rt:()=>o,uE:()=>s,yg:()=>h});var r={GOT_TEMPLATE:"GOT_TEMPLATE",HPTO_CONTAINER_MOUNTED:"HPTO_CONTAINER_MOUNTED",HPTO_CONTAINER_UNMOUNTED:"HPTO_CONTAINER_UNMOUNTED",HPTO_COMPONENT_UNMOUNTED:"HPTO_COMPONENT_UNMOUNTED",HPTO_COMPONENT_NEW_AD_RENDERED:"HPTO_COMPONENT_NEW_AD_RENDERED",FETCH_CREATIVE:"FETCH_CREATIVE",FETCHING_CREATIVE:"FETCHING_CREATIVE",CREATIVE_FETCH_FAILED:"CREATIVE_FETCH_FAILED",GOT_CREATIVE:"GOT_CREATIVE",SET_HPTO_PREVIEW:"SET_HPTO_PREVIEW",HPTO_PREVIEW_HOME_NAVIGATION:"HPTO_PREVIEW_HOME_NAVIGATION",DEBUG_FORCE_REFRESH_HPTO:"DEBUG_FORCE_REFRESH_HPTO"},i="HPTO_COMPONENT_MOUNTED",a="HPTO_LOG_EVENT",o="HPTO_LOG_ERROR_EVENT",s=function(e){return{type:r.GOT_TEMPLATE,data:e}},l=function(){return{type:r.HPTO_CONTAINER_MOUNTED}},c=function(e){return{type:i,element:e}},u=function(){return{type:r.HPTO_COMPONENT_UNMOUNTED}},d=function(){return{type:r.HPTO_COMPONENT_NEW_AD_RENDERED}},m=function(){return{type:r.FETCH_CREATIVE}},p=function(){return{type:r.FETCHING_CREATIVE}},f=function(e){return{type:r.GOT_CREATIVE,data:e}},v=function(e){return{type:r.SET_HPTO_PREVIEW,data:e}},g=function(){return{type:r.HPTO_PREVIEW_HOME_NAVIGATION}},h=function(){return{type:r.CREATIVE_FETCH_FAILED}},y=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return{type:a,event:e,context:t}},k=function(e){return{type:o,error:e}},E=function(){return{type:r.DEBUG_FORCE_REFRESH_HPTO}}},24565:(e,t,n)=>{"use strict";n.d(t,{F7:()=>c,Jk:()=>o,LA:()=>l,sp:()=>s});n(26699),n(32023);var r=n(20573),i=n(84543),a=[i.O.NATIVE,i.O.IMAGE,i.O.HTML],o=function(e){return e.ads.root.isPremium},s=function(e){var t;return(null===(t=e.ads.hpto)||void 0===t?void 0:t.creativeFetchingState)||null},l=(0,r.P1)((function(e){var t;return(null===(t=e.ads.hpto)||void 0===t?void 0:t.creative)||null}),(function(e){var t;return(null===(t=e.ads.hpto)||void 0===t?void 0:t.preview)||null}),(function(e,t){return t||e})),c=(0,r.P1)(l,o,(function(e){return e.ads.root.isHptoHidden}),(function(e,t,n){return!!e&&!(!a.includes(e.bannerMode)||t&&n)}))},61737:(e,t,n)=>{"use strict";n.d(t,{e:()=>i});var r=n(28975);function i(e){return"".concat((0,r.lc)(e),"/sponsors")}},50417:(e,t,n)=>{"use strict";n.d(t,{t:()=>o});n(47941),n(82526),n(57327),n(41539),n(38880),n(89554),n(54747),n(49337),n(33321),n(69070);var r=n(4942);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e){return a(a({},e),{},{clickthrough:e.clickthroughUrl,trackingEvents:e.trackingEvents,metadata:a(a({},e),{},{creative_id:e.creativeId,lineitem_id:e.lineitemId}),display:e.displayImage})}},74849:(e,t,n)=>{"use strict";n.d(t,{m:()=>a});var r=n(87577),i=n(49207);function a(){return(0,r.W6)(i.fX)}},74820:(e,t,n)=>{"use strict";n.d(t,{D:()=>i});var r=n(28975);function i(e){return"".concat((0,r.mH)(e),"/sponsors")}},83056:(e,t,n)=>{"use strict";n.d(t,{AG:()=>v,Gi:()=>a,IP:()=>c,Kf:()=>s,Ot:()=>h,Pu:()=>p,Ud:()=>E,Vw:()=>f,bQ:()=>u,fd:()=>d,hk:()=>l,i7:()=>i,iN:()=>m,jY:()=>r,kh:()=>k,mr:()=>o,uE:()=>y,z8:()=>g});var r="REQUEST_SPONSORED_PLAYLISTS",i="REQUEST_SPONSORED_PLAYLISTS_SUCCESS",a="REQUEST_SPONSORED_PLAYLIST_AD",o="REQUEST_SPONSORED_PLAYLIST_AD_SUCCESS",s="LOG_EVENT_SPONSORED_PLAYLIST",l="SPONSORED_PLAYLIST_RENDERED",c="SPONSORED_PLAYLIST_DESTROYED",u="SET_SPONSORED_PREVIEW_AD",d=function(e){return{type:a,playlistUri:e}},m=function(e){return{type:i,sponsorships:e}},p=function(e){return{type:"REQUEST_SPONSORED_PLAYLISTS_FAILURE",error:e}},f=function(){return{type:l}},v=function(){return{type:c}},g=function(){return{type:r}},h=function(e,t){return{type:o,playlistUri:e,ad:t}},y=function(e){return{type:u,previewAd:e}},k=function(e){return{type:s,message:e}},E=function(e){return{type:"REQUEST_SPONSORED_PLAYLIST_AD_FAILURE",error:e}}},24141:(e,t,n)=>{"use strict";n.r(t),n.d(t,{adsCosmos:()=>r});var r=(0,n(21270).v)()},75754:(e,t,n)=>{"use strict";n.d(t,{L:()=>r});var r={"Content-Type":"application/json"}},11401:(e,t,n)=>{"use strict";n.r(t),n.d(t,{getEpisodeSponsors:()=>c});var r=n(15861),i=n(87757),a=n.n(i),o=(n(92222),n(35837),n(21703),n(96647),n(21249),n(50417)),s=n(24141),l=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],i=t[1];return"https://spclient.wg.spotify.com/podcast-ap4p/".concat(2===(null==i?void 0:i.version)?"v2/episodeSponsors":"rawSponsoredSection","/").concat(r).concat(2===(null==i?void 0:i.version)?"?responseFormat=json":"")},c=function(){var e=(0,r.Z)(a().mark((function e(){var t,n,r,i,c,u,d,m,p=arguments;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=globalThis,n=p.length,r=new Array(n),i=0;i<n;i++)r[i]=p[i];if("function"!=typeof t.getEpisodeSponsorsOverride){e.next=6;break}return e.next=5,t.getEpisodeSponsorsOverride.apply(t,r);case 5:case 17:return e.abrupt("return",e.sent);case 6:if(c=r[0],u=r[1],c){e.next=9;break}throw new Error("episodeBase62Id invalid for getting episode sponsors");case 9:if(d=l.apply(void 0,r),2!==(null==u?void 0:u.version)){e.next=15;break}return e.next=13,s.adsCosmos.get(d);case 13:return m=e.sent,e.abrupt("return",m.ads.map(o.t));case 15:return e.next=17,s.adsCosmos.get(d);case 18:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},1709:(e,t,n)=>{"use strict";n.r(t),n.d(t,{getShowSponsors:()=>c});var r=n(15861),i=n(87757),a=n.n(i),o=(n(21249),n(50417)),s=n(24141),l=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0];return"https://spclient.wg.spotify.com/podcast-ap4p/showSponsors/".concat(r,"?responseFormat=json")},c=function(){var e=(0,r.Z)(a().mark((function e(){var t,n=arguments;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.adsCosmos.get(l.apply(void 0,n));case 2:return t=e.sent,e.abrupt("return",t.ads.map(o.t));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},84297:(e,t,n)=>{"use strict";n.d(t,{tg:()=>o,gN:()=>R,oc:()=>u});var r=n(4942),i=(n(3843),n(83710),n(60086),n(92222),n(57327),n(41539),n(21703),n(96647),n(21249),n(88674),n(89554),n(54747),n(38862),n(17178)),a=n(24141);function o(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=console).log.apply(e,["cosmos-connector: "].concat(n)),n}var s=n(22305),l=new i.ProductStateClient((0,s.G)()),c=n(75754);function u(e,t,n,r){return a.adsCosmos.sub(function(e){return"sp://ads/v1/events/".concat(e)}(e),t,n,r)}var d=n(11401),m=n(1709),p=n(15861),f=n(87757),v=n.n(f),g="sp://device_state/state";function h(){return(h=(0,p.Z)(v().mark((function e(t){return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.adsCosmos.put(g,{volume:t},c.L);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var y=n(21324);var k=Date.now(),E="https://spclient.wg.spotify.com/ads/v1/ads",b="https://spclient.wg.spotify.com/sponsoredplaylist/v1/sponsored",_="sp://ads/v1/slots",S="sp://ads/v1/settings",w="".concat(S,"/request_header"),N="sp://ads/v1/state",O="sp://ads/v2/state",C=["audio","video","banner"],T=E,I=b;function A(e,t){a.adsCosmos.sub("sp://ads/v1/formats/"+e,(function(e){t(e)}))}function P(e){return a.adsCosmos.get("".concat(S,"/").concat(e),c.L)}function D(e,t){return a.adsCosmos.post("".concat(_,"/").concat(e,"/").concat(t),{},c.L)}var R={subscribeToFormat:A,getSlotConfigurations:P,subscribeToAdsProductState:function(e){return l.subValues(i.SubValuesRequest.fromPartial({}),(function(t){t.pairs.ads&&e({ads:t.pairs.ads})}))},subscribeToProductState:function(e,t){return l.subValues(i.SubValuesRequest.fromPartial({}),(function(n){n.pairs[e]&&t((0,r.Z)({},e,n.pairs[e]))}))},getAdSlotConfig:function(e){return P(e).then((function(t){return t.settings.filter((function(t){return t.id===e}))[0]}))},getAdForSlot:function(e,t,n){o("fetch ad for slot=%o, localTargeting=%o",t,e,T);var r=T!==E?T:"".concat(T,"/").concat(t);return a.adsCosmos.get(r,{targeting:e,pod:{},session_id:k,overrides:n||{}},{}).then((function(e){if(!e.pod)throw new Error("pod-not-defined");if(!e.pod[t])throw new Error("slot-not-defined");if(0===e.pod[t].length)throw new Error("no-ads");return e.pod[t][0]}))},fetchAdForSlot:function(e,t){var n="".concat("sp://ads/v1/ads/").concat(e);return o("fetchAdForSlot endpoint=%o",n),a.adsCosmos.get(n,t,{}).then((function(t){if(!t[e])throw new Error("slot-not-defined");if(0===t[e].length)throw new Error("no-ads");return t[e][0]}))},requestPreviewAd:function(e){return o("Requesting preview ad, adid=%o",e),a.adsCosmos.post("".concat("sp://ads/v1/preview","/").concat(e),{})},overrideCountry:function(e){return o("Overring country=%o",e),a.adsCosmos.put("sp://ads/v2/testing/request_override/country",{value:e})},patchTargeting:function(e,t){return a.adsCosmos.put("".concat("sp://ads/v1/targeting","/").concat(e),{value:t},c.L)},putCrashData:function(e,t){return a.adsCosmos.put("".concat("sp://crash-data/v1/value","/").concat(e),String(t),c.L)},increaseStreamTime:function(e){return a.adsCosmos.post("sp://ads/v1/testing/playtime",{value:e},c.L)},addNewSlot:function(e,t){return a.adsCosmos.put("".concat(_,"/").concat(e),{formats:[t]},c.L).then((function(){return"".concat(_,"/").concat(e,"/").concat(t)}))},subscribeToSlot:function(e,t){return a.adsCosmos.sub(e,(function(e){t(e)}))},subscribeToSlotType:function(e,t){return a.adsCosmos.sub("".concat(_,"/").concat(e),(function(e){t(e)}))},subscribeToAllFormats:function(e){C.map((function(t){A(t,(function(n){e(t,n)}))}))},subscribeToEvent:u,postEvent:y.postEvent,postToSlot:function(e,t,n){var r="".concat(_,"/").concat(e,"/").concat(t);return a.adsCosmos.post(r,n||{},c.L)},getSlotConfiguration:function(e,t){return window.Ads&&window.Ads.adFormatOverrides.billboardShowAfterSeconds?Promise.resolve(window.Ads.adFormatOverrides.billboardShowAfterSeconds):P(e).then((function(n){var r;return n.settings.forEach((function(n){n.id===e&&(r=n[t])})),r}))},configureSlot:function(e,t,n){return a.adsCosmos.put("".concat(S,"/").concat(e,"/").concat(t),{value:n},c.L)},enableSlot:function(e){return a.adsCosmos.put("".concat(S,"/").concat(e,"/slot_enabled"),{value:!0},c.L)},logMessage:function(e){return a.adsCosmos.post("",e,c.L)},getSponsoredUris:function(){var e=I!==b?I:b;return a.adsCosmos.get(e)},getSponsorshipAd:function(e){var t=I!==b?I:"".concat(b,"/").concat(e);return o("getSponsorshipAd",t),a.adsCosmos.get(t)},subToState:function(e){a.adsCosmos.sub(N,e)},subToAdState:function(e){a.adsCosmos.sub(O,e)},getState:function(){return a.adsCosmos.get(N)},getAdState:function(){return a.adsCosmos.get(O)},getFeatureFlags:function(e){return a.adsCosmos.post("sp://abba/v1/flags",{flags:e},c.L)},setAdSlotEndpoint:function(e){T=e,o("setAdSlotEndpoint",e)},setAdStatePusherEndpoint:function(e){return o("setAdStatePusherEndpoint",e),a.adsCosmos.put("sp://ads/v2/settings/state/ad_state_endpoint",{value:e},c.L)},setSponsoredUri:function(e){I=e,o("setSponsoredUri",e)},triggerSlotFetch:function(e){return D(e,"fetch")},triggerSlotPlay:function(e){return D(e,"now")},triggerSlotClear:function(e){return D(e,"clear")},triggerSlotClearAll:function(e){return D(e,"clear_all")},setRequestHeader:function(e,t,n){return a.adsCosmos.put("".concat(w,"/").concat(e),{value:t,refresh_inventory:n},c.L)},removeRequestHeader:function(e,t){return a.adsCosmos.del("".concat(w,"/").concat(e),{refresh_inventory:t},c.L)},setAdStateKey:function(e,t){return a.adsCosmos.put("".concat(O,"/").concat(e),{value:t},c.L)},setAdState:function(e){return a.adsCosmos.put("".concat(O),e,c.L)},loadAdPod:function(e){return o("Loading ad pod via cosmos",e),a.adsCosmos.put("".concat("sp://ads/v2/testing","/insert_ads"),{value:JSON.stringify(e)},c.L)},overridePodcastMetadata:function(e){return o("Overriding podcast metadata",e),a.adsCosmos.put("sp://ads/v1/podcast/metadata",e,c.L)},logAudioVolume:function(e){return h.apply(this,arguments)},getEpisodeSponsors:d.getEpisodeSponsors,getShowSponsors:m.getShowSponsors}},21324:(e,t,n)=>{"use strict";n.r(t),n.d(t,{postEvent:()=>a});n(92222),n(5212),n(41539),n(47941),n(88674),n(21703),n(96647);var r=n(24141),i=n(75754);function a(e,t,n){var a="sp://ads/v1/events/".concat(t,"/").concat(e);if(n&&n.event_data&&Object.keys(n.event_data).some((function(e){var t;return"string"!=typeof(null===(t=n.event_data)||void 0===t?void 0:t[e])})))return Promise.reject(new TypeError("Invalid Payload. All event_data values need to be strings. Furthermore, event_data shouldn't even be used at all anymore since it has been deprecated with https://ghe.spotify.net/ads/adscore-docs/pull/6"));return r.adsCosmos.post(a,n||{},i.L)}},54125:(e,t,n)=>{"use strict";n.d(t,{N:()=>b,f:()=>S});var r=n(15861),i=n(87757),a=n.n(i),o=(n(66992),n(41539),n(88674),n(78783),n(33948),n(89554),n(54747),n(24812),n(74916),n(15306),n(42441)),s=n.n(o),l=n(84297);n(92222),n(21249),n(47941),n(82526),n(57327),n(38880),n(49337),n(33321),n(69070);var c="podcast_midroll_15_clickthrough",u="podcast-midroll-1",d={segments:[{slot:u,start:3e4,stop:45e3,targeting:{maxads:"1"},admockerTestCase:c}]};function m(e,t){return"".concat("https://admocker.spotify.com","/mock/ad?test_case=").concat(e,"&session_id=").concat(t)}n(35837);var p,f=["Loftie","HBOMax","Squarespace","Casper","Smile Direct Club","Test Advertiser #6","Test Advertiser #7"],v=function(){var e=(0,r.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",f.map((function(e,t){return{clickthrough:"https://www.spotify.com/",display:"https://open.spotifycdn.com/cdn/images/logo-complete-black.573d8227.svg",metadata:{displayImage:"https://open.spotifycdn.com/cdn/images/logo-complete-black.573d8227.svg",clickthroughUrl:"test clickthroughUrl ".concat(t),advertiser:e,lineitem_id:"test lineitem id ".concat(t),lineitemId:"test lineitem id ".concat(t),buttonMessage:"test button message ".concat(t),creative_id:"test creative id ".concat(t),creativeId:"test creative id ".concat(t),featuredAction:"test featured action ".concat(t),logoImage:"http://i.scdn.co/image/86a0078ff798be6840aec841e7fbd2da2acea75d",tagline:"test tagline ".concat(t)},trackingEvents:{clicked:["https://xpui.app.spotify.com/index.html"],viewed:["https://xpui.app.spotify.com/index.html"]}}})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function g(e){return l.gN.increaseStreamTime(e)}function h(e,t){return l.gN.configureSlot(e,"ad_server_endpoint",t).then((function(){y()}))}function y(){var e,t;null===(e=p)||void 0===e||null===(t=e._debugForceRefreshHpto)||void 0===t||t.call(e)}function k(){return(k=(0,r.Z)(a().mark((function e(t,n,r){var i,o,s,c,u;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s="ad_server_endpoint",e.next=3,l.gN.getSlotConfigurations(t);case 3:return c=e.sent,u="",null!=c&&null!==(i=c.settings)&&void 0!==i&&null!==(o=i[0])&&void 0!==o&&o[s]&&(u=c.settings[0][s].replace("https://pubads.g.doubleclick.net",n)),u+="&session_id=".concat(r),e.abrupt("return",l.gN.configureSlot(t,s,u));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(){return(E=(0,r.Z)(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.gN.triggerSlotClearAll(t);case 2:return e.abrupt("return",l.gN.postToSlot(t,"fetch"));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var b={overrideCountry:function(e){return l.gN.overrideCountry(e)},patchTargeting:function(e,t){return l.gN.patchTargeting(e,t)},increaseStreamTime:g,getAdServerEndpoint:function(e){return l.gN.getSlotConfigurations(e).then((function(e){return e.settings[0].ad_server_endpoint}))},overrideAdServerEndpoint:h,overrideAdSlotEndpoint:function(e){return l.gN.setAdSlotEndpoint(e)},overrideAdStatePusherEndpoint:function(e){return l.gN.setAdStatePusherEndpoint(e)},overrideSponsoredPlaylistEndpoint:function(e){var t,n;l.gN.setSponsoredUri(e),null===(t=p)||void 0===t||null===(n=t.overrideSponsoredPlaylistEndpoint)||void 0===n||n.call(t)},_debugForceRefreshHpto:y,manualPodLoad:function(e){return(0,l.tg)("manualPodLoad(): pod=%o",e),l.gN.loadAdPod(e)},setAdServerEndpoint:function(e,t,n){return k.apply(this,arguments)},clearSlot:function(e){return l.gN.postToSlot(e,"clear")},triggerSlot:function(e){return E.apply(this,arguments)},subToFormats:function(e){return l.gN.subscribeToAllFormats((function(t,n){e?e(t,n):(0,l.tg)("config for slot=%o, res=%o",t,n)}))},subToState:function(e){return l.gN.subToState((function(t){e?e(t):(0,l.tg)("legacy ads state updated: %o",t)}))},subToAdState:function(e){l.gN.subToAdState((function(t){e?e(t):(0,l.tg)("ad state updated: %o",t)}))},getState:function(e){return l.gN.getState().then((function(t){return e?e(t):(0,l.tg)("legacy ads state: %o",t.state),t}))},getAdState:function(e){return l.gN.getAdState().then((function(t){e?e(t):(0,l.tg)("ad state: %o",t)}))},configureSlot:function(e,t,n){return l.gN.configureSlot(e,t,n)},debug:l.tg,getAdSlotConfigurations:function(e,t){l.gN.getSlotConfigurations(e).then((function(n){t?t(n):(0,l.tg)("config for slot=%o, res=%o",e,n)}))},setRequestHeader:function(e,t,n){return l.gN.setRequestHeader(e,t,n)},removeRequestHeader:function(e,t){return l.gN.removeRequestHeader(e,t)},createSlotAndOverrideItsAdServerEndpoint:function(e,t){return l.gN.addNewSlot(e).then((function(){return h(e,t)})).catch((function(t){return(0,l.tg)("Problem creating and overriding ".concat(e," slot, error=%o"),t)}))},enableSlot:function(e){return l.gN.enableSlot(e)},queueVideoAd:function(){return Promise.all([l.gN.addNewSlot("stream","video"),l.gN.increaseStreamTime(1200),l.gN.patchTargeting("focus","true"),l.gN.patchTargeting("adbreak","video,adscore")])},setBillboardTimeout:function(e){b.adFormatOverrides.billboardShowAfterSeconds=e},applyAdmockerForPodcastAd:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.podcastMetadata,n=void 0===t?d:t,r=e.sessionId,i=void 0===r?"1":r,a=e.endpoint,o=void 0===a?function(e){return m(e.admockerTestCase,i)}:a;return n.segments.forEach((function(e){var t="function"==typeof o?o(e):o;h(e.slot,t)})),l.gN.overridePodcastMetadata(n)},adFormatOverrides:{billboardShowAfterSeconds:null},overrideGetEpisodeSponsors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v;globalThis.getEpisodeSponsorsOverride=e}},_=!1;function S(e){p=e,_||(s().unbind("shift+f5"),s().bind("shift+f5",(function(){g(1200)})),_=!0,window.Ads=b)}},84543:(e,t,n)=>{"use strict";var r,i;n.d(t,{O:()=>i,Y:()=>r}),function(e){e.NOT_FETCHING="NOT_FETCHING",e.FETCHING="FETCHING",e.FETCHED="FETCHED",e.FAILED="FAILED"}(r||(r={})),function(e){e.IMAGE="image",e.HTML="html",e.NATIVE="native"}(i||(i={}))},1684:(e,t,n)=>{"use strict";n.d(t,{W9:()=>m,hf:()=>g});var r=n(15861),i=n(15671),a=n(43144),o=n(4942),s=n(87757),l=n.n(s),c=(n(91058),n(74916),n(77601),n(21703),n(96647),n(85827),n(41539),n(57327),n(83710),n(39714),n(66992),n(88674),n(78783),n(33948),n(47941),n(82526),n(38880),n(89554),n(54747),n(49337),n(33321),n(69070),n(2575));function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var m,p,f="stream",v="video";!function(e){e.CLICKED="clicked",e.COLLAPSED="collapsed",e.EXPANDED="expanded",e.VIEWED="viewed"}(m||(m={})),function(e){e.FOREGROUNDED="foregrounded",e.BACKGROUNDED="backgrounded"}(p||(p={}));var g=function(){function e(t,n){var r=this;(0,i.Z)(this,e),(0,o.Z)(this,"enabled",!1),(0,o.Z)(this,"active",!1),(0,o.Z)(this,"fireImpressionOnStart",!1),(0,o.Z)(this,"parseInfo",(function(e){var t;return{id:e.id,advertiser:e.advertiser,buttonMessage:e.metadata.buttonMessage||null,clickUrl:e.click_url,companionAd:r.getPreferredCompanionAd(e)||null,skippableAdDelaySeconds:parseInt(null===(t=e.metadata)||void 0===t?void 0:t.skippable_ad_delay,10)||0}})),(0,o.Z)(this,"isPreferred",(function(e){return 300===e.width&&250===e.height&&/^image\/(jpeg|png)$/.test(e.mime_type)})),(0,o.Z)(this,"onAdMessage",(function(e){if(e.format===v&&r.listener)switch(e.event){case"available":break;case"play":var t=e&&e.ad&&e.ad.metadata;r.fireImpressionOnStart=t&&"true"===t.fireImpressionOnStart,r.listener.onInfo(r.parseInfo(e.ad));break;default:throw new Error("[VTO] Unsupported event type: ".concat(e.event))}})),this.focusState=t,this.videoTakeoverApi=n}var t,n,s,u;return(0,a.Z)(e,[{key:"enable",value:(u=(0,r.Z)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.enabled){e.next=7;break}return this.enabled=!0,this.listener=t,this.focusState.addFocusListener(this),e.next=6,this.videoTakeoverApi.addNewSlot(f,v);case 6:this.subscription=this.videoTakeoverApi.subscribeToSlotType(f,this.onAdMessage);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)}))),function(e){return u.apply(this,arguments)})},{key:"disable",value:(s=(0,r.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.enabled&&(this.resetState(),this.enabled=!1,this.listener=void 0,this.subscription&&this.subscription.cancel(),this.focusState.removeAllFocusListeners());case 1:case"end":return e.stop()}}),e,this)}))),function(){return s.apply(this,arguments)})},{key:"logEvent",value:function(e){if(this.playbackState){var t=this.createEventData(this.playbackState),n=t.eventData,r=t.extraData;this.log(e,n,r)}}},{key:"onRender",value:function(){this.logEvent(this.focusState.hasFocus()?p.FOREGROUNDED:p.BACKGROUNDED)}},{key:"onFocusChanged",value:function(e){return e?this.handleApplicationGainedFocus():this.handleApplicationLostFocus()}},{key:"getPreferredCompanionAd",value:function(e){var t=e.companion_ads||[];return t.filter(this.isPreferred).reduce((function(e,t){return t}),t[t.length-1])}},{key:"createEventData",value:function(e){return{eventData:{volume:e.volume.toString(),duration:e.duration.toString()},extraData:{playback_position:Math.floor(1e3*e.position)}}}},{key:"resetState",value:function(){this.playbackState=null}},{key:"handleApplicationGainedFocus",value:(n=(0,r.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.active&&this.logEvent(p.FOREGROUNDED),e.next=3,Promise.all([this.videoTakeoverApi.patchTargeting("focus","true"),this.videoTakeoverApi.patchTargeting("adbreak","video,adscore")]);case 3:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"handleApplicationLostFocus",value:(t=(0,r.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.active&&this.logEvent(p.BACKGROUNDED),e.next=3,Promise.all([this.videoTakeoverApi.patchTargeting("focus","false"),this.videoTakeoverApi.patchTargeting("adbreak","adscore")]);case 3:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"log",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.playbackState&&this.videoTakeoverApi.postEvent(this.playbackState.adId,e,d({event_data:d({clientReportedUserAgent:navigator.userAgent},t)},n))}},{key:"onCreated",value:function(e){this.active=!0,this.playbackState=e,this.listener&&this.listener.onCreated()}},{key:"onEnded",value:function(e,t){this.active=!1,this.playbackState=e,c.xu.PLAYED_TO_END!==t||this.fireImpressionOnStart||this.logEvent(m.VIEWED),this.listener&&this.listener.onEnded(),this.playbackState=null}},{key:"onStarted",value:function(e){this.playbackState=e,this.fireImpressionOnStart&&this.logEvent(m.VIEWED),this.listener&&this.listener.onStarted()}},{key:"onStateUpdate",value:function(e){this.playbackState=e}},{key:"onReady",value:function(){this.listener&&this.listener.onFirstReady()}},{key:"getEnabled",value:function(){return this.enabled}}]),e}()},1393:(e,t,n)=>{"use strict";n.d(t,{HI:()=>c,Hp:()=>r,Iq:()=>a,Ru:()=>s,jj:()=>i,nX:()=>u,tv:()=>o,xG:()=>l});var r={ADS_ENABLED:"ADS_ENABLED",ADS_DISABLED:"ADS_DISABLED",ADS_PREMIUM:"ADS_PREMIUM",ADS_HPTO_HIDDEN:"ADS_HPTO_HIDDEN",ADS_POST_HIDE_HPTO:"ADS_POST_HIDE_HPTO",TRIGGER_PREVIEW_AD:"TRIGGER_PREVIEW_AD",LOG_NOW_PLAYING_AD_CLICK:"LOG_NOW_PLAYING_AD_CLICK"},i=function(){return{type:r.ADS_ENABLED}},a=function(){return{type:r.ADS_DISABLED}},o=function(e){return{type:r.ADS_PREMIUM,isPremium:e}},s=function(e){return{type:r.ADS_HPTO_HIDDEN,isHptoHidden:e}},l=function(){return{type:r.ADS_POST_HIDE_HPTO}},c=function(e){return{type:r.TRIGGER_PREVIEW_AD,adUriHexId:e}},u=function(){return{type:r.LOG_NOW_PLAYING_AD_CLICK}}},95888:(e,t,n)=>{"use strict";n.d(t,{I:()=>a});var r=n(67294);const i="main-actionBarBackground-background";var a=function(e){var t=e.backgroundColor;return r.createElement("div",{className:i,style:{backgroundColor:t}})}},18270:(e,t,n)=>{"use strict";n.d(t,{o:()=>u,F:()=>d});var r=n(67294),i=n(94184),a=n.n(i),o=n(37415),s=n(95888);const l="main-actionBar-ActionBar",c="main-actionBar-ActionBarRow";var u=function(e){var t=e.backgroundColor,n=e.children,i=e.style;return r.createElement(r.Fragment,null,r.createElement(s.I,{backgroundColor:t}),r.createElement(o.U,{options:{scrollbars:{autoHide:"leave"}}},r.createElement("div",{className:a()(l,"contentSpacing"),style:i},n)))},d=function(e){var t=e.children;return r.createElement("div",{className:c,"":"action-bar-row"},t)}},60403:(e,t,n)=>{"use strict";n.d(t,{G:()=>E});n(82526),n(41817);var r=n(67294),i=n(94184),a=n.n(i),o=n(32667),s=n(74410),l=n(86025),c=n(74257),u=n(34011),d=n(96206),m=n(66196),p=n(8716);const f="lIp2JaiMRS6_yF05q5N9",v="uzQIGWrDxI1E09vQnrXk",g="s58sp4t3h1uU9n_42KqD",h="c0KyMkxeMCWQGE7cR8s_",y="y9bkifFKNExwjaoINLm9",k="Qsmn7PN8jFZ8tATBCnFs";var E=function(e){var t=e.title,n=e.description,i=e.id,E=e.visible,b=e.primaryButtonText,_=e.secondaryButtonText,S=void 0===_?function(){return d.ag.get("action-trigger.button.not-now")}:_,w=e.onHide,N=e.onPrimaryButtonClick,O=e.onSecondaryButtonClick,C=void 0===O?w:O,T=e.onCloseClick,I=void 0===T?C:T,A=e.showButtons,P=void 0===A||A,D=e.children,R=e.placement,x=void 0===R?"auto":R,L=e.hideArrow,F=e.className,U=e.popperOptions,Z=e.zIndex,M=e.maxWidth,B=e.tippyClassName,j=e.hideOnClickOutside,V=void 0===j||j,H=e.useSecondaryStyling,G=void 0!==H&&H,W=e.childRef,z=e.fadeOut,K=void 0!==z&&z;return r.createElement(m.x,{visible:E,placement:x,hideArrow:L,popperOptions:U,className:B,zIndex:Z,maxWidth:M,onHide:V?w:function(){},childRef:W,fadeOut:K,overlay:r.createElement("div",{className:a()(f,F),"":"".concat(i,"-hook")},r.createElement("div",{className:v},r.createElement(o.D,{as:"p",className:g,variant:"cello"},t),!P&&r.createElement(p.E,{className:k,onClick:I,ariaLabel:d.ag.get("close"),icon:s.k,semanticColor:"textBase"})),r.createElement(o.D,{as:"p",className:h,variant:"mesto"},n),P&&r.createElement("div",{className:y},r.createElement(l.oM,{semanticColor:"textBase",onClick:C},S()),b&&(G?r.createElement(c.P,{onClick:N},b()):r.createElement(u.D,{colorSet:"invertedLight",onClick:N},b()))))},D)}},41200:(e,t,n)=>{"use strict";n.d(t,{P:()=>v,n:()=>f});n(47941),n(82526),n(57327),n(41539),n(38880),n(89554),n(54747),n(49337),n(33321),n(69070);var r=n(4942),i=n(67294),a=n(86706),o=n(96206),s=n(65830),l=n(66196),c=n(70108),u=n(56802),d=n(53678);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var f=l.L,v=function(e){var t=e.id,n=e.options,r=e.children,l=(0,a.I0)(),m=(0,i.useCallback)((function(){l((0,c.sX)())}),[l]),v=(0,u.o)(),g=p(p({isCTA:!0,placement:f.rightTop},n),{},{primaryButtonText:function(){return o.ag.get("login")},onLogInteraction:v});return i.createElement(s.P,{className:d.Z.container,id:t,onPrimaryButtonClick:m,options:g},r)}},20367:(e,t,n)=>{"use strict";n.d(t,{q:()=>C});var r=n(4942),i=n(67294),a=n(94184),o=n.n(a),s=n(49104),l=n(89104),c=n(87462),u=n(29646),d=n.n(u),m=n(73012),p=n(95475),f=n(28502);const v="main-avatar-avatar",g="main-avatar-withBadge",h="main-avatar-image",y="main-avatar-piled",k="main-avatar-piledIcon",E="main-avatar-placeholderWrapper";var b={},_=[m.HjQ,m.XfI,m.pCU,m.dG,m.m1g,m.s8M],S=function(e){if(!b[e]){var t=function(e){var t=0;if(0===e.length)return t;for(var n=0,r=e.length;n<r;n++)t=(t<<5)-t+e.charCodeAt(n),t|=0;return t}(e),n=Math.abs(t)%_.length;b[e]=_[n]}return b[e]},w=function(e){return d()(e)[0].toUpperCase()},N=function(e){var t=S(e);return function(e){var t=e.rgb;return(299*t.r+587*t.g+114*t.b)/1e3>=128}((0,f.l)(t))?m.Snx:m.ixZ},O=function(e){var t=e.username,n=e.displayName,r=e.userIconSize,a=t&&n?function(e){return{background:S(e),color:N(e)}}(t):{},o=t&&n?{placeholderText:w(n)}:{};return i.createElement("div",{className:E,"":"placeholder-wrapper",style:a},i.createElement(p.i,(0,c.Z)({iconSize:r},o)))},C=i.memo((function(e){var t=e.label,n=e.images,a=e.width,c=e.className,u=e.withBadge,d=e.userIconSize,m=e.testID,p=e.piled,f=e.username,E=e.displayName,b=e.customPlaceholder,_=(0,s.o)(n,{desiredSize:a}),S=b||i.createElement(O,{username:f,displayName:E,userIconSize:d});return i.createElement("figure",{className:o()(v,(0,r.Z)({},g,u),c),title:t,style:{width:p?.7*a:a,height:a},"":m},i.createElement("div",{className:o()((0,r.Z)({},y,p)),style:{width:a,height:a,insetInlineStart:p?(.7-1)*a:0}},_?i.createElement(l.E,{loading:"eager",src:_,alt:t,className:h},S):S),p&&i.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"0",width:"0","aria-hidden":"true"},i.createElement("defs",null,i.createElement("clipPath",{id:"avatarClipPath",clipPathUnits:"objectBoundingBox"},i.createElement("path",{className:k,d:"M 0.166 0.872 C 0.241 0.775 0.286 0.652 0.286 0.518 C 0.286 0.374 0.235 0.243 0.15 0.143 C 0.24 0.055 0.364 0 0.5 0 C 0.776 0 1 0.224 1 0.5 C 1 0.776 0.776 1 0.5 1 C 0.372 1 0.255 0.952 0.166 0.872 Z","transform-origin":"0.5 0.5"})))))}))},18290:(e,t,n)=>{"use strict";n.d(t,{s:()=>d});var r=n(67294),i=n(94184),a=n.n(i),o=n(72527),s=n(96206),l=n(83692);const c="fXu_epm4wnGo0vCaArXW";var u;!function(e){e[e.xs=16]="xs",e[e.sm=24]="sm",e[e.md=32]="md"}(u||(u={}));var d=function(e){var t=e.isDisliked,n=void 0!==t&&t,i=e.onClick,d=void 0===i?function(){}:i,m=e.size,p=void 0===m?u.md:m,f=e.className;return r.createElement(l.w,{label:s.ag.get("playback-control.ban")},n?r.createElement("button",{type:"button",role:"switch","aria-label":s.ag.get("playback-control.ban"),"aria-checked":n,className:a()(c,f),onClick:d},r.createElement(o.H,{iconSize:p})):r.createElement("button",{type:"button","aria-label":s.ag.get("playback-control.ban"),className:a()(c,f),onClick:d},r.createElement(o.H,{iconSize:p})))}},48690:(e,t,n)=>{"use strict";n.d(t,{q:()=>u,z:()=>d});var r=n(67294),i=n(94184),a=n.n(i),o=n(82767),s=n(96206),l=n(83692);const c="main-moreButton-button";var u;!function(e){e[e.xs=16]="xs",e[e.sm=24]="sm",e[e.md=32]="md"}(u||(u={}));var d=r.forwardRef((function(e,t){var n=e.onClick,i=void 0===n?function(){}:n,d=e.size,m=void 0===d?u.md:d,p=e.label,f=void 0===p?s.ag.get("more"):p,v=e.className;return r.createElement(l.w,{label:f},r.createElement("button",{ref:t,type:"button","aria-haspopup":"menu","aria-label":f,className:a()(c,v),onClick:i,"":"more-button"},r.createElement(o.N,{iconSize:m})))}))},51871:(e,t,n)=>{"use strict";n.d(t,{w:()=>l});var r=n(29439),i=n(67294),a=n(44065),o=n(4383),s=n(56802),l=i.memo((function(e){var t=e.uri,n=e.className,l=e.onClick,c=e.size,u=void 0===c?a.q.xs:c,d=(0,o.Z)(t),m=(0,r.Z)(d,2),p=m[0],f=m[1],v=(0,s.o)(),g=(0,i.useCallback)((function(){v({targetUri:t,intent:p?"remove-from-library":"add-to-library",type:"click"}),l&&l(!p),f(!p)}),[v,t,p,l,f]);return i.createElement(a.H,{className:n,size:u,onClick:g,isAdded:!!p,isEpisode:!0})}))},24237:(e,t,n)=>{"use strict";n.d(t,{B:()=>l});var r=n(29439),i=n(67294),a=n(44065),o=n(4383),s=n(56802),l=i.memo((function(e){var t=e.uri,n=e.className,l=e.onClick,c=e.size,u=void 0===c?a.q.xs:c,d=(0,o.Z)(t),m=(0,r.Z)(d,2),p=m[0],f=m[1],v=(0,s.o)(),g=(0,i.useCallback)((function(){v({targetUri:t,intent:p?"remove-from-library":"add-to-library",type:"click"}),l&&l(!p),f(!p)}),[v,t,p,l,f]);return i.createElement(a.H,{className:n,size:u,onClick:g,isAdded:!!p})}))},3634:(e,t,n)=>{"use strict";n.d(t,{r:()=>E});var r=n(87462),i=(n(68309),n(21249),n(69600),n(96647),n(83710),n(41539),n(39714),n(67294)),a=n(32667),o=n(86250),s=n(96206),l=n(83538),c=n(97481),u=n(18261),d=n(80322),m=n(4232),p=n(80507),f=n(67892),v=n(36590),g=n(8498),h=n(21610),y=n(16257),k=function(e){var t=e.artist,n=e.index,r=e.logger,o=e.spec,s=(0,i.useCallback)((function(){r.logInteraction(o.cardLinkFactory({position:n}).hitUiNavigate({destination:t.uri}))}),[r,o,n,t.uri]);return(0,c.i)(t)&&t.uri?i.createElement(u._,{key:t.uri,menu:i.createElement(p.m,{uri:t.uri})},i.createElement(f.Z,{to:t.uri,dir:"auto",onClick:s},t.name)):i.createElement(a.D,{variant:"mesto"},t.name)},E=function(e){var t,n,a=e.name,c=e.uri,p=e.images,f=e.artists,E=void 0===f?[]:f,b=e.sharingInfo,_=e.year,S=e.isHero,w=void 0!==S&&S,N=e.onClick,O=e.testId,C=e.index,T=e.requestId,I=e.color,A=(0,i.useContext)(l.H).onLibraryItemRemove,P=(0,d.Y)(c),D=function(){return E.map((function(e){return e.name})).join(s.ag.getSeparator())};return n=w?i.createElement(h.Z,{index:C,onClick:N,headerText:a,featureIdentifier:"album",uri:c,playUri:P,ariaPauseLabel:s.ag.get("tracklist.a11y.pause",a,D()),ariaPlayLabel:s.ag.get("tracklist.a11y.play",a,D()),renderCardImage:function(){return i.createElement(g.x,{isHero:!0,images:p,color:I,FallbackComponent:function(e){return i.createElement(o.c,(0,r.Z)({iconSize:64},e))}})},renderSubHeaderContent:function(e,t){return i.createElement(i.Fragment,null,E.map((function(n,r){return[r>0&&s.ag.getSeparator(),i.createElement(k,{key:n.uri,artist:n,index:r,logger:e,spec:t})]})),i.createElement(y.k,null,s.ag.get("card.tag.album")))},testId:O,requestId:T}):i.createElement(v.C,{onClick:N,headerText:a,featureIdentifier:"album",uri:c,playUri:P,ariaPauseLabel:s.ag.get("tracklist.a11y.pause",a,D()),index:C,ariaPlayLabel:s.ag.get("tracklist.a11y.play",a,D()),renderCardImage:function(){return i.createElement(g.x,{isHero:w,images:p,color:I,FallbackComponent:function(e){return i.createElement(o.c,(0,r.Z)({iconSize:64},e))}})},renderSubHeaderContent:function(e,t){return i.createElement(i.Fragment,null,_&&i.createElement("time",{dateTime:_.toString()},_," • "),E.map((function(n,r){return[r>0&&s.ag.getSeparator(),i.createElement(k,{key:n.uri,artist:n,index:r,logger:e,spec:t})]})))},testId:O,requestId:T}),i.createElement(u._,{menu:i.createElement(m.Y,{uri:c,artistUri:null==E||null===(t=E[0])||void 0===t?void 0:t.uri,sharingInfo:b,onRemoveCallback:A})},n)}},89477:(e,t,n)=>{"use strict";n.d(t,{I:()=>f});var r=n(87462),i=(n(68309),n(67294)),a=n(39278),o=n(96206),s=n(83538),l=n(18261),c=n(80507),u=n(36590),d=n(8498),m=n(21610),p=n(16257),f=function(e){var t,n=e.name,f=e.uri,v=e.images,g=e.isHero,h=e.onClick,y=e.testId,k=e.index,E=e.requestId,b=e.color,_=(0,i.useContext)(s.H).onLibraryItemRemove;return t=g?i.createElement(m.Z,{index:k,onClick:h,headerText:n,featureIdentifier:"artist",uri:f,renderCardImage:function(){return i.createElement(d.x,{isHero:g,isCircular:!0,images:v,color:b,FallbackComponent:function(e){return i.createElement(a.a,(0,r.Z)({iconSize:64},e))}})},renderSubHeaderContent:function(){return i.createElement(p.k,null,o.ag.get("card.tag.artist"))},testId:y,requestId:E}):i.createElement(u.C,{index:k,onClick:h,headerText:n,featureIdentifier:"artist",uri:f,renderCardImage:function(){return i.createElement(d.x,{isHero:g,isCircular:!0,images:v,color:b,FallbackComponent:function(e){return i.createElement(a.a,(0,r.Z)({iconSize:64},e))}})},renderSubHeaderContent:function(){return i.createElement("span",null,o.ag.get("card.tag.artist"))},testId:y,requestId:E}),i.createElement(l._,{menu:i.createElement(c.m,{uri:f,onRemoveCallback:_})},t)}},51216:(e,t,n)=>{"use strict";n.d(t,{c:()=>v});var r=n(87462),i=(n(68309),n(67294)),a=n(69172),o=n(32667),s=n(9348),l=n(18261),c=n(28137),u=n(36590),d=n(8498),m=n(21610),p=n(16257);const f="Xk3_ws6o9K6gsByypayv";var v=function(e){var t,n=e.name,v=e.uri,g=e.images,h=e.authorName,y=e.isHero,k=e.onClick,E=e.testId,b=e.index,_=e.requestId,S=e.isLocked,w=void 0!==S&&S,N=e.color;return t=y?i.createElement(m.Z,{index:b,onClick:k,headerText:n,featureIdentifier:"audiobook",uri:v,isPlayable:!1,renderCardImage:function(){return i.createElement(d.x,{isHero:!0,images:g,color:N,FallbackComponent:function(e){return i.createElement(a.P,(0,r.Z)({iconSize:64},e))}})},renderSubHeaderContent:function(){return i.createElement(i.Fragment,null,i.createElement(o.D,{variant:"mesto"},h),i.createElement(p.k,null,"AUDIOBOOK"))},testId:E,requestId:_}):i.createElement(u.C,{index:b,onClick:k,headerText:n,featureIdentifier:"audiobook",uri:v,isPlayable:!1,renderCardImage:function(){return i.createElement(d.x,{images:g,color:N,FallbackComponent:function(e){return i.createElement(a.P,(0,r.Z)({iconSize:64},e))}})},renderSubHeaderContent:function(){return i.createElement(i.Fragment,null,w&&i.createElement(s.W,{iconSize:16,className:f}),i.createElement(o.D,{as:"span",variant:"mesto"},h))},testId:E,requestId:_}),i.createElement(l._,{menu:i.createElement(c.X,{uri:v})},t)}},36590:(e,t,n)=>{"use strict";n.d(t,{C:()=>O,Z:()=>N});var r=n(4942),i=(n(92222),n(21703),n(96647),n(67294)),a=n(94184),o=n.n(a),s=n(86706),l=n(51615),c=n(69518),u=n.n(c),d=n(45464),m=n(96206),p=n(98773),f=n(29255),v=n(82627),g=n(84242),h=n(15852),y=n(52419),k=n(57784),E=n(56802),b=n(20963),_=n(39401),S=n(67300),w=n(15368),N=function(e){var t=e.onClick,n=void 0===t?function(){}:t,a=e.delegatePlayback,c=void 0!==a&&a,N=e.delegateLogging,O=void 0!==N&&N,C=e.isPlaying,T=e.onPlay,I=void 0===T?function(){}:T,A=e.onContextMenu,P=void 0===A?function(){}:A,D=e.onTouchStart,R=void 0===D?function(){}:D,x=e.onTouchEnd,L=void 0===x?function(){}:x,F=e.featureIdentifier,U=e.uri,Z=e.renderCardImage,M=e.renderSubHeaderContent,B=void 0===M?function(){return null}:M,j=e.isPlayable,V=void 0===j||j,H=e.isDownloadable,G=void 0!==H&&H,W=e.headerText,z=e.hasNewEpisodeIndicator,K=e.className,Y=e.playUri,q=void 0===Y?U:Y,Q=e.albumURI,J=e.testId,X=e.ariaPlayLabel,$=e.ariaPauseLabel,ee=e.index,te=e.navigationUrl,ne=e.requestId,re=e.delegateNavigation,ie=void 0!==re&&re,ae=(0,l.k6)(),oe=(0,E.o)(),se=Q?"?highlight=".concat(U):"",le=(0,k.O1)([U],W),ce=(0,h.fU)(d.createDesktopPlayandnavcardEventFactory,{data:{uri:U,position:ee,reason:null!=ne?ne:""}}),ue=ce.spec,de=ce.logger,me=ce.UBIFragment,pe=Q||U,fe=u().from(pe),ve=(0,s.v9)(p.mE),ge=(0,s.v9)(f.Kd),he=(0,y.M8)(null==fe?void 0:fe.type,ve),ye=(0,y.LI)(ge,ve)&&ve&&he,ke=(0,i.useCallback)((function(){if(n(U),!ie){oe({targetUri:U,intent:"navigate",type:"click"});var e,t=ue.hitUiNavigate({destination:null!=te?te:U});de.logInteraction(t),fe&&(e=fe.toURLPath(!0)+se);var r=null!=te?te:e;(r=ye?"/".concat(ge).concat(r):r)&&ae.push(r)}}),[n,U,oe,ue,de,ge,fe,se,ae,te,ie,ye]),Ee=(0,g.n)({uri:q},{featureIdentifier:F}),be=Ee.isPlaying,_e=Ee.togglePlay,Se=Ee.isActive,we=be;c&&"boolean"==typeof C&&(we=C);var Ne=(0,i.useCallback)((function(){var e=ue.cardPlayButtonFactory().hitPause({itemToBePaused:U});we||(e=Se?ue.cardPlayButtonFactory().hitResume({itemToBeResumed:U}):ue.cardPlayButtonFactory().hitPlay({itemToBePlayed:U}));var t=de.logInteraction(e);if(I(U,t),O||oe({targetUri:U,intent:we?"pause":"play",type:"click"}),c){if("function"!=typeof I)throw Error("No delegate playback handler provided")}else _e({loggingParams:t})}),[O,c,Se,we,de,oe,I,ue,_e,U]),Oe=(0,h.Wi)(ue);return i.createElement(me,{spec:ue},i.createElement("div",{ref:Oe,className:o()(w.Z.card,K),onContextMenu:P,onTouchStart:R,onTouchEnd:L,"":J},i.createElement("div",{draggable:!0,onDragStart:le,className:w.Z.draggable},i.createElement("div",{className:w.Z.imageContainer},Z(),V&&i.createElement("div",{className:o()(w.Z.PlayButtonContainer,(0,r.Z)({},w.Z.PlayButtonContainerVisible,we))},i.createElement(v.f,{isPlaying:we,onClick:Ne,ariaPlayLabel:null!=X?X:m.ag.get("playlist.a11y.play",W),ariaPauseLabel:null!=$?$:m.ag.get("playlist.a11y.pause",W)}))),i.createElement("div",{className:w.Z.cardMetadata},i.createElement(_.O,{to:Q||U,search:se,onClick:ke,hasNewEpisodeIndicator:z,title:W,navigationUrl:te,disableLink:ie},W),i.createElement(S.i,null,B(de,ue))),G&&i.createElement(b.$,{uri:U,className:w.Z.DownloadStatusIndicator,size:16}),i.createElement("div",{onClick:ke,className:w.Z.cardLink,"":"card-click-handler"}))))};const O=N},39401:(e,t,n)=>{"use strict";n.d(t,{O:()=>d});n(74916),n(64765),n(12643);var r=n(67294),i=n(73012),a=n(32667),o=n(91355),s=n(67892);const l="main-cardHeader-link",c="main-cardHeader-text",u="main-cardHeader-hasNewEpisodeIndicator";var d=r.memo((function(e){var t=e.search,n=e.children,d=e.to,m=e.onClick,p=e.isHero,f=e.title,v=e.hasNewEpisodeIndicator,g=void 0!==v&&v,h=e.navigationUrl,y=e.disableLink,k=void 0!==y&&y,E=p?"alto":"balladBold",b=r.createElement(a.D,{as:"div",variant:E,className:c,paddingBottom:i.hM$},g&&r.createElement(o.Rd,{className:u}),n);return k?b:r.createElement(s.r,{to:d,onClick:m,title:f,className:l,dir:"auto",search:t,pathname:h},b)}))},8498:(e,t,n)=>{"use strict";n.d(t,{x:()=>p});var r=n(4942),i=n(87462),a=n(67294),o=n(94184),s=n.n(o),l=n(24524),c=n(89104),u=n(49961),d=n(80969),m=function(e){return a.createElement(l.U,(0,i.Z)({iconSize:64},e))},p=function(e){var t,n=e.children,i=e.isHero,o=void 0!==i&&i,l=e.isCircular,p=void 0!==l&&l,f=e.withWaves,v=void 0!==f&&f,g=e.FallbackComponent,h=void 0===g?m:g,y=e.images,k=void 0===y?[]:y,E=e.color,b=(0,u.X)(k,{desiredSize:300,desiredLabel:"standard"}),_={backgroundImage:v&&(null==b?void 0:b.url)?"url(".concat(null==b?void 0:b.url,")"):void 0,"--card-color":E};return a.createElement("div",{className:s()(d.Z.imageWrapper,(t={},(0,r.Z)(t,d.Z.hero,o),(0,r.Z)(t,d.Z.circular,p),(0,r.Z)(t,d.Z.withWavesWrapper,v),t)),style:_},a.createElement("div",{className:s()((0,r.Z)({},d.Z.withWaves,v))},a.createElement(c.E,{className:s()(d.Z.image,(0,r.Z)({},d.Z.circular,p)),src:null==b?void 0:b.url,loading:"lazy",testid:"card-image",fadeIn:!0},h&&a.createElement("div",{className:d.Z.imagePlaceholder},a.createElement(h,{"aria-hidden":!0,"":"card-image-fallback"}))),n))}},67300:(e,t,n)=>{"use strict";n.d(t,{i:()=>u});var r=n(4942),i=n(67294),a=n(94184),o=n.n(a),s=n(32667);const l="main-cardSubHeader-root",c="main-cardSubHeader-isHero";var u=i.memo((function(e){var t=e.children,n=e.isHero;return i.createElement(s.D,{as:"div",variant:"mesto",className:o()(l,(0,r.Z)({},c,n)),semanticColor:"textSubdued"},t)}))},21610:(e,t,n)=>{"use strict";n.d(t,{Z:()=>O});var r=n(4942),i=(n(21703),n(96647),n(67294)),a=n(94184),o=n.n(a),s=n(51615),l=n(69518),c=n.n(l),u=n(45464),d=n(82627),m=n(84242),p=n(15852),f=n(57784),v=n(56802),g=n(20963),h=n(39401),y=n(67300);const k="main-heroCard-card",E="main-heroCard-cardLink",b="main-heroCard-draggable",_="main-heroCard-cardMetadata",S="main-heroCard-isDownloadable",w="main-heroCard-PlayButtonContainer",N="main-heroCard-isPlaying";const O=function(e){var t=e.onClick,n=void 0===t?function(){}:t,a=e.onContextMenu,l=void 0===a?function(){}:a,O=e.onTouchStart,C=void 0===O?function(){}:O,T=e.onTouchEnd,I=void 0===T?function(){}:T,A=e.delegatePlayback,P=void 0!==A&&A,D=e.delegateLogging,R=void 0!==D&&D,x=e.isPlaying,L=e.onPlay,F=void 0===L?function(){}:L,U=e.featureIdentifier,Z=e.uri,M=e.renderCardImage,B=e.renderSubHeaderContent,j=void 0===B?function(){return null}:B,V=e.isPlayable,H=void 0===V||V,G=e.isDownloadable,W=void 0!==G&&G,z=e.headerText,K=e.hasNewEpisodeIndicator,Y=void 0!==K&&K,q=e.className,Q=e.playUri,J=void 0===Q?Z:Q,X=e.albumURI,$=e.testId,ee=e.ariaPlayLabel,te=e.ariaPauseLabel,ne=e.index,re=e.requestId,ie=(0,s.k6)(),ae=(0,v.o)(),oe=X?"?highlight=".concat(Z):"",se=(0,f.O1)([Z],z),le=(0,p.fU)(u.createDesktopPlayandnavcardEventFactory,{data:{uri:Z,position:ne,reason:null!=re?re:""}}),ce=le.spec,ue=le.logger,de=le.UBIFragment,me=(0,i.useCallback)((function(){n(Z),ae({targetUri:Z,intent:"navigate",type:"click"});var e=ce.hitUiNavigate({destination:Z});ue.logInteraction(e);var t=X||Z,r=c().from(t).toURLPath(!0);r+=oe,ie.push(r)}),[X,ie,ue,n,ae,oe,ce,Z]),pe=(0,m.n)({uri:J},{featureIdentifier:U}),fe=pe.isPlaying,ve=pe.isActive,ge=pe.togglePlay,he=fe;P&&"boolean"==typeof x&&(he=x);var ye=(0,i.useCallback)((function(){var e=ce.cardPlayButtonFactory().hitPause({itemToBePaused:Z});he||(e=ve?ce.cardPlayButtonFactory().hitResume({itemToBeResumed:Z}):ce.cardPlayButtonFactory().hitPlay({itemToBePlayed:Z}));var t=ue.logInteraction(e);if(F(Z,t),R||ae({targetUri:Z,intent:he?"pause":"play",type:"click"}),P){if("function"!=typeof F)throw Error("No delegate playback handler provided")}else ge({loggingParams:t})}),[R,P,ve,he,ue,ae,F,ce,ge,Z]),ke=(0,p.Wi)(ce);return i.createElement(de,{spec:ce},i.createElement("div",{ref:ke,className:o()(k,q),onContextMenu:l,onTouchStart:C,onTouchEnd:I,"":$},i.createElement("div",{draggable:!0,onDragStart:se,className:b},M(),i.createElement("div",{className:_},i.createElement(h.O,{to:X||Z,search:oe,onClick:me,isHero:!0,title:z,hasNewEpisodeIndicator:Y},z),i.createElement(y.i,null,j(ue,ce))),W&&i.createElement(g.$,{uri:Z,className:S,size:16}),H&&i.createElement("div",{className:o()(w,(0,r.Z)({},N,he))},i.createElement(d.f,{isPlaying:he,onClick:ye,ariaPlayLabel:ee,ariaPauseLabel:te})),i.createElement("div",{onClick:me,className:E,"":"herocard-click-handler"}))))}},16257:(e,t,n)=>{"use strict";n.d(t,{k:()=>o});var r=n(67294),i=n(32667);const a="main-cardSubHeader-text";var o=function(e){var t=e.children;return t?r.createElement(i.D,{semanticColor:"textBase",variant:"minuetBold",className:a},t):null}},46309:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var r=n(87462),i=(n(68309),n(82526),n(41817),n(67294)),a=n(24524),o=n(96206),s=n(67892),l=n(18261),c=n(75032),u=n(35410),d=n(36590),m=n(8498),p=n(21610),f=n(16257),v=function(e,t){return function(n,r){r&&e.logInteraction(t.cardLinkFactory({position:0}).hitUiNavigate({destination:r}))}},g=function(e){var t,n=e.name,g=e.uri,h=e.images,y=e.description,k=e.authorName,E=e.isHero,b=void 0!==E&&E,_=e.onClick,S=void 0===_?function(){}:_,w=e.testId,N=e.index,O=e.requestId,C=e.color;return t=b?i.createElement(p.Z,{index:N,onClick:S,headerText:n,featureIdentifier:"playlist",uri:g,isDownloadable:!0,renderCardImage:function(){return i.createElement(m.x,{isHero:!0,images:h,color:C,FallbackComponent:function(e){return i.createElement(a.U,(0,r.Z)({iconSize:64},e))}})},renderSubHeaderContent:function(e,t){return i.createElement(i.Fragment,null,y?i.createElement(c.NB,{source:y,LinkComponent:s.r,onLinkClick:v(e,t)}):k&&i.createElement("span",null,o.ag.get("search.playlist-by",k)),i.createElement(f.k,null,o.ag.get("card.tag.playlist")))},testId:w,requestId:O}):i.createElement(d.C,{index:N,onClick:S,headerText:n,featureIdentifier:"playlist",uri:g,isDownloadable:!0,renderCardImage:function(){return i.createElement(m.x,{images:h,color:C,FallbackComponent:function(e){return i.createElement(a.U,(0,r.Z)({iconSize:64},e))}})},renderSubHeaderContent:function(e,t){return i.createElement(i.Fragment,null,y?i.createElement(c.NB,{source:y,LinkComponent:s.r,onLinkClick:v(e,t)}):k&&i.createElement("span",null,o.ag.get("search.playlist-by",k)))},testId:w,requestId:O}),i.createElement(l._,{menu:i.createElement(u.X,{uri:g})},t)}},52778:(e,t,n)=>{"use strict";n.d(t,{I:()=>f});var r=n(87462),i=(n(68309),n(74916),n(15306),n(67294)),a=n(24524),o=n(52191),s=n(85836),l=n(18261),c=n(84242),u=n(89952),d=n(83853),m=n(36590),p=n(8498),f=function(e){var t=e.name,n=e.uri,f=e.images,v=e.onClick,g=void 0===v?function(){}:v,h=e.index,y=e.testId,k=n.replace("spotify:station:","spotify:"),E=(0,c.n)({uri:n,restrictions:s.B},{featureIdentifier:"radio"}),b=E.isPlaying,_=E.togglePlay,S={shuffle:!1,repeat:u.zq.REPEAT_NONE};return i.createElement(l._,{menu:i.createElement(d.i,{uri:n})},i.createElement(m.C,{index:h,onClick:g,featureIdentifier:"radio",delegatePlayback:!0,isPlaying:b,onPlay:function(){return _(S)},headerText:t,uri:n,testId:y,renderCardImage:function(){return i.createElement(p.x,{images:f,withWaves:!0,FallbackComponent:function(e){return i.createElement(a.U,(0,r.Z)({iconSize:64},e))}})},renderSubHeaderContent:function(){return i.createElement("span",null,(0,o.getRadioLabel)(k))}}))}},95332:(e,t,n)=>{"use strict";n.d(t,{_:()=>p});n(68309);var r=n(67294),i=n(96206),a=n(83538),o=n(18261),s=n(143),l=n(86514),c=n(36590),u=n(8498),d=n(21610),m=n(16257),p=function(e){var t,n=e.images,p=e.name,f=e.uri,v=e.publisher,g=e.sharingInfo,h=e.mediaType,y=e.isHero,k=void 0!==y&&y,E=e.onClick,b=e.testId,_=e.index,S=e.requestId,w=e.color,N=h===s.E.MIXED?i.ag.get("type.show"):i.ag.get("card.tag.show"),O=(0,r.useContext)(a.H).onLibraryItemRemove;return t=k?r.createElement(d.Z,{index:_,onClick:E,delegatePlayback:!0,headerText:p,featureIdentifier:"show",uri:f,isPlayable:!1,renderCardImage:function(){return r.createElement(u.x,{isHero:!0,images:n,color:w})},renderSubHeaderContent:function(){return r.createElement(r.Fragment,null,v&&r.createElement("span",null,v),r.createElement(m.k,null,N))},testId:b,requestId:S}):r.createElement(c.C,{onClick:E,isPlayable:!1,delegatePlayback:!0,headerText:p,featureIdentifier:"show",uri:f,index:_,renderCardImage:function(){return r.createElement(u.x,{isHero:k,images:n,color:w})},renderSubHeaderContent:function(){return r.createElement(r.Fragment,null,v&&r.createElement("span",null,v))},testId:b,requestId:S}),r.createElement(o._,{menu:r.createElement(l.M,{uri:f,sharingInfo:g,onRemoveCallback:O})},t)}},69756:(e,t,n)=>{"use strict";n.d(t,{A:()=>g});var r=n(4942),i=n(67294),a=n(94184),o=n.n(a),s=n(96001),l=n(22247),c=n(15368),u=n(80969);const d="V8p0Uoki3EIdMPOxzLow",m="YVcNB7bcFd5axagLHfAF",p="fabXdRhkEdHzu8OgR5Vn",f="fvOob2VViovPwenD9MRA";var v=i.memo((function(e){var t=e.isLoading,n=(0,s.h)("shimmer");return i.createElement("div",{ref:n,className:o()(u.Z.imageWrapper,(0,r.Z)({},f,t))})})),g=i.memo((function(e){var t=e.cardImage,n=e.isLoading;return i.createElement("div",{className:o()(c.Z.card,d),"aria-hidden":!0},i.createElement("div",{className:c.Z.imageContainer},t||i.createElement(v,{isLoading:n})),i.createElement("div",{className:c.Z.cardMetadata},i.createElement(l.C,{as:"div",variant:"balladBold",className:m,charCount:15,isLoading:n}),i.createElement(l.C,{as:"div",variant:"mesto",className:p,charCount:10,isLoading:n})))}))},97891:(e,t,n)=>{"use strict";n.d(t,{G:()=>h});n(68309),n(21249);var r=n(67294),i=n(96206),a=n(64157),o=n(18261),s=n(87257),l=n(57978),c=n(80507),u=n(88214),d=n(67892),m=n(36590),p=n(8498),f=n(21610),v=n(16257);const g="Cv51KKt1hDVs4oYd4jZ1";var h=function(e){var t,n=e.name,h=e.uri,y=e.images,k=e.album,E=e.artists,b=e.isExplicit,_=e.is19PlusOnly,S=e.isHero,w=void 0!==S&&S,N=e.onClick,O=e.testId,C=e.index,T=e.requestId,I=e.isLyricsMatch,A=e.color;return t=w?r.createElement(f.Z,{index:C,onClick:N,headerText:n,featureIdentifier:"track",uri:h,albumURI:null==k?void 0:k.uri,renderCardImage:function(){return r.createElement(p.x,{isHero:!0,images:y,color:A})},renderSubHeaderContent:function(){return r.createElement(r.Fragment,null,b&&!_&&r.createElement(s.N,{className:g}),_&&r.createElement(l.X,{size:16,className:g}),E.map((function(e,t){return[t>0&&i.ag.getSeparator(),r.createElement(o._,{key:e.uri,menu:r.createElement(c.m,{uri:e.uri})},r.createElement(d.Z,{to:e.uri,dir:"auto"},e.name))]})),I&&r.createElement(a.q,null),r.createElement(v.k,null,i.ag.get("card.tag.track")))},testId:O,requestId:T}):r.createElement(m.C,{index:C,onClick:N,headerText:n,featureIdentifier:"track",uri:h,albumURI:null==k?void 0:k.uri,renderCardImage:function(){return r.createElement(p.x,{images:y,color:A})},renderSubHeaderContent:function(){return r.createElement(r.Fragment,null,b&&!_&&r.createElement(s.N,{className:g}),_&&r.createElement(l.X,{size:16,className:g}),E.map((function(e,t){return[t>0&&i.ag.getSeparator(),r.createElement(o._,{key:e.uri,menu:r.createElement(c.m,{uri:e.uri})},r.createElement(d.Z,{to:e.uri,dir:"auto"},e.name))]})),I&&r.createElement(a.q,null))},testId:O,requestId:T}),r.createElement(o._,{menu:r.createElement(u.$,{uri:h,artists:E,albumUri:null==k?void 0:k.uri})},t)}},23915:(e,t,n)=>{"use strict";n.d(t,{z:()=>d});var r=n(67294),i=n(96206),a=n(58679),o=n(70485),s=n(49207),l=n(21691),c=n(42922),u=function(e){var t=e.uri,n=e.divider,a=(0,o.l)({uri:t,permissionLevel:"CONTRIBUTOR"}).onCopyLink;return r.createElement(l.s,{role:"menuitem",divider:n,onClick:a},i.ag.get("contextmenu.invite-collaborators"))},d=r.memo((function(e){return r.createElement(a.F,{property:s.bM,renderNewExperience:function(){return r.createElement(c.ZP,{value:"leave-playlist"},r.createElement(u,e))},renderOldExperience:function(){return null}})}))},79249:(e,t,n)=>{"use strict";n.d(t,{H:()=>p});var r=n(67294),i=n(86706),a=n(96206),o=n(58679),s=n(49207),l=n(21691),c=n(42922),u=n(15852),d=n(75484),m=function(e){var t=e.uri,n=e.divider,o=e.spec,s=(0,i.I0)(),c=(0,u.$P)(),m=(0,r.useCallback)((function(){s((0,d.IF)(t)),c.logInteraction(o.leavePlaylistButtonFactory().hitLeavePlaylist({playlist:t}))}),[s,c,o,t]);return r.createElement(l.s,{role:"menuitem",divider:n,onClick:m},a.ag.get("contextmenu.leave-playlist"))},p=r.memo((function(e){return r.createElement(o.F,{property:s.bM,renderNewExperience:function(){return r.createElement(c.ZP,{value:"leave-playlist"},r.createElement(m,e))},renderOldExperience:function(){return null}})}))},38260:(e,t,n)=>{"use strict";n.d(t,{aU:()=>ht,CW:()=>Lt,ms:()=>f,x9:()=>Ue,jj:()=>He,Jx:()=>D,K_:()=>et,uj:()=>nt,AM:()=>ut,WQ:()=>mt,R2:()=>Qe,f0:()=>It,pJ:()=>Tt,bs:()=>At,fc:()=>Ye,x3:()=>ge,Zb:()=>he,xM:()=>ve,ZI:()=>Y,m8:()=>z,wy:()=>Q,IW:()=>q,SB:()=>J,Od:()=>K,Jh:()=>we,Iy:()=>Zt,Fg:()=>St,N0:()=>ee,W2:()=>N,h$:()=>M,DY:()=>Rt,gh:()=>We,Xu:()=>Xe,Qf:()=>Me,ai:()=>xt,fW:()=>ft,tz:()=>oe,lG:()=>fe,K:()=>ye,EC:()=>pe,ZX:()=>bt,V8:()=>me,AA:()=>k});var r=n(15861),i=(n(68309),n(87757)),a=n.n(i),o=n(67294),s=n(86706),l=n(70902),c=n(42038),u=n(21691),d=n(42922),m=n(43701),p=function(e){var t=e.uris,n=e.playlist,i=e.divider,d=e.children,p=(0,s.I0)(),f=(0,o.useCallback)((0,r.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:p((0,c.jV)(n.uri,t));case 1:case"end":return e.stop()}}),e)}))),[t,p,n.uri]);return o.createElement(u.s,{role:"menuitem",divider:i,onClick:f,icon:(0,m.c)(n)?o.createElement(l.R,{iconSize:16}):null},null!=d?d:n.name)},f=o.memo((function(e){return o.createElement(d.ZP,{value:"add-to-existing"},o.createElement(p,e))})),v=n(75484),g=n(15852),h=n(56802),y=function(e){var t=e.uri,n=e.displayText,i=e.divider,l=e.ubiLogger,c=e.contextMenuSpec,d=(0,s.I0)(),m=(0,h.o)(),p=(0,o.useMemo)((function(){return c.showCreditsFactory()}),[c]),f=(0,g.Wi)(p),y=(0,o.useCallback)((0,r.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l.logInteraction(p.hitUiReveal()),m({targetUri:t,intent:"show-credits",type:"click"}),d((0,v.Pd)(!0,t));case 3:case"end":return e.stop()}}),e)}))),[t,d,m,l,p]);return o.createElement(u.s,{role:"menuitem",divider:i,onClick:y,elementRef:f},n)},k=o.memo((function(e){return o.createElement(d.ZP,{value:"show-credits"},o.createElement(y,e))})),E=n(57128),b=n(23716),_=n(5944),S=n(26176),w=function(e){var t=e.uri,n=e.divider,r=e.spec,i=(0,h.o)(),a=(0,o.useContext)(E.qi),s=(0,b.g)().getState(),l=(0,S.YQ)(t),c=(0,g.$P)(),d=(0,o.useCallback)((function(){var e;i({intent:"share",type:"click"}),c.logInteraction(r.shareEmbedButtonFactory({uri:t}).hitUiReveal());var n=null==s||null===(e=s.item)||void 0===e?void 0:e.uri,o=(0,_.k)(s);a({type:"open",uri:t,currentTrackUri:n,currentPosition:o})}),[i,c,r,t,s,a]);return o.createElement(u.s,{role:"menuitem",divider:n,onClick:d},l)},N=o.memo((function(e){return o.createElement(d.ZP,{value:"ewg-open"},o.createElement(w,e))})),O=n(96206),C=n(70485),T=n(22819),I=n(1447),A=n(25853),P=function(e){var t=e.uri,n=e.sharingInfo,r=e.displayText,i=e.divider,a=e.isPrivatePlaylist,s=void 0!==a&&a,l=e.spec,c=(0,I.Np)().modifierKeyHeld,d=(0,T.y)({sharingInfo:n,uri:t,interactionData:{intent:"share",type:"click"}}).onCopyLink,m=(0,g.$P)(),p=(0,C.l)({uri:t,permissionLevel:"VIEWER"}).onCopyLink,f=(0,o.useCallback)((function(){c?(0,A.v)(t):s?p():d(),m.logInteraction(l.copyLinkButtonFactory().hitCopyToClipboard())}),[c,s,m,l,t,p,d]);return o.createElement(u.s,{role:"menuitem",divider:i,onClick:f},c?O.ag.get("context-menu.copy-spotify-uri"):r)},D=o.memo((function(e){return o.createElement(d.ZP,{value:"copy-link"},o.createElement(P,e))})),R=(n(74916),n(15306),n(83650),n(92222),n(62808)),x=n.n(R),L=n(72586),F=n(8271),U=n(94321);var Z=o.memo((function(e){var t=e.uri,n=e.context,r=e.divider,i=e.spec,a=(0,F.s4)(),l=(0,h.o)(),c=(0,g.$P)(),d=(0,s.v9)((function(e){return e.platform})),m=d.isPWA,p=d.isDesktop,f=(0,s.v9)(U.C7),v=(0,o.useCallback)((function(){var e,r="".concat(t).concat(n?"?context=".concat(encodeURIComponent(n)):"");l({targetUri:r,intent:"open-in-app",type:"click"}),c.logInteraction(i.openInDesktopButtonFactory().hitOpenApp({destination:t,app:"desktop"})),a.send((0,L.K)({link:window.location.href,entity_uri:r,source:"open-in-app",deeplink_session_id:(e=x().create().hex,(e=e.replace(/-/g,"")).substr(0,16))})),window.open(r)}),[t,n,l,c,i,a]);return m||p||f?null:o.createElement(u.s,{role:"menuitem",divider:r,onClick:v},O.ag.get("contextmenu.open_desktop_app"))})),M=o.memo((function(e){return o.createElement(d.ZP,{value:"open-in-app"},o.createElement(Z,e))})),B=n(69518),j=n.n(B),V=n(98773),H=n(29255),G=n(52419),W=function(e){var t=e.uri,n=e.queryParams,r=void 0===n?"":n,i=e.displayText,a=e.divider,l=(0,s.v9)(V.mE),c=(0,s.v9)(H.Kd);if(!t)return null;var d=j().from(t),m=j().from(d).toURLPath(!0),p=(0,G.BS)(c,d.type,l)?"/".concat(c).concat(m).concat(r):"".concat(m).concat(r);return o.createElement(u.s,{role:"menuitem",divider:a,to:p},i)},z=function(e){var t=e.uri,n=e.contextUri,r=e.divider,i=e.displayText,a=void 0===i?O.ag.get("contextmenu.go-to-artist"):i;return t!==n?o.createElement(W,{divider:r,uri:t,displayText:a}):null},K=function(e){var t=e.uri,n=e.divider,r=e.displayText,i=void 0===r?O.ag.get("context-menu.profile"):r;return o.createElement(W,{divider:n,uri:t,displayText:i})},Y=function(e){var t=e.uri,n=e.contextUri,r=e.highlightedUri,i=e.divider;return t!==n?o.createElement(W,{divider:i,uri:t,displayText:O.ag.get("contextmenu.go-to-album"),queryParams:"?highlight=".concat(r)}):null},q=function(e){var t=e.uri,n=e.contextUri,r=e.divider;return t!==n?o.createElement(W,{divider:r,uri:t,displayText:O.ag.get("context-menu.episode-page-link")}):null},Q=function(e){var t=e.uri,n=e.contextUri,r=e.divider;return t!==n?o.createElement(W,{divider:r,uri:t,displayText:O.ag.get("context-menu.chapter-page-link")}):null},J=function(e){var t=e.uri,n=e.divider;return o.createElement(W,{divider:n,uri:t,displayText:O.ag.get("contextmenu.go-to-playlist")})},X=n(63282),$=function(e){var t=e.uris,n=e.folderId,r=e.displayText,i=e.divider,a=(0,X.K)(),s=a.createPlaylistFromAlbum,l=a.createPlaylistFromTracks,c=(0,o.useCallback)((function(){j().isAlbum(t[0])?s(t[0],null!=n?n:null):l(t,null!=n?n:null)}),[t,s,l,n]);return o.createElement(u.s,{role:"menuitem",divider:i,onClick:c},r)},ee=o.memo((function(e){return o.createElement(d.ZP,{value:"new-playlist"},o.createElement($,e))})),te=n(29439),ne=n(75793),re=n(8475),ie=n(52208),ae=function(e){var t=e.uri,n=e.currentUserUri,i=e.canReportUser,s=e.divider,l=e.spec,c=(0,o.useState)(!1),d=(0,te.Z)(c,2),m=d[0],p=d[1],f=(0,o.useContext)(re.G),v=(0,g.$P)();(0,o.useEffect)((function(){j().isPlaylistV1OrV2(t)&&f.canReportPlaylist(t,n).then(p),j().isArtist(t)&&p(!0),j().isProfile(t)&&p(!!i),j().isEpisode(t)&&f.canReportEpisode(t).then(p)}),[t,n,i,f]);var h=(0,ie.e)().openURLWithSessionTransfer,y=(0,o.useCallback)((0,r.Z)(a().mark((function e(){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(m){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,f.getReportURL(t);case 4:n=e.sent,h(n),l&&v.logInteraction(l.reportButtonFactory().hitUiNavigate({destination:t}));case 7:case"end":return e.stop()}}),e)}))),[m,f,t,h,l,v]);return f.isURIReportable(t)&&t!==n?o.createElement(u.s,{role:"menuitem",as:"a",divider:s,disabled:!m,onClick:y,icon:o.createElement(ne.T,{iconSize:16})},O.ag.get("contextmenu.report")):null},oe=o.memo((function(e){return o.createElement(d.ZP,{value:"report"},o.createElement(ae,e))})),se=n(67870),le=n(4236),ce=n(4383),ue=o.memo((function(e){var t=e.uri,n=e.divider,r=e.saveSuccess,i=e.removeSuccess,a=e.onRemoveCallback,l=e.removeLabel,c=e.saveLabel,d=(0,s.I0)(),m=(0,h.o)(),p=!(0,le.k)(),f=(0,ce.Z)(t),v=(0,te.Z)(f,2),g=v[0],y=v[1],k=(0,ce.y)(),E=(0,o.useCallback)((function(){m({targetUri:t,intent:g?"remove-from-library":"add-to-library",type:"click"}),y(!g),g?(a(t),i&&d(i(t))):r&&d(r(t))}),[m,t,g,y,d,r,i,a]);return o.createElement(u.s,{role:"menuitem",divider:n,disabled:p&&!(null!=k&&k.getCapabilities().canModifyOffline),onClick:E},g?l:c)})),de=function(){},me=o.memo((function(e){var t=e.uri,n=e.onRemoveCallback,r=void 0===n?de:n,i=e.divider;return o.createElement(d.ZP,{value:"save-track"},o.createElement(ue,{uri:t,divider:i,onRemoveCallback:r,removeLabel:O.ag.get("remove_from_your_liked_songs"),saveLabel:O.ag.get("save_to_your_liked_songs")}))})),pe=o.memo((function(e){var t=e.uri,n=e.onRemoveCallback,r=void 0===n?de:n,i=e.divider;return o.createElement(d.ZP,{value:"save-episode"},o.createElement(ue,{uri:t,divider:i,removeSuccess:se.SS,onRemoveCallback:r,saveSuccess:se.kK,removeLabel:O.ag.get("contextmenu.remove-from-your-episodes"),saveLabel:O.ag.get("contextmenu.save-to-your-episodes")}))})),fe=o.memo((function(e){var t=e.uri,n=e.onRemoveCallback,r=void 0===n?de:n,i=e.divider;return o.createElement(d.ZP,{value:"save-album"},o.createElement(ue,{uri:t,divider:i,onRemoveCallback:r,removeLabel:O.ag.get("contextmenu.remove-from-library"),saveLabel:O.ag.get("contextmenu.add-to-library")}))})),ve=o.memo((function(e){var t=e.uri,n=e.onRemoveCallback,r=void 0===n?de:n,i=e.divider;return o.createElement(d.ZP,{value:"follow-show"},o.createElement(ue,{uri:t,divider:i,onRemoveCallback:r,removeLabel:O.ag.get("unfollow"),saveLabel:O.ag.get("follow")}))})),ge=o.memo((function(e){var t=e.uri,n=e.onRemoveCallback,r=void 0===n?de:n,i=e.divider;return o.createElement(d.ZP,{value:"follow-artist"},o.createElement(ue,{uri:t,divider:i,onRemoveCallback:r,removeLabel:O.ag.get("unfollow"),saveLabel:O.ag.get("follow")}))})),he=o.memo((function(e){var t=e.uri,n=e.onRemoveCallback,r=void 0===n?de:n,i=e.divider;return o.createElement(d.ZP,{value:"follow-playlist"},o.createElement(ue,{uri:t,divider:i,onRemoveCallback:r,removeLabel:O.ag.get("contextmenu.remove-from-library"),saveLabel:O.ag.get("contextmenu.add-to-library")}))})),ye=o.memo((function(e){var t=e.uri,n=e.onRemoveCallback,r=void 0===n?de:n,i=e.divider;return o.createElement(d.ZP,{value:"save-book"},o.createElement(ue,{uri:t,divider:i,onRemoveCallback:r,removeLabel:O.ag.get("contextmenu.remove-from-library"),saveLabel:O.ag.get("contextmenu.add-to-library")}))})),ke=n(51615),Ee=n(29066),be=n(87961),_e=n(54831),Se=function(e){var t=e.uri,n=e.displayText,i=e.divider,s=e.spec,l=(0,ke.k6)(),c=!(0,le.k)(),d=(0,h.o)(),m=(0,g.$P)(),p=(0,o.useCallback)((0,r.Z)(a().mark((function e(){var n,r,i,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d({targetUri:t,intent:"go-to-radio",type:"click"}),s&&m.logInteraction(s.navigateButtonFactory({identifier:"go-to-radio"}).hitUiNavigate({destination:t})),null===(n=(0,Ee.S)(t))||n.type!==j().Type.PLAYLIST){e.next=7;break}l.push(n.toURLPath(!0)),e.next=12;break;case 7:return e.next=9,(0,_e.M)(be.b.getInstance(),t);case 9:r=e.sent,i=(0,te.Z)(r.body.mediaItems,1),o=i[0],l.push(j().from(o.uri).toURLPath(!0));case 12:case"end":return e.stop()}}),e)}))),[d,t,s,m,l]);return o.createElement(u.s,{role:"menuitem",divider:i,disabled:c,onClick:p},n)},we=o.memo((function(e){return o.createElement(d.ZP,{value:"go-to-radio"},o.createElement(Se,e))})),Ne=n(4942),Oe=(n(21249),n(57327),n(41539),n(47941),n(82526),n(38880),n(89554),n(54747),n(49337),n(33321),n(69070),n(3775)),Ce=n(14472),Te=n(72138),Ie=n(68960),Ae=(n(98984),{kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"queryAlbumTracksContextMenu"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uri"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"album"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uri"},value:{kind:"Variable",name:{kind:"Name",value:"uri"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"playability"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"playable"}}]}},{kind:"Field",name:{kind:"Name",value:"tracks"},arguments:[{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uid"}},{kind:"Field",name:{kind:"Name",value:"track"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"saved"}},{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"playcount"}},{kind:"Field",name:{kind:"Name",value:"discNumber"}},{kind:"Field",name:{kind:"Name",value:"trackNumber"}},{kind:"Field",name:{kind:"Name",value:"contentRating"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"label"}}]}},{kind:"Field",name:{kind:"Name",value:"relinkingInformation"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"isRelinked"}}]}},{kind:"Field",name:{kind:"Name",value:"duration"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalMilliseconds"}}]}},{kind:"Field",name:{kind:"Name",value:"playability"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"playable"}}]}},{kind:"Field",name:{kind:"Name",value:"artists"},arguments:[{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"IntValue",value:"0"}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"IntValue",value:"10"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"profile"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]}}]}}]}}]}}]}}]}}]});function Pe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function De(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pe(Object(n),!0).forEach((function(t){(0,Ne.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Re=function(e){return{uri:e,uid:null}},xe=function(e){var t=e.uris,n=e.divider,r=e.spec,i=e.logger,a=(0,h.o)(),s=(0,b.g)(),l=(0,o.useCallback)((function(){a({intent:"add-to-queue",type:"click"}),s.addToQueue(t.map(Re)),r&&i&&i.logInteraction(r.addToQueueButtonFactory().hitAddItemsToQueue({numberOfItemsToAddToQueue:t.length}))}),[a,s,t,r,i]);return o.createElement(u.s,{role:"menuitem",divider:n,onClick:l},O.ag.get("contextmenu.add-to-queue"))},Le=function(e){var t=e.uris,n=e.spec,i=e.logger,s=(0,h.o)(),l=(0,b.g)(),c=(0,o.useContext)(Oe.Ax).request,d=(0,o.useCallback)((0,r.Z)(a().mark((function e(){var r,o,u;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s({intent:"add-to-queue",type:"click"}),n&&i&&i.logInteraction(n.addToQueueButtonFactory().hitAddItemsToQueue({numberOfItemsToAddToQueue:t.length})),e.next=4,c(Ae,{uri:t[0],offset:0,limit:100});case 4:o=e.sent,u=((null==o||null===(r=o.data.album)||void 0===r?void 0:r.tracks.items)||[]).map((function(e){return e.track.uri})),l.addToQueue(u.map(Re));case 7:case"end":return e.stop()}}),e)}))),[i,s,l,c,n,t]);return o.createElement(u.s,{role:"menuitem",onClick:d},O.ag.get("contextmenu.add-to-queue"))},Fe=function(e){var t=e.uris,n=e.spec,i=e.logger,s=(0,h.o)(),l=(0,b.g)(),c=(0,o.useContext)(Te.ZF),d=(0,o.useCallback)((0,r.Z)(a().mark((function e(){var r,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s({intent:"add-to-queue",type:"click"}),e.next=3,c.getContents(t[0],{limit:100});case 3:r=e.sent,o=r.items.filter((function(e){return!!e})).map((function(e){return e.uri})),n&&i&&i.logInteraction(n.addToQueueButtonFactory().hitAddItemsToQueue({numberOfItemsToAddToQueue:o.length})),l.addToQueue(o.map(Re));case 7:case"end":return e.stop()}}),e)}))),[i,s,l,c,n,t]);return o.createElement(u.s,{role:"menuitem",onClick:d},O.ag.get("contextmenu.add-to-queue"))},Ue=o.memo((function(e){var t=(0,Ce.$)().uri,n=(0,Ie.Y)(),r=De(De({},e),{},{logger:(0,g.$P)()});if(!t||n)return null;var i=o.createElement(xe,r);return j().isAlbum(e.uris[0])?i=o.createElement(Le,r):j().isPlaylistV1OrV2(e.uris[0])&&(i=o.createElement(Fe,r)),o.createElement(d.ZP,{value:"add-to-queue"},i)})),Ze=function(e){var t,n=e.uids,r=e.uris,i=e.contextUri,a=e.divider,s=e.spec,l=(0,h.o)(),c=(0,b.g)(),d=(0,g.$P)(),m=(0,o.useMemo)((function(){return n.map((function(e,t){return{uid:e,uri:r[t]}}))}),[n,r]),p=(0,o.useCallback)((function(){l({intent:"remove-from-queue",type:"click"}),d.logInteraction(s.removeFromQueueButtonFactory().hitRemoveItemsFromQueue({numberOfItemsToRemoveFromQueue:r.length})),c.removeFromQueue(m)}),[l,d,s,r.length,c,m]);return i&&"queue"===(null===(t=j().from(i))||void 0===t?void 0:t.getBase62Id())?o.createElement(u.s,{role:"menuitem",divider:a,onClick:p},O.ag.get("contextmenu.remove-from-queue")):null},Me=o.memo((function(e){return o.createElement(d.ZP,{value:"remove-from-queue"},o.createElement(Ze,e))})),Be=n(87577),je=n(49207),Ve=function(e){var t=e.uri,n=e.spec,r=e.divider,i=e.isCollaborative,a=(0,h.o)(),s=(0,o.useContext)(Te.ZF),l=(0,Te.Yv)(t).setCollaborativeState,c=(0,g.$P)(),d=s.getCapabilities().canToggleCollaborative,m=(0,Be.W6)(je.bM),p=(0,o.useCallback)((function(){var e;(a({intent:"playlisting",type:"click"}),l(!i),n)&&(e=i?n.collaborativePlaylistButtonFactory().hitMakePlaylistNonCollaborative({playlistToBeMadeNonCollaborative:t}):n.collaborativePlaylistButtonFactory().hitMakePlaylistCollaborative({playlistToBeMadeCollaborative:t}),c.logInteraction(e))}),[i,c,a,l,n,t]);return!d||m&&!i?null:o.createElement(u.s,{role:"menuitemcheckbox",divider:r,onClick:p,"aria-checked":i},O.ag.get("contextmenu.collaborative"))},He=o.memo((function(e){return o.createElement(o.Suspense,{fallback:null},o.createElement(d.ZP,{value:"toggle-collaborative"},o.createElement(Ve,e)))})),Ge=function(e){var t=e.uri,n=e.divider,r=e.isPublished,i=e.isCollaborative,a=e.spec,l=(0,h.o)(),c=(0,Te.lh)().setPublishedState,d=(0,s.I0)(),m=(0,g.$P)(),p=(0,o.useCallback)((function(){if(!i){var e;if(l({intent:"playlisting",type:"click"}),c(t,!r),a)e=r?a.togglePlaylistPermissionsButtonFactory().hitMakePlaylistPrivate({playlistToBeMadePrivate:t}):a.togglePlaylistPermissionsButtonFactory().hitMakePlaylistPublic({playlistToBeMadePublic:t}),m.logInteraction(e);d(r?(0,se.sO)():(0,se.EJ)())}}),[d,i,r,m,l,c,a,t]);return o.createElement(u.s,{role:"menuitem",divider:n,onClick:p,disabled:i},r?O.ag.get("contextmenu.make-secret"):O.ag.get("contextmenu.make-public"))},We=o.memo((function(e){return o.createElement(d.ZP,{value:"toggle-published"},o.createElement(Ge,e))})),ze=(n(41817),n(24172)),Ke=function(e){var t=e.uri,n=e.name,r=e.description,i=e.image,a=e.divider,s=e.spec,l=(0,h.o)(),c=(0,o.useContext)(ze.zy),d=(0,g.$P)(),m=(0,o.useCallback)((function(){l({intent:"playlisting",type:"click"}),c({type:"open",playlistDetails:{name:n,description:r,image:i,uri:t}}),s&&d.logInteraction(s.editButtonFactory({uri:t}).hitUiReveal())}),[r,c,i,d,n,l,s,t]);return o.createElement(u.s,{role:"menuitem",divider:a,onClick:m},O.ag.get("contextmenu.edit-details"))},Ye=o.memo((function(e){return o.createElement(d.ZP,{value:"edit-details"},o.createElement(Ke,e))})),qe=function(e){var t=e.uri,n=e.divider,r=e.spec,i=(0,h.o)(),a=(0,s.I0)(),l=(0,g.$P)(),c=(0,o.useCallback)((function(){i({intent:"playlisting",type:"click"}),a((0,v.p_)(t)),r&&l.logInteraction(r.deleteButtonFactory().hitDeletePlaylist({playlistToBeDeleted:t}))}),[a,l,i,r,t]);return o.createElement(u.s,{role:"menuitem",divider:n,onClick:c},O.ag.get("contextmenu.delete"))},Qe=o.memo((function(e){return o.createElement(d.ZP,{value:"delete-playlist"},o.createElement(qe,e))})),Je=(n(26541),n(33161),n(9653),function(e){var t=(0,o.useContext)(Te.ZF),n=(0,Te.Yv)(e.playlistUri).removeItems,r=e.uris,i=e.uids,a=e.divider,s=e.playlistUri,l=e.removePlaylistItems,c=void 0===l?n:l,d=e.canBeRemoved,m=(0,h.o)(),p=(0,Te.ET)(s),f=t.getCapabilities().hasUidsGeneratedFromIndicies,v=(0,o.useCallback)((function(){m({targetUri:s,intent:"playlisting",type:"click"});var e=r.map((function(e,t){return{uri:e,id:i[t]||""}}));c(e)}),[m,s,c,i,r]);return f&&!i.every((function(e){return Number.isInteger(Number(e))}))?null:d||null!=p&&p.canRemove?o.createElement(u.s,{role:"menuitem",divider:a,onClick:v},O.ag.get("contextmenu.remove-from-playlist")):null}),Xe=o.memo((function(e){return j().isPlaylistV1OrV2(e.playlistUri)?o.createElement(d.ZP,{value:"remove-from-playlist"},o.createElement(Je,e)):null})),$e=function(e){var t=e.afterId,n=e.divider,r=e.onCreateCallback,i=void 0===r?function(){}:r,a=(0,h.o)(),s=(0,Te.lh)().createFolder,l=(0,o.useCallback)((function(){a({intent:"playlisting",type:"click"}),s(O.ag.get("playlist.default_folder_name"),{after:t}),i()}),[t,s,a,i]);return o.createElement(u.s,{role:"menuitem",divider:n,onClick:l},O.ag.get("contextmenu.create-folder"))},et=o.memo((function(e){return o.createElement(d.ZP,{value:"create-folder"},o.createElement($e,e))})),tt=function(e){var t=e.afterId,n=e.divider,r=e.onCreateCallback,i=void 0===r?function(){}:r,a=(0,h.o)(),s=(0,Te.lh)().createPlaylist,l=(0,o.useCallback)((function(){a({intent:"create-playlist",type:"click"}),s(O.ag.get("playlist.default_playlist_name"),{after:t}),i()}),[t,s,a,i]);return o.createElement(u.s,{role:"menuitem",divider:n,onClick:l},O.ag.get("contextmenu.create-playlist"))},nt=o.memo((function(e){return o.createElement(d.ZP,{value:"create-playlist"},o.createElement(tt,e))})),rt=(n(91038),n(78783),n(66992),n(70189),n(33948),n(1838)),it=n(16516),at=function(e,t){return e.build().withMethod("POST").withHost(it.W7).withPath("/freshen").withJsonContentType().withBody({playlistURI:t,type:"W2V_freshener"}).withEndpointIdentifier("/freshen").send()};function ot(e){return e.map((function(e){return"spotify:track:".concat(e.id)}))}function st(e){return Array.from(new Set(e))}function lt(e){return e.platform}var ct=function(e){var t=e.uri,n=e.isEmpty,i=e.name,l=e.displayText,c=e.divider,d=e.spec,m=(0,Te.lh)().createPlaylist,p=(0,ke.k6)(),f=(0,s.v9)(lt).isDesktop,v=(0,o.useContext)(Te.ZF),y=!(0,le.k)(),k=(0,h.o)(),E=(0,g.$P)(),b=(0,o.useCallback)((0,r.Z)(a().mark((function e(){var n,r,o,s,l;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,rt.B1)(i),e.next=3,at(be.b.getInstance(),t);case 3:return r=e.sent,o=st(ot(r.body.recommendedTracks)),e.next=7,m(n,{before:"start"});case 7:return s=e.sent,l=j().from(s).toURLPath(!0),e.next=11,v.add(s,o,{before:"start"});case 11:d&&E.logInteraction(d.createButtonFactory().hitCreatePlaylist()),k({targetUri:t,intent:"create-similar-playlist",type:"click"}),p.push(l);case 14:case"end":return e.stop()}}),e)}))),[i,t,m,v,d,k,p,E]);return f?o.createElement(u.s,{role:"menuitem",divider:c,disabled:y||n,onClick:b},l):null},ut=o.memo((function(e){return o.createElement(d.ZP,{value:"create-similar-playlist"},o.createElement(ct,e))})),dt=function(e){var t=e.uri,n=e.divider,r=(0,h.o)(),i=(0,s.I0)(),a=(0,o.useCallback)((function(){r({intent:"playlisting",type:"click"}),i((0,v.Q2)(t))}),[i,r,t]);return o.createElement(u.s,{role:"menuitem",divider:n,onClick:a},O.ag.get("contextmenu.delete"))},mt=o.memo((function(e){return o.createElement(d.ZP,{value:"delete-folder"},o.createElement(dt,e))})),pt=function(e){var t=e.onRename,n=e.divider,r=e.uri,i=e.spec,a=(0,h.o)(),s=(0,g.$P)(),l=(0,o.useCallback)((function(){a({intent:"playlisting",type:"click"}),s.logInteraction(i.renameButtonFactory().hitRenamePlaylist({playlistToBeRenamed:r})),t()}),[a,s,i,r,t]);return o.createElement(u.s,{role:"menuitem",divider:n,onClick:l},O.ag.get("contextmenu.rename"))},ft=o.memo((function(e){return o.createElement(d.ZP,{value:"rename"},o.createElement(pt,e))})),vt=n(10917),gt=function(e){var t=e.divider,n=(0,s.I0)(),r=(0,o.useCallback)((function(){n((0,vt.q$)())}),[n]);return o.createElement(u.s,{role:"menuitem",divider:t,onClick:r},O.ag.get("context-menu.about-recommendations"))},ht=o.memo((function(e){return o.createElement(d.ZP,{value:"about-recommendations"},o.createElement(gt,e))})),yt=n(93433),kt=n(45342),Et=function(e){var t=e.trackUris,n=(0,o.useState)(null),i=(0,te.Z)(n,2),s=i[0],l=i[1],c=(0,h.o)(),d=(0,o.useContext)(kt.H);(0,o.useEffect)((function(){var e=function(){var e=(0,r.Z)(a().mark((function e(){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.contains.apply(d,(0,yt.Z)(t));case 2:n=e.sent,l(n.every(Boolean));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[d,t]);var m=(0,o.useCallback)((0,r.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!s){e.next=5;break}return e.next=3,d.remove.apply(d,(0,yt.Z)(t));case 3:e.next=7;break;case 5:return e.next=7,d.add.apply(d,(0,yt.Z)(t));case 7:c({intent:s?"remove-from-library":"add-to-library",type:"click"});case 8:case"end":return e.stop()}}),e)}))),[s,d,c,t]);return null===s?null:o.createElement(u.s,{role:"menuitem",onClick:m},s?O.ag.get("remove_from_your_liked_songs"):O.ag.get("save_to_your_liked_songs"))},bt=o.memo((function(e){return o.createElement(d.ZP,{value:"save-multiple-track"},o.createElement(Et,e))})),_t=function(e){var t,n=e.uri,r=e.isPlayed,i=e.onChange,a=void 0===i?function(){}:i,s=e.divider,l=(0,o.useContext)(kt.H),c=(0,o.useCallback)((function(){r?l.markAsUnPlayed(n):l.markAsPlayed(n),a(!r)}),[l,a,r,n]);return null!==(t=l.getCapabilities())&&void 0!==t&&t.canMarkEpisodesAsDone?o.createElement(u.s,{role:"menuitem",divider:s,onClick:c},r?O.ag.get("contextmenu.mark-as-unplayed"):O.ag.get("contextmenu.mark-as-played")):null},St=o.memo((function(e){return o.createElement(d.ZP,{value:"mark-as-played"},o.createElement(_t,e))})),wt=n(87462),Nt=n(26482),Ot=n(21663),Ct=function(e){var t=e.uri,n=e.divider,r=e.addToLibrary,i=void 0===r||r,a=e.showUri,s=void 0===a?void 0:a,l=e.spec,c=(0,h.o)(),d=(0,g.$P)(),m=(0,ce.Z)(t),p=(0,te.Z)(m,2),f=p[0],v=p[1],y=(0,ce.Z)(s),k=(0,te.Z)(y,2),E=k[0],b=k[1],_=(0,Ot._)(t),S=_.capability,w=_.availability,N=_.addDownload,C=_.removeDownload,T=(0,o.useCallback)((function(){var e;S!==Nt.PQ.NO_PERMISSION&&(c({targetUri:t,intent:w!==Nt.Om.NO?"remove-from-download":"download",type:"click"}),w!==Nt.Om.NO?(C(),e=l.downloadButtonFactory().hitRemoveDownload({itemToRemoveFromDownloads:t})):(!f&&i?v(!0):!i&&s&&(E||b(!0)),N(),e=l.downloadButtonFactory().hitDownload({itemToDownload:t})),d.logInteraction(e))}),[S,w,N,C,f,d,c,v,l,t,i,s,E,b]);return S===Nt.PQ.NO_CAPABILITY?null:o.createElement(u.s,{divider:n,onClick:T,"aria-checked":w!==Nt.Om.NO,role:"menuitemcheckbox",disabled:S===Nt.PQ.NO_PERMISSION},O.ag.get("contextmenu.download"))},Tt=o.memo((function(e){return o.createElement(d.ZP,{value:"download-episode"},o.createElement(Ct,e))})),It=o.memo((function(e){return o.createElement(d.ZP,{value:"download-chapter"},o.createElement(Ct,(0,wt.Z)({},e,{addToLibrary:!1})))})),At=o.memo((function(e){return o.createElement(d.ZP,{value:"download-playlist"},o.createElement(Ct,e))})),Pt=n(58679),Dt=function(e){var t=e.uri,n=e.divider,r=e.isPrivate,i=e.spec,a=(0,h.o)(),s=(0,Te.Yv)(t).setPrivateState,l=(0,Te.lh)().setPublishedState,c=(0,g.$P)(),d=(0,o.useCallback)((function(){var e;(a({intent:"playlisting",type:"click"}),r||l(t,!1),s(!r),i)&&(e=r?i.togglePlaylistPermissionsButtonFactory().hitMakePlaylistPublic({playlistToBeMadePublic:t}):i.togglePlaylistPermissionsButtonFactory().hitMakePlaylistPrivate({playlistToBeMadePrivate:t}),c.logInteraction(e))}),[r,c,a,s,l,i,t]);return o.createElement(u.s,{role:"menuitem",divider:n,onClick:d},r?O.ag.get("contextmenu.make-playlist-public"):O.ag.get("contextmenu.make-playlist-private"))},Rt=o.memo((function(e){return o.createElement(Pt.F,{property:je.bM,renderNewExperience:function(){return o.createElement(d.ZP,{value:"toggle-private"},o.createElement(Dt,e))},renderOldExperience:function(){return null}})})),xt=function(e){var t=e.divider,n=e.removeRecommendation;return o.createElement(u.s,{role:"menuitem",divider:t,onClick:n},O.ag.get("contextmenu.remove-recommendation"))},Lt=function(e){var t=e.divider,n=e.addRecommendation;return o.createElement(u.s,{role:"menuitem",divider:t,onClick:n},O.ag.get("contextmenu.add-recommendation-to-this-playlist"))},Ft=n(25216);var Ut=function(e){var t=e.uri,n=e.divider,r=e.spec,i=function(e){var t=(0,Ft.s)(),n=(0,o.useCallback)((function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.add(e,r)}),[t,e]),r=(0,o.useCallback)((function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.remove(e,r)}),[t,e]),i=(0,o.useCallback)((function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.contains(e,r)}),[t,e]),a=(0,o.useCallback)((function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=(0,o.useState)([]),s=(0,te.Z)(a,2),l=s[0],c=s[1];return(0,o.useEffect)((function(){return c((function(e){return e.length?[]:e})),t.subscribeContains(e,r,c)}),r),l}),[t,e]);return{add:n,remove:r,contains:i,useContains:a}}("ignoreinrecs"),a=i.add,s=i.remove,l=(0,i.useContains)(t),c=(0,te.Z)(l,1)[0],d=(0,g.$P)(),m=(0,o.useCallback)((function(){var e;c?(s(t),e=r.excludeRecommendationsButtonFactory().hitIncludeInRecommendations({contextToBeIncluded:t})):(a(t),e=r.excludeRecommendationsButtonFactory().hitExcludeFromRecommendations({contextToBeExcluded:t})),d.logInteraction(e)}),[c,d,s,t,r,a]);return o.createElement(u.s,{role:"menuitem",divider:n,onClick:m},c?O.ag.get("contextmenu.include-in-recommendations"):O.ag.get("contextmenu.exclude-from-recommendations"))},Zt=o.memo((function(e){return(0,Be.W6)(je.e$)?o.createElement(d.ZP,{value:"toggle-ignore-in-recommendations"},o.createElement(Ut,e)):null}))},54136:(e,t,n)=>{"use strict";n.d(t,{p:()=>U});var r=n(67294),i=n(96206),a=n(42922),o=n(72138),s=(n(47042),n(91038),n(78783),n(74916),n(77601),n(82526),n(41817),n(32165),n(66992),n(33948),n(79753),n(21703),n(96647),n(47941),n(38880),n(89554),n(54747),n(49337),n(33321),n(69070),n(87462)),l=n(4942),c=n(93433),u=(n(57327),n(41539),n(21249),n(68309),n(2707),n(92222),n(69600),n(85827),n(86706)),d=n(68378),m=n(87577),p=n(98562),f=n(22423),v=n(3644),g=n(70750),h=n(47562),y=n(25059),k=n(9659),E=n(8247),b=n(67062),_=n(38260);const S="eelA_0lUVXP3DXSyqSl6",w="cpM10tYcyurMKBVg2bC5",N="TLUiGBUAhsYAobn8cfPw",O="UwcXxZQX8EUFi6kE4j7N";function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){(0,l.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function I(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return A(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return A(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var P=function(){return r.createElement(h._,{className:w},r.createElement(g.IZ,{role:"menuitem",as:"div"},r.createElement(p.K,{alwaysExpanded:!0,placeholder:i.ag.get("contextmenu.find-playlist")})))};function D(e){var t=e.item,n=e.filter,i=r.createElement(b.o,{searchWords:[n],textToHighlight:t.displayTitle});return r.createElement(_.ms,e,r.createElement("div",null,r.createElement("div",{dir:"auto",className:N},i),t.displaySubtitle?r.createElement("div",{dir:"auto",className:O},r.createElement(d.P,{iconSize:16}),r.createElement(b.o,{searchWords:[n],textToHighlight:t.displaySubtitle})):null))}var R=function e(t){var n=t.uris,a=t.id,o=t.items,s=t.displayText,l=t.depth,c=t.showFilterSearch,d=void 0!==c&&c,m=t.filter,p=(0,u.v9)((function(e){return e.ui.textDirection.isRTL}));return r.createElement(y.W,{displayText:s,depth:l,placement:p?"left-start":"right-start"},r.createElement("div",{className:d?S:void 0},d&&r.createElement(P,null),r.createElement(_.N0,{divider:"after",uris:n,folderId:a,displayText:i.ag.get("contextmenu.create-playlist")}),o.map((function(t){return(0,k.lU)(t)?r.createElement(e,{key:t.id,id:t.id,uris:n,items:t.items,displayText:t.name,depth:l+1,filter:m}):(0,k.no)(t)&&t.canAdd?function(e){return"displayTitle"in e}(t)?r.createElement(D,{uris:n,playlist:t,key:t.id,item:t,filter:null!=m?m:""}):r.createElement(_.ms,{uris:n,playlist:t,key:t.id}):null}))))},x=function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],s=I(n);try{for(s.s();!(r=s.n()).done;){var l=r.value;if((0,k.lU)(l)||(0,k.no)(l)){var u=(0,v.B)(t,l.name),d=null!==u?[].concat((0,c.Z)(a),[u]):a;(0,k.lU)(l)?e(t,l.items,i,d,[].concat((0,c.Z)(o),[l.name])):(0,k.no)(l)&&(null==d?void 0:d.length)>0&&i.push(T(T({},l),{},{displayTitle:l.name,displaySubtitle:o.length>0?o.join(" • "):null,matchScore:d.reduce((function(e,t){return e+t.reduce((function(e,t){return e+t.range.length}),0)}),0)}))}}}catch(e){s.e(e)}finally{s.f()}return i.sort((function(e,t){return t.matchScore-e.matchScore}))},L=function(e){var t=(0,r.useContext)(f.fo).filter,n=(0,r.useMemo)((function(){return 0===t.length?e.items:x(t,e.items)}),[t,e.items]);return r.createElement(R,(0,s.Z)({},e,{items:n,showFilterSearch:!0,filter:t}))},F=function(e){return(0,m.W6)(E.AK)?r.createElement(f.hz,{uri:"spotify:internal:foldersubmenu:".concat(e.id)},r.createElement(L,e)):r.createElement(R,e)},U=r.memo((function(e){var t=e.uris,n=e.isRecommendation?i.ag.get("contextmenu.add-to-another-playlist"):i.ag.get("contextmenu.add-to-playlist"),s=(0,o.Cu)();return r.createElement(a.ZP,{value:"add-to-playlist"},r.createElement(r.Suspense,{fallback:null},r.createElement(F,{uris:t,items:(null==s?void 0:s.items)||[],id:null==s?void 0:s.id,displayText:n,depth:1})))}))},4232:(e,t,n)=>{"use strict";n.d(t,{Y:()=>d});var r=n(67294),i=n(96206),a=n(30005),o=n(42922),s=n(60775),l=n(38260),c=n(54136),u=n(21366),d=Spicetify.ReactComponent.AlbumMenu=r.memo((function(e){var t=e.uri,n=e.sharingInfo,d=e.onRemoveCallback,m=(0,s.T)(t).spec;return r.createElement(o.ZP,{value:"album"},r.createElement(a.v,null,r.createElement(l.x9,{spec:m,uris:[t]}),r.createElement(l.Jh,{spec:m,divider:"after",uri:t,displayText:i.ag.get("contextmenu.go-to-artist-radio")}),r.createElement(l.lG,{uri:t,onRemoveCallback:d}),r.createElement(c.p,{uris:[t]}),r.createElement(u.q,{divider:"before"},r.createElement(l.Jx,{uri:t,spec:m,sharingInfo:n,displayText:i.ag.get("context-menu.copy-album-link")}),r.createElement(l.W2,{spec:m,uri:t})),r.createElement(l.h$,{spec:m,divider:"before",uri:t})))}))},80507:(e,t,n)=>{"use strict";n.d(t,{m:()=>u});var r=n(67294),i=n(96206),a=n(30005),o=n(42922),s=n(60775),l=n(38260),c=n(21366),u=Spicetify.ReactComponent.ArtistMenu=r.memo((function(e){var t=e.uri,n=e.sharingInfo,u=e.onRemoveCallback,d=(0,s.T)(t).spec;return r.createElement(o.ZP,{value:"artist"},r.createElement(a.v,null,r.createElement(l.x3,{uri:t,onRemoveCallback:u}),r.createElement(l.Jh,{uri:t,displayText:i.ag.get("contextmenu.go-to-artist-radio")}),r.createElement(l.tz,{spec:d,uri:t}),r.createElement(c.q,null,r.createElement(l.Jx,{spec:d,uri:t,sharingInfo:n,displayText:i.ag.get("contextmenu.share.copy-artist-link")}),r.createElement(l.W2,{spec:d,uri:t})),r.createElement(l.h$,{spec:d,divider:"before",uri:t})))}))},28137:(e,t,n)=>{"use strict";n.d(t,{X:()=>u});var r=n(67294),i=n(96206),a=n(30005),o=n(42922),s=n(60775),l=n(38260),c=n(21366),u=Spicetify.ReactComponent.PodcastShowMenu=r.memo((function(e){var t=e.uri,n=e.sharingInfo,u=(0,s.T)(t).spec;return r.createElement(o.ZP,{value:"show"},r.createElement(a.v,null,r.createElement(l.K,{uri:t}),r.createElement(c.q,null,r.createElement(l.Jx,{spec:u,uri:t,sharingInfo:n,displayText:i.ag.get("context-menu.copy-book-link")})),r.createElement(l.h$,{spec:u,divider:"before",uri:t})))}))},22345:(e,t,n)=>{"use strict";n.d(t,{r:()=>u});var r=n(67294),i=n(96206),a=n(30005),o=n(42922),s=n(60775),l=n(38260),c=n(21366),u=r.memo((function(e){var t=e.uri,n=e.isPlayed,u=void 0===n?null:n,d=e.contextUri,m=e.uid,p=e.onMarkAsPlayed,f=void 0===p?function(){}:p,v=e.showUri,g=e.isLocked,h=(0,s.T)(t).spec;return g&&t===d?null:r.createElement(o.ZP,{value:"chapter"},r.createElement(a.v,null,!g&&r.createElement(l.x9,{spec:h,uris:[t]}),m&&!g&&r.createElement(l.Qf,{spec:h,uids:[m],uris:[t],contextUri:d}),!g&&r.createElement(l.f0,{uri:t,showUri:v,spec:h}),r.createElement(l.wy,{uri:t,contextUri:d}),null!==u&&!g&&r.createElement(l.Fg,{uri:t,isPlayed:u,onChange:f}),r.createElement(c.q,null,r.createElement(l.Jx,{spec:h,uri:t,displayText:i.ag.get("context-menu.copy-chapter-link")}))))}))},25988:(e,t,n)=>{"use strict";n.d(t,{k:()=>h});var r=n(67294),i=n(87577),a=n(96206),o=n(49207),s=n(30005),l=n(42922),c=n(52404),u=n(86649),d=n(60775),m=n(38260),p=n(54136),f=n(22345),v=n(89744),g=n(21366),h=r.memo((function(e){var t=e.uri,n=e.isPlayed,h=void 0===n?null:n,y=e.contextUri,k=e.uid,E=e.sharingInfo,b=e.onMarkAsPlayed,_=void 0===b?function(){}:b,S=e.canBeRemovedFromPlaylist,w=(0,i.W6)(o.uB),N=(0,i.W6)(o.Nf),O=(0,c.I)(t,w),C=(0,d.T)(t).spec;return O&&(0,u.Ey)(O)?r.createElement(f.r,{uri:t,contextUri:y,uid:k,isPlayed:null!=h?h:void 0,onMarkAsPlayed:_}):O&&(0,u.Qj)(O)&&N?r.createElement(v.v,{uri:t,isPlayed:null!=h?h:void 0,contextUri:y,uid:k,sharingInfo:E,onMarkAsPlayed:_,canBeRemovedFromPlaylist:S,userCreated:O.userCreated}):O&&r.createElement(l.ZP,{value:"episode"},r.createElement(s.v,null,r.createElement(m.x9,{spec:C,uris:[t]}),k&&r.createElement(m.Qf,{spec:C,uids:[k],uris:[t],contextUri:y}),r.createElement(m.EC,{uri:t}),k&&r.createElement(m.Xu,{uris:[t],uids:[k],playlistUri:y||"",canBeRemoved:S}),r.createElement(m.pJ,{spec:C,uri:t}),r.createElement(m.IW,{uri:t,contextUri:y}),null!==h&&r.createElement(m.Fg,{uri:t,isPlayed:h,onChange:_}),r.createElement(p.p,{uris:[t]}),r.createElement(g.q,{divider:"before"},r.createElement(m.Jx,{spec:C,uri:t,sharingInfo:E,displayText:a.ag.get("context-menu.copy-episode-link")}),r.createElement(m.W2,{spec:C,uri:t})),r.createElement(m.h$,{divider:"before",uri:t,spec:C,context:y})))}))},26921:(e,t,n)=>{"use strict";n.d(t,{N:()=>c});var r=n(67294),i=n(30005),a=n(42922),o=n(60775),s=n(38260),l=n(54136),c=r.memo((function(e){var t=e.uri,n=e.uid,c=e.contextUri,u=e.canBeRemovedFromPlaylist,d=(0,o.T)(t).spec;return r.createElement(a.ZP,{value:"local-file"},r.createElement(i.v,null,r.createElement(s.x9,{spec:d,uris:[t]}),n&&r.createElement(s.Qf,{spec:d,uids:[n],uris:[t],contextUri:c}),n&&r.createElement(s.Xu,{uris:[t],uids:[n],playlistUri:c||"",canBeRemoved:u}),r.createElement(l.p,{uris:[t]})))}))},35410:(e,t,n)=>{"use strict";n.d(t,{X:()=>y});var r=n(29439),i=(n(68309),n(82526),n(41817),n(67294)),a=n(96206),o=n(49790),s=n(69846),l=n(92794),c=n(30005),u=n(42922),d=n(4383),m=n(72138),p=n(60775),f=n(38260),v=n(23915),g=n(79249),h=n(21366),y=Spicetify.ReactComponent.PlaylistMenu=i.memo((function(e){var t,n,y,k=e.uri,E=e.onRemoveCallback,b=e.isEnhanced,_=(0,l.tv)().getCapabilities().canGetStation,S=(0,m.ET)(k,{decorateFormatListData:!0}),w=(0,d.Z)(k),N=(0,r.Z)(w,1)[0],O=(0,p.T)(k).spec,C=!(null==S||null===(t=S.permissions)||void 0===t||!t.isPrivate),T=(0,s.U)(k).isEnhanced,I=null!=b?b:T;return null!=S&&S.permissions&&!S.permissions.canView&&N?S&&i.createElement(u.ZP,{value:"playlist"},i.createElement(c.v,null,i.createElement(f.Zb,{uri:k,onRemoveCallback:E}))):S&&i.createElement(u.ZP,{value:"playlist"},i.createElement(c.v,null,i.createElement(f.x9,{spec:O,uris:[k]}),_&&i.createElement(f.Jh,{spec:O,uri:k,displayText:a.ag.get("contextmenu.go-to-playlist-radio")}),S.isOwnedBySelf&&i.createElement(f.jj,{spec:O,divider:"before",uri:k,isCollaborative:S.isCollaborative}),N&&!C&&i.createElement(f.gh,{spec:O,divider:S.isOwnedBySelf?"after":"both",uri:k,isPublished:S.isPublished,isCollaborative:S.isCollaborative}),S.isOwnedBySelf&&i.createElement(f.fc,{spec:O,uri:k,name:S.name,description:S.description,image:S.images[0]}),!S.isOwnedBySelf&&i.createElement(i.Fragment,null,i.createElement(f.tz,{spec:O,uri:k}),i.createElement(f.Zb,{uri:k,onRemoveCallback:E})),S.isOwnedBySelf&&i.createElement(i.Fragment,null,i.createElement(f.AM,{uri:k,spec:O,isEmpty:0===S.totalLength,name:S.name,displayText:a.ag.get("contextmenu.create-similar-playlist")}),i.createElement(f.R2,{spec:O,uri:k})),!I&&i.createElement(f.bs,{spec:O,uri:k}),(null===(n=S.permissions)||void 0===n?void 0:n.canAdministratePermissions)&&i.createElement(i.Fragment,null,i.createElement(f.DY,{spec:O,divider:"before",uri:k,isPrivate:C}),!I&&i.createElement(v.z,{uri:k})),(null===(y=S.permissions)||void 0===y?void 0:y.canCancelMembership)&&i.createElement(g.H,{spec:O,divider:"before",uri:k}),(S.isOwnedBySelf&&S.hasSpotifyTracks||I)&&i.createElement(o.g,{spec:O,uri:k}),i.createElement(f.Iy,{spec:O,uri:k}),(S.isOwnedBySelf||!C)&&i.createElement(h.q,{divider:"before"},i.createElement(f.Jx,{spec:O,uri:k,displayText:a.ag.get("contextmenu.share.copy-playlist-link"),isPrivatePlaylist:C}),i.createElement(f.W2,{spec:O,uri:k})),!(null==S||!S.formatListData)&&i.createElement(f.aU,{divider:"before"}),i.createElement(f.h$,{spec:O,divider:"before",uri:k})))}))},89744:(e,t,n)=>{"use strict";n.d(t,{v:()=>g});var r=n(67294),i=n(87577),a=n(96206),o=n(49207),s=n(30005),l=n(42922),c=n(52404),u=n(86649),d=n(60775),m=n(38260),p=n(54136),f=n(22345),v=n(21366),g=r.memo((function(e){var t=e.uri,n=e.isPlayed,g=void 0===n?null:n,h=e.contextUri,y=e.uid,k=e.sharingInfo,E=e.onMarkAsPlayed,b=void 0===E?function(){}:E,_=e.canBeRemovedFromPlaylist,S=e.userCreated,w=(0,i.W6)(o.uB),N=(0,c.I)(t,w),O=(0,d.T)(t).spec;return N&&(0,u.Ey)(N)?r.createElement(f.r,{uri:t,contextUri:h,uid:y,isPlayed:null!=g?g:void 0,onMarkAsPlayed:b}):N&&r.createElement(l.ZP,{value:"episode"},r.createElement(s.v,null,r.createElement(m.pJ,{spec:O,uri:t}),null!==g&&r.createElement(m.Fg,{uri:t,isPlayed:g,onChange:b}),(null==S?void 0:S.userUri)&&r.createElement(m.Od,{uri:S.userUri}),r.createElement(p.p,{uris:[t]}),r.createElement(m.x9,{spec:O,uris:[t]}),y&&r.createElement(m.Qf,{spec:O,uids:[y],uris:[t],contextUri:h}),y&&r.createElement(m.Xu,{uris:[t],uids:[y],playlistUri:h||"",canBeRemoved:_}),r.createElement(m.IW,{uri:t,contextUri:h}),r.createElement(v.q,{divider:"before"},r.createElement(m.Jx,{spec:O,uri:t,sharingInfo:k,displayText:a.ag.get("context-menu.copy-episode-link")}),r.createElement(m.W2,{spec:O,uri:t})),r.createElement(m.h$,{divider:"before",uri:t,spec:O,context:h}),r.createElement(m.tz,{spec:O,uri:t})))}))},83853:(e,t,n)=>{"use strict";n.d(t,{i:()=>m});n(21249);var r=n(67294),i=n(69518),a=n.n(i),o=n(29066),s=n(30005),l=n(42922),c=n(60775),u=n(38260),d=n(54136),m=r.memo((function(e){var t=e.uri,n=e.tracks,i=(0,o.t)(t),m=(0,c.T)(t).spec,p=(0,r.useMemo)((function(){var e;return null!==(e=null==n?void 0:n.map((function(e){return e.uri})))&&void 0!==e?e:[]}),[n]),f=null;switch(null==i?void 0:i.type){case a().Type.ARTIST:f=r.createElement(u.m8,{uri:i.toURI()});break;case a().Type.ALBUM:f=r.createElement(u.ZI,{uri:i.toURI()});break;case a().Type.PLAYLIST:case a().Type.PLAYLIST_V2:f=r.createElement(u.SB,{uri:i.toURI()})}return r.createElement(l.ZP,{value:"radio"},r.createElement(s.v,null,f,r.createElement(d.p,{uris:p}),r.createElement(u.h$,{spec:m,divider:"before",uri:t})))}))},21366:(e,t,n)=>{"use strict";n.d(t,{q:()=>l});var r=n(67294),i=n(86706),a=n(96206),o=n(25059),s=n(42922),l=r.memo((function(e){var t=e.children,n=e.divider,l=(0,i.v9)((function(e){return e.ui.textDirection.isRTL}));return r.createElement(s.ZP,{value:"share"},r.createElement(o.W,{divider:n,displayText:a.ag.get("contextmenu.share"),placement:l?"left-start":"right-start"},t))}))},86514:(e,t,n)=>{"use strict";n.d(t,{M:()=>v});var r=n(67294),i=n(87577),a=n(96206),o=n(49207),s=n(30005),l=n(42922),c=n(49125),u=n(86649),d=n(60775),m=n(38260),p=n(28137),f=n(21366),v=r.memo((function(e){var t=e.uri,n=e.sharingInfo,v=e.onRemoveCallback,g=(0,i.W6)(o.uB),h=(0,d.T)(t).spec,y=(0,c.l)(t,g).data;return y&&(0,u.l6)(y)?r.createElement(p.X,{uri:t,sharingInfo:n}):y&&r.createElement(l.ZP,{value:"show"},r.createElement(s.v,null,r.createElement(m.xM,{uri:t,onRemoveCallback:v}),r.createElement(f.q,null,r.createElement(m.Jx,{spec:h,uri:t,sharingInfo:n,displayText:a.ag.get("context-menu.copy-show-link")}),r.createElement(m.W2,{spec:h,uri:t})),r.createElement(m.h$,{spec:h,divider:"before",uri:t})))}))},88214:(e,t,n)=>{"use strict";n.d(t,{$:()=>E});var r=n(67294),i=n(69518),a=n.n(i),o=n(39184),s=n(96206),l=n(30005),c=n(42922),u=n(15852),d=n(60775),m=n(38260),p=n(54136),f=(n(21249),n(68309),n(86706)),v=n(98984),g=Spicetify.GraphQL.Definitions["queryTrackArtists"]={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"queryTrackArtists"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uri"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"trackUnion"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uri"},value:{kind:"Variable",name:{kind:"Name",value:"uri"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Track"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"artists"},arguments:[{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"IntValue",value:"0"}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"IntValue",value:"50"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"profile"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]}}]}}]}}]}}]},h=n(25059),y=r.memo((function(e){var t,n,i,a=e.trackUri,o=e.contextUri,l=[],u=(n={uri:a},(0,v.a)(g,n,i));"Track"===(null===(t=u.data)||void 0===t?void 0:t.trackUnion.__typename)&&(l=u.data.trackUnion.artists.items.map((function(e){return{uri:e.uri,name:e.profile.name}})));var d=(0,f.v9)((function(e){return e.ui.textDirection.isRTL}));return r.createElement(h.W,{displayText:s.ag.get("contextmenu.go-to-artist"),depth:1,placement:d?"left-start":"right-start"},r.createElement(c.ZP,{value:"go-to-artist"},l.map((function(e){var t=e.uri,n=e.name;return r.createElement(m.m8,{displayText:n,uri:t,contextUri:o,key:t})}))))})),k=n(21366),E=r.memo((function(e){var t,n=e.uri,i=e.uid,f=e.artists,v=void 0===f?[]:f,g=e.albumUri,h=e.contextUri,E=e.sharingInfo,b=e.removePlaylistItems,_=e.isRecommendation,S=e.removeRecommendation,w=e.addRecommendation,N=e.canBeRemovedFromPlaylist,O=(0,u.fU)(o.createDesktopTrackContextMenuEventFactory,{data:{uri:n}}),C=O.spec,T=O.logger,I=O.UBIFragment,A=(0,d.T)(n).spec,P=(0,r.useCallback)((function(){var e;w&&(w(),a().isPlaylistV1OrV2(h)?e=C.addRecommendationFactory().hitAddToPlaylist({playlist:null!=h?h:"",itemToBeAdded:n}):a().isCollection(h)&&(e=C.addRecommendationFactory().hitLike({itemToBeLiked:n})),e&&T.logInteraction(e))}),[h,T,w,C,n]),D=(0,r.useCallback)((function(){S&&(S(),T.logInteraction(C.removeRecommendationFactory().hitRemoveRecommendation({contextUri:null!=h?h:"",recommendedItemUri:n})))}),[h,T,S,C,n]);return r.createElement(I,{spec:C},r.createElement(c.ZP,{value:"track","":"track-menu"},r.createElement(l.v,null,r.createElement(m.x9,{spec:A,uris:[n]}),i&&r.createElement(m.Qf,{spec:A,uids:[i],uris:[n],contextUri:h}),r.createElement(m.Jh,{spec:A,uri:n,displayText:s.ag.get("contextmenu.go-to-song-radio"),divider:"before"}),v.length>1?r.createElement(y,{trackUri:n,contextUri:h}):r.createElement(m.m8,{uri:null==v||null===(t=v[0])||void 0===t?void 0:t.uri,contextUri:h}),r.createElement(m.ZI,{uri:g,contextUri:h,highlightedUri:n}),r.createElement(m.AA,{uri:n,displayText:s.ag.get("contextmenu.show-credits"),divider:"after",ubiLogger:T,contextMenuSpec:C}),r.createElement(m.V8,{uri:n}),_&&S?r.createElement(m.ai,{removeRecommendation:D}):i&&r.createElement(m.Xu,{uris:[n],uids:[i],playlistUri:h||"",removePlaylistItems:b,canBeRemoved:N}),_&&w?r.createElement(m.CW,{addRecommendation:P}):null,r.createElement(p.p,{uris:[n],isRecommendation:_}),r.createElement(k.q,{divider:"before"},r.createElement(m.Jx,{spec:A,uri:n,sharingInfo:E,displayText:s.ag.get("context-menu.copy-track-link")}),r.createElement(m.W2,{spec:A,uri:n})),r.createElement(m.h$,{spec:A,divider:"before",uri:n,context:h}))))}))},43480:(e,t,n)=>{"use strict";n.d(t,{I:()=>x});n(68309);var r=n(67294),i=n(86706),a=n(96206),o=n(58679),s=n(87972),l=n(49207),c=n(29255),u=n(30005),d=n(42922),m=n(6024),p=n(60775),f=n(38260),v=n(15861),g=n(29439),h=n(87757),y=n.n(h),k=(n(21703),n(96647),n(67870)),E=n(75484),b=n(4236),_=n(21691),S=n(10912),w=n(87961),N=n(5322),O=n(56802);var C=function(e){var t=e.currentUserUri,n=e.uri,o=e.name,s=e.divider,l=(0,O.o)(),c=!(0,b.k)(),u=function(e,t,n){var a=(0,r.useState)(!1),o=(0,g.Z)(a,2),s=o[0],l=o[1],c=(0,i.I0)(),u=(0,S.t)();(0,r.useEffect)((function(){e&&(0,N.getIsBlocked)(w.b.getInstance(),{currentUserUri:e,uri:t}).then((function(e){if(u()){if(200!==e.status)throw new Error("Invalid response from socialgraph");var t,n;l((null===(t=e.body)||void 0===t||null===(n=t[0])||void 0===n?void 0:n.is_dismissed)||!1)}}))}),[e,t,u]);var d=function(){var n=(0,v.Z)(y().mark((function n(){return y().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e){n.next=2;break}return n.abrupt("return");case 2:return n.next=4,(0,N.unblockUser)(w.b.getInstance(),{currentUserUri:e,uri:t});case 4:c((0,k.MK)());case 5:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return{isBlocked:s,blockUser:function(){e&&c((0,E.Vr)(t,n))},unblockUser:d}}(t,n,o),d=u.isBlocked,m=u.blockUser,p=u.unblockUser,f=(0,r.useCallback)((0,v.Z)(y().mark((function e(){return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l({targetUri:n,intent:d?"unblock":"block",type:"click"}),!d){e.next=6;break}return e.next=4,p();case 4:e.next=8;break;case 6:return e.next=8,m();case 8:case"end":return e.stop()}}),e)}))),[l,n,m,p,d]);if(!t||t===n)return null;var h=d?a.ag.get("contextmenu.unblock"):a.ag.get("contextmenu.block");return r.createElement(_.s,{role:"menuitem",divider:s,disabled:c,onClick:f},h)},T=r.memo((function(e){return r.createElement(d.ZP,{value:"block-user"},r.createElement(C,e))})),I=r.memo((function(e){var t=e.onClick,n=e.currentUserUri,i=e.uri,o=e.divider;return t&&n===i?r.createElement(d.ZP,{value:"edit-profile"},r.createElement(_.s,{role:"menuitem",divider:o,onClick:t},a.ag.get("contextmenu.edit-profile"))):null})),A=n(6902),P=function(){},D=function(e){var t=e.uri,n=e.divider,o=e.onRemoveCallback,s=void 0===o?P:o,l=(0,O.o)(),u=!(0,b.k)(),d=(0,i.v9)(c.Gg).user,m=(0,A.H)(t),p=(0,g.Z)(m,2),f=p[0],v=p[1],h=(0,r.useCallback)((function(){l({targetUri:t,intent:f?"unfollow":"follow",type:"click"}),f?(v(!1),s(t)):v(!0)}),[f,l,s,v,t]);if(d&&d.uri===t)return null;var y=f?a.ag.get("contextmenu.unfollow"):a.ag.get("contextmenu.follow");return r.createElement(_.s,{role:"menuitem",testid:"follow-user-context-menu-item",divider:n,disabled:u,onClick:h},y)},R=r.memo((function(e){return r.createElement(d.ZP,{value:"follow-user"},r.createElement(D,e))})),x=r.memo((function(e){var t=e.uri,n=e.onEditProfileCallback,v=(0,i.v9)(c.Gg).user,g=(0,p.T)(t).spec,h=(0,s.J)(m.n5.getProfile,[{uri:t}]),y=h.data;return h.loading?null:y?r.createElement(d.ZP,{value:"user"},r.createElement(u.v,null,r.createElement(R,{uri:t}),r.createElement(o.F,{property:l.Zj,renderNewExperience:function(){return r.createElement(T,{uri:y.uri,name:y.name,currentUserUri:null==v?void 0:v.uri})}}),r.createElement(I,{onClick:n,uri:t,currentUserUri:null==v?void 0:v.uri}),r.createElement(f.tz,{spec:g,uri:t,canReportUser:!y.report_abuse_disabled,currentUserUri:null==v?void 0:v.uri}),r.createElement(f.Jx,{spec:g,uri:t,displayText:a.ag.get("contextmenu.share.copy-profile-link")}))):null}))},20534:(e,t,n)=>{"use strict";n.d(t,{Z:()=>k});n(81299),n(12419);var r=n(15671),i=n(43144),a=n(97326),o=n(60136),s=n(82963),l=n(61120),c=n(4942),u=(n(92222),n(5212),n(41539),n(57327),n(91038),n(78783),n(26699),n(32023),n(89554),n(54747),n(82772),n(74916),n(23123),n(21249),n(15306),n(67294)),d=n(94184),m=n.n(d),p=n(69518),f=n.n(p),v=n(51206),g=n.n(v),h=function(){return!1!==g().getParser(window.navigator.userAgent).satisfies({"Microsoft Edge":">=17"})};function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,l.Z)(e);if(t){var i=(0,l.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,s.Z)(this,n)}}var k=function(e){(0,o.Z)(n,e);var t=y(n);function n(){var e;(0,r.Z)(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return e=t.call.apply(t,[this].concat(o)),(0,c.Z)((0,a.Z)(e),"handleDragOver",(function(t){e.getMatchingMimeTypes(t).length>0&&(t.preventDefault(),t.dataTransfer.dropEffect="copy")})),(0,c.Z)((0,a.Z)(e),"handleDragEnter",(function(t){e.enterEventCount&&!t.relatedTarget||(e.enterEventCount++,1===e.enterEventCount&&e.getMatchingMimeTypes(t).length>0&&(e.props.onDragEnter(t),e.setState({isDropTargetActive:!0})))})),(0,c.Z)((0,a.Z)(e),"handleDragLeave",(function(t){e.leaveEventCount++,e.leaveEventCount===e.enterEventCount&&e.getMatchingMimeTypes(t).length>0&&(e.enterEventCount=0,e.leaveEventCount=0,e.props.onDragLeave(t),e.setState({isDropTargetActive:!1}))})),(0,c.Z)((0,a.Z)(e),"handleDragEnd",(function(){e.enterEventCount=0,e.leaveEventCount=0})),(0,c.Z)((0,a.Z)(e),"handleDrop",(function(t){if(0!==e.getMatchingMimeTypes(t).length){var n=e.props,r=n.onDragLeave,i=n.onDrop,a=e.getMatchingDropData(t);e.enterEventCount=0,e.leaveEventCount=0;var o=t.defaultPrevented;t.preventDefault(),r(t),o||i(t,a),e.setState({isDropTargetActive:!1})}})),e.state={isDropTargetActive:!1},e.enterEventCount=0,e.leaveEventCount=0,e}return(0,i.Z)(n,[{key:"componentDidMount",value:function(){document.body.addEventListener("dragend",this.handleDragEnd)}},{key:"shouldComponentUpdate",value:function(e,t){var n=this;return t.isDropTargetActive!==this.state.isDropTargetActive||e.children!==this.props.children||e.onDragEnter!==this.props.onDragEnter||e.onDragLeave!==this.props.onDragLeave||e.onDrop!==this.props.onDrop||e.types.length!==this.props.types.length||e.types.some((function(e,t){return e!==n.props.types[t]}))}},{key:"componentWillUnmount",value:function(){document.body.removeEventListener("dragend",this.handleDragEnd)}},{key:"getMatchingMimeTypes",value:function(e){var t=this.props.types;return Array.from(e.dataTransfer.types).filter((function(e){return t.includes(e)}))}},{key:"getMatchingDropData",value:function(e){var t=this.getMatchingMimeTypes(e),n={};t.forEach((function(t){var r=e.dataTransfer.getData(t),i=0===t.indexOf("text/x-spotify"),a=i?r.split("\n"):[r];n[t]=a.map((function(e){if(i){var t=f().from(e);if(t)return t.toURI()}return e})).filter((function(e){return!!e}))}));var r=e.dataTransfer.getData("text/plain");return n.all=r?r.split("\n").map((function(e){var t=f().from(e);return t?t.toURI():e})):[],n}},{key:"render",value:function(){var e=this.props,t=e.types,n=e.as,r=e.testId,i=n,a=t.filter(Boolean).map((function(e){return"GlueDropTarget--".concat(e.replace("text/x-spotify-",""))}));return u.createElement(i,{className:m()("GlueDropTarget",a,{"GlueDropTarget--active":this.state.isDropTargetActive}),onDragOver:h()?this.handleDragOver:void 0,onDragEnter:h()?this.handleDragEnter:void 0,onDragLeave:h()?this.handleDragLeave:void 0,onDrop:h()?this.handleDrop:void 0,onContextMenu:this.props.onContextMenu,"":r},this.props.children)}}]),n}(u.Component);k.defaultProps={as:"div",children:null,onDragEnter:function(){},onDragLeave:function(){},onDrop:function(){},onContextMenu:function(){},types:[]}},20963:(e,t,n)=>{"use strict";n.d(t,{$:()=>p});var r=n(67294),i=n(94184),a=n.n(i),o=n(97081),s=n(26482),l=n(21663),c=n(88387),u=n(75012),d=(n(3843),n(83710),n(92222),r.memo((function(e){var t=e.size,n=2e3,i=20*Math.PI,a=i-.8*i,o=Math.floor(Date.now()%n*360/n);return r.createElement("svg",{height:t,role:"img",width:t,viewBox:"0 0 24 24"},r.createElement("circle",{strokeDasharray:"".concat(i," ").concat(i),strokeDashoffset:a,stroke:"currentColor",strokeWidth:"2",fill:"transparent",r:10,cx:"12",cy:"12"},r.createElement("animateTransform",{attributeName:"transform",attributeType:"XML",type:"rotate",from:"".concat(o," 12 12"),to:"".concat(360+o," 12 12"),dur:"".concat(n,"ms"),repeatCount:"indefinite"})))})));const m="hcxPtZcvjM07S6ydT685";var p=r.memo((function(e){var t=e.uri,n=e.className,i=e.size,p=void 0===i?16:i,f=(0,l._)(t).availability,v=(0,c.A)(t);return f===s.Om.NO?null:r.createElement("div",{className:a()(m,n)},f===s.Om.DOWNLOADING?r.createElement(u.e,{percentage:v.percentage,size:p}):f===s.Om.WAITING?r.createElement(d,{size:p}):f===s.Om.YES?r.createElement(o.E,{iconSize:p}):null)}))},40669:(e,t,n)=>{"use strict";n.d(t,{v:()=>u});var r=n(4942),i=(n(96647),n(83710),n(41539),n(39714),n(67294)),a=n(94184),o=n.n(a),s=n(56383);const l="main-dropDown-dropDown",c="main-dropDown-isSafari";var u=function(e){var t=e.value,n=e.id,a=e.children,u=e.disabled,d=e.onSelect,m=e.className,p=e.dir;return i.createElement("span",{className:m},i.createElement("select",{className:o()(l,(0,r.Z)({},c,(0,s.G)())),value:null==t?void 0:t.toString(),id:n,disabled:u,onBlur:function(){},onChange:function(e){d(e.target.value)},dir:p},a))}},23401:(e,t,n)=>{"use strict";n.d(t,{F:()=>g});var r=n(4942),i=n(67294),a=n(94184),o=n.n(a),s=n(18525),l=n(32667),c=n(96206);const u="main-editImage-buttonContainer",d="main-editImageButton-image",m="main-editImageButton-overlay",p="main-editImageButton-rounded",f="main-editImageButton-icon",v="main-editImageButton-copy";var g=function(e){var t,n=e.overlay,a=void 0!==n&&n,g=e.rounded,h=void 0!==g&&g,y=e.onClick;return i.createElement("div",{className:u},i.createElement("button",{"":"edit-image-button",className:o()(d,(t={},(0,r.Z)(t,m,a),(0,r.Z)(t,p,h),t)),"aria-haspopup":"true",onClick:y,type:"button"},i.createElement("div",{className:o()(f,"icon")},i.createElement(s.y,{iconSize:48,"aria-hidden":!0}),i.createElement(l.D,{variant:"ballad",className:v},c.ag.get("choose_photo")))))}},26176:(e,t,n)=>{"use strict";n.d(t,{zs:()=>pe,YQ:()=>de});var r=n(4942),i=n(87462),a=n(29439),o=n(93433),s=(n(91058),n(74916),n(15306),n(35192),n(9653),n(82772),n(96647),n(83710),n(41539),n(39714),n(21249),n(32564),n(67294)),l=n(94184),c=n.n(l),u=n(97762),d=n(69518),m=n.n(d),p=n(32667),f=n(74410),v=n(86025),g=n(81513),h=n(39148),y=n(6060),k=n(5960),E=n(34011),b=n(96206),_=(n(69600),{frameBorder:0,allowFullScreen:!0,allow:["autoplay","clipboard-write","encrypted-media","fullscreen","picture-in-picture"].join("; "),loading:"lazy"}),S=(n(85827),n(83112),n(23123),n(65069),[1,60,3600]),w=[3600,60,1],N={seconds:NaN,humanString:"-:--"};function O(e){if(!isFinite(e))return N.humanString;var t=Math.round(e);return w.reduce((function(e,n,r){var i=0===e.length?1:2;if(t>=n||e.length>0||r===S.length-2){var a=Math.floor(t/n);t-=a*n,e.push(a.toString().padStart(i,"0"))}return e}),[]).join(":")}function C(e){var t=NaN;if("number"==typeof e)t=Math.round(e);else if("string"==typeof e){var n=e.split(":");n.length<=S.length&&(t=n.reverse().reduce((function(e,t,n){var r;return e+=((r=parseInt(t,10))>=0?r:NaN)*S[n]}),0))}return isNaN(t)?N:{seconds:t,humanString:O(t)}}var T=n(42922),I=n(35758),A=n(25853);n(66992),n(78783),n(33948),n(60285),n(41637);var P=n(56802),D=n(40669),R=n(84465),x=n(57128);const L="main-embedWidgetGenerator-container",F="main-embedWidgetGenerator-contentCode",U="main-embedWidgetGenerator-visible",Z="main-embedWidgetGenerator-code",M="main-embedWidgetGenerator-timestampInput",B="main-embedWidgetGenerator-content",j="main-embedWidgetGenerator-contentHeader",V="main-embedWidgetGenerator-contentFooter",H="main-embedWidgetGenerator-contentIframe",G="main-embedWidgetGenerator-copyWrapper",W="main-embedWidgetGenerator-copyBtn",z="main-embedWidgetGenerator-darkControl",K="main-embedWidgetGenerator-widthField",Y="main-embedWidgetGenerator-tooltipInitiator",q="main-embedWidgetGenerator-tooltip",Q="main-embedWidgetGenerator-transControl",J="main-embedWidgetGenerator-header",X="main-embedWidgetGenerator-closeBtn",$="main-embedWidgetGenerator-theme",ee="main-embedWidgetGenerator-themeDescription",te="main-embedWidgetGenerator-themeRadio",ne="main-embedWidgetGenerator-active",re="main-embedWidgetGenerator-terms",ie="main-embedWidgetGenerator-dimensionsContainer",ae="main-embedWidgetGenerator-dimensionLabel",oe="main-embedWidgetGenerator-dimensionField",se="main-embedWidgetGenerator-crossSep",le="main-embedWidgetGenerator-startAt",ce="main-embedWidgetGenerator-loadingIndicator";var ue={podcast:{disallow:{timestamp:!1,theme:!1},defaults:{theme:"1",height:352,width:"100%"},theme:[["1",null],["0","#282828"]],height:[[352,"normal"],[152,"compact"]],constraints:{width:{min:250,max:600,minPercentage:40,maxPercentage:100}}},music:{disallow:{timestamp:!0,theme:!1},defaults:{theme:"1",height:380,width:"100%"},theme:[["1",null],["0","#282828"]],height:[[380,"normal"],[80,"compact"]],constraints:{width:{min:250,max:600,minPercentage:40,maxPercentage:100}}}};var de=function(e){var t=m().from(e);switch(null==t?void 0:t.type){case"show":return b.ag.get("ewg.title.show");case"episode":return b.ag.get("ewg.title.episode");case"track":return b.ag.get("ewg.title.track");case"album":return b.ag.get("ewg.title.album");case"artist":return b.ag.get("ewg.title.artist");case"playlist":case"playlist-v2":return b.ag.get("ewg.title.playlist");default:return b.ag.get("ewg.title")}},me=function(e){var t=e.uri,n=e.currentTrackUri,l=e.currentPosition,d=e.isOpen,S=(0,s.useMemo)((function(){return m().from(t)}),[t]),w="episode"===(null==S?void 0:S.type)||"show"===(null==S?void 0:S.type)?"podcast":"music",N=ue[w],O=n===t,T=de(t),me=Math.max.apply(Math,(0,o.Z)(N.height.map((function(e){return e[0]})))),pe=(0,s.useState)(N.defaults.theme),fe=(0,a.Z)(pe,2),ve=fe[0],ge=fe[1],he=(0,s.useState)(N.defaults.height.toString()),ye=(0,a.Z)(he,2),ke=ye[0],Ee=ye[1],be=(0,s.useState)(N.defaults.width.toString()),_e=(0,a.Z)(be,2),Se=_e[0],we=_e[1],Ne=(0,s.useState)(!1),Oe=(0,a.Z)(Ne,2),Ce=Oe[0],Te=Oe[1],Ie=(0,s.useState)(!1),Ae=(0,a.Z)(Ie,2),Pe=Ae[0],De=Ae[1],Re=(0,s.useState)(O&&null!=l?l:0),xe=(0,a.Z)(Re,2),Le=xe[0],Fe=xe[1],Ue=(0,s.useState)(!0),Ze=(0,a.Z)(Ue,2),Me=Ze[0],Be=Ze[1],je=(0,s.useState)(!1),Ve=(0,a.Z)(je,2),He=Ve[0],Ge=Ve[1],We=(0,s.useState)(b.ag.get("ewg.copy")),ze=(0,a.Z)(We,2),Ke=ze[0],Ye=ze[1],qe=(0,I.J)(S,"#FFF"),Qe=(0,P.o)(),Je=(0,s.useRef)(null),Xe=(0,s.useRef)(null),$e=(0,s.useContext)(x.qi),et=(0,s.useCallback)((function(){$e({type:"close"})}),[$e]),tt=function(){if(null!=Xe&&Xe.current){var e=Xe.current.value,t=function(e,t){var n=ue[e].constraints.width,r=parseInt(t.replace(/px|%$/,""),10);if(Number.isFinite(r)){if(-1!==t.indexOf("%")){var i=Math.max(n.minPercentage,Math.min(n.maxPercentage,Math.round(r)));return["".concat(i,"%"),"".concat(i,"%")]}var a=Math.max(n.min,Math.min(n.max,Math.round(r)));return["".concat(a,"px"),a.toString()]}return["100%","100%"]}(w,e),n=(0,a.Z)(t,2),r=n[0],i=n[1];Xe.current.value=r,we(i)}},nt=function(){if(null!=Je&&Je.current){var e=C(Je.current.value);Je.current.value=e.humanString,e.seconds!==Le&&(Be(!0),Fe(e.seconds))}},rt=function(e,t,n,r){var i=m().from(e);if(!i)return null;var a=i.toURLPath(),o=new URL("https://open.spotify.com/embed/".concat(a));return o.searchParams.set("utm_source","generator"),t&&"1"!==t&&o.searchParams.set("theme",t),n&&void 0!==r&&o.searchParams.set("t",r.toString()),o}(t,ve,Pe,Le),it=rt?s.createElement("iframe",(0,i.Z)({onLoad:function(){Be(!1)},style:{borderRadius:"".concat(12,"px")},src:null==rt?void 0:rt.toString(),width:Se,height:ke},_)):null,at=it?(u.renderToStaticMarkup(it)||"").replace(/src=".*?"/,'src="'.concat(null==rt?void 0:rt.toString(),'"')):"";return s.createElement(R.Z,{isOpen:d,contentLabel:T},s.createElement("div",{className:c()(L)},s.createElement("div",{className:J},s.createElement(p.D,{as:"h1",variant:"canon"},T),s.createElement("button",{className:X,onClick:function(){et(),Qe({type:"click",intent:"close"})}},s.createElement(f.k,{iconSize:16,"aria-label":b.ag.get("close")}))),s.createElement("div",{className:B},s.createElement("div",{className:j},s.createElement("div",{className:$,style:{visibility:N.disallow.theme?"hidden":"visible"}},s.createElement("p",{className:ee},b.ag.get("ewg.color"),":"),N.theme.map((function(e){var t,n=(0,a.Z)(e,2),i=n[0],o=n[1];return s.createElement("button",{key:i,style:{backgroundColor:null===o?qe:o},className:c()(te,(0,r.Z)({},ne,ve===i)),onClick:(t=i,function(){ve!==t&&(Be(!0),ge(t))})})}))),s.createElement("div",{className:ie},s.createElement("div",{className:ae},b.ag.get("ewg.size"),":"),s.createElement("div",{className:oe},s.createElement(D.v,{id:"ewg-height",value:ke,onSelect:Ee},N.height.map((function(e){var t=(0,a.Z)(e,2),n=t[0],r=t[1];return s.createElement("option",{key:n,value:n},"normal"===r?b.ag.get("ewg.size.normal"):b.ag.get("ewg.size.compact")," ","(",n,"px)")}))),s.createElement("span",{className:se},"×"),s.createElement("div",{className:K},s.createElement("input",{className:z,type:"text",ref:Xe,defaultValue:N.defaults.width,onKeyUp:function(e){"Enter"===e.key&&tt()},onBlur:tt}),s.createElement(v.oM,{"aria-label":b.ag.get("ewg.help"),"aria-describedby":"ewg-help-text",buttonSize:"sm",iconOnly:g.S,className:Y,onMouseOver:function(){return Te(!0)},onMouseLeave:function(){return Te(!1)}}),s.createElement("div",{onFocus:function(){return Te(!0)},onMouseOver:function(){return Te(!0)},onMouseLeave:function(){return Te(!1)},className:c()(q,(0,r.Z)({},U,Ce))},s.createElement(h.u,{id:"ewg-help-text"},b.ag.get("ewg.help-text"))))))),s.createElement("div",{className:H,style:{height:me,maxHeight:"calc(100vh - ".concat(me+50,"px)")}},Me&&s.createElement("div",{className:ce},s.createElement(y.T,null)),it),s.createElement("small",{className:re,dangerouslySetInnerHTML:{__html:b.ag.get("ewg.terms").replace("%s","https://developer.spotify.com/documentation/widgets/terms/")}}),s.createElement("div",{className:V},s.createElement("div",{className:le,style:{visibility:N.disallow.timestamp?"hidden":"visible"}},s.createElement(k.z,{className:z,checked:Pe,type:"checkbox",id:"ewg-timestamp",onChange:function(e){var t=e.currentTarget.checked;Pe!==t&&(Be(!0),De(t),Qe({type:"click",intent:"toggle",itemIdSuffix:"timestamp/".concat(t)}))},"":"timestamp-checkbox"}),s.createElement("label",{htmlFor:"ewg-timestamp"},b.ag.get("ewg.start-at")),s.createElement("input",{className:c()(Q,M),disabled:!Pe,type:"text",defaultValue:C(Math.floor(Le/1e3).toString()).humanString,ref:Je,onBlur:nt,onKeyUp:function(e){"Enter"===e.key&&nt()}})),s.createElement("div",{className:G},s.createElement(k.z,{className:z,checked:He,type:"checkbox",id:"ewg-showcode",onChange:function(e){var t=e.currentTarget.checked;Ge(t),Qe({type:"click",intent:"show-more",itemIdSuffix:"showcode/".concat(t)})}}),s.createElement("label",{htmlFor:"ewg-showcode"},b.ag.get("ewg.showcode")),s.createElement(E.D,{className:W,buttonSize:"sm",onClick:function(){(0,A.v)(at),Qe({type:"click",intent:"copy"}),Ye(b.ag.get("ewg.copied")),setTimeout((function(){return Ye(b.ag.get("ewg.copy"))}),5e3)}},Ke))))),s.createElement("section",{className:c()(F,(0,r.Z)({},U,He))},s.createElement("pre",{className:Z,"":"iframe-code"},at)))},pe=function(){var e=(0,s.useContext)(x.nz);return e.uri?s.createElement(T.ZP,{value:"embed-widget-generator"},s.createElement(me,e)):null}},57128:(e,t,n)=>{"use strict";n.d(t,{nz:()=>u,qi:()=>c,ye:()=>m});var r=n(29439),i=n(4942),a=(n(21703),n(96647),n(47941),n(82526),n(57327),n(41539),n(38880),n(89554),n(54747),n(49337),n(33321),n(69070),n(67294));function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var l={isOpen:!1,uri:""},c=(0,a.createContext)(void 0),u=(0,a.createContext)(l);function d(e,t){switch(t.type){case"open":return s(s({},e),{},{uri:t.uri,currentTrackUri:t.currentTrackUri,currentPosition:t.currentPosition,isOpen:!0});case"close":return s(s({},l),{},{isOpen:!1});default:throw new Error("Unknown action received!")}}var m=function(e){var t=e.children,n=(0,a.useReducer)(d,l),i=(0,r.Z)(n,2),o=i[0],s=i[1];return a.createElement(c.Provider,{value:s},a.createElement(u.Provider,{value:o},t))}},98778:(e,t,n)=>{"use strict";n.d(t,{J:()=>o,r:()=>l});var r=n(67294),i=n(96206),a=n(41200),o="entityHeaderAdd",s={placement:a.n.bottomLeft,zIndex:1,getTitle:function(e){return(e.triggerAction||{}).type,i.ag.get("action-trigger.save-library")},getDescription:function(e){return(e.triggerAction||{}).type,i.ag.get("action-trigger.logged-out-continue")}},l=function(e){var t=e.children;return r.createElement(a.P,{id:o,options:s,"":"login-trigger"},t)}},59482:(e,t,n)=>{"use strict";n.d(t,{W:()=>d});var r=n(4942),i=n(67294),a=n(94184),o=n.n(a),s=n(97650),l=n(32648),c=n(28638),u=n(53383),d=i.forwardRef((function(e,t){var n=e.children,a=(0,i.useContext)(l.VX).scrollNodeRef,d=(0,s.YD)({initialInView:!0,rootMargin:"0px 100%",root:a.current}),m=d.ref,p=d.inView,f=o()(u.Z.topbarContent,(0,r.Z)({},u.Z.topbarContentFadeIn,!p)),v=(0,i.useCallback)((function(e){m(e),t&&("function"==typeof t?t(e):t.current=e)}),[m,t]);return i.createElement(i.Fragment,null,i.createElement("div",{ref:v}),i.createElement(c.w,{className:f},n))}))},72907:(e,t,n)=>{"use strict";n.d(t,{i:()=>s});var r=n(67294),i=n(32667),a=n(57784),o=n(53383),s=function(e){var t=e.text,n=e.dragUri,s=e.dragLabel,l=(0,a.O1)(n?[n]:[],s);return r.createElement(i.D,{as:"span",variant:"canon",className:o.Z.topbarTitle,draggable:!(!n||!s),onDragStart:l},t)}},60289:(e,t,n)=>{"use strict";n.d(t,{T0:()=>oe,gF:()=>h,Oz:()=>P,rn:()=>he.r,fR:()=>p,sP:()=>y,YD:()=>tt,Oe:()=>I,QS:()=>ae,dy:()=>ye,xd:()=>ge,eM:()=>b.eM,Kc:()=>g,ms:()=>Q,oX:()=>qe});var r=n(4942),i=(n(91058),n(96647),n(83710),n(41539),n(39714),n(67294)),a=n(94184),o=n.n(a),s=n(73935),l=n(29439),c=(n(69826),n(47941),n(69559)),u=n(49104),d={small:"(max-width: 1023px)",medium:"(max-width: 1279px)",large:"(max-width: 1599px)",xlarge:"(min-width: 1600px)"},m=function(){return Object.keys(d).find((function(e){return window.matchMedia(d[e]).matches}))};var p,f=n(80642),v=n(53383);!function(e){e[e.DEFAULT=0]="DEFAULT",e[e.SMALL=1]="SMALL"}(p||(p={}));var g,h=function(e){var t,n=e.children,a=e.backgroundColor,d=e.backgroundImages,g=e.size,h=void 0===g?p.DEFAULT:g,y=(0,i.useRef)(null),k=(0,i.useRef)(null),E=function(e,t){var n=(0,i.useState)({imageUrl:""}),r=(0,l.Z)(n,2),a=r[0],o=r[1],s=(0,i.useState)(m()),d=(0,l.Z)(s,2),p=d[0],f=d[1];return(0,c.a)((function(){f(m())})),(0,i.useEffect)((function(){var n=null!=t&&t.current?t.current.clientWidth:null;if(e&&e.length){var r=(0,u.o)(e,{desiredSize:null!=n?n:void 0});o({imageUrl:null!=r?r:""})}else o({imageUrl:""})}),[t,e,p]),a}(d,y),b=E.imageUrl,_=(0,i.useCallback)((function(e){var t=e.target,n=t.scrollTop/t.offsetHeight;n>parseInt(v.Z.BACKGROUND_HEIGHT_PERCENTAGE,10)/100||requestAnimationFrame((function(){var e;null===(e=k.current)||void 0===e||e.style.setProperty("--scroll",n.toString())}))}),[]);return(0,f.c)(_,{disabled:!b||navigator.hardwareConcurrency<=4}),i.createElement("div",{ref:y,className:o()("contentSpacing",v.Z.container,v.Z.nonWrapped,(t={},(0,r.Z)(t,v.Z.withBackgroundImage,b),(0,r.Z)(t,v.Z.smallHeader,h===p.SMALL),t))},!b&&i.createElement("div",{className:v.Z.backgroundColor,style:{backgroundColor:a}}),!b&&i.createElement("div",{className:o()(v.Z.backgroundColor,v.Z.overlay)}),b&&s.createPortal(i.createElement("div",{ref:k},i.createElement("div",{"":"background-image",className:o()(v.Z.background,v.Z.gradient),style:{backgroundImage:"url(".concat(b,")")}}),i.createElement("div",{className:o()(v.Z.background,v.Z.overlay),style:(0,r.Z)({},"--bgColor",a)})),document.querySelector(".under-main-view")),n)},y=i.memo((function(e){return i.createElement("div",{className:v.Z.headerText},e.children)})),k=n(45987),E=(n(68309),n(57784)),b=n(37925),_=n(89104),S=n(95475),w=n(84200),N=n(549),O=n(55508),C=n(48064),T=function(e){var t=e.type,n=e.className,r=function(e){switch(e){case"album":return i.createElement(w.Z,null);case"artist":return i.createElement(N.Z,null);case"show":case"episode":return i.createElement(C.Z,null);case"user":return i.createElement(S.i,null);default:return i.createElement(O.Z,null)}}(t);return i.createElement("div",{className:o()(v.Z.image,v.Z.imagePlaceholder,n)},r)};!function(e){e[e.ROUNDED_CORNERS=0]="ROUNDED_CORNERS",e[e.CIRCLE=1]="CIRCLE",e[e.SQUARE=2]="SQUARE",e[e.WITH_WAVES=3]="WITH_WAVES"}(g||(g={}));var I=i.memo(i.forwardRef((function(e,t){var n,a,s,c=e.name,u=e.images,d=e.placeholderType,m=e.renderImage,p=e.className,f=e.shape,h=void 0===f?g.SQUARE:f,y=e.loading,k=void 0===y?"lazy":y,S=e.dragUri,w=e.onContextMenu,N=(0,b.RH)(u),O=(0,l.Z)(N,3),C=O[0],I=O[1],A=O[2],P=(0,E.O1)(S?[S]:[],c);return i.createElement("div",{ref:t,onContextMenu:w,className:o()(v.Z.image,p,(0,r.Z)({},v.Z.wavesBackground,h===g.WITH_WAVES)),draggable:!(!S||!c),onDragStart:P},m?i.createElement("div",{className:o()(v.Z.image,v.Z.shadow,(n={},(0,r.Z)(n,v.Z.roundedCorners,h===g.ROUNDED_CORNERS),(0,r.Z)(n,v.Z.circle,h===g.CIRCLE),n))},m()):i.createElement(_.E,{loading:k,src:C,alt:c,className:o()(v.Z.image,v.Z.shadow,(a={},(0,r.Z)(a,v.Z.roundedCorners,h===g.ROUNDED_CORNERS),(0,r.Z)(a,v.Z.circle,h===g.CIRCLE),a)),srcSet:I||void 0,sizes:A},i.createElement(T,{type:d,className:o()(v.Z.image,v.Z.shadow,(s={},(0,r.Z)(s,v.Z.roundedCorners,h===g.ROUNDED_CORNERS),(0,r.Z)(s,v.Z.circle,h===g.CIRCLE),s))})))}))),A=["dragUri","onContextMenu","onTouchStart","onTouchEnd"],P=i.memo((function(e){var t=e.dragUri,n=e.onContextMenu,r=e.onTouchStart,a=e.onTouchEnd,o=(0,k.Z)(e,A),s=(0,E.O1)([t||""],o.name);return i.createElement("div",{className:v.Z.imageContainer,draggable:!!t,onDragStart:s,onContextMenu:n,onTouchStart:r,onTouchEnd:a},i.createElement(I,o))})),D=n(86706),R=n(69518),x=n.n(R),L=n(32667),F=n(96206),U=n(83692),Z=n(33953),M=n(15429),B=n(43315),j=n(29255),V=n(67892),H=(n(74916),n(23123),n(21249),n(47042),n(26541),n(87577)),G=n(20367),W=n(97481),z=n(49207),K=n(18261),Y=n(80507),q=n(43480),Q=3;function J(e){return e.displayName||e.name||""}var X=function(e){var t,n,r=e.creator,a=e.onClick,o=e.position,s=void 0===o?0:o,l=(0,i.useCallback)((function(e){null==a||a(e,{position:s,creator:r})}),[r,a,s]);return(0,W.i)(r)?i.createElement(K._,{menu:(t=r.uri,n=null,x().isArtist(t)&&(n=i.createElement(Y.m,{uri:t})),x().isProfile(t)&&(n=i.createElement(q.I,{uri:t})),n)},i.createElement(L.D,{variant:"mestoBold"},i.createElement(V.r,{"":"creator-link",to:r.uri,onClick:l},J(r)))):i.createElement(L.D,{variant:"mesto"},J(r))},$=function(e){var t=e.creator,n=e.onClick,r=F.ag.get("playlist.header.made-for","USER").split("USER"),a=(0,l.Z)(r,2),s=a[0],c=a[1];return i.createElement("div",{className:o()(v.Z.metaDataText,v.Z.creatorWrapper)},i.createElement(L.D,{variant:"mesto"},s),i.createElement(X,{creator:t,onClick:n}),i.createElement(L.D,{variant:"mesto"},c))},ee=function(e){var t=e.creator,n=e.onClick;return i.createElement("div",{className:o()(v.Z.metaDataText,v.Z.creatorWrapper)},t.images.length>0&&i.createElement(G.q,{label:J(t),images:t.images.map((function(e){return{url:e.url,width:e.width||null,height:e.height||null}})),width:24,userIconSize:16}),i.createElement(X,{creator:t,onClick:n}))},te=function(e){var t=e.creators,n=e.onPiledCreatorsClick,r=t.slice(0,Q).map((function(e,t){return i.createElement(G.q,{key:e.uri,label:J(e),images:e.images.map((function(e){return{url:e.url,width:e.width||null,height:e.height||null}})),width:24,userIconSize:16,piled:t>0})})),a=F.ag.get("playlist.header.creator-and-others",J(t[0]),t.length-1);return 2===t.length&&(a=F.ag.get("playlist.header.creator-and-co-creator",J(t[0]),J(t[1]))),n?i.createElement("button",{className:o()(v.Z.metaDataText,v.Z.creatorWrapper,v.Z.creatorButton),onClick:n},r,a):i.createElement("div",{className:o()(v.Z.metaDataText,v.Z.creatorWrapper)},r,a)},ne=function(e){var t=e.creators,n=e.onCreatorClick;return i.createElement(i.Fragment,null,t.map((function(e,t){return i.createElement(i.Fragment,{key:e.id},0!==t&&i.createElement("span",{className:v.Z.divider}),i.createElement(X,{creator:e,onClick:n,position:t}))})))},re=function(e){var t=e.creators,n=e.onPiledCreatorsClick,r=e.onCreatorClick,a=(0,H.W6)(z.bM);if(1===t.length){var o=(0,l.Z)(t,1)[0];return o.isMadeFor?i.createElement($,{creator:o,onClick:r}):i.createElement(ee,{creator:o,onClick:r})}return t.every((function(e){return x().isProfile(e.uri)}))&&a?i.createElement(te,{creators:t,onPiledCreatorsClick:n}):i.createElement(ne,{creators:t,onCreatorClick:r})};var ie=function(e){var t=e.to,n=e.children,r=e.onClick,a=void 0===r?function(){}:r,o=(0,i.useCallback)((function(e){a(e,t)}),[a,t]);return i.createElement(L.D,{variant:"mesto",className:v.Z.metaDataText},t?i.createElement(V.r,{to:t,onClick:o},n):n)},ae=function(e){var t,n=e.author,r=e.creators,a=e.onPiledCreatorsClick,s=e.onCreatorClick,l=e.releaseDate,c=e.totalTracks,d=void 0===c?0:c,m=e.totalEpisodes,p=void 0===m?0:m,f=e.totalFollowers,g=void 0===f?0:f,h=e.onTotalFollowersClick,y=e.totalFollowing,k=void 0===y?0:y,E=e.onTotalFollowingClick,b=e.totalLikes,_=void 0===b?0:b,S=e.publicPlaylists,w=void 0===S?0:S,N=e.privatePlaylists,O=void 0===N?0:N,C=e.newEntries,T=void 0===C?0:C,I=e.durationMilliseconds,A=void 0===I?0:I,P=e.isEstimatedDuration,R=void 0!==P&&P,V=e.userUri,H=e.albumType,G=e.isTrack,W=(0,D.v9)(j.Gg),z=(null===(t=W.overrides)||void 0===t?void 0:t.locale)||W.locale;return i.createElement("div",{className:v.Z.metaData},n&&i.createElement(L.D,{className:v.Z.metaDataAuthor,variant:"canon"},n),r&&i.createElement(i.Suspense,{fallback:null},i.createElement(re,{creators:r,onPiledCreatorsClick:a,onCreatorClick:s})),H&&i.createElement(L.D,{variant:"mesto",className:v.Z.metaDataText},H),w>0&&i.createElement(L.D,{variant:"mesto",className:v.Z.metaDataText},F.ag.get("user.public-playlists",w)),O>0&&i.createElement(L.D,{variant:"mesto",className:v.Z.metaDataText},F.ag.get("user.private-playlists",O)),l&&i.createElement(U.w,{label:(0,B.BI)((0,B.RX)(l),z)},i.createElement(L.D,{variant:"mesto",className:v.Z.metaDataText},(0,B.RX)(l).getUTCFullYear())),_>0&&i.createElement(L.D,{variant:"mesto",className:v.Z.metaDataText},F.ag.get("likes",_)),g>0&&i.createElement(ie,{to:V?x().profileURI((0,M.C)(V),["followers"]).toURI():null,onClick:h},F.ag.get("user.followers",g)),k>0&&i.createElement(ie,{to:V?x().profileURI((0,M.C)(V),["following"]).toURI():null,onClick:E},F.ag.get("user.following",k)),p>0&&i.createElement(L.D,{variant:"mesto",className:v.Z.metaDataText},F.ag.get("tracklist-header.episodes-counter",p)),function(e,t,n){return 0===e?null:i.createElement(L.D,{variant:"mesto",className:v.Z.metaDataText},F.ag.get("tracklist-header.songs-counter",e),t>0?F.ag.getSeparator():null,n?i.createElement(Z.jC,{durationMs:t}):i.createElement(Z.nL,{durationMs:t}))}(d,A,R),G&&i.createElement(L.D,{variant:"mesto",className:v.Z.metaDataText},(0,u.m)(A)),T>0&&i.createElement(L.D,{variant:"mesto",className:o()(v.Z.metaDataText,v.Z.newEntriesIndicator)},F.ag.get("chart.new-entries",T)))},oe=i.memo((function(e){return i.createElement("span",{className:v.Z.detailsText},e.children)})),se=n(72406),le=n(87462),ce=(n(54678),n(15306),n(24697)),ue=n(85951),de=n(5500),me=["children","scale","variant"],pe=function(e){var t=16*parseFloat(e.replace("rem",""));return t+.08*t+.12*t},fe=function(e){var t=e.children,n=e.scale,r=e.variant,a=void 0===r?"bass":r,o=(0,k.Z)(e,me),s=(0,i.useRef)(null),c=(0,i.useState)((0,de.O)()),u=(0,l.Z)(c,2),d=u[0],m=u[1],p=(0,ce.y1)((function(){s.current&&function(){if(s.current){m(!1);for(var e=0;e<n.fontSizes.length;e++){var t=n.fontSizes[e],r=1.5*pe(t);if(s.current.style.fontSize=n.fontSizes[e],s.current.getBoundingClientRect().height<=r)break}m(!0)}}()}),200,{leading:!0,maxWait:200});return(0,ue.y)({refOrElement:s,onResize:p}),(0,i.useEffect)(p,[p]),i.createElement(L.D,(0,le.Z)({as:"h1",ref:s,style:{margin:"".concat(.08,"em 0 ").concat(.12,"em"),visibility:d?"visible":"hidden",width:"100%"},variant:a,semanticColor:"textBase",dir:"auto"},o),t)},ve={fontSizes:[se.Otb,se.QJq,se.xXe,se.$z5]},ge=i.memo((function(e){var t=e.ariaLabel,n=e.children,r=e.className,a=e.canEdit,s=e.onClick,l=e.editTitle,c=e.onContextMenu,u=e.onTouchStart,d=e.onTouchEnd,m=e.dragUri,p=void 0===m?"":m,f=e.dragLabel,g=(0,E.O1)([p],f);return i.createElement("span",{dir:"auto",className:o()(r,v.Z.title),onContextMenu:c,onTouchStart:u,onTouchEnd:d,draggable:!(!p||!f),onDragStart:g},a?i.createElement("button",{"aria-label":t,className:o()(v.Z.titleButton),onClick:s,title:l},i.createElement("span",{className:v.Z.titleInner},i.createElement(fe,{scale:ve},n))):i.createElement(fe,{scale:ve},n))})),he=n(98778),ye=(n(37268),n(50915),i.memo((function(e){var t,n=e.small,a=e.medium,s=e.large,l=e.uppercase,c=e.bold,u=void 0===c||c,d=e.gray,m=e.children,p=e.className,f=e.canEdit,g=e.opacity,h=e.onClick,y=e.testId;return i.createElement("h2",{style:{opacity:g},className:o()(v.Z.subtitle,p,(t={},(0,r.Z)(t,v.Z.small,n),(0,r.Z)(t,v.Z.medium,a),(0,r.Z)(t,v.Z.large,s),(0,r.Z)(t,v.Z.uppercase,l),(0,r.Z)(t,v.Z.bold,u),(0,r.Z)(t,v.Z.gray,d),t)),"":y},f?i.createElement("button",{className:o()(v.Z.subtitleButton),onClick:h},m):m)}))),ke=(n(26699),n(32023),n(11886)),Ee=n(12870),be=n(28230),_e=n(57481),Se=n(87961),we=n(6024),Ne=n(8247),Oe=n(8271),Ce=["ar","az","bg","cs_CZ","da","de","ee","el","en","es","es_mx","fi","fp","fr","fr_ca","he","hu","id","it","ja","ko","lt","lv","ms","mt","nb","nl","pl","pt","pt_br","ro","ru","sk","sl","sv","th_TH","tr","vi_VN","zh_HANS","zh_HANT"],Te=["af","ar","am","az","be","bg","bn","bs","ca","cr","cs_CZ","da","de","el","en","es","es_419","et","eu","fa","fi","fp","fr","fr_ca","gl","gu","he","hi","hr","hu","hy","id","is","it","ja","ka","kk","km","kn","ko","ky","lo","lt","lv","mk","ml","mn","mr","ms","my","nb","ne","nl","pa","pl","pt","pt_br","ro","ru","si","sk","sl","sq","sr","sv","sw","ta","te","th_TH","tr","ua","ur","uz","vi_VN","zh_HANS","zh_HANT","zh_hk","zu"],Ie=function(e){var t=Te.includes(e)?e:"int";return"images/download-badges/google/".concat(t,".svg")},Ae=n(59482),Pe=n(72907);const De="VeW1uY4VBMOicrBiaZg0",Re="FLvpVHIucXU99OcAt5KC",xe="EIeLyF5kZi61KstXcsiW",Le="jwA8Axf63p61s9L8ouKX",Fe="I7Ifs1u3PsGytdeBiOxi",Ue="mVFDylXXKBNT37Hk0xYR",Ze="oiyid4TYocqLVKmmrI0N",Me="wnhesYOVI4RWB6O80E0j",Be="aY6s4SDWP4akNMkrr5gN",je="pShBHEJpyqHapxGoa1dO",Ve="X448TFrTgJhLvjGJL8xZ",He="oE6z561GCOowoF4xd9YK",Ge="OAupwE_S9CKJQqHZlykD",We="ppy0oeDpOgQ0VLPmesPi",ze="qOq3C2XGuRp_5iY9qN2_";var Ke,Ye,qe=function(e){return(0,H.W6)(Ne.iU)&&"2021-page"===e};!function(e){e[e.DEFAULT=0]="DEFAULT",e[e.SMALL=1]="SMALL"}(Ke||(Ke={})),function(e){e.ANDROID="https://play.google.com/store/apps/details?id=com.spotify.music",e.IOS="https://apps.apple.com/app/spotify-music/id324684580"}(Ye||(Ye={}));var Qe=[F.go.de,F.go.fi,F.go.frCA,F.go.hu,F.go.it,F.go.ms,F.go.pl],Je=i.memo((function(e){return i.createElement("span",null,i.createElement("h3",{className:He},e.children))})),Xe=function(e){return e.split("<br />").map((function(e,t){return i.createElement(i.Fragment,{key:t},e," ",i.createElement("br",null))}))},$e=function(e){var t,n=e.locale,r=e.isAnonymous,a=e.isEligible;r||a?t=Xe(F.ag.get("wrapped.logged_out_or_eligible.description.2021")):r||a||(t=Xe(F.ag.get("wrapped.ineligible.description.2021")));var s,l,c=(0,Oe.s4)();function u(e,t){var n={category:"wrapped_hub_2021",action:"click",label:"app_store_".concat(t),destination_url:e,os:(0,_e.y)()},i=r?(0,Ee.w)(n):(0,ke.t)(n);c.send(i)}return i.createElement(i.Fragment,null,i.createElement(Je,null,t),i.createElement("div",{className:o()(ze),"":"app-store-icons"},i.createElement(V.Z,{to:Ye.IOS,target:"_blank",onClick:function(){return u(Ye.IOS,"apple")}},i.createElement("img",{src:(0,be.g)((s=n,l=Ce.includes(s)?s:"int","images/download-badges/apple/".concat(l,".svg"))),alt:"Apple app store icon",className:je})),i.createElement(V.Z,{to:Ye.ANDROID,target:"_blank",onClick:function(){return u(Ye.ANDROID,"android")}},i.createElement("img",{src:(0,be.g)(Ie(n)),alt:"Google play store icon",className:o()(je,Ve)}))))},et=function(e){var t=e.isAnonymous,n=e.locale,r=(0,i.useState)(),a=(0,l.Z)(r,2),o=a[0],s=a[1];return(0,i.useEffect)((function(){t?s(!1):we.uC.getEligibility(Se.b.getInstance()).then((function(e){s(e.body.isEligible)})).catch((function(){return s(!1)}))}),[t,s]),void 0===o?null:i.createElement($e,{isEligible:o,isAnonymous:t,locale:n})},tt=function(e){var t=e.title,n=void 0===t?F.ag.get("wrapped.title"):t,a=e.size,s=void 0===a?Ke.DEFAULT:a,l=e.isAnonymous,c=void 0===l||l,u=(0,i.useRef)(null),d=F.ag.getLocale(),m=Qe.includes(d)?We:"";return i.createElement("div",{ref:u,className:o()(v.Z.container,(0,r.Z)({},v.Z.smallHeader,s===Ke.SMALL),De)},i.createElement("div",{"":"background-color",className:o()(v.Z.background,v.Z.gradient)}),i.createElement("div",{className:o()(v.Z.background,Re)}),i.createElement("div",{className:v.Z.background}),i.createElement(Ae.W,null,i.createElement(Pe.i,{text:n})),i.createElement("div",{className:o()(xe)},i.createElement("div",{className:o()(v.Z.headerText,Le)},i.createElement("h1",{className:o()(Ge,m)},Xe(n)),i.createElement(et,{locale:d,isAnonymous:c})),i.createElement("div",{className:o()(Fe)},i.createElement("img",{src:(0,be.g)("images/ribbon-graphic.svg"),alt:"2021",className:o()(Be)})),i.createElement("div",{className:o()(Ue)},i.createElement("img",{src:(0,be.g)("images/ribbon-graphic-small-top.svg"),alt:"2021",className:o()(Ze)}),i.createElement("img",{src:(0,be.g)("images/ribbon-graphic-small-side.svg"),alt:"2021",className:o()(Me)}))))}},98562:(e,t,n)=>{"use strict";n.d(t,{K:()=>_});var r=n(4942),i=n(29439),a=(n(57327),n(41539),n(67294)),o=n(94184),s=n.n(o),l=n(24697),c=n(44295),u=n(74410),d=n(96206),m=n(70043),p=n(22423);const f="x-filterBox-filterInputContainer",v="x-filterBox-expandedOrHasFilter",g="x-filterBox-expandButton",h="x-filterBox-filterInput",y="x-filterBox-overlay",k="x-filterBox-searchIconContainer",E="x-filterBox-searchIcon",b="x-filterBox-clearButton";var _=a.memo((function(e){var t=e.alwaysExpanded,n=void 0!==t&&t,o=e.placeholder,_=e.filterBoxApiRef,S=e.outerRef,w=e.onFilter,N=e.onClear,O=e.onActivate,C=e.clearOnEscapeInElementRef,T=(0,a.useContext)(p.fo),I=T.filter,A=T.setFilter,P=(0,a.useState)(n||!!I),D=(0,i.Z)(P,2),R=D[0],x=D[1],L=(0,a.useState)(I),F=(0,i.Z)(L,2),U=F[0],Z=F[1],M=(0,a.useRef)(null),B=null!=S?S:M;(0,m.J4)(m.sN.FILTER);var j=(0,l.y1)((function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];w&&!t&&w(e),A(e)}),200),V=(0,a.useCallback)((function(){null==N||N(),Z(""),j("",!0)}),[N,j]);(0,a.useImperativeHandle)(_,(function(){return{clearFilter:V}}));var H=(0,a.useCallback)((function(){var e;!1!==(null==O?void 0:O())&&(x(!0),null===(e=B.current)||void 0===e||e.focus())}),[x,B,O]);(0,m.eY)(m.O4.FILTER,H);var G=(0,a.useCallback)((function(e){var t=e.currentTarget.value;Z(t),j(t)}),[j,Z]),W=(0,a.useCallback)((function(){U||n||x(!1)}),[U,n,x]),z=(0,a.useCallback)((function(e){"Escape"===e.key&&U&&(e.stopPropagation(),V())}),[U,V]);return(0,a.useEffect)((function(){var e=function(e){var t;"Escape"===e.key&&null!=C&&null!==(t=C.current)&&void 0!==t&&t.contains(e.target)&&V()};return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)}}),[V,C]),a.createElement("div",{className:s()(f,(0,r.Z)({},v,R)),role:"search"},a.createElement("input",{ref:B,className:s()(h),role:"searchbox",maxLength:80,autoCorrect:"off",autoCapitalize:"off",spellCheck:!1,placeholder:o,onChange:G,onKeyDown:z,onBlur:W,value:U,"aria-hidden":!R,tabIndex:R?void 0:-1}),a.createElement("div",{className:y},a.createElement("span",{className:k},a.createElement(c.j,{iconSize:16,className:E,"aria-hidden":!0})),U&&a.createElement("button",{className:b,onClick:function(e){var t;e.stopPropagation(),V(),null===(t=B.current)||void 0===t||t.focus()},"aria-label":d.ag.get("search.a11y.clear-input")},a.createElement(u.k,{iconSize:16}))),a.createElement("button",{className:g,onClick:H,"":"expand-button","aria-hidden":R,tabIndex:R?-1:void 0},a.createElement(c.j,{iconSize:16,className:E})))}))},63567:(e,t,n)=>{"use strict";n.d(t,{P:()=>f,y:()=>p});var r=n(4942),i=n(29439),a=(n(96647),n(83710),n(41539),n(39714),n(92222),n(47941),n(82526),n(57327),n(38880),n(89554),n(54747),n(49337),n(33321),n(69070),n(67294)),o=n(80642),s=n(88503),l=n(60403);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d,m,p=(d={triggerId:null,triggerAction:null},m=[],{addListener:function(e){m.push(e)},removeListener:function(e){m=m.filter((function(t){return t!==e}))},get:function(){return d},set:function(e){d=e(d),m.forEach((function(e){e(d)}))}}),f=function(e){var t=e.id,n=e.children,r=e.childRef,c=e.options,d=c.placement,m=c.isCTA,f=c.intentPrimaryButton,v=void 0===f?"login":f,g=c.getDescription,h=c.getTitle,y=c.hideArrow,k=c.shouldHideOnOutsideClick,E=void 0===k?function(){return!0}:k,b=c.shouldHideOnScroll,_=void 0!==b&&b,S=c.fadeOut,w=void 0!==S&&S,N=c.popperOptions,O=c.zIndex,C=c.maxWidth,T=c.tippyClassName,I=c.primaryButtonText,A=c.secondaryButtonText,P=c.useSecondaryStyling,D=c.onLogInteraction,R=e.onPrimaryButtonClick,x=void 0===R?function(){}:R,L=e.className,F=e.onHide,U=e.onShow,Z=m?"tooltip-with-cta":"tooltip-without-cta",M=function(e){var t=(0,a.useState)()[1];return(0,a.useEffect)((function(){return e.addListener(t),function(){e.removeListener(t)}}),[e,t]),[e.get(),e.set]}(p),B=(0,i.Z)(M,2),j=B[0],V=j.triggerId,H=j.triggerAction,G=B[1],W=Boolean(V&&V===t),z=(0,a.useCallback)((function(e){e.stopPropagation();var t=(0,s.TB)((0,s.iZ)(void 0,!0),"spotify_web_player").toString();D({itemIdSuffix:Z,intent:v,type:"click",targetUri:t}),G((function(e){return u(u({},e),{},{triggerAction:null,triggerId:null})})),x()}),[x,D,G,Z,v]),K=(0,a.useCallback)((function(e){return function(t){t.stopPropagation&&t.stopPropagation(),D({intent:"close-upsell",type:"click",itemIdSuffix:"".concat(Z,"/").concat(e)}),G((function(e){return u(u({},e),{},{triggerAction:null,triggerId:null})}))}}),[D,G,Z]);(0,a.useEffect)((function(){F&&U&&(W?U():F())}),[F,U,W]);var Y=(0,a.useRef)(!1);(0,a.useEffect)((function(){!Y.current&&W&&(D({intent:"open-upsell",type:"view",itemIdSuffix:Z}),Y.current=!0),Y.current&&!W&&(Y.current=!1)}),[D,Z,W]);var q=(0,a.useCallback)((function(){_&&W&&G((function(e){return u(u({},e),{},{triggerAction:null,triggerId:null})}))}),[G,_,W]);(0,o.c)(q);var Q=h({triggerAction:H}),J=g({triggerAction:H}),X=E({triggerAction:H});return a.createElement(l.G,{placement:d,className:L,tippyClassName:T,popperOptions:N,zIndex:O,maxWidth:C,title:Q,description:J,hideArrow:y,id:t,visible:W,showButtons:m,hideOnClickOutside:X,onHide:K("backdrop"),onSecondaryButtonClick:K("close-button"),onPrimaryButtonClick:z,primaryButtonText:I,secondaryButtonText:A,useSecondaryStyling:P,childRef:r,fadeOut:w},n)}},65830:(e,t,n)=>{"use strict";n.d(t,{P:()=>r.P});var r=n(63567)},84465:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var r=n(87462),i=n(4942),a=n(45987),o=n(67294),s=n(94184),l=n.n(s),c=n(83253),u=n.n(c),d=["isOpen","contentLabel","children","className","overlayClassName","animated","animation"],m=function(e){var t,n,s,c,m,p,f,v=e.isOpen,g=e.contentLabel,h=e.children,y=e.className,k=e.overlayClassName,E=e.animated,b=e.animation,_=(0,a.Z)(e,d);return E?f=300:b.closeTimeoutMs&&(f=b.closeTimeoutMs),o.createElement(u(),(0,r.Z)({className:{base:l()("GenericModal","encore-dark-theme",(t={},(0,i.Z)(t,"GenericModal--animated",E),(0,i.Z)(t,b.modal.base,b.modal.base),(0,i.Z)(t,y,y),t)),afterOpen:l()("",(n={},(0,i.Z)(n,"GenericModal--afterOpen",E),(0,i.Z)(n,b.modal.afterOpen,b.modal.afterOpen),n)),beforeClose:l()("",(s={},(0,i.Z)(s,"GenericModal--beforeClose",E),(0,i.Z)(s,b.modal.beforeClose,b.modal.beforeClose),s))},overlayClassName:{base:l()("GenericModal__overlay",(c={},(0,i.Z)(c,"GenericModal__overlay--animated",E),(0,i.Z)(c,b.overlay.base,b.overlay.base),(0,i.Z)(c,k,k),c)),afterOpen:l()("",(m={},(0,i.Z)(m,"GenericModal__overlay--afterOpen",E),(0,i.Z)(m,b.overlay.afterOpen,b.overlay.afterOpen),m)),beforeClose:l()("",(p={},(0,i.Z)(p,"GenericModal__overlay--beforeClose",E),(0,i.Z)(p,b.overlay.beforeClose,b.overlay.beforeClose),p))},bodyOpenClassName:"GenericModal__Body--open",isOpen:v},f?{closeTimeoutMS:f}:{},{shouldFocusAfterRender:!0,ariaHideApp:!1,contentLabel:g},_),h)};m.defaultProps={animation:{modal:{base:void 0,afterOpen:void 0,beforeClose:void 0},overlay:{base:void 0,afterOpen:void 0,beforeClose:void 0},closeTimeoutMs:0}};const p=m},17252:(e,t,n)=>{"use strict";n.d(t,{e:()=>c});var r=n(67294),i=n(81513),a=n(83692);const o="x-settings-tooltip",s="x-settings-tooltipIconWrapper",l="x-settings-tooltipIcon";var c=function(e){var t=e.message,n=e.placement,c=void 0===n?"top":n,u=e.messageClassName;return r.createElement("div",{className:o},r.createElement(a.w,{showDelay:0,label:t,placement:c,labelClassName:u},r.createElement("div",{className:s},r.createElement(i.S,{iconSize:16,tabIndex:0,"aria-describedby":a.P,className:l}))))}},67062:(e,t,n)=>{"use strict";n.d(t,{o:()=>u});var r=n(87462),i=n(45987),a=(n(26541),n(41539),n(67294)),o=n(42054),s=n.n(o);const l="main-contextMenu-highlightedText";var c=["searchWords","textToHighlight"];function u(e){var t=e.searchWords,n=e.textToHighlight,o=(0,i.Z)(e,c);return 0===t.length||t.every((function(e){return!e}))?a.createElement(a.Fragment,null,n):a.createElement(s(),(0,r.Z)({highlightClassName:l,searchWords:t,textToHighlight:n},o))}},70296:(e,t,n)=>{"use strict";n.d(t,{IW:()=>h,WQ:()=>y,lh:()=>v});var r=n(15861),i=n(29439),a=n(87757),o=n.n(a),s=(n(21249),n(89554),n(41539),n(54747),n(21703),n(96647),n(67294)),l=n(73012),c=n(61901),u=n(91447),d=n(83631),m=n(3453),p=n(29380),f=n(49961),v=function(e){var t=(0,f.X)(e.images);return{uri:e.uri,imageUrl:null==t?void 0:t.url}},g=(0,s.createContext)({fetchMultipleColors:function(){},resetColor:function(){},setColorFromUri:function(){},clearColor:function(){}}),h=function(e){var t=e.children,n=(0,c.cl)(),a=(0,i.Z)(n,2)[1],f=(0,s.useContext)(p.A).request,v=(0,s.useState)({}),h=(0,i.Z)(v,2),y=h[0],k=h[1],E=(0,s.useState)(l.Sns),b=(0,i.Z)(E,2),_=b[0],S=b[1],w=(0,s.useCallback)((function(){a((0,u.S2)(_))}),[_,a]),N=(0,s.useCallback)((function(){a((0,u.A5)())}),[a]),O=(0,s.useCallback)((function(e){var t=y[e];a((0,u.S2)(t||l.Sns))}),[a,y]),C=(0,s.useCallback)(function(){var e=(0,r.Z)(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={},e.next=3,(0,d.EC)(f,t.map((function(e){return e.imageUrl||""})));case 3:e.sent.forEach((function(e,r){var i=e.colorRaw.toCSS(m.j.HEX);n[t[r].uri]=i,0===r&&S(i)})),k(n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[f]);return s.createElement(g.Provider,{value:{setColorFromUri:O,resetColor:w,fetchMultipleColors:C,clearColor:N}},t)};function y(){var e=(0,s.useContext)(g);if(null===e)throw new Error("Trying to use 'ShortcutsColorContext' without 'ShortcutsColorProvider'!");return e}},84200:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});n(41539),n(81299),n(12419);var r=n(15671),i=n(43144),a=n(60136),o=n(82963),s=n(61120),l=n(67294);function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,s.Z)(e);if(t){var i=(0,s.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,o.Z)(this,n)}}const u=function(e){(0,a.Z)(n,e);var t=c(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,i.Z)(n,[{key:"shouldComponentUpdate",value:function(){return!1}},{key:"render",value:function(){return l.createElement("div",{className:"icon"},l.createElement("svg",{width:"52",height:"52",viewBox:"0 0 52 52",xmlns:"http://www.w3.org/2000/svg"},l.createElement("title",null,"Album"),l.createElement("path",{d:"M26 0.00100708C11.641 0.00100708 0 11.642 0 26.001C0 40.36 11.641 52.001 26 52.001C40.36 52 52 40.36 52 26C52 11.64 40.36 0.00100708 26 0.00100708ZM26 50C12.767 50 2 39.234 2 26C2 12.766 12.767 2.00001 26 2.00001C39.234 2.00001 50 12.766 50 26C50 39.234 39.234 50 26 50ZM26 18C21.582 18 18 21.582 18 26C18 30.418 21.582 34 26 34C30.418 34 34 30.418 34 26C34 21.582 30.419 18 26 18ZM26 32C22.692 32 20 29.309 20 26C20 22.691 22.692 20 26 20C29.308 20 32 22.691 32 26C32 29.309 29.309 32 26 32Z",fill:"currentColor",fillRule:"evenodd"})))}}]),n}(l.Component)},549:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});n(41539),n(81299),n(12419);var r=n(15671),i=n(43144),a=n(60136),o=n(82963),s=n(61120),l=n(67294);function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,s.Z)(e);if(t){var i=(0,s.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,o.Z)(this,n)}}const u=function(e){(0,a.Z)(n,e);var t=c(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,i.Z)(n,[{key:"shouldComponentUpdate",value:function(){return!1}},{key:"render",value:function(){return l.createElement("div",{className:"icon"},l.createElement("svg",{width:"80",height:"79",viewBox:"0 0 80 79",xmlns:"http://www.w3.org/2000/svg"},l.createElement("title",null,"Artist Icon"),l.createElement("path",{d:"M53.043 50.486L46.68 46.83c-.636-.366-1.074-.99-1.2-1.716-.125-.725.077-1.462.555-2.02l5.178-6.072c3.287-3.84 5.097-8.743 5.097-13.803V21.24c0-5.85-2.447-11.497-6.716-15.5C45.266 1.686 39.596-.343 33.66.048c-11.12.718-19.83 10.326-19.83 21.87v1.3c0 5.063 1.81 9.964 5.096 13.802l5.18 6.074c.476.558.678 1.295.553 2.02-.127.723-.563 1.35-1.202 1.717l-12.697 7.3C4.124 57.9 0 64.982 0 72.61v5.92h2.97v-5.92c0-6.562 3.548-12.653 9.265-15.902l12.702-7.3c1.407-.81 2.372-2.19 2.65-3.788.276-1.598-.17-3.22-1.222-4.454l-5.18-6.077C18.356 31.787 16.8 27.57 16.8 23.216v-1.3c0-9.982 7.49-18.287 17.05-18.906 5.124-.326 9.99 1.41 13.712 4.9 3.727 3.493 5.778 8.227 5.778 13.332v1.977c0 4.352-1.557 8.57-4.385 11.872l-5.18 6.074c-1.05 1.234-1.496 2.858-1.22 4.456.278 1.597 1.242 2.977 2.647 3.785l4.51 2.59c1.048-.61 2.16-1.12 3.33-1.51zM66.84 37.133v22.71c-2.038-2.203-4.942-3.592-8.17-3.592-6.143 0-11.14 5-11.14 11.14 0 6.143 4.996 11.14 11.14 11.14 6.142 0 11.14-4.997 11.14-11.14V42.28l8.705 5.027L80 44.732l-13.16-7.6zM58.67 75.56c-4.504 0-8.17-3.664-8.17-8.17 0-4.504 3.664-8.168 8.17-8.168 4.504 0 8.168 3.664 8.168 8.17 0 4.504-3.664 8.168-8.17 8.168z",fill:"currentColor",fillRule:"evenodd"})))}}]),n}(l.Component)},26914:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});n(68309);var r=n(67294),i=function(e){var t=e.className,n=e.name;return r.createElement("svg",{height:16,role:"img",width:16,viewBox:"0 0 24 24",className:t,name:n},r.createElement("circle",{cx:"50%",cy:"50%",r:"6",fill:"currentColor"}))}},57451:(e,t,n)=>{"use strict";n.d(t,{H:()=>s});var r=n(67294),i=n(96206);const a="main-loadingIndicator-circle",o="main-loadingIndicator-loadingIcon";function s(){return r.createElement("div",{className:o},r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"12px",width:"56px",x:"0px",y:"0px",viewBox:"0 0 1 100",xmlSpace:"preserve","":"loadingIcon"},r.createElement("circle",{className:a,cx:"-140",cy:"50",r:"32"}),r.createElement("circle",{className:a,cx:"0",cy:"50",r:"32"}),r.createElement("circle",{className:a,cx:"140",cy:"50",r:"32"})),r.createElement("span",{className:"hidden-visually"},i.ag.get("page.loading")))}},56294:(e,t,n)=>{"use strict";n.d(t,{g:()=>s});var r=n(87462),i=n(67294),a=n(96206),o=n(16281),s=function(e){return i.createElement(o.V,(0,r.Z)({},e,{text:a.ag.get("paid")}))}},55508:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});n(41539),n(81299),n(12419);var r=n(15671),i=n(43144),a=n(60136),o=n(82963),s=n(61120),l=n(67294);function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,s.Z)(e);if(t){var i=(0,s.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,o.Z)(this,n)}}const u=function(e){(0,a.Z)(n,e);var t=c(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,i.Z)(n,[{key:"shouldComponentUpdate",value:function(){return!1}},{key:"render",value:function(){return l.createElement("div",{className:"icon"},l.createElement("svg",{width:"80",height:"81",viewBox:"0 0 80 81",xmlns:"http://www.w3.org/2000/svg"},l.createElement("title",null,"Playlist Icon"),l.createElement("path",{d:"M25.6 11.565v45.38c-2.643-3.27-6.68-5.37-11.2-5.37-7.94 0-14.4 6.46-14.4 14.4s6.46 14.4 14.4 14.4 14.4-6.46 14.4-14.4v-51.82l48-10.205V47.2c-2.642-3.27-6.678-5.37-11.2-5.37-7.94 0-14.4 6.46-14.4 14.4s6.46 14.4 14.4 14.4S80 64.17 80 56.23V0L25.6 11.565zm-11.2 65.61c-6.176 0-11.2-5.025-11.2-11.2 0-6.177 5.024-11.2 11.2-11.2 6.176 0 11.2 5.023 11.2 11.2 0 6.174-5.026 11.2-11.2 11.2zm51.2-9.745c-6.176 0-11.2-5.024-11.2-11.2 0-6.174 5.024-11.2 11.2-11.2 6.176 0 11.2 5.026 11.2 11.2 0 6.178-5.026 11.2-11.2 11.2z",fill:"currentColor",fillRule:"evenodd"})))}}]),n}(l.Component)},48064:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});n(41539),n(81299),n(12419);var r=n(15671),i=n(43144),a=n(60136),o=n(82963),s=n(61120),l=n(67294);function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,s.Z)(e);if(t){var i=(0,s.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,o.Z)(this,n)}}const u=function(e){(0,a.Z)(n,e);var t=c(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,i.Z)(n,[{key:"shouldComponentUpdate",value:function(){return!1}},{key:"render",value:function(){return l.createElement("div",{className:"icon"},l.createElement("svg",{width:"1024",height:"1024",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},l.createElement("title",null,"Show"),l.createElement("path",{d:"M319.261 652.453q23.15 27.685 55.388 48.318l-27.685 32.22q-34.233-22.651-59.907-52.853-52.355-60.926-66.459-138.693t12.086-152.28 87.092-126.364q11.587-10.069 27.187-20.137l27.685 32.22q-16.122 10.584-27.187 20.137-52.355 44.804-74.759 108.476t-10.321 130.147 56.89 118.808zM865.98 185.789q60.422 70.994 88.843 158.315t20.904 179.986q-5.034 61.924-25.172 119.312t-54.621 107.725-81.809 90.629q-11.587 9.565-26.688 20.652l-27.685-32.22q15.103-10.584 27.187-20.652 63.923-55.388 101.944-129.632t44.804-158.83-19.119-164.116-80.812-143.979q-31.722-36.756-74.003-67.456l27.685-32.22q44.804 32.719 78.522 72.489zM190.382 762.714q31.722 36.756 74.003 67.456l-27.685 32.22q-44.3-32.719-78.522-72.489-60.422-70.994-88.843-158.315t-21.156-180.238 49.072-174.689 112.758-142.711q11.587-9.565 26.688-20.652l27.685 32.22q-15.103 10.584-27.187 20.652-64.942 55.892-102.691 132.145t-44.037 156.317 18.867 161.351 81.062 146.748zM512.061 360.97q52.355 0 89.61 37.254t37.254 89.61q0 46.823-30.206 82.058t-75.525 42.786v298.026h-42.288v-298.026q-29.702-5.034-53.854-22.651t-38.001-44.552-13.832-57.638q0-52.355 37.254-89.61t89.61-37.254zM512.061 572.408q35.241 0 59.907-24.92t24.668-59.655-24.92-59.655-59.655-24.92-59.655 24.92-24.92 59.655q0 23.15 11.338 42.537t30.721 30.721 42.537 11.338zM737.104 295.533q52.355 60.926 66.459 138.693t-12.086 152.28-87.092 126.364q-11.587 10.069-27.187 20.652l-27.685-32.719q16.122-10.584 27.187-20.137 52.355-44.3 74.759-108.224t10.321-130.399-56.89-118.808q-23.15-27.685-55.388-48.318l27.685-32.22q33.718 22.651 59.907 52.853z",fill:"currentColor",fillRule:"evenodd"})))}}]),n}(l.Component)},95475:(e,t,n)=>{"use strict";n.d(t,{i:()=>a});var r=n(67294),i=n(38370),a=function(e){var t=e.iconSize,n=e.placeholderText;return n?r.createElement("svg",{width:t,height:t,fill:"currentColor",viewBox:"0 0 18 20",xmlns:"http://www.w3.org/2000/svg","":"user-icon"},r.createElement("text",{x:"50%",y:"50%",textAnchor:"middle",dominantBaseline:"central"},n)):r.createElement("div",{"":"user-icon"},r.createElement(i.f,{iconSize:t}))}},11436:(e,t,n)=>{"use strict";n.d(t,{P:()=>a});var r=n(67294),i=n(71748),a=function(e){var t=e.iconSize,n=e.className;return r.createElement("div",{className:n},r.createElement(i.G,{iconSize:t,"aria-hidden":!0}))}},93659:(e,t,n)=>{"use strict";n.d(t,{uL:()=>h,Hy:()=>v,Hs:()=>E});n(47941),n(82526),n(57327),n(38880),n(89554),n(54747),n(49337),n(33321),n(69070);var r=n(29439),i=n(87462),a=n(15861),o=n(4942),s=n(45987),l=n(87757),c=n.n(l),u=(n(91038),n(78783),n(26699),n(32023),n(26833),n(41539),n(88674),n(96647),n(83710),n(39714),n(67294));const d="main-imagePicker-fileInput";var m=["onChange","onError","isOpen","minImageWidth","minImageHeight","maxFileSizeMB"];function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var v,g={accept:"image/.jpg, image/.jpeg, image/.png"};!function(e){e.FILE_TOO_BIG="FILE_TOO_BIG",e.IMAGE_TOO_SMALL="IMAGE_TOO_SMALL"}(v||(v={}));var h=function(e){var t=e.onChange,n=e.onError,o=e.isOpen,l=void 0!==o&&o,p=e.minImageWidth,h=void 0===p?0:p,E=e.minImageHeight,b=void 0===E?0:E,_=e.maxFileSizeMB,S=void 0===_?1/0:_,w=(0,s.Z)(e,m),N=u.useRef(null),O=f(f({},g),w);(0,u.useEffect)((function(){N.current&&l&&N.current.click()}),[N,l]);var C=1048576*S;function T(){return(T=(0,a.Z)(c().mark((function e(i){var a,o,s,l,u;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=i.target,o=Array.from(a.files||[]),s=(0,r.Z)(o,1),l=s[0],e.next=4,P(l);case 4:return u=e.sent,e.prev=5,e.next=8,I(u);case 8:t(u),e.next=18;break;case 11:if(e.prev=11,e.t0=e.catch(5),"string"!=typeof e.t0||!Object.values(v).includes(e.t0)){e.next=17;break}n(e.t0),e.next=18;break;case 17:throw e.t0;case 18:case"end":return e.stop()}}),e,null,[[5,11]])})))).apply(this,arguments)}function I(e){return A.apply(this,arguments)}function A(){return(A=(0,a.Z)(c().mark((function e(t){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.imageWidth<h||t.imageHeight<b)){e.next=2;break}throw v.IMAGE_TOO_SMALL;case 2:if(!(t.imageFile.size>C)){e.next=4;break}throw v.FILE_TOO_BIG;case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(e){return D.apply(this,arguments)}function D(){return(D=(0,a.Z)(c().mark((function e(t){var n,i,a,o,s;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y(t);case 2:return n=e.sent,e.next=5,k(n);case 5:return i=e.sent,a=(0,r.Z)(i,2),o=a[0],s=a[1],e.abrupt("return",{imageFile:t,imageDataUrl:n,imageWidth:o,imageHeight:s});case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return u.createElement("input",(0,i.Z)({},O,{type:"file","":"image-file-picker",ref:N,className:d,onChange:function(e){return T.apply(this,arguments)}}))};function y(e){return new Promise((function(t,n){var r=new FileReader;r.readAsDataURL(e),r.onload=function(){var e;t(null===(e=r.result)||void 0===e?void 0:e.toString())},r.onerror=function(e){return n(e)}}))}function k(e){return new Promise((function(t,n){var r=new Image;r.onload=function(){var e=r.width,n=r.height;t([e,n])},r.src=e,r.onerror=function(e){return n(e)}}))}n(32564);function E(){var e=(0,u.useState)(!1),t=(0,r.Z)(e,2),n=t[0],i=t[1];return[n,(0,u.useCallback)((function(){i(!0),setTimeout((function(){return i(!1)}),0)}),[i])]}},64578:(e,t,n)=>{"use strict";n.d(t,{X:()=>p});var r=n(4942),i=n(67294),a=n(94184),o=n.n(a),s=n(32667),l=n(21317);const c="pIZVZOfjnJGth1BcoA1E",u="ZBBTIITnUdwh05dCI0tm",d="sz8Nwj2lvhOZxDwYWRQr",m="jjPsW7vuG9xH9qhEGL3I";var p=function(e){var t=e.message,n=e.isErrorMessage,a=void 0!==n&&n;return t?i.createElement("div",{role:"alert"},i.createElement("div",{className:o()(c,(0,r.Z)({},u,a))},i.createElement(s.D,{as:"p",variant:"finale",className:d},i.createElement(l.l,{iconSize:16,className:m,"aria-hidden":"true"}),t))):null}},67892:(e,t,n)=>{"use strict";n.d(t,{Z:()=>b,r:()=>E});var r=n(87462),i=n(4942),a=n(45987),o=(n(74916),n(64765),n(92222),n(47941),n(82526),n(57327),n(41539),n(38880),n(89554),n(54747),n(49337),n(33321),n(69070),n(67294)),s=n(86706),l=n(73727),c=n(69518),u=n.n(c),d=n(98773),m=n(29255),p=n(32648),f=n(23716),v=n(52419),g=n(56802),h=["to","pageId","onClick","children","draggable","state","search","pathname","tabIndex"];function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var E=o.memo(o.forwardRef((function(e,t){var n=e.to,i=e.pageId,c=e.onClick,y=e.children,E=e.draggable,b=void 0!==E&&E,_=e.state,S=e.search,w=e.pathname,N=e.tabIndex,O=(0,a.Z)(e,h),C=(0,g.o)(),T=(0,f.g)(),I=(0,o.useContext)(p.DJ),A=k({onClick:(0,o.useCallback)((function(e){var t;(C({intent:"navigate",type:"click",targetUri:n}),c)&&c(e,null===(t=u().from(n))||void 0===t?void 0:t.toURI())}),[C,n,c]),draggable:b},O),P=k(k({pageId:i},_),{},{referrer:e.referrer||I||T.getReferrer()}),D=w||u().from(n),R=(0,s.v9)(d.mE),x=(0,s.v9)(m.Kd),L=D instanceof u()?D.toURLPath(!0):D,F=u().from(L),U=(0,v.BS)(x,null==F?void 0:F.type,R);if(D){var Z;if(D instanceof u()){var M=D.toURLPath(!0);Z=U?"/".concat(x).concat(M):M}else Z=U?"/".concat(x).concat(D):D;return o.createElement(l.rU,(0,r.Z)({},A,{ref:t,to:{pathname:Z,state:P,search:S},tabIndex:N}),y)}var B=S?"".concat(n).concat(S):n;return o.createElement("a",(0,r.Z)({},A,{ref:t,href:B,target:"_blank",rel:"noopener nofollow",tabIndex:N}),y)})));const b=E},43031:(e,t,n)=>{"use strict";n.d(t,{O:()=>u});var r=n(87462),i=n(45987),a=n(67294),o=n(73727),s=n(23716),l=n(56802),c=["onClick","to","referrer"],u=a.memo((function(e){var t=e.onClick,n=e.to,u=e.referrer,d=(0,i.Z)(e,c),m=(0,s.g)(),p=(0,l.o)(),f=(0,a.useCallback)((function(e){p({intent:"navigate",type:"click",targetUri:n}),t&&t(e)}),[p,t,n]),v={pathname:n,state:{referrer:u||m.getReferrer()}};return a.createElement(o.OL,(0,r.Z)({draggable:!1,exact:e.exact,to:v,"aria-label":e["aria-label"],className:e.className,activeClassName:e.activeClassName,tabIndex:e.tabIndex,onClick:f},d),e.children)}))},6158:(e,t,n)=>{"use strict";n.d(t,{h:()=>h});var r=n(29439),i=(n(32564),n(67294)),a=n(65260),o=n(32667),s=n(21317),l=n(96206),c=n(4236),u=n(57451),d=n(4942);n(47941),n(82526),n(57327),n(41539),n(38880),n(89554),n(54747),n(49337),n(33321),n(69070);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){(0,d.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t){switch(t.type){case"LOADING":return p(p({},e),{},{loading:!0});case"ERROR":return p(p({},e),{},{loading:!1,error:!0});default:return e}}const v="main-loadingPage-container";var g=function(e){var t=e.loading,n=void 0===t||t;return i.createElement("div",{className:v},n?i.createElement(u.H,null):null)},h=function(e){var t=e.hasError,n=e.errorMessage,u=e.loadOffline,d=void 0!==u&&u,m=e.timeoutInMs,p=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3e4,a=(0,i.useReducer)(f,{loading:!1,error:e}),o=(0,r.Z)(a,2),s=o[0],l=o[1];return(0,i.useEffect)((function(){if(e)return l({type:"ERROR"}),function(){};var t=setTimeout((function(){l({type:"LOADING"})}),200);return function(){clearTimeout(t)}}),[e]),(0,i.useEffect)((function(){var e;return t&&(e=window.setTimeout((function(){l({type:"ERROR"})}),n)),function(){clearTimeout(e)}}),[s.loading,t,n]),[s.loading,t,s.error]}(t,(0,c.k)(),m),h=(0,r.Z)(p,3),y=h[0],k=h[1],E=h[2],b=(0,i.useState)(!1),_=(0,r.Z)(b,2),S=_[0],w=_[1];return(0,i.useEffect)((function(){var e=setTimeout((function(){w(!0)}),1e3);return function(){clearTimeout(e)}}),[]),k||d?E?i.createElement("div",{className:v},i.createElement(s.l,{iconSize:64}),i.createElement(o.D,{as:"p",variant:"alto"},n),i.createElement(o.D,{as:"p",variant:"ballad"},l.ag.get("error.not_found.body"))):S?i.createElement(g,{loading:y}):i.createElement("div",null):i.createElement("div",{className:v},i.createElement(a.i,{iconSize:64}),i.createElement(o.D,{as:"p",variant:"alto"},l.ag.get("offline.feedback-text")))}},82453:(e,t,n)=>{"use strict";n.r(t),n.d(t,{MastheadFooter:()=>u});var r=n(29439),i=(n(32564),n(96647),n(83710),n(41539),n(39714),n(67294)),a=n(86706),o=n(63173),s=n(96206),l=n(48817),c=n(94321),u=function(){var e=(0,i.useState)(!1),t=(0,r.Z)(e,2),n=t[0],u=t[1],d=(0,i.useState)(""),m=(0,r.Z)(d,2),p=m[0],f=m[1],v=(0,i.useState)(""),g=(0,r.Z)(v,2),h=g[0],y=g[1],k=location.pathname,E=(0,a.v9)(c.rZ);(0,i.useEffect)((function(){var e=setTimeout((function(){u(!0)}),1100);return function(){u(!1),clearTimeout(e)}}),[k]);var b=(0,i.useCallback)((function(e,t,n,r){var i="".concat(t.toString(),"px"),a="".concat(r.toString(),"px");f(i),y(a)}),[]);return n?i.createElement(i.Fragment,null,i.createElement("div",{className:"footerContentSpacing"},i.createElement(l.T,{render:b})),i.createElement(o.VB,{language:s.ag.getSmartlingLocale(),market:E.toLowerCase()},i.createElement(o.$_,{hideWebPlayerLink:!0,columnGap:h,columnWidth:p}))):i.createElement(i.Fragment,null)}},58679:(e,t,n)=>{"use strict";n.d(t,{F:()=>o});var r=n(67294),i=n(87577),a=function(e){var t=e.renderOldExperience,n=void 0===t?function(){return null}:t,r=e.renderNewExperience,a=void 0===r?function(){return null}:r,o=e.forceNewExperience,s=e.property;return(0,i.W6)(s)||o?a():n()},o=function(e){var t=e.suspenseFallback,n=void 0===t?null:t,i=e.renderNewExperience,o=e.renderOldExperience,s=e.forceNewExperience,l=void 0!==s&&s,c=e.property;return r.createElement(r.Suspense,{fallback:n},r.createElement(a,{renderNewExperience:i,renderOldExperience:o,forceNewExperience:l,property:c}))}},37415:(e,t,n)=>{"use strict";n.d(t,{U:()=>c});n(47941),n(82526),n(57327),n(41539),n(38880),n(89554),n(54747),n(49337),n(33321),n(69070);var r=n(4942),i=n(67294),a=n(1861),o=n(62830);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var c=i.memo(i.forwardRef((function(e,t){var n=e.className,r=e.children,s=e.options,c=(0,o.NY)((function(){return l({className:"os-theme-spotify",sizeAutoCapable:!0,scrollbars:l({clickScrolling:!0},null==s?void 0:s.scrollbars),updateOnLoad:null},s)}),[s]);return i.createElement(a.E,{className:n,options:c,ref:t},r)})))},63138:(e,t,n)=>{"use strict";n.d(t,{v:()=>h});var r=n(29439),i=n(67294),a=n(91281),o=n(55914),s=n(86025),l=n(39838),c=n(34011),u=n(96206),d=n(20452),m=n(13947),p=n(52208),f=n(68960);const v="wTtSN5qCRogLw_ONPzid",g="Zp4roOZZCr2D0jkQgTwW";var h=function(e){var t=e.title,n=e.placement,h=e.arrow,y=e.children,k=(0,f.Y)(),E=(0,p.e)().openURLWithSessionTransfer,b=(0,i.useState)(!1),_=(0,r.Z)(b,2),S=_[0],w=_[1],N=(0,i.useCallback)((function(){w(!1),E(m.IT,"_blank")}),[E]);return k?i.createElement(a.x,{onShow:function(){return w(!0)},onHide:function(){return w(!1)},placement:n,overlay:S&&i.createElement(d.i,null,i.createElement("div",null,i.createElement(o.J,{role:"alertdialog",popoverTitle:t,arrow:h,colorSet:"announcement",className:v},u.ag.get("pick-and-shuffle.upsell.message"),i.createElement("div",{className:g},i.createElement(s.oM,{buttonSize:l.z.sm,onClick:function(){return w(!1)}},u.ag.get("pick-and-shuffle.upsell.dismiss")),i.createElement(c.D,{buttonSize:l.z.sm,onClick:N,colorSet:"invertedLight"},u.ag.get("pick-and-shuffle.upsell.explore-premium"))))))},y):y}},55120:(e,t,n)=>{"use strict";n.d(t,{$:()=>c});var r=n(87462),i=n(45987),a=n(67294),o=n(82627),s=n(56802),l=["uri","ariaPlayLabel","ariaPauseLabel","onClick","isPlaying","size","locked"],c=a.memo((function(e){var t=e.uri,n=e.ariaPlayLabel,c=e.ariaPauseLabel,u=e.onClick,d=e.isPlaying,m=e.size,p=e.locked,f=(0,i.Z)(e,l),v=(0,s.o)();return a.createElement(o.f,(0,r.Z)({ariaPlayLabel:n,ariaPauseLabel:c,isPlaying:d,onClick:function(e){p||v({targetUri:t,intent:d?"pause":"play",type:"click",itemIdSuffix:"button"}),u(e)},size:m,locked:p},f))}))},83813:(e,t,n)=>{"use strict";n.d(t,{I:()=>c});var r=n(67294),i=n(92386),a=n(15358),o=n(82749),s=n(96206),l=n(83692),c=r.forwardRef((function(e,t){var n=e.className,c=e.iconClassName,u=e.isPlaying,d=e.isLocked,m=e.onClick,p=void 0===m?function(){}:m,f=e.playAriaLabel,v=void 0===f?s.ag.get("play"):f,g=r.createElement(i.J,{className:c});d?g=r.createElement(a.Z,{iconSize:32}):u&&(g=r.createElement(o.k,{className:c}));var h=s.ag.get("play");return h=d?s.ag.get("mwp.header.content.unavailable"):u?s.ag.get("pause"):v,r.createElement(l.w,{label:h},r.createElement("button",{onClick:function(e){p(e,u?"pause":"play")},className:n,"aria-label":h,ref:t},g))}))},1838:(e,t,n)=>{"use strict";n.d(t,{B1:()=>A,RG:()=>S,VH:()=>N,VK:()=>T,Vd:()=>f,_j:()=>C,aK:()=>I,b3:()=>w,cB:()=>O,hI:()=>l});var r,i,a,o,s,l,c,u=n(4942),d=(n(57327),n(41539),n(26699),n(32023),n(69600),n(21249),n(92222),n(91058),n(74916),n(4723),n(24603),n(28450),n(88386),n(39714),n(73210),n(96206)),m=n(73785),p=n(59916);!function(e){e.TITLE="TITLE",e.ADDED_BY="ADDED_BY",e.ADDED_AT="ADDED_AT",e.ARTIST="ARTIST",e.ALBUM="ALBUM",e.SHOW="SHOW",e.DURATION="DURATION"}(l||(l={})),function(e){e.DESC="DESC",e.ASC="ASC"}(c||(c={}));var f=(r={},(0,u.Z)(r,l.TITLE,["title"]),(0,u.Z)(r,l.ADDED_BY,["added_by"]),(0,u.Z)(r,l.ADDED_AT,["added_at"]),(0,u.Z)(r,l.ARTIST,["artist_name","album_title","album_track_number"]),(0,u.Z)(r,l.ALBUM,["album_title","album_track_number"]),(0,u.Z)(r,l.SHOW,["album_title","added_at"]),(0,u.Z)(r,l.DURATION,["duration"]),r),v=(i={},(0,u.Z)(i,m.Q.TITLE,p.bD.TITLE),(0,u.Z)(i,m.Q.ADDED_BY,p.bD.ADDED_BY),(0,u.Z)(i,m.Q.ADDED_AT,p.bD.ADDED_AT),(0,u.Z)(i,m.Q.DURATION,p.bD.DURATION),(0,u.Z)(i,m.Q.ALBUM,p.bD.ALBUM),(0,u.Z)(i,m.Q.ALBUM_OR_PODCAST,p.bD.ALBUM),(0,u.Z)(i,m.Q.ALBUM_OR_SHOW,null),(0,u.Z)(i,m.Q.ARTIST,null),(0,u.Z)(i,m.Q.ACTIONS,null),(0,u.Z)(i,m.Q.RELEASE_DATE,null),(0,u.Z)(i,m.Q.INDEX,null),(0,u.Z)(i,m.Q.PLAYS,null),(0,u.Z)(i,m.Q.ADD,null),(0,u.Z)(i,m.Q.EVENT_DATE,null),i),g=(a={},(0,u.Z)(a,m.Q.TITLE,l.TITLE),(0,u.Z)(a,m.Q.ADDED_BY,l.ADDED_BY),(0,u.Z)(a,m.Q.ADDED_AT,l.ADDED_AT),(0,u.Z)(a,m.Q.DURATION,l.DURATION),(0,u.Z)(a,m.Q.ALBUM,l.ALBUM),(0,u.Z)(a,m.Q.ALBUM_OR_PODCAST,l.ALBUM),(0,u.Z)(a,m.Q.ALBUM_OR_SHOW,null),(0,u.Z)(a,m.Q.ARTIST,null),(0,u.Z)(a,m.Q.ACTIONS,null),(0,u.Z)(a,m.Q.RELEASE_DATE,null),(0,u.Z)(a,m.Q.INDEX,null),(0,u.Z)(a,m.Q.PLAYS,null),(0,u.Z)(a,m.Q.ADD,null),(0,u.Z)(a,m.Q.EVENT_DATE,null),o={},(0,u.Z)(o,m.k.NONE,void 0),(0,u.Z)(o,m.k.DESC,c.DESC),(0,u.Z)(o,m.k.ASC,c.ASC),(0,u.Z)(o,m.k.SECONDARY_DESC,c.DESC),(0,u.Z)(o,m.k.SECONDARY_ASC,c.ASC),[m.Q.INDEX,m.Q.TITLE,m.Q.ALBUM,m.Q.ADDED_AT,m.Q.DURATION]),h=[m.Q.INDEX,m.Q.TITLE,m.Q.ALBUM,m.Q.ADDED_BY,m.Q.ADDED_AT,m.Q.DURATION],y=[m.Q.INDEX,m.Q.TITLE,m.Q.ALBUM_OR_PODCAST,m.Q.RELEASE_DATE,m.Q.ADDED_AT,m.Q.DURATION],k=[m.Q.INDEX,m.Q.TITLE,m.Q.ALBUM_OR_PODCAST,m.Q.ADDED_BY,m.Q.RELEASE_DATE,m.Q.ADDED_AT,m.Q.DURATION],E=[m.Q.INDEX,m.Q.TITLE,m.Q.ALBUM,m.Q.EVENT_DATE,m.Q.DURATION],b=[m.Q.INDEX,m.Q.TITLE,m.Q.ALBUM,m.Q.ADDED_BY,m.Q.DURATION],_=(s={},(0,u.Z)(s,m.k.NONE,void 0),(0,u.Z)(s,m.k.DESC,p.As.DESC),(0,u.Z)(s,m.k.ASC,p.As.ASC),(0,u.Z)(s,m.k.SECONDARY_DESC,p.As.DESC),(0,u.Z)(s,m.k.SECONDARY_ASC,p.As.ASC),s),S=function(e,t,n,r,i,a){var o=g,s=e||a>1;return i?o=b:s&&t?o=k:t?o=y:s?o=h:r&&(o=E),n?o:o.filter((function(e){return e!==m.Q.ADDED_AT}))},w=function(e){return[m.k.ASC,m.k.SECONDARY_ASC].includes(e)},N=function(e){return[m.k.DESC,m.k.SECONDARY_DESC].includes(e)},O=function(e,t){return e===m.Q.TITLE&&function(e){return[m.k.SECONDARY_ASC,m.k.SECONDARY_DESC].includes(e)}(t)},C=function(e){if(e.order&&e.column)return O(e.column,e.order)?{field:p.bD.ARTIST,order:_[e.order]}:{field:v[e.column],order:_[e.order]}},T=function(e,t){var n=e===m.Q.TITLE?5:3,r=(t.order+1)%n;return t.column===e?{column:r?t.column:null,order:r}:{column:e,order:m.k.ASC}},I=function(e){if(e){return"".concat("text"," ").concat("=^#",' "').concat(e,'"')}},A=function(e){var t,n=e||d.ag.get("playlist.similar-playlist"),r=n.match(new RegExp("(.*)\\((\\d+)\\)$"));return r?"".concat(r[1].trim()," (").concat((t=r[2],parseInt(t,10)+1),")"):"".concat(n," (2)")}},24172:(e,t,n)=>{"use strict";n.d(t,{ME:()=>p,_U:()=>d,w:()=>r,zy:()=>u});var r,i=n(29439),a=n(4942),o=(n(21703),n(96647),n(47941),n(82526),n(57327),n(41539),n(38880),n(89554),n(54747),n(49337),n(33321),n(69070),n(67294));function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}!function(e){e.TITLE="title",e.DESCRIPTION="description",e.NONE="NONE"}(r||(r={}));var c={isOpen:!1,isImagePickerOpen:!1,playlistDetails:{uri:"",name:"",description:"",image:void 0},focusedElement:r.NONE},u=(0,o.createContext)(void 0),d=(0,o.createContext)(c);function m(e,t){switch(t.type){case"open":return l(l({},e),{},{isOpen:!0,playlistDetails:t.playlistDetails,focusedElement:t.focusedElement||r.NONE});case"close":return l({},c);case"openWithImagePicker":return l(l({},e),{},{isOpen:!0,isImagePickerOpen:!0,playlistDetails:t.playlistDetails,focusedElement:r.NONE});default:throw new Error("Unknown action received!")}}var p=function(e){var t=e.children,n=(0,o.useReducer)(m,c),r=(0,i.Z)(n,2),a=r[0],s=r[1];return o.createElement(u.Provider,{value:s},o.createElement(d.Provider,{value:a},t))}},66196:(e,t,n)=>{"use strict";n.d(t,{L:()=>k,x:()=>E});var r=n(66992),i=n.n(r),a=n(41539),o=n.n(a),s=n(88674),l=n.n(s),c=n(78783),u=n.n(c),d=n(33948),m=n.n(d),p=n(67294),f=n(40684),v=n(94643),g=n(29634),h=n(59239),y=(0,f.ZP)({resolved:{},chunkName:function(){return"tippyjs-react"},isReady:function(e){var t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e(1814).then(n.bind(n,87565))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,this.importAsync(e).then((function(e){return t.resolved[n]=!0,e}))},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return 87565}}),k={top:"top",topRight:"top-end",topLeft:"top-start",left:"left",leftTop:"left-start",leftBottom:"left-end",bottom:"bottom",bottomLeft:"bottom-start",bottomRight:"bottom-end",right:"right",rightTop:"right-start",rightBottom:"right-end",auto:"auto"},E=function(e){var t=e.visible,n=e.overlay,r=e.placement,i=e.children,a=e.childRef,o=e.maxWidth,s=void 0===o?336:o,l=e.hideArrow,c=void 0!==l&&l,u=e.className,d=void 0===u?"":u,m=e.popperOptions,f=void 0===m?{}:m,v=e.onHide,k=e.zIndex,E=e.fadeOut;return t||void 0!==E&&E?p.createElement(g.n,{fallback:i},p.createElement(y,{animation:"shift-toward-subtle",maxWidth:s,visible:t,theme:"activation",placement:r||"auto",interactive:!0,arrow:!c,content:n,className:d,onClickOutside:v,popperOptions:f,zIndex:k,offset:[0,14],reference:a},p.createElement("div",{className:h.Z.tippyWrapper},i))):i}},39106:(e,t,n)=>{"use strict";n.d(t,{ko:()=>z});n(47941),n(82526),n(57327),n(41539),n(38880),n(89554),n(54747),n(49337),n(33321),n(69070);var r=n(4942),i=n(45987),a=n(67294),o=n(94184),s=n.n(o),l=n(56383),c=n(87577),u=n(49207),d=n(29439),m=(n(34553),n(68309),n(43290),n(28230));var p=20,f=[{name:"dark",frames:p},{name:"normal",frames:p},{name:"dark",frames:p},{name:"normal",frames:p},{name:"dark",frames:320},{name:"dark",frames:80,isStartOfFlashlightEnter:!0},{name:"flashlight-on",frames:p},{name:"dark",frames:p},{name:"flashlight-on",frames:p},{name:"dark",frames:40},{name:"flashlight-on",isInfinite:!0},{name:"dark",frames:p,isStartOfExit:!0},{name:"flashlight-on",frames:p},{name:"dark",frames:p},{name:"flashlight-on",frames:p},{name:"dark",frames:p},{name:"normal",isInfinite:!0,isEndOfExit:!0}];function v(e,t){var n=document.createElement("canvas"),r=n.getContext("2d");if(null===r)return null;var i=Math.sqrt(Math.pow(e,2)+Math.pow(t,2)),a=200;return n.width=i/1.5+400,n.height=i+400,r.translate(a,a),{canvas:n,context:r,width:n.width-400,height:n.height-400,padding:a}}function g(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=r/2*Math.PI/180,o=n/Math.cos(a),s=Math.sin(a)*o*2;e.beginPath(),e.moveTo((t-s)/2,i),e.lineTo(t/2,i+n),e.lineTo((t-s)/2+s,i),e.closePath()}function h(e,t){var n=function(e,t){var n=(0,a.useMemo)((function(){var e=new Image;return e.src=(0,m.g)("images/stranger-things-nether-bottom-left.png"),e}),[]),r=(0,a.useMemo)((function(){var e=new Image;return e.src=(0,m.g)("images/stranger-things-nether-bottom-right.png"),e}),[]);return function(i){if(r){var a=e-r.naturalWidth,o=t-r.naturalHeight;i.drawImage(r,0,0,r.naturalWidth,r.naturalHeight,a,o,r.naturalWidth,r.naturalHeight)}if(n){var s=t-n.naturalHeight;i.drawImage(n,0,0,n.naturalWidth,n.naturalHeight,0,s,n.naturalWidth,n.naturalHeight)}}}(e,t),r=(0,a.useState)(y(e,t)),i=(0,d.Z)(r,2),o=i[0],s=i[1],l=(0,a.useState)(k(e,t)),c=(0,d.Z)(l,2),u=c[0],p=c[1];return(0,a.useEffect)((function(){s(y(e,t)),p(k(e,t))}),[e,t]),function(r,i,a,s){if(o&&u){var l=a/100,c=i.left+i.width*l,d=i.top+i.height/2,m=0;m=l>.5?(l-.5)/.5*-60:60-l/.5*60;var p=o.width,v=o.height,g=-o.width/2,h=-o.height,y=p,k=v;r.save(),r.fillStyle="rgba(0, 0, 0, 0.85)",r.fillRect(0,0,e,t);var E=r.createLinearGradient(e/2,0,e/2,t);E.addColorStop(0,"rgba(57, 139, 216, 0.3)"),E.addColorStop(1,"rgba(0, 29, 62, 0.15)"),r.fillStyle=E,r.fillRect(0,0,e,t),"flashlight-on"===f[s].name?(r.save(),r.translate(c,d),r.rotate(m*Math.PI/180),r.globalCompositeOperation="destination-out",r.drawImage(o,0,0,p,v,g,h+100,y,k),r.restore(),n(r),r.save(),r.translate(c,d),r.rotate(m*Math.PI/180),r.globalCompositeOperation="source-over",r.drawImage(u,0,0,p,v,g,h+100,y,k),r.restore()):n(r),r.restore()}}}function y(e,t){var n=v(e,t);if(!n)return null;var r=n.canvas,i=n.context,a=n.width,o=n.height,s=n.padding,l=i.createLinearGradient(a/2,0,a/2,o);l.addColorStop(0,"rgba(0, 0, 0, 1)"),l.addColorStop(1,"rgba(0, 0, 0, 0)");var c=i.createLinearGradient(a/2,0,a/2,o);return c.addColorStop(.7,"rgba(0, 0, 0, 1)"),c.addColorStop(1,"rgba(0, 0, 0, 0)"),i.save(),i.fillStyle="rgba(0, 0, 0, 1)",g(i,a,o,30,120),i.filter="blur(10px)",i.fill(),i.restore(),i.globalCompositeOperation="destination-out",i.fillStyle=c,i.fillRect(-s,-s,a+2*s,o+2*s),i.globalCompositeOperation="source-over",i.fillStyle="rgba(0, 0, 0, 1)",g(i,a,o,5,40),i.filter="blur(30px)",i.fill(),i.fillStyle="rgba(0, 0, 0, 1)",g(i,a,o,30,80),i.filter="blur(40px)",i.fill(),i.restore(),i.globalCompositeOperation="destination-out",i.fillStyle=l,i.fillRect(-s,-s,a+2*s,o+2*s),r}function k(e,t){var n=v(e,t);if(!n)return null;var r=n.canvas,i=n.context,a=n.width,o=n.height,s=n.padding;i.save(),i.fillStyle="rgba(80, 170, 255, 0.6)",g(i,a,o,30,120),i.filter="blur(10px)",i.fill(),i.restore();var l=i.createLinearGradient(a/2,0,a/2,o);l.addColorStop(.7,"rgba(0, 0, 0, 1)"),l.addColorStop(1,"rgba(0, 0, 0, 0)"),i.globalCompositeOperation="destination-out",i.fillStyle=l,i.fillRect(-s,-s,a+2*s,o+2*s),i.globalCompositeOperation="source-over",i.fillStyle="rgba(80, 170, 255, 0.8)",g(i,a,o,5,40),i.filter="blur(30px)",i.fill(),i.fillStyle="rgba(80, 170, 255, 0.4)",g(i,a,o,30,150),i.filter="blur(40px)",i.fill(),i.restore(),i.save(),i.translate(a/2,o-140),i.scale(1,10),i.fillStyle="rgba(198, 238, 251, 0.2)",i.filter="blur(24px)",i.beginPath(),i.arc(0,0,22,0,2*Math.PI),i.fill(),i.fillStyle="rgba(234, 255, 255, 0.2)",i.filter="blur(18px)",i.beginPath(),i.arc(0,0,20,0,2*Math.PI),i.fill(),i.restore(),i.save(),i.translate(a/2,o-70),i.scale(1,5),i.fillStyle="rgba(198, 238, 251, 0.1)",i.filter="blur(14px)",i.beginPath(),i.arc(0,0,18,0,2*Math.PI),i.fill(),i.fillStyle="rgba(234, 255, 255, 0.1)",i.filter="blur(8px)",i.beginPath(),i.arc(0,0,20,0,2*Math.PI),i.fill(),i.restore(),i.fillStyle="rgba(100, 190, 255, 1)",i.filter="blur(22px)",i.beginPath(),i.arc(a/2,o+100,20,0,2*Math.PI),i.fill(),i.fillStyle="rgba(198, 238, 251, 1)",i.filter="blur(4px)",i.beginPath(),i.arc(a/2,o+100,14,0,2*Math.PI),i.fill(),i.fillStyle="rgba(234, 255, 255, 1)",i.filter="blur(1px)",i.beginPath(),i.arc(a/2,o+100,12,0,2*Math.PI),i.fill();var c=i.createLinearGradient(a/2,0,a/2,o);return c.addColorStop(0,"rgba(0, 0, 0, 1)"),c.addColorStop(1,"rgba(0, 0, 0, 0)"),i.globalCompositeOperation="destination-out",i.fillStyle=c,i.fillRect(-s,-s,a+2*s,o+2*s),i.globalCompositeOperation="source-over",r}var E=[{size:6,alpha:.5},{size:6,alpha:.4},{size:12,alpha:.3},{size:12,alpha:.3},{size:12,alpha:.3},{size:14,alpha:.2},{size:20,alpha:.2},{size:30,alpha:.2},{size:40,alpha:.1}];function b(e,t){var n=(0,a.useMemo)((function(){var e=new Image;return e.src=(0,m.g)("images/stranger-things-spores.png"),e}),[]),r=(0,a.useState)(_(e,t)),i=(0,d.Z)(r,2),o=i[0],s=i[1];return(0,a.useEffect)((function(){o?function(e,t,n){e.forEach((function(e){e.x=Math.random()*t,e.y=Math.random()*n}))}(o,e,t):s(_(e,t))}),[e,t,o]),function(r){null!==n&&o.forEach((function(i){i.x-=i.directionX*i.velocityX,i.y-=i.directionY*i.velocityY,i.y>t+10?(i.x=Math.random()*e,i.y=-10):i.x<-10&&(i.x=e+10,i.y=Math.random()*t);var a=i.spriteSheetX,o=i.spriteSheetY,s=i.x-i.size/2,l=i.y-i.size/2,c=i.size,u=i.size;r.save(),r.globalAlpha*=i.alpha,r.drawImage(n,a,o,64,64,s,l,c,u),r.restore()}))}}function _(e,t){for(var n=[],r=0;r<100;r++){var i=Math.floor(Math.random()*E.length),a=Math.floor(8*Math.random()),o=Math.floor(2*Math.random()),s=E[i].size,l=E[i].alpha;n.push({alpha:l,size:s,spriteSheetX:64*a,spriteSheetY:64*o,x:Math.random()*e,y:Math.random()*t,directionX:Math.random()>.5?1:-1,directionY:Math.random()>.5?1:-1,velocityX:s/300,velocityY:s/400})}return n}var S=n(15671),w=n(43144),N=(n(32564),n(40561),function(){function e(){var t=this;(0,S.Z)(this,e),(0,r.Z)(this,"_subscribers",[]),(0,r.Z)(this,"_active",!1),(0,r.Z)(this,"_onActivity",(function(){t._subscribers.forEach((function(e){t._active||(t._active=!0,e.fn(t._active)),clearTimeout(e.inactiveTimeout),e.inactiveTimeout=setTimeout((function(){t._active=!1,e.fn(t._active)}),e.msInactive)}))}))}return(0,w.Z)(e,[{key:"unsubscribeToActivity",value:function(e){var t=this._subscribers.findIndex((function(t){return t.fn===e}));-1!==t&&(clearTimeout(this._subscribers[t].inactiveTimeout),this._subscribers.splice(t,1))}},{key:"subscribeToActivity",value:function(e,t){this._subscribers.push({fn:t,msInactive:e,isActive:!1})}},{key:"enableActivityMonitor",value:function(){window.addEventListener("mousemove",this._onActivity),window.addEventListener("mouseup",this._onActivity),window.addEventListener("keydown",this._onActivity),window.addEventListener("scroll",this._onActivity,!0)}},{key:"disableActivityMonitor",value:function(){window.removeEventListener("mousemove",this._onActivity),window.removeEventListener("mouseup",this._onActivity),window.removeEventListener("keydown",this._onActivity),window.removeEventListener("scroll",this._onActivity,!0),this._subscribers.forEach((function(e){return clearTimeout(e.inactiveTimeout)})),this._subscribers=[]}}]),e}()),O=function(){function e(){(0,S.Z)(this,e),(0,r.Z)(this,"frame",0),(0,r.Z)(this,"lastPhaseFrame",0),(0,r.Z)(this,"phase",0),(0,r.Z)(this,"animationFrameRequestId",null),(0,r.Z)(this,"flickerTimerId",null),(0,r.Z)(this,"isPlaying",!0)}return(0,w.Z)(e,[{key:"start",value:function(){var e=this;this.lastPhaseFrame=this.frame,this.phase=0;this.flickerTimerId=function t(){return setTimeout((function(){e.flickerTimerId=t(),e.isPlaying&&f[e.phase].isInfinite&&e.setPhase(f.findIndex((function(e){return e.isStartOfFlashlightEnter})))}),15e3*Math.random()+5e3)}()}},{key:"stop",value:function(){var e=f.findIndex((function(e){return e.isStartOfExit}));this.phase<e&&this.setPhase(e),clearTimeout(this.flickerTimerId)}},{key:"setPhase",value:function(e){this.lastPhaseFrame=this.frame,this.phase=e}}]),e}();const C="L3fGAKcaGZCw9diio8aV";var T=function(e){var t=e.getPercentage,n=e.isDragging,r=void 0!==n&&n,i=e.isPlayingStrangerThings,o=void 0!==i&&i,s=e.progressBar,l=(0,a.useMemo)((function(){return new N}),[]),c=(0,a.useMemo)((function(){return new O}),[]),u=(0,a.useRef)(null),m=(0,a.useState)(null),p=(0,d.Z)(m,2),v=p[0],g=p[1],y=(0,a.useState)(window.innerHeight),k=(0,d.Z)(y,2),E=k[0],_=k[1],S=(0,a.useState)(window.innerWidth),w=(0,d.Z)(S,2),T=w[0],I=w[1],A=(0,a.useState)(!1),P=(0,d.Z)(A,2),D=P[0],R=P[1],x=(0,a.useState)(!1),L=(0,d.Z)(x,2),F=L[0],U=L[1],Z=b(T,E),M=h(T,E),B=(0,a.useCallback)((function(e){!r&&o&&(e?c.stop():(c.start(),U(!0)))}),[r,o,c]),j=(0,a.useCallback)((function(){o&&(c.setPhase(f.findIndex((function(e){return e.isStartOfFlashlightEnter}))),U(!0))}),[o,c]),V=(0,a.useCallback)((function(){c.stop()}),[c]),H=(0,a.useCallback)((function(){if(F){R(!1);var e=window.innerHeight,t=window.innerWidth;I(t),_(e)}else R(!0)}),[F]),G=(0,a.useCallback)((function(){if(u.current){var e=c.frame,n=c.lastPhaseFrame,r=c.phase;if(c.frame=e+1,f[r].isEndOfExit)U(!1);else{if(f[r].isInfinite||e-n===f[r].frames&&c.setPhase(r+1),u.current.width=T,u.current.height=E,"normal"!==f[r].name){var i=u.current.getContext("2d");if(!i||!v)return;var a=t();M(i,v,a,r),Z(i)}c.animationFrameRequestId=requestAnimationFrame(G)}}}),[E,T,M,Z,t,v,c]);return(0,a.useEffect)((function(){window.addEventListener("resize",H);var e=l;return e.enableActivityMonitor(),e.subscribeToActivity(5e3,B),function(){window.removeEventListener("resize",H),e.disableActivityMonitor(),e.unsubscribeToActivity(B)}}),[l,B,H]),(0,a.useEffect)((function(){o||c.stop()}),[o,c]),(0,a.useEffect)((function(){r?j():r||V()}),[r,j,V]),(0,a.useEffect)((function(){F?(D&&H(),c.animationFrameRequestId=requestAnimationFrame(G)):c.animationFrameRequestId&&cancelAnimationFrame(c.animationFrameRequestId)}),[F,G,H,D,c]),(0,a.useEffect)((function(){s.current&&g(s.current.getBoundingClientRect())}),[T,E,s]),F?a.createElement("canvas",{className:C,ref:u,width:T,height:E}):null},I=function(e){return(0,c.W6)(u.kI,{loadingValue:!1})&&e.isPlayingStrangerThings?a.createElement(T,e):null},A=(n(88757),n(4835)),P=n(24697);function D(e,t){var n=e.current;if(null===n)return 0;var r=n.getBoundingClientRect();return Math.max(0,Math.min((t-r.left)/r.width,1))}n(54678);const R="playback-progressbar",x="playback-progressbar-isInteractive",L="progress-bar",F="x-progressBar-progressBarBg",U="x-progressBar-sliderArea",Z="x-progressBar-fillColor",M="VI_bMRxDl9fS6qksct7W",B="sW0M_K97doEB3B4Ts58i",j="DuvrswZugGajIFNXObAr",V="progress-bar__slider";var H=["value","max","step","labelText","isInteractive","forceActiveStyles","onDragStart","onDragMove","onDragEnd","onStepForward","onStepBackward","saberConfig","isPlayingStrangerThings"];function G(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function W(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?G(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var z=function(e){var t,n=e.value,o=e.max,c=e.step,u=e.labelText,m=e.isInteractive,p=void 0===m||m,f=e.forceActiveStyles,v=void 0!==f&&f,g=e.onDragStart,h=e.onDragMove,y=e.onDragEnd,k=e.onStepForward,E=e.onStepBackward,b=e.saberConfig,_=void 0===b?null:b,S=e.isPlayingStrangerThings,w=void 0!==S&&S,N=(0,i.Z)(e,H),O=(0,a.useRef)(null),C=function(e){var t=e.progressBarRef,n=e.onDragStart,r=e.onDragMove,i=e.onDragEnd,o=(0,a.useState)(!1),s=(0,d.Z)(o,2),l=s[0],c=s[1],u=(0,a.useRef)(n),m=(0,a.useRef)(r),p=(0,a.useRef)(i);u.current=n,m.current=r,p.current=i;var f=(0,P.y1)((function(e){m.current(D(t,e.clientX))}),20,{leading:!0,maxWait:20});return{isDragging:l,onMouseDown:(0,a.useCallback)((function(e){0===e.button&&(u.current(D(t,e.clientX)),c(!0),document.addEventListener("mousemove",f),document.addEventListener("mouseup",(function(e){c(!1),f.cancel(),p.current(D(t,e.clientX)),document.removeEventListener("mousemove",f)}),{once:!0}))}),[t,c,f])}}({progressBarRef:O,onDragStart:g,onDragMove:h,onDragEnd:y}),T=C.isDragging,G=C.onMouseDown,z=p?100*Math.max(0,Math.min(1,n/o)):0,K=v||T,Y=p&&null!==_,q=p&&!(0,l.G)(),Q=function(e){var t=e.onStepForward,n=e.onStepBackward,r=e.value;return(0,P.y1)((function(e){parseFloat(e.target.value)>r?null==t||t():null==n||n()}),100,{trailing:!1,leading:!0,maxWait:200})}({onStepForward:k,onStepBackward:E,value:n}),J=(0,a.useCallback)((function(){return z}),[z]);return a.createElement("div",{className:s()(R,(0,r.Z)({},x,p)),"":N["data-testid"]},a.createElement(A.q,{disabled:!p,type:"range",min:0,max:o,value:n,step:c,onChange:Q,"aria-valuetext":N["aria-valuetext"]},u),a.createElement("div",{className:s()(L,(t={},(0,r.Z)(t,M,null!==_),(0,r.Z)(t,j,K),t)),style:W(W({},Y?_:null),{},{"--progress-bar-transform":"".concat(z,"%")}),onMouseDown:G,"":"progress-bar"},Y?a.createElement("div",{className:B,"":"progress-bar-saber-overlay"}):null,a.createElement("div",{ref:O,className:F,"":"progress-bar-background"},a.createElement("div",{className:U},a.createElement("div",{className:Z})),a.createElement("div",{className:V})),q&&a.createElement("div",{style:{width:"100%"}},a.createElement(I,{getPercentage:J,progressBar:O,isPlayingStrangerThings:w,isDragging:T}))))}},75012:(e,t,n)=>{"use strict";n.d(t,{e:()=>c});var r=n(87462),i=n(4942),a=(n(92222),n(67294));const o="main-progressRing-circleShadow",s="main-progressRing-circleColor";var l=20*Math.PI,c=a.memo((function(e,t){var n=e.percentage,c=e.size,u=e.ariaValueText,d=l-n/100*l;return a.createElement("svg",(0,r.Z)({height:c,width:c,viewBox:"0 0 24 24",role:"progressbar","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":Math.round(n)},u?(0,i.Z)({},"aria-valuetext",u):{},t),a.createElement("circle",{className:o,r:"".concat(10),cx:"12",cy:"12"}),a.createElement("circle",{"":"circleColor",className:s,strokeDasharray:"".concat(l," ").concat(l),strokeDashoffset:"".concat(d),r:"".concat(10),cx:"12",cy:"12"}),a.createElement("rect",{width:"6",height:"6",fill:"white",x:"9",y:"9"}))}))},24183:(e,t,n)=>{"use strict";n.d(t,{Oh:()=>o,aC:()=>a});n(21703),n(96647);var r=n(67294),i=(0,r.createContext)(null),a=function(e){var t=e.children,n=e.mainLandmarkRef;return r.createElement(i.Provider,{value:{mainLandmarkRef:n}},t)},o=function(){var e=(0,r.useContext)(i);if(null===e)throw new Error("GlobalElementRefsContext used without being initialized.");return e}},50709:(e,t,n)=>{"use strict";n.d(t,{i:()=>a});n(21703),n(96647);var r=n(67294),i=n(32648),a=function(){var e=(0,r.useContext)(i.$8);if(null===e)throw new Error("Trying to use 'VisibilityContext' without 'VisibilityProvider'!");return e}},22583:(e,t,n)=>{"use strict";n.d(t,{r:()=>u});var r=n(4942),i=n(29439),a=(n(38862),n(47941),n(82526),n(57327),n(41539),n(38880),n(89554),n(54747),n(49337),n(33321),n(69070),n(67294)),o=n(5229);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var c=function(e){return Boolean(e)};function u(e){var t=e.uri,n=e.children,s=e.defaultState,u=e.sortContext,d=e.localStorageKey,m=void 0===d?"sortedState":d,p=e.validator,f=void 0===p?c:p,v=(0,o.z)(m,{}),g=(0,i.Z)(v,2),h=g[0],y=void 0===h?{}:h,k=g[1],E=(0,a.useRef)(y);(0,a.useEffect)((function(){E.current=y}));var b=(0,a.useCallback)((function(e){if(JSON.stringify(e)===JSON.stringify(s)){var n=l({},E.current);delete n[t],k(n)}else k(l(l({},E.current),{},(0,r.Z)({},t,e)))}),[s,k,t]),_=(0,a.useMemo)((function(){var e=y[t];return{sortState:f(e)?e:s,setSortState:b}}),[y,t,f,s,b]);return a.createElement(u.Provider,{value:_},n)}},46608:(e,t,n)=>{"use strict";n.d(t,{M:()=>i});var r=n(3644),i=function(e,t){return"string"==typeof e&&"string"==typeof t?!(e.length>0)||null!==(0,r.B)(e,t):"boolean"!=typeof e||e}},22423:(e,t,n)=>{"use strict";n.d(t,{fo:()=>o,hz:()=>s});var r=n(29439),i=(n(21703),n(96647),n(67294)),a=(0,n(14671).Z)((function(e){return{lastFilterState:"",lastFilteredUri:"",setLastState:function(t,n){e({lastFilterState:t,lastFilteredUri:n})}}})),o=(0,i.createContext)({setFilter:function(){throw new Error("setFilter must be used within a FilterProvider")},filter:""}),s=function(e){var t=e.uri,n=e.children,s=a.getState(),l=s.lastFilterState,c=s.lastFilteredUri,u=s.setLastState,d=(0,i.useState)(c===t?l:""),m=(0,r.Z)(d,2),p=m[0],f=m[1],v=(0,i.useCallback)((function(e){f(e),u(e,t)}),[u,t]),g=(0,i.useMemo)((function(){return{filter:p,setFilter:v}}),[p,v]);return i.createElement(o.Provider,{value:g},n)};n(22583)},18686:(e,t,n)=>{"use strict";n.d(t,{q:()=>c});var r=n(87462),i=n(45987),a=n(67294),o=n(19480),s=n(98624),l=["index","id"],c=function(e){var t=e.index,n=e.id,c=(0,i.Z)(e,l),u=c.seeAllUri,d=(0,s.e)({seeAllUri:u,index:t,id:n}),m=d.onClickShelfTitle,p=d.onClickShelfSeeAll,f=d.elementRef,v=d.UBIWrapper;return a.createElement(v,null,a.createElement(o.P,(0,r.Z)({},c,{onClickShelfTitle:m,onClickShelfSeeAll:p,elementRef:f})))}},19480:(e,t,n)=>{"use strict";n.d(t,{P:()=>f});var r=n(4942),i=n(29439),a=(n(79753),n(57327),n(41539),n(67294)),o=n(94184),s=n.n(o),l=n(50114),c=n(48817),u=n(27937),d=n(13218),m=n(36522),p=a.memo((function(e){var t=e.title,n=e.tagline,o=e.children,l=e.seeAllUri,u=e.showAll,p=e.className,f=void 0===p?"":p,v=e.total,g=e.testId,h=void 0===g?"component":g,y=e.pageId,k=e.seeAllLabel,E=e.alwaysShowSeeAll,b=void 0!==E&&E,_=e.showSeeAll,S=void 0===_||_,w=e.onClickShelfTitle,N=e.onClickShelfSeeAll,O=e.elementRef,C=e.renderSubHeader,T=(0,a.useState)(0),I=(0,i.Z)(T,2),A=I[0],P=I[1],D=(0,a.useCallback)((function(e){var t=e.columnCount;P(t)}),[]),R=(0,a.useCallback)((function(e){return a.createElement(a.Fragment,null,u?o:Array.isArray(o)&&o.filter((function(t,n){return n<e})))}),[u,o]);if(Array.isArray(o)&&0===o.length)return null;var x=!!S&&((v&&v>A||b)&&!!l&&!u);return a.createElement("section",{ref:O,className:s()(f,m.Z.shelf),"":"".concat(h,"-shelf"),"aria-label":t},a.createElement("div",{className:m.Z.header},a.createElement(d.r,{title:t,tagline:n,seeAllUri:l,seeAllLabel:k,pageId:y,hasMoreElements:x,onClickTitle:w,onClickSeeAll:N})),C&&a.createElement("div",{className:m.Z.subHeader},C()),a.createElement(c.T,{className:s()(m.Z.shelfGrid,(0,r.Z)({},m.Z.showAll,u)),render:R,onLayoutChange:D}))}));p.displayName="BaseShelf";var f=(0,l.P)(p,(function(){return null}),(function(e){return(0,u.vK)(e,"Shelf")}));f.displayName="Shelf"},13218:(e,t,n)=>{"use strict";n.d(t,{r:()=>d});var r=n(87462),i=(n(66992),n(41539),n(88674),n(78783),n(33948),n(67294)),a=n(94184),o=n.n(a),s=n(32667),l=n(67892),c=n(36522),u=(0,i.lazy)((function(){return n.e(8419).then(n.bind(n,18419))}));Spicetify.React=i;var d=i.memo((function(e){var t=e.title,n=e.titleVariant,a=void 0===n?"canon":n,d=e.tagline,m=e.seeAllUri,p=e.pageId,f=e.hasMoreElements,v=e.seeAllLabel,g=e.className,h=e.seeAllProps,y=e.onClickTitle,k=e.onClickSeeAll;return i.createElement("div",{className:o()(c.Z.topRow,g)},i.createElement("div",{className:c.Z.titleWrapper},f?i.createElement(s.D,{as:"h2",variant:a,semanticColor:"textBase"},i.createElement(l.r,(0,r.Z)({"":"see-all-link",to:m||"",pageId:p,className:c.Z.title,onClick:y},"boolean"==typeof f?void 0:f),t)):i.createElement(s.D,{as:"h2",variant:a,semanticColor:"textBase",className:c.Z.title,tabIndex:-1},t),d&&i.createElement(s.D,{as:"p",variant:"mesto",semanticColor:"textSubdued"},d)),f&&i.createElement(i.Suspense,{fallback:!0},i.createElement(u,(0,r.Z)({link:m||"",className:c.Z.seeAll,pageId:p,onClick:k,label:v},"boolean"==typeof f?void 0:f,h))))}))},98624:(e,t,n)=>{"use strict";n.d(t,{e:()=>o});var r=n(67294),i=n(25949),a=n(15852),o=function(e){var t=e.seeAllUri,n=e.index,o=e.id,s=(0,a.fU)(i.createDesktopShelfEventFactory,{data:{identifier:o,position:n}}),l=s.spec,c=s.logger;return{onClickShelfTitle:(0,r.useCallback)((function(){var e=l.shelfHeaderFactory().shelfHeaderTitleFactory().hitUiNavigate({destination:null!=t?t:""});c.logInteraction(e)}),[c,t,l]),onClickShelfSeeAll:(0,r.useCallback)((function(){var e=l.shelfHeaderFactory().shelfHeaderSeeAllFactory().hitUiNavigate({destination:null!=t?t:""});c.logInteraction(e)}),[c,t,l]),elementRef:(0,a.Wi)(l),UBIWrapper:(0,r.useCallback)((function(e){var t=e.children;return r.createElement(a.Nh,{spec:l},t)}),[l])}}},22247:(e,t,n)=>{"use strict";n.d(t,{C:()=>d});var r=n(4942),i=n(67294),a=n(94184),o=n.n(a),s=n(32667),l=n(96001);const c="dxnMpEuxRQ5Ml60ftDcz",u="jFPYamKaGvZv7JA45KCu";var d=function(e){var t=e.as,n=e.variant,a=e.className,d=e.charCount,m=e.isLoading,p=(0,l.h)("shimmer");return i.createElement(s.D,{ref:p,as:t,variant:n,className:o()(c,a,(0,r.Z)({},u,m)),style:{width:d?"".concat(d,"ch"):void 0},tabIndex:-1,"aria-hidden":!0})}},30169:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});n(41539),n(81299),n(12419);var r=n(15671),i=n(43144),a=n(97326),o=n(60136),s=n(82963),l=n(61120),c=n(4942),u=(n(92222),n(67294)),d=n(94184),m=n.n(d),p=n(43031);function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,l.Z)(e);if(t){var i=(0,l.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,s.Z)(this,n)}}var v=function(e){(0,o.Z)(n,e);var t=f(n);function n(){var e;(0,r.Z)(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return e=t.call.apply(t,[this].concat(o)),(0,c.Z)((0,a.Z)(e),"renderSvgLogo",(function(){return u.createElement("svg",{viewBox:"0 0 167.5 167.5",className:"spotify-logo"},u.createElement("title",null,"Spotify"),u.createElement("path",{fill:"currentColor",d:"M83.7 0C37.5 0 0 37.5 0 83.7c0 46.3 37.5 83.7 83.7 83.7 46.3 0 83.7-37.5 83.7-83.7S130 0 83.7 0zM122 120.8c-1.4 2.5-4.6 3.2-7 1.7-19.8-12-44.5-14.7-73.7-8-2.8.5-5.6-1.2-6.2-4-.2-2.8 1.5-5.6 4-6.2 32-7.3 59.6-4.2 81.6 9.3 2.6 1.5 3.4 4.7 1.8 7.2zM132.5 98c-2 3-6 4-9 2.2-22.5-14-56.8-18-83.4-9.8-3.2 1-7-1-8-4.3s1-7 4.6-8c30.4-9 68.2-4.5 94 11 3 2 4 6 2 9zm1-23.8c-27-16-71.6-17.5-97.4-9.7-4 1.3-8.2-1-9.5-5.2-1.3-4 1-8.5 5.2-9.8 29.6-9 78.8-7.2 109.8 11.2 3.7 2.2 5 7 2.7 10.7-2 3.8-7 5-10.6 2.8z"}))})),(0,c.Z)((0,a.Z)(e),"renderSvgLogoWithText",(function(){return u.createElement("svg",{viewBox:"0 0 1134 340",className:"spotify-logo--text"},u.createElement("title",null,"Spotify"),u.createElement("path",{fill:"currentColor",d:"M8 171c0 92 76 168 168 168s168-76 168-168S268 4 176 4 8 79 8 171zm230 78c-39-24-89-30-147-17-14 2-16-18-4-20 64-15 118-8 162 19 11 7 0 24-11 18zm17-45c-45-28-114-36-167-20-17 5-23-21-7-25 61-18 136-9 188 23 14 9 0 31-14 22zM80 133c-17 6-28-23-9-30 59-18 159-15 221 22 17 9 1 37-17 27-54-32-144-35-195-19zm379 91c-17 0-33-6-47-20-1 0-1 1-1 1l-16 19c-1 1-1 2 0 3 18 16 40 24 64 24 34 0 55-19 55-47 0-24-15-37-50-46-29-7-34-12-34-22s10-16 23-16 25 5 39 15c0 0 1 1 2 1s1-1 1-1l14-20c1-1 1-1 0-2-16-13-35-20-56-20-31 0-53 19-53 46 0 29 20 38 52 46 28 6 32 12 32 22 0 11-10 17-25 17zm95-77v-13c0-1-1-2-2-2h-26c-1 0-2 1-2 2v147c0 1 1 2 2 2h26c1 0 2-1 2-2v-46c10 11 21 16 36 16 27 0 54-21 54-61s-27-60-54-60c-15 0-26 5-36 17zm30 78c-18 0-31-15-31-35s13-34 31-34 30 14 30 34-12 35-30 35zm68-34c0 34 27 60 62 60s62-27 62-61-26-60-61-60-63 27-63 61zm30-1c0-20 13-34 32-34s33 15 33 35-13 34-32 34-33-15-33-35zm140-58v-29c0-1 0-2-1-2h-26c-1 0-2 1-2 2v29h-13c-1 0-2 1-2 2v22c0 1 1 2 2 2h13v58c0 23 11 35 34 35 9 0 18-2 25-6 1 0 1-1 1-2v-21c0-1 0-2-1-2h-2c-5 3-11 4-16 4-8 0-12-4-12-12v-54h30c1 0 2-1 2-2v-22c0-1-1-2-2-2h-30zm129-3c0-11 4-15 13-15 5 0 10 0 15 2h1s1-1 1-2V93c0-1 0-2-1-2-5-2-12-3-22-3-24 0-36 14-36 39v5h-13c-1 0-2 1-2 2v22c0 1 1 2 2 2h13v89c0 1 1 2 2 2h26c1 0 1-1 1-2v-89h25l37 89c-4 9-8 11-14 11-5 0-10-1-15-4h-1l-1 1-9 19c0 1 0 3 1 3 9 5 17 7 27 7 19 0 30-9 39-33l45-116v-2c0-1-1-1-2-1h-27c-1 0-1 1-1 2l-28 78-30-78c0-1-1-2-2-2h-44v-3zm-83 3c-1 0-2 1-2 2v113c0 1 1 2 2 2h26c1 0 1-1 1-2V134c0-1 0-2-1-2h-26zm-6-33c0 10 9 19 19 19s18-9 18-19-8-18-18-18-19 8-19 18zm245 69c10 0 19-8 19-18s-9-18-19-18-18 8-18 18 8 18 18 18zm0-34c9 0 17 7 17 16s-8 16-17 16-16-7-16-16 7-16 16-16zm4 18c3-1 5-3 5-6 0-4-4-6-8-6h-8v19h4v-6h4l4 6h5zm-3-9c2 0 4 1 4 3s-2 3-4 3h-4v-6h4z"}))})),e}return(0,i.Z)(n,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.noLink,r=e.hasText?this.renderSvgLogoWithText():this.renderSvgLogo();return n?u.createElement("div",{className:m()("logo",t)},r):u.createElement(p.O,{to:"/",className:m()("logo",t)},r)}}]),n}(u.PureComponent);(0,c.Z)(v,"defaultProps",{className:"",noLink:!1,hasText:!1});const g=v},63868:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(67294),i=n(94184),a=n.n(i);const o="x-toggle-wrapper",s="x-toggle-indicatorWrapper",l="x-toggle-input",c="x-toggle-indicator";var u=function(e){var t=e.value,n=e.disabled,i=e.onSelected,u=e.id,d=e.className;return r.createElement("label",{className:a()(o,d)},r.createElement("input",{id:u,className:l,type:"checkbox",disabled:n,checked:t,onChange:function(e){var t=e.target.checked;i(t)}}),r.createElement("span",{className:s},r.createElement("span",{className:c})))}},28638:(e,t,n)=>{"use strict";n.d(t,{w:()=>c});var r=n(67294),i=n(94184),a=n.n(i),o=n(73935),s=n(28776),l=n(82744),c=function(e){var t=e.children,n=e.className,i=void 0===n?"":n,c=r.useContext(s.E).elementRef,u=a()(l.Z.topbarContent,i);return c?(0,o.createPortal)(r.createElement("div",{"":"topbar-content",className:u},t),c):null}},18154:(e,t,n)=>{"use strict";n.d(t,{i:()=>c,o:()=>u});n(82526),n(57327),n(38880),n(49337),n(33321),n(69070);var r=n(4942),i=n(29439),a=(n(47941),n(89554),n(41539),n(54747),n(2707),n(26833),n(91038),n(78783),n(66992),n(33948),n(67294)),o=n(72138);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var c=(0,a.createContext)({toggleSelected:function(){return!1},isSelected:function(){return!1},getSelected:function(){return[]},clearSelected:function(){},selectAll:function(){},pushPopSelected:function(){}}),u=function(e){var t=e.resolveUri,n=e.resolveUid,s=e.tracksRef,u=e.children,d=(0,a.useState)({}),m=(0,i.Z)(d,2),p=m[0],f=m[1],v=(0,a.useRef)([{index:0,range:[]}]),g=(0,a.useContext)(o.ZF).getCapabilities().canMoveMultipleItems,h=function(){Object.keys(p).length>0&&f({}),v.current=[{index:0,range:[]}]},y=function(e){return Boolean(s.current[e]&&p[n(s.current[e],e)])},k=function(e){y(e)?function(e){var t=n(s.current[e],e);f((function(e){return delete e[t],l({},e)})),v.current.length>1&&v.current.pop()}(e):function(e){if(s.current[e]){var i=t(s.current[e]),a=n(s.current[e],e);i&&a&&(f((function(t){return l(l({},t),{},(0,r.Z)({},a,{uid:a,uri:i,index:e}))})),v.current.push({index:e,range:[]}))}}(e)};return a.createElement(c.Provider,{value:{toggleSelected:function(e,r,i){g&&(r||i)||h(),g&&r?function(e){var r=l({},p),i=v.current[v.current.length-1];i.range.forEach((function(e){delete r[e]})),i.range=[];for(var a=Math.min(i.index,e),o=Math.max(i.index,e),c=a;c<=o;c++)if(s.current[c]){var u=t(s.current[c]),d=n(s.current[c],c);u&&d&&(r[d]={uid:d,uri:u,index:c},i.range.push(c))}f(r)}(e):k(e)},isSelected:y,getSelected:function(){return Object.values(p).sort((function(e,t){return e.index-t.index}))},clearSelected:h,selectAll:function(){for(var e={},r=Object.keys(s.current).length,i=Array.from(Array(r).keys()),a=0;a<=r;a++)if(s.current[a]){var o=t(s.current[a]),l=n(s.current[a],a);o&&l&&(e[l]={uid:l,uri:o,index:a})}f(e),v.current=[{index:0,range:i}]},pushPopSelected:function(e,t){g||h();var n=e+t,r=y(e),i=y(n);i?k(e):r&&!i?k(n):r||i||(k(n),k(e))}}},u)}},82760:(e,t,n)=>{"use strict";n.d(t,{W:()=>r,c:()=>D});var r,i=n(4942),a=n(29439),o=(n(69826),n(41539),n(26699),n(32023),n(21249),n(68309),n(92222),n(91038),n(78783),n(91058),n(89554),n(54747),n(74916),n(23123),n(67294)),s=n(94184),l=n.n(s),c=n(86706),u=n(69518),d=n.n(u),m=n(24697),p=n(96206),f=n(77630),v=n(70325),g=n(45547),h=n(92042),y=n(13947),k=n(15852),E=n(84629),b=n(57784),_=n(56802),S=n(29255),w=(n(57327),n(30005)),N=n(42922),O=n(60775),C=n(38260),T=n(54136),I=o.memo((function(e){var t=e.uris,n=e.uids,r=e.contextUri,i=e.removePlaylistItems,a=(0,O.T)(t[0]).spec;return o.createElement(N.ZP,{value:"multi-select"},o.createElement(w.v,null,o.createElement(C.x9,{spec:a,uris:t}),o.createElement(C.Qf,{spec:a,uids:n,uris:t,contextUri:r}),o.createElement(C.ZX,{trackUris:t.filter((function(e){return d().isTrack(e)}))}),d().isPlaylistV1OrV2(r)&&o.createElement(C.Xu,{uris:t,uids:n,playlistUri:r||"",removePlaylistItems:i}),o.createElement(T.p,{uris:t})))})),A=n(18154),P=n(94107);!function(e){e[e.None=0]="None",e[e.Before=1]="Before",e[e.After=2]="After"}(r||(r={}));var D=function(e){var t,n,s=e.children,u=e.uri,w=e.index,N=e.ariaRowIndex,O=e.dragMetadata,C=e.contextUri,T=e.isPlayable,D=e.ageRestricted,R=e.onTriggerPlay,x=e.onTriggerPaywall,L=e.isActive,F=e.onMove,U=e.onContextMenu,Z=e.onInsert,M=e.allowedDropTypes,B=void 0===M?[]:M,j=e.initialSelectedState,V=void 0!==j&&j,H=e.spec,G=e.removePlaylistItems,W=e.isLocked,z=e.onDoubleClick,K=(0,o.useContext)(A.i),Y=K.pushPopSelected,q=K.toggleSelected,Q=K.isSelected,J=K.getSelected,X=K.clearSelected,$=(0,c.I0)(),ee=(0,c.v9)(S.QT),te=(0,b.O1)(),ne=(0,o.useRef)(null),re=O.sectionId,ie=void 0===re?0:re,ae=(0,o.useState)(r.None),oe=(0,a.Z)(ae,2),se=oe[0],le=oe[1],ce=(0,h.c)({action:"open"});(0,o.useEffect)((function(){V&&ne.current&&(q(w,!1,!1),(0,g.Jp)(ne.current))}),[]);var ue=(0,o.useCallback)((function(e){return e.find((function(e){return null==B?void 0:B.includes(e)}))}),[null==B?void 0:B.includes]),de=(0,o.useCallback)((function(e){if(e.target===e.currentTarget){var t=[];Q(w)?t=J().map((function(e){return e.uri})):(q(w,!1,!1),t=[u]);var n=O.name,r=O.createdBy,i=O.sectionId,a="".concat(n," • ").concat(r);t.length>1&&(a=p.ag.get("tracklist.drag.multiple.label",t.length)),te(e,t,a,C,i)}}),[te,O,J,Q,q,w,u,C]),me=(0,o.useCallback)((function(e){if(ue(Array.from(e.dataTransfer.types))&&ne.current){e.preventDefault();var t=ne.current.getBoundingClientRect(),n=t.top,i=t.height,a=e.clientY<n+i/2;e.dataTransfer.dropEffect="copy",a&&se!==r.Before&&le(r.Before),a||se===r.After||le(r.After)}}),[se,ue]),pe=(0,o.useCallback)((function(){le(r.None)}),[]),fe=(0,o.useCallback)((function(e){if(e.preventDefault(),B.length>0){var t=e.dataTransfer.getData("text/x-spotify-context"),n=parseInt(e.dataTransfer.getData("text/x-spotify-section"),10)||0,i=J().map((function(e){return e.uid}));if(F&&t===C&&ie===n&&i.length>0)F(i,w,se,{section:n,origin:n});else if(Z){var a=[];B.forEach((function(t){var n=e.dataTransfer.getData(t);n&&(a=a.concat(n.split("\n").map((function(e){var t=d().from(e);return t?t.toURI():e}))))})),a.length>0&&Z(a,w,se,t,{section:ie,origin:n})}}le(r.None),X()}),[B,F,Z,C,w,se,J,X,ie]),ve=(0,_.o)(),ge=(0,k.$P)(),he=(0,m.y1)((function(e){ve({intent:"play",type:"double-click"});var t=H?ge.logInteraction(H.doubleHitPlay({itemToBePlayed:u})):void 0;R(e,t)}),y.s_,{leading:!0,trailing:!1}),ye=(0,o.useCallback)((function(e){H&&x&&ge.logInteraction(H.doubleHitShowPaywall({paywalledItem:u})),null==x||x(e)}),[ge,x,H,u]),ke=(0,o.useCallback)((function(){return $((0,f.e2)())}),[$]),Ee=(0,o.useCallback)((function(){return $((0,E.RM)(u))}),[u,$]);W?n=ye:T?n=he:(D&&!ee&&(n=Ee),n=z||ke);var be=(0,o.useCallback)((function(e){q(w,e.shiftKey,e.ctrlKey||e.metaKey)}),[q,w]),_e=(0,o.useCallback)((function(e){var t=Q(w);if(t||q(w,e.shiftKey,e.ctrlKey||e.metaKey),U){var n=J().map((function(e){return e.uri})),r=J().map((function(e){return e.uid}));n.length>1&&t?ce(e,o.createElement(I,{uris:n,uids:r,contextUri:C,removePlaylistItems:G})):U(e)}}),[Q,w,U,J,q,ce,C,G]),Se=(0,o.useCallback)((function(e){var t;if(null!==(t=ne.current)&&void 0!==t&&t.contains(e.target)){var n="ArrowUp"===e.key?-1:1;["ArrowUp","ArrowDown"].includes(e.key)&&(e.shiftKey?Y(w,n):q(w+n,!1,!1))}}),[Y,q,w]),we=(0,k.Wi)(H),Ne=(0,o.useCallback)((function(e){ne.current=e,null==we||we(e)}),[we]),Oe=Q(w),Ce=Oe&&Q(w-1),Te=Oe&&Q(w+1);return o.createElement(v.RX,{rowIndex:N,"aria-selected":Oe},o.createElement("div",{"":"tracklist-row",className:l()(P.Z.trackListRow,P.Z.trackListRowGrid,(t={},(0,i.Z)(t,P.Z.active,L),(0,i.Z)(t,P.Z.disabled,!T),(0,i.Z)(t,P.Z.selected,Oe),(0,i.Z)(t,P.Z.isPreviousRowSelected,Ce),(0,i.Z)(t,P.Z.isNextRowSelected,Te),(0,i.Z)(t,P.Z.dropTargetBefore,se===r.Before),(0,i.Z)(t,P.Z.dropTargetAfter,se===r.After),t)),onDoubleClick:n,onClick:be,onContextMenu:_e,draggable:!0,onKeyDown:Se,onDragStart:de,onDragOver:me,onDragLeave:pe,onDrop:fe,ref:Ne},s))}},29452:(e,t,n)=>{"use strict";n.d(t,{T:()=>l});n(68309);var r=n(67294),i=n(57784),a=n(18261),o=n(80507),s=n(67892),l=function(e){var t=e.children,n=e.uri,l=e.name,c=e.onClick,u=e.index,d=(0,i.O1)([n],l),m=(0,r.useCallback)((function(){null==c||c(n,u)}),[c,n,u]);return r.createElement(a._,{menu:r.createElement(o.m,{uri:n})},r.createElement(s.r,{draggable:!0,to:n,onDragStart:d,dir:"auto",onClick:m},t))}},95134:(e,t,n)=>{"use strict";n.d(t,{g:()=>o});var r=n(67294),i=n(32667),a=n(94107),o=function(e){var t=e.children;return t?r.createElement(i.D,{variant:"ballad",className:a.Z.rowBadges,semanticColor:"textSubdued"},t):null}},31443:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var r=n(67294),i=n(94184),a=n.n(i),o=n(32667),s=n(49104),l=n(94107),c=r.memo((function(e){var t=e.duration,n=e.className;return r.createElement(o.D,{as:"div",variant:"mesto",className:a()(n,l.Z.rowDuration),semanticColor:"textSubdued"},(0,s.m)(t))}))},4152:(e,t,n)=>{"use strict";n.d(t,{D:()=>v});var r=n(29439),i=n(67294),a=n(94184),o=n.n(a),s=n(24697),l=n(28230),c=n(13947),u=n(49874),d=n(15852),m=n(56802),p=n(83813),f=n(94107),v=i.forwardRef((function(e,t){var n=e.className,a=void 0===n?"":n,v=e.children,g=e.onClick,h=e.isPlaying,y=e.isActive,k=e.isLocked,E=void 0!==k&&k,b=e.playAriaLabel,_=e.uri,S=e.spec,w=(0,m.o)(),N=(0,i.useState)(!1),O=(0,r.Z)(N,2),C=O[0],T=O[1],I=(0,d.$P)(),A=(0,s.y1)((function(e){var t,n=e.currentTarget,r=e.detail;if(e.stopPropagation(),r>0&&n&&n.blur(),w({intent:h?"pause":"play",type:"click"}),S&&!E){var i,a=S.playbackButtonFactory();i=y&&h?a.hitPause({itemToBePaused:_}):y&&!h?a.hitResume({itemToBeResumed:_}):a.hitPlay({itemToBePlayed:_}),t=I.logInteraction(i)}else S&&I.logInteraction(S.playbackButtonFactory().hitShowPaywall({paywalledItem:_}));g(e,t)}),c.s_,{leading:!0,trailing:!1});(0,i.useEffect)((function(){var e=function(){T(!0)},t=function(){T(!1)};return h&&(T(document.hasFocus()),window.addEventListener("focus",e),window.addEventListener("blur",t)),function(){window.removeEventListener("focus",e),window.removeEventListener("blur",t)}}),[h]);var P=!(0,u.T)()&&C;return i.createElement("div",{className:o()(f.Z.rowMarker,a)},h?i.createElement("img",{className:f.Z.playingIcon,width:"14",height:"14",alt:"",src:(0,l.g)(P?"images/equaliser-animated-green.gif":"images/equaliser-green.svg")}):v,i.createElement(p.I,{className:f.Z.rowPlayPauseButton,iconClassName:f.Z.rowPlayPauseIcon,onClick:A,isPlaying:h,isLocked:E,playAriaLabel:b,ref:t}))}))},4800:(e,t,n)=>{"use strict";n.d(t,{k:()=>o});var r=n(67294),i=n(32667),a=n(94107),o=function(e){var t=e.children;return t?"number"==typeof t?r.createElement(i.D,{variant:"ballad",className:a.Z.number},t):r.createElement("span",{className:a.Z.icon},t):null}},62696:(e,t,n)=>{"use strict";n.d(t,{Lb:()=>m,hU:()=>p,uD:()=>f});var r=n(67294),i=n(94184),a=n.n(i),o=n(94107),s=r.memo((function(){return r.createElement("div",{className:a()(o.Z.placeholder,o.Z.rowSectionVariable,o.Z.placeholderVariable)})})),l=r.memo((function(){return r.createElement("div",{className:a()(o.Z.placeholder,o.Z.rowSectionEnd,o.Z.placeholderEnd)})})),c=r.memo((function(){return r.createElement("div",{className:a()(o.Z.placeholder,o.Z.rowSectionIndex,o.Z.placeholderIndex)})})),u=r.memo((function(){return r.createElement("div",{className:a()(o.Z.placeholder,o.Z.rowSectionStart,o.Z.placeholderStartWithCoverImage)})})),d=r.memo((function(){return r.createElement("div",{className:a()(o.Z.placeholder,o.Z.rowSectionStart,o.Z.placeholderStart)})})),m=r.memo((function(e){var t=e.height;return r.createElement("div",{className:o.Z.trackListRowGrid,style:{height:t},"":"tracklist-row-placeholder"},r.createElement(c,null),r.createElement(u,null),r.createElement(s,null),r.createElement(s,null),r.createElement(s,null),r.createElement(s,null),r.createElement(l,null))})),p=r.memo((function(e){var t=e.height;return r.createElement("div",{className:o.Z.trackListRowGrid,style:{height:t},"":"tracklist-row-placeholder"},r.createElement(u,null),r.createElement(s,null),r.createElement(s,null),r.createElement(s,null),r.createElement(s,null),r.createElement(l,null))})),f=r.memo((function(e){var t=e.height;return r.createElement("div",{className:o.Z.trackListRowGrid,style:{height:t},"":"tracklist-row-placeholder"},r.createElement(c,null),r.createElement(d,null),r.createElement(s,null),r.createElement(s,null),r.createElement(s,null),r.createElement(s,null),r.createElement(l,null))}))},29578:(e,t,n)=>{"use strict";n.d(t,{m:()=>o});var r=n(67294),i=n(70325),a=n(94107),o=function(e){var t=e.children,n=e.ariaColIndex,o=e.ariaSort,s=e.role;return"columnheader"===(void 0===s?"gridcell":s)?r.createElement(i.YU,{columnIndex:n,ariaSort:o,className:a.Z.rowSectionEnd},t):r.createElement(i.id,{columnIndex:n,className:a.Z.rowSectionEnd},t)}},95074:(e,t,n)=>{"use strict";n.d(t,{U:()=>o});var r=n(67294),i=n(70325),a=n(94107),o=function(e){var t=e.children,n=e.ariaColIndex,o=e.ariaSort,s=e.role;return"columnheader"===(void 0===s?"gridcell":s)?r.createElement(i.YU,{columnIndex:n,ariaSort:o,className:a.Z.rowSectionVariable},t):r.createElement(i.id,{columnIndex:n,className:a.Z.rowSectionVariable},t)}},57740:(e,t,n)=>{"use strict";n.d(t,{K:()=>l});var r=n(67294),i=n(94184),a=n.n(i),o=n(32667),s=n(94107),l=function(e){var t=e.children;return r.createElement(o.D,{className:a()(s.Z.rowSubTitle,"standalone-ellipsis-one-line"),variant:"mesto",semanticColor:"textSubdued"},t)}},79142:(e,t,n)=>{"use strict";n.d(t,{W:()=>c});var r=n(67294),i=n(94184),a=n.n(i),o=n(32667),s=n(83692),l=n(94107),c=function(e){var t=e.titleText,n=e.children,i=r.createElement(o.D,{variant:"ballad",semanticColor:"textBase",dir:"auto",className:a()(l.Z.rowTitle,"standalone-ellipsis-one-line"),as:"div"},n);return r.createElement(s.w,{label:t},i)}},78462:(e,t,n)=>{"use strict";n.d(t,{Gb:()=>d,HI:()=>u,MI:()=>s,P0:()=>o,RJ:()=>l,kz:()=>m,zq:()=>c});n(21703),n(96647);var r=n(67294),i=n(22583),a=n(73785),o=[a.Q.ADDED_AT,a.Q.TITLE,a.Q.ALBUM],s=[a.Q.INDEX,a.Q.TITLE,a.Q.ALBUM,a.Q.DURATION],l=[a.Q.INDEX,a.Q.TITLE,a.Q.ALBUM,a.Q.DURATION],c=[a.Q.INDEX,a.Q.TITLE,a.Q.ALBUM,a.Q.ALBUM_OR_PODCAST,a.Q.ADDED_BY,a.Q.ADDED_AT,a.Q.DURATION],u={column:null,order:a.k.NONE},d=(0,r.createContext)({setSortState:function(){throw new Error("setSortState must be used within a TracksSortProvider")},sortState:u}),m=r.memo((function(e){var t=e.uri,n=e.children;return r.createElement(i.r,{uri:t,defaultState:u,sortContext:d},n)}))},28550:(e,t,n)=>{"use strict";n.d(t,{o:()=>u});n(68309),n(57327),n(41539),n(21249);var r=n(67294),i=n(96206),a=n(15852),o=n(67062),s=n(29452),l=n(94107),c=function(e){var t=e.name,n=e.uri,i=e.nonInteractive,a=e.children,o=e.onClick,c=e.index;return i?r.createElement("span",{className:l.Z.text},a):r.createElement(s.T,{name:t,uri:n,key:n,onClick:o,index:c},a)},u=function(e){var t=e.artists,n=e.filter,s=e.nonInteractive,l=void 0!==s&&s,u=e.spec,d=(0,a.$P)(),m=(0,r.useCallback)((function(e,t){u&&d.logInteraction(u.artistLinkFactory({position:null!=t?t:0,uri:e}).hitUiNavigate({destination:e}))}),[d,u]);return r.createElement(r.Fragment,null,t.map((function(e,t){var a=e.uri,s=e.name;return[t>0&&i.ag.getSeparator(),r.createElement(c,{key:a,uri:a,name:s,nonInteractive:l,onClick:m,index:t},r.createElement(o.o,{searchWords:[null!=n?n:""],textToHighlight:s}))]})))}},21509:(e,t,n)=>{"use strict";n.d(t,{p_:()=>re,BM:()=>F,dS:()=>ee,T6:()=>C,g3:()=>S.g,Op:()=>z,A$:()=>U.A,bt:()=>fe,qS:()=>Q,lD:()=>p,VG:()=>k,vm:()=>K,Du:()=>b.D,Zv:()=>$,km:()=>E.k,Lb:()=>H.Lb,JR:()=>ge,fx:()=>W,mU:()=>V.m,Dd:()=>M,vZ:()=>B,UA:()=>j.U,K9:()=>w.K,Wh:()=>_.W});var r=n(4942),i=n(67294),a=n(94184),o=n.n(a),s=n(89104),l=n(98983),c=n(96381),u=n(61251),d=n(94107),m=function(e){var t=e.isVideo,n=e.isEpisode,r=l.F;t?r=c.O:n&&(r=u.J);var a=n&&!t?4:0;return i.createElement("div",{className:o()(d.Z.rowImage,d.Z.rowImageFallback),style:{borderRadius:a||void 0}},i.createElement(r,{iconSize:16}))},p=function(e){var t=e.src,n=e.isVideo,a=void 0!==n&&n,l=e.isEpisode,c=void 0!==l&&l;return t?i.createElement(s.E,{className:o()(d.Z.rowImage,(0,r.Z)({},d.Z.rowImageVideo,a)),draggable:!1,src:t,loading:"eager",width:"40",height:"40",radius:c&&!a?4:0},i.createElement(m,{isVideo:a,isEpisode:c})):i.createElement(m,{isVideo:a,isEpisode:c})},f=n(24697),v=n(13947),g=n(15852),h=n(56802),y=n(83813),k=function(e){var t=e.uri,n=e.src,a=e.playAriaLabel,s=e.onClick,l=e.isPlaying,c=e.isActive,u=e.isLocked,m=e.isEpisode,k=e.isVideo,E=e.spec,b=(0,h.o)(),_=(0,g.$P)(),S=(0,f.y1)((function(e){var n;if(b({type:"click",intent:l?"pause":"play"}),E){var r,i=E.playbackButtonFactory();r=c&&l?i.hitPause({itemToBePaused:t}):c&&!l?i.hitResume({itemToBeResumed:t}):i.hitPlay({itemToBePlayed:t}),n=_.logInteraction(r)}s(e,n)}),v.s_,{leading:!0,trailing:!1});return i.createElement("div",{className:d.Z.rowImageWithPlay},i.createElement(p,{src:n,isEpisode:m,isVideo:k}),i.createElement(y.I,{className:o()(d.Z.rowPlayPauseButton,d.Z.rowImagePlayPauseButton,(0,r.Z)({},d.Z.rowImagePlayPauseButtonPlaying,l)),iconClassName:d.Z.rowPlayPauseIcon,onClick:S,isPlaying:l,isLocked:u,playAriaLabel:a}))},E=n(4800),b=n(4152),_=n(79142),S=n(95134),w=n(57740),N=(n(21249),n(68309),n(96206)),O=n(29452),C=function(e){var t=e.artists,n=e.spec,r=(0,g.$P)(),a=(0,i.useCallback)((function(e,t){n&&r.logInteraction(n.artistLinkFactory({position:null!=t?t:0,uri:e}).hitUiNavigate({destination:e}))}),[r,n]);return t?i.createElement(i.Fragment,null,t.map((function(e,t){var n=e.uri,r=e.name;return[t>0&&N.ag.getSeparator(),i.createElement(O.T,{name:r,uri:n,key:n,onClick:a,index:t},r)]}))):null},T=n(69518),I=n.n(T),A=n(32667),P=n(57784),D=n(18261),R=n(4232),x=n(86514),L=n(67892),F=function(e){var t=e.children,n=e.uri,r=e.name,a=e.nonInteractive,s=void 0!==a&&a,l=e.creatorUri,c=e.spec,u=null,m=(0,P.O1)([n],r),p=(0,g.$P)(),f=(0,i.useCallback)((function(){c&&p.logInteraction(c.albumLinkFactory({uri:n}).hitUiNavigate({destination:n}))}),[p,c,n]);return s?i.createElement("span",{className:o()("standalone-ellipsis-one-line",d.Z.text)},t):(I().isAlbum(n)&&(u=i.createElement(R.Y,{uri:n,artistUri:l})),I().isShow(n)&&(u=i.createElement(x.M,{uri:n})),i.createElement(D._,{menu:u},i.createElement(A.D,{variant:"mesto"},i.createElement(L.r,{draggable:!0,onDragStart:m,className:o()("standalone-ellipsis-one-line"),to:n,dir:"auto",onClick:f},t))))},U=n(31443),Z=n(70325),M=function(e){var t=e.children,n=e.ariaColIndex,r=e.ariaSort,a=e.role;return"columnheader"===(void 0===a?"gridcell":a)?i.createElement(Z.YU,{columnIndex:n,ariaSort:r,className:d.Z.rowSectionIndex},t):i.createElement(Z.id,{columnIndex:n,className:d.Z.rowSectionIndex},t)},B=function(e){var t=e.children,n=e.ariaColIndex,r=e.ariaSort,a=e.role;return"columnheader"===(void 0===a?"gridcell":a)?i.createElement(Z.YU,{columnIndex:n,ariaSort:r,className:d.Z.rowSectionStart},t):i.createElement(Z.id,{columnIndex:n,className:d.Z.rowSectionStart},t)},j=n(95074),V=n(29578),H=n(62696),G=n(43315),W=function(e){var t=e.releaseDate;return i.createElement(A.D,{variant:"mesto"},(0,G.rL)((0,G.RX)(t)))},z=function(e){var t=e.dateAdded;return i.createElement(A.D,{variant:"mesto",semanticColor:"textSubdued"},t.getTime()>0&&N.ag.formatRelativeDate(t,{year:"numeric",month:"short",day:"numeric",timeZone:"UTC"}))},K=function(e){var t=e.children;return i.createElement("div",{className:d.Z.rowMainContent},t)},Y=n(51871),q=n(24237),Q=function(e){var t=e.uri,n=e.type,r=e.spec,a=(0,g.$P)(),o=(0,i.useCallback)((function(e){if(r){var n=e?r.heartButtonFactory().hitLike({itemToBeLiked:t}):r.heartButtonFactory().hitRemoveLike({itemNoLongerLiked:t});a.logInteraction(n)}}),[r,a,t]);return"episode"===n?i.createElement(Y.w,{uri:t,className:d.Z.rowHeartButton,onClick:o}):i.createElement(q.B,{uri:t,className:d.Z.rowHeartButton,onClick:o})},J=n(20246),X=n(48690),$=function(e){var t=e.menu,n=e.label,r=e.spec,a=(0,g.$P)(),o=(0,i.useCallback)((function(){r&&a.logInteraction(r.contextButtonFactory().hitUiReveal())}),[a,r]);return i.createElement(J.y,{menu:t,onShow:o},i.createElement(X.z,{className:d.Z.rowMoreButton,size:16,label:n}))},ee=function(e){var t=e.children;return i.createElement(A.D,{dir:"auto",className:o()(d.Z.rowTitle,d.Z.discTitle,"standalone-ellipsis-one-line"),as:"div",variant:"balladBold"},t)},te=n(20367),ne=n(43480),re=function(e){var t=e.uri,n=e.imageUrl,r=e.name,a=e.showAvatar,o=e.spec,s=(0,g.$P)(),l=(0,i.useCallback)((function(){o&&s.logInteraction(o.addedByLinkFactory({position:0,uri:t}).hitUiNavigate({destination:t}))}),[s,o,t]);return i.createElement(D._,{menu:i.createElement(ne.I,{uri:t})},i.createElement(L.r,{className:d.Z.addedBy,to:t,onClick:l},a&&i.createElement(te.q,{images:[{url:n,width:null,height:null}],label:r,width:24,userIconSize:16}),i.createElement(A.D,{variant:"mesto",className:"standalone-ellipsis-one-line"},r)))},ie=n(15861),ae=n(87757),oe=n.n(ae),se=n(86706),le=n(87961),ce=n(6024),ue=n(23716),de=n(8341),me=n(67870),pe=n(18290),fe=function(e){var t=e.isDisliked,n=e.feedbackPath,r=e.feedbackUri,a=e.deleteFeedbackPath,o=e.spec,s=e.onClick,l=e.name,c=e.contextUri,u=(0,g.$P)(),m=(0,ue.g)(),p=(0,se.I0)(),f=(0,de.Y)((function(e){var t;return{uri:null==e||null===(t=e.item)||void 0===t?void 0:t.uri}}),(function(e,t){return(null==e?void 0:e.uri)===(null==t?void 0:t.uri)})).uri,v=(0,i.useCallback)((0,ie.Z)(oe().mark((function e(){return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,ce.x2.deleteFeedback(le.b.getInstance(),a,r);case 4:null==s||s(),o&&c&&u.logInteraction(o.addRecommendationButtonFactory().hitAddToPlaylist({playlist:c,itemToBeAdded:r}));case 6:case"end":return e.stop()}}),e)}))),[a,r,s,u,c,o]),h=(0,i.useCallback)((0,ie.Z)(oe().mark((function e(){return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,ce.x2.setFeedback(le.b.getInstance(),n,r);case 4:f===r&&m.skipToNext(),null==s||s(),p((0,me.Oh)(l)),o&&c&&u.logInteraction(o.removeRecommendationButtonFactory().hitRemoveRecommendation({recommendedItemUri:r,contextUri:c}));case 8:case"end":return e.stop()}}),e)}))),[r,n,f,s,p,l,o,c,m,u]);return i.createElement(pe.s,{className:d.Z.rowFeedbackButton,size:16,onClick:t?v:h,isDisliked:t})},ve=n(25121),ge=function(e){var t=e.stationURI,n=e.trackURI,r=(0,ve.j)(t,n);return i.createElement(pe.s,{className:d.Z.rowFeedbackButton,size:16,onClick:r})}},28248:(e,t,n)=>{"use strict";n.d(t,{Ym:()=>X.Ym,h_:()=>X.h_,kn:()=>Z.k,QD:()=>Z.Q,UT:()=>X.UT,dx:()=>X.dx,l0:()=>X.l0,dN:()=>z,rc:()=>K,iJ:()=>X.iJ,YK:()=>X.YK,cp:()=>X.cp,Lb:()=>$.Lb,uD:()=>$.uD,hU:()=>$.hU,e9:()=>X.e9,pt:()=>X.pt,Pv:()=>J});var r,i,a,o,s=n(4942),l=n(15861),c=n(29439),u=n(87462),d=n(45987),m=n(87757),p=n.n(m),f=(n(96647),n(83710),n(41539),n(39714),n(89554),n(54747),n(66992),n(70189),n(78783),n(33948),n(57327),n(26699),n(32023),n(5212),n(21249),n(69600),n(82481),n(91038),n(9653),n(47941),n(67294)),v=n(94184),g=n.n(v),h=n(69518),y=n.n(h),k=n(96206),E=n(70325),b=n(97181),_=n(70043),S=n(63373),w=n(32648),N=n(85951),O=n(22423),C=n(21509),T=n(18154),I=n(35031),A=(n(21703),n(97650)),P=n(47921),D=n(34142),R=n(1838),x=n(13406),L=n(32667),F=n(93605),U=n(83692),Z=n(73785),M=n(94107),B=function(){},j=(a={},(0,s.Z)(a,Z.Q.INDEX,(function(){return f.createElement(f.Fragment,null,"#")})),(0,s.Z)(a,Z.Q.TITLE,(function(e){var t=e.className,n=e.children,r=e.onSort,i=e.as,a=void 0===i?"div":i,o=e.alternativeText,s=e.columnIndex;return f.createElement(a,{className:g()(M.Z.column,t),onClick:function(){return r(Z.Q.TITLE,s)}},f.createElement(L.D,{variant:"minuet",className:"standalone-ellipsis-one-line"},o||k.ag.get("tracklist.header.title")),n)})),(0,s.Z)(a,Z.Q.PLAYS,(function(){return f.createElement(L.D,{variant:"minuet",className:M.Z.playsHeader},k.ag.get("tracklist.header.plays"))})),(0,s.Z)(a,Z.Q.ADDED_BY,(function(e){var t=e.className,n=e.children,r=e.onSort,i=e.as,a=void 0===i?"div":i,o=e.columnIndex;return f.createElement(a,{className:g()(M.Z.column,t),onClick:function(){return r(Z.Q.ADDED_BY,o)}},f.createElement(L.D,{variant:"minuet",className:"standalone-ellipsis-one-line"},k.ag.get("tracklist.header.added-by")),n)})),(0,s.Z)(a,Z.Q.ADDED_AT,(function(e){var t=e.className,n=e.children,r=e.onSort,i=e.as,a=void 0===i?"div":i,o=e.columnIndex;return f.createElement(a,{className:g()(M.Z.column,t),onClick:function(){return r(Z.Q.ADDED_AT,o)}},f.createElement(L.D,{variant:"minuet",className:"standalone-ellipsis-one-line"},k.ag.get("tracklist.header.date-added")),n)})),(0,s.Z)(a,Z.Q.RELEASE_DATE,(function(e){var t=e.className,n=e.children,r=e.as,i=void 0===r?"div":r;return f.createElement(i,{className:g()(M.Z.column,t)},f.createElement(L.D,{variant:"minuet",className:g()("standalone-ellipsis-one-line",t)},k.ag.get("tracklist.header.release-date")),n)})),(0,s.Z)(a,Z.Q.DURATION,(function(e){var t=e.className,n=e.children,r=e.onSort,i=e.as,a=void 0===i?"div":i,o=e.columnIndex;return f.createElement(U.w,{label:k.ag.get("tracklist.header.duration")},f.createElement(a,{"aria-label":k.ag.get("tracklist.header.duration"),className:g()(M.Z.column,M.Z.durationHeader,t),onClick:function(){return r(Z.Q.DURATION,o)}},n,f.createElement(F.q,{iconSize:16})))})),(0,s.Z)(a,Z.Q.EVENT_DATE,(function(e){var t=e.className,n=e.children,r=e.as,i=void 0===r?"div":r;return f.createElement(i,{className:g()(M.Z.column,t)},f.createElement(L.D,{variant:"minuet",className:g()("standalone-ellipsis-one-line",t)},k.ag.get("tracklist.header.event")),n)})),(0,s.Z)(a,Z.Q.ACTIONS,(function(e){var t=e.className;return f.createElement("div",{"aria-label":k.ag.get("tracklist.header.actions"),className:g()(M.Z.column,M.Z.actionsHeader,t)})})),(0,s.Z)(a,Z.Q.ALBUM,(function(e){var t=e.className,n=e.children,r=e.onSort,i=e.as,a=void 0===i?"div":i,o=e.columnIndex;return f.createElement(a,{className:g()(M.Z.column,t),onClick:function(){return r(Z.Q.ALBUM,o)}},f.createElement(L.D,{variant:"minuet",className:"standalone-ellipsis-one-line"},k.ag.get("tracklist.header.album")),n)})),(0,s.Z)(a,Z.Q.ALBUM_OR_PODCAST,(function(e){var t=e.className,n=e.children,r=e.onSort,i=e.as,a=void 0===i?"div":i,o=e.columnIndex;return f.createElement(a,{className:g()(M.Z.column,t),onClick:function(){return r(Z.Q.ALBUM_OR_PODCAST,o)}},f.createElement(L.D,{variant:"minuet",className:g()("standalone-ellipsis-one-line",t)},k.ag.get("tracklist.header.album-or-podcast")),n)})),(0,s.Z)(a,Z.Q.ALBUM_OR_SHOW,(function(e){var t=e.className,n=e.children,r=e.onSort,i=e.as,a=void 0===i?"div":i,o=e.columnIndex;return f.createElement(a,{className:g()(M.Z.column,t),onClick:function(){return r(Z.Q.ALBUM_OR_SHOW,o)}},f.createElement(L.D,{variant:"minuet",className:g()("standalone-ellipsis-one-line",t)},k.ag.get("music_and_talk.album_or_show")),n)})),(o={})[r=Z.Q.ADD]=o[r]||{},o[r].get=function(){throw Error("Add has no corresponding column header component")},o[i=Z.Q.ARTIST]=o[i]||{},o[i].get=function(){throw Error("Artist has no corresponding column header component")},(0,I.Z)(a,o),a),V=function(e,t,n){return function(r,i,a){var o=C.UA,l=function(e,t,n){return n.has(e)?t.column!==e?Z.k.NONE:t.order:Z.k.NONE}(r,t,e),c=j[r];0===i&&r===Z.Q.INDEX?o=C.Dd:1===i&&a[0]===Z.Q.INDEX||0===i?o=C.vZ:i===a.length-1&&(o=C.mU);var u=e.has(r),d=u?n:B,m=(0,R.b3)(l),p=(0,R.VH)(l),v=void 0;m&&(v="ascending"),p&&(v="descending"),l===Z.k.NONE&&(v="none");var h=(0,R.cB)(r,l)?k.ag.get("card.tag.artist"):void 0;return f.createElement(o,{key:r,role:"columnheader",ariaColIndex:i,ariaSort:v},f.createElement(c,{className:g()((0,s.Z)({},M.Z.sortable,u)),onSort:d,alternativeText:h,as:u?"button":"div",columnIndex:i},p&&f.createElement(P.i,{iconSize:16,semanticColor:"textBrightAccent",className:M.Z.arrow}),m&&f.createElement(D.U,{iconSize:16,className:M.Z.arrow,semanticColor:"textBrightAccent"})))}},H=function(e){var t=e.columns,n=e.sortableColumns,r=e.onSort,i=e.sortState,a=e.top,o=void 0===a?x.K1:a,l=f.useContext(w.VX).scrollNodeRef,c=(0,A.YD)({threshold:[1],root:l.current,rootMargin:"-".concat(o+1,"px 100000px 0px 100000px"),initialInView:!0}),u=c.ref,d=c.inView;return f.createElement("div",{className:g()(M.Z.trackListHeader,(0,s.Z)({},M.Z.trackListHeaderStuck,!d)),ref:u,style:{top:o}},f.createElement(E.RX,{rowIndex:0,className:g()(M.Z.trackListHeaderRow,M.Z.trackListRowGrid)},t.map(V(n,i,r))))},G=["resolveUri","resolveUid","tracks"],W={column:null,order:Z.k.NONE},z=56,K=64,Y=function(e,t){return t.toString()};function q(e){var t=e.resolveUri,n=e.resolveUid,r=void 0===n?Y:n,i=e.tracks,a=(0,d.Z)(e,G),o=(0,f.useRef)({});return i&&i.forEach((function(e,t){o.current[t]=e})),f.createElement(T.o,{resolveUri:t,resolveUid:r,tracksRef:o},f.createElement(Q,(0,u.Z)({},a,{resolveUri:t,resolveUid:r,trackMap:o})))}function Q(e){var t,n=e.nrTracks,r=e.renderRow,i=e.sortableColumns,a=void 0===i?new Set:i,o=e.sortState,u=void 0===o?W:o,d=e.onSort,m=void 0===d?function(){}:d,v=e.onRemove,h=void 0===v?function(){}:v,I=e.fetchTracks,A=e.limit,P=void 0===A?100:A,D=e.canFetchAllTracks,R=void 0!==D&&D,x=e.rowPlaceholder,L=void 0===x?C.Lb:x,F=e.hasHeaderRow,U=void 0!==F&&F,B=e.columns,j=e.trackMap,V=e.outerRef,G=e.outerDomRef,Y=e.ariaLabel,q=e.testID,Q=void 0===q?"track-list":q,J=e.resolveUid,X=e.resolveUri,$=e.headerTop,ee=(0,f.useContext)(w.VX).scrollNodeRef,te=(0,f.useContext)(T.i),ne=te.clearSelected,re=te.selectAll,ie=te.getSelected,ae=(0,f.useContext)(O.fo).filter,oe=(0,f.useRef)(null),se=(0,f.useRef)(!1),le=(0,f.useRef)({firstIndex:-1,lastIndex:-1}),ce=(0,f.useState)(0),ue=(0,c.Z)(ce,2)[1],de=(0,f.useState)(B.length),me=(0,c.Z)(de,2),pe=me[0],fe=me[1],ve=null!=G?G:oe,ge=B.includes(Z.Q.INDEX),he=k.ag.getLocale()===k.go.ar?K:z,ye=(0,f.useCallback)((function(){if(ve.current){var e=function(e,t,n){var r=t?1:0;return e<504?Math.min(2+r,n):e<728?Math.min(3+r,n):e<984?Math.min(4+r,n):e<1208?Math.min(5+r,n):Math.min(6+r,n)}(ve.current.offsetWidth,ge,B.length);fe(e)}}),[B,ge,ve]);(0,N.y)({refOrElement:ve,observeOnly:"width",onResize:ye}),(0,f.useEffect)((function(){ye()}),[ye]),(0,f.useEffect)((function(){var e=function(e){ve.current&&e.target instanceof Node&&(ve.current.contains(e.target)||"INPUT"!==e.target.tagName&&ne())};return window.addEventListener("click",e),function(){window.removeEventListener("click",e)}}),[ne,ve]);var ke=(0,f.useRef)(0),Ee=(0,f.useCallback)((function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=Math.max(e,0);if((!se.current||r)&&I){se.current=!0,r&&(ke.current+=1);var a=ke.current;I(i,t).then((function(e){a===ke.current&&(r&&(j.current={}),e.forEach((function(e,t){j.current[i+t]=e})),se.current=!1,(n<=e.length||P===e.length)&&ue((function(e){return e+1})))})).catch((function(e){ue((function(){throw e}))}))}}),[I,P,j]),be=(0,f.useCallback)((function(){if(-1!==le.current.firstIndex&&I){var e=Math.max(le.current.lastIndex-le.current.firstIndex+1,0);Ee(le.current.firstIndex,P,e,!0)}}),[Ee,I,P]),_e=(0,f.useCallback)((function(e){ee.current&&(ee.current.scrollTop=e*he)}),[ee,he]),Se=(0,f.useCallback)((function(e){if(R&&I&&e.length>0){var t=[];I(0,n).then((function(n){n.forEach((function(n,r){e.some((function(e){return e.uid===J(n,r)||e.uri===X(n)}))&&t.push(r)})),t.length>0&&_e(Math.min.apply(Math,t))})).catch((function(e){console.error(e)}))}}),[R,I,n,J,X,_e]),we=(0,f.useCallback)((function(){var e=ie();Se(e.map((function(e){return{uid:e.uid}})))}),[ie,Se]),Ne=(0,f.useCallback)((function(){return le.current}),[]);(0,f.useEffect)((function(){be()}),[n]),(0,f.useImperativeHandle)(V,(function(){return{update:function(){return be()},getRows:function(){return j.current},scrollToItem:function(e){return Se([e])},getSelected:ie,scrollToIndex:_e,scrollToFirstSelected:we,getVisibleTrackWindow:Ne}}));var Oe=(0,f.useCallback)((function(){var e;if(ve.current){var t=document.querySelector(".".concat(M.Z.trackList)),r=(null==t?void 0:t.isEqualNode(ve.current))||!1,i=null===(e=document.activeElement)||void 0===e?void 0:e.closest(".".concat(M.Z.trackList));((null==i?void 0:i.isEqualNode(ve.current))||!1||r&&!i)&&(R&&I?I(0,n).then((function(e){e.forEach((function(e,t){j.current[t]=e})),re(),n<=e.length&&ue((function(e){return e+1}))})).catch((function(e){ue((function(){throw e}))})):re())}}),[re,R,n,I,j,ve]);(0,_.eY)(_.O4.SELECT_ALL,Oe);var Ce=(0,f.useCallback)(function(){var e=(0,l.Z)(p().mark((function e(t,n){var r,i;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=ie(),!(i=r.map((function(e){var t,r=e.uri;return n?r:null===(t=y().from(r))||void 0===t?void 0:t.toOpenURL()})).join("\n")).length){e.next=5;break}return e.next=5,t(i);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[ie]);(0,b.TQ)(Ce);var Te=(0,f.useCallback)((function(e){var t;if(null!==(t=ve.current)&&void 0!==t&&t.contains(document.activeElement)){if(!j.current)return;var n=ie().map((function(e){var t=e.uid;return{uri:e.uri,id:t}}));if(0===n.length)return;h(n,(function(){ne()}),e)}}),[ne,ie,h,j,ve]);(0,_.eY)(_.O4.DELETE,(function(){return Te()}));var Ie=(0,f.useCallback)(function(){var e=(0,l.Z)(p().mark((function e(t){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ce(t,!1);case 2:Te(!0);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[Ce,Te]);(0,b.gs)(Ie);var Ae=(0,f.useCallback)((function(e){if("Escape"===e.key&&!e.repeat){if(ae)return;ne()}"Backspace"!==e.key&&"Delete"!==e.key||e.repeat||Te()}),[ne,Te,ae]),Pe=(0,f.useCallback)((function(e,t){return f.createElement(L,{key:t,height:e})}),[L]);return f.createElement(E.j,{"aria-rowcount":n+Number(U),"aria-colcount":pe,"aria-label":Y,ref:ve,className:g()(M.Z.trackList,(t={},(0,s.Z)(t,M.Z.indexable,ge),(0,s.Z)(t,M.Z.delayedVisibility,0===Object.keys(j.current).length),t)),onKeyDown:Ae,"":Q},U&&f.createElement(H,{columns:B,sortableColumns:a,sortState:u,onSort:m,top:$}),f.createElement(S.V,{renderRows:function(e,t){var i=Math.max(t-e+1,0);i>0&&(le.current={firstIndex:e,lastIndex:t});var a=n+1,o=-1,s=Array.from(Array(i)).map((function(t,n){var i=j.current[e+n];return void 0===i&&(o=Math.max(o,e+n),a=Math.min(a,e+n)),i?r(i,e+n):Pe("".concat(he,"px"),"".concat(e+n))})),l=o-a+1;return l>0&&(o===t?Ee(a,P,l):a===e?Ee(o-P+1,P,l):Ee(a,o-a+1,l)),s},nrRows:n,rowHeight:he,scrollNodeRef:ee,nrRowsOverscan:20,renderPlaceholder:Pe}))}var J=f.memo(q),X=n(95880),$=n(62696)},74600:(e,t,n)=>{"use strict";n.d(t,{t:()=>T});var r=n(67294),i=n(24859),a=n(1848),o=n(96206),s=n(86064),l=n(42922),c=n(15852),u=n(21509),d=n(31443),m=n(4152),p=n(4800),f=n(29578),v=n(95074),g=n(57740),h=n(79142),y=n(4942),k=(n(26699),n(94184)),E=n.n(k),b=n(24697),_=n(70325),S=n(13947),w=n(56802),N=n(18154),O=n(94107),C=function(e){var t,n=e.children,i=e.index,a=e.ariaRowIndex,o=e.onTriggerPlay,s=e.isActive,l=e.uri,u=e.spec,d=(0,c.$P)(),m=(0,r.useContext)(N.i),p=m.pushPopSelected,f=m.toggleSelected,v=m.isSelected,g=(0,r.useRef)(null),h=(0,w.o)(),k=(0,b.y1)((function(e){h({intent:"play",type:"double-click"});var t=d.logInteraction(u.doubleHitPlay({itemToBePlayed:l}));o(e,t)}),S.s_,{leading:!0,trailing:!1}),C=(0,r.useCallback)((function(e){f(i,e.shiftKey,e.ctrlKey||e.metaKey)}),[f,i]),T=(0,r.useCallback)((function(e){var t;if(null!==(t=g.current)&&void 0!==t&&t.contains(e.target)){var n="ArrowUp"===e.key?-1:1;["ArrowUp","ArrowDown"].includes(e.key)&&(e.shiftKey?p(i,n):f(i+n,!1,!1))}}),[p,f,i]),I=v(i),A=I&&v(i-1),P=I&&v(i+1),D=(0,c.Wi)(u),R=(0,r.useCallback)((function(e){g.current=e,null==D||D(e)}),[D]);return r.createElement(_.RX,{rowIndex:a,"aria-selected":I},r.createElement("div",{"":"tracklist-row",className:E()(O.Z.trackListRow,O.Z.trackListRowGrid,(t={},(0,y.Z)(t,O.Z.active,s),(0,y.Z)(t,O.Z.selected,I),(0,y.Z)(t,O.Z.isPreviousRowSelected,A),(0,y.Z)(t,O.Z.isNextRowSelected,P),t)),onDoubleClick:k,onClick:C,onKeyDown:T,ref:R},n))},T=function(e){var t=e.uri,n=e.title,y=void 0===n?"":n,k=e.index,E=e.subtitle,b=void 0===E?"":E,_=e.showName,S=void 0===_?"":_,w=e.showUri,N=void 0===w?"":w,T=e.duration,I=void 0===T?0:T,A=e.start,P=e.stop,D=(0,s.k)({episodeUri:t,start:A,stop:P}),R=D.isActive,x=D.isPlaying,L=D.onClick,F=(0,r.useCallback)((function(e,t){L(t)}),[L]),U=(0,c.fU)(a.createDesktopTrackListRowEventFactory,{data:{position:k,reason:"",uri:t}}).spec;return r.createElement(l.ZP,{value:"row",index:k},r.createElement(C,{index:k,ariaRowIndex:k+1,onTriggerPlay:F,isActive:R,spec:U,uri:t},r.createElement(u.vZ,{ariaColIndex:0},r.createElement(m.D,{uri:t,playAriaLabel:o.ag.get("tracklist.a11y.play",b,S),onClick:F,isPlaying:x,isActive:R,spec:U},r.createElement(p.k,null,r.createElement(i.l,{className:O.Z.talkIcon,"aria-hidden":!0}))),r.createElement(u.vm,null,r.createElement(h.W,{titleText:y},y),r.createElement(g.K,null,b))),r.createElement(v.U,{ariaColIndex:1},r.createElement(u.BM,{uri:N,name:S,spec:U},r.createElement("span",{dir:"auto"},S))),r.createElement(f.m,{ariaColIndex:2},r.createElement(d.A,{duration:I,className:O.Z.talkSegmentDuration}))))}},95880:(e,t,n)=>{"use strict";n.d(t,{Ym:()=>F,h_:()=>me,UT:()=>Ne,dx:()=>ie,l0:()=>he,iJ:()=>Te,YK:()=>be,cp:()=>Ee,e9:()=>ge,pt:()=>ve,SS:()=>Oe});n(68309),n(69600),n(21249),n(9653);var r,i=n(67294),a=n(86706),o=n(51615),s=n(69518),l=n.n(s),c=n(87577),u=n(1848),d=n(96206),m=n(32626),p=n(85576),f=n(87257),v=n(57978),g=n(42922),h=n(19986),y=n(55773),k=n(15852),E=n(7073),b=n(8247),_=n(16526),S=n(84788),w=function(e){return e===b.aO.VARIANT},N=n(91797),O=n(87093),C=n(43028),T=n(61946),I=n(88214),A=n(67892),P=n(21509),D=n(32667),R=n(94107),x=i.memo((function(e){var t=e.playcount;return t<1?null:i.createElement(D.D,{as:"div",variant:"mesto",className:R.Z.rowPlayCount},d.ag.formatNumber(t))})),L=n(82760),F=i.memo((function(e){var t=e.uri,n=e.name,r=e.isPlayable,s=e.duration_ms,D=e.artists,F=e.contentRating,U=e.index,Z=e.trackNumber,M=e.playcount,B=e.shouldRenderPlayCount,j=e.shouldHighLight,V=void 0!==j&&j,H=e.contextUri,G=e.uid,W=e.usePlayContextItem,z=(0,k.fU)(u.createDesktopTrackListRowEventFactory,{data:{position:U,reason:"",uri:t}}).spec,K=(0,o.TH)(),Y=(0,y.vI)(_.k.InternalTrackLinks,K),q=(0,O.E)(),Q=(0,h._)(t),J=(0,C.k)(t,r),X=(0,S.r)({downloadAvailability:Q,contentRating:F}),$=X.badges,ee=X.hasBadges,te=F===E.KS.NineteenPlus,ne=D.map((function(e){return e.profile.name})).join(d.ag.getSeparator()),re=function(e){return e.map((function(e){return{name:e.profile.name,uri:e.uri,key:e.uri}}))},ie=W({uid:G,uri:t,index:U}),ae=ie.isActive,oe=ie.isPlaying,se=ie.triggerPlay,le=ie.togglePlay,ce=l().from(H),ue=ce?ce.getBase62Id():"",de=(0,c.W6)(b.LW),me=w(de),pe=(0,a.v9)(T.Hw),fe=(0,N.FJ)(pe,ue),ve=q&&(fe||me||Y);return i.createElement(g.ZP,{value:"row",index:U},i.createElement(m.xV,{trigger:"right-click",action:"open",menu:i.createElement(I.$,{uri:t,albumUri:H,artists:re(D),contextUri:H})},i.createElement(L.c,{uri:t,contextUri:H,isPlayable:J,index:U,isActive:ae,onTriggerPlay:function(e,t){se({loggingParams:t})},ageRestricted:te,ariaRowIndex:U+1,dragMetadata:{name:n,createdBy:ne},initialSelectedState:V,spec:z},i.createElement(P.Dd,{ariaColIndex:0},i.createElement(P.Du,{uri:t,playAriaLabel:d.ag.get("tracklist.a11y.play",n,ne),onClick:function(e,t){le({loggingParams:t})},isPlaying:oe,isActive:ae,spec:z},i.createElement(P.km,null,Z))),i.createElement(P.vZ,{ariaColIndex:1},i.createElement(P.vm,null,ve?i.createElement(A.r,{to:t,className:R.Z.rowTitle,"":"internal-track-link"},i.createElement(P.Wh,{titleText:n},n)):i.createElement(P.Wh,{titleText:n},n),ee&&i.createElement(P.g3,null,$.download&&i.createElement(p.G,{size:16}),$.explicit&&i.createElement(f.N,null),$.nineteen&&i.createElement(v.X,{className:R.Z.nineteen,size:16})),i.createElement(P.K9,null,i.createElement(P.T6,{artists:D.map((function(e){return{uri:e.uri,name:e.profile.name}})),spec:z})))),B&&i.createElement(P.UA,{ariaColIndex:1+Number(B)},i.createElement(x,{playcount:M})),i.createElement(P.mU,{ariaColIndex:2+Number(B)},i.createElement(P.qS,{uri:t,spec:z}),i.createElement(P.A$,{duration:s}),i.createElement(P.Zv,{menu:i.createElement(I.$,{uri:t,albumUri:H,artists:re(D)}),label:d.ag.get("more.label.track",n,ne),spec:z})))))}),(function(e,t){return e.uri===t.uri})),U=(n(57327),n(41539),n(83710),n(96381)),Z=n(61251),M=n(98983),B=n(56294),j=n(143),V=n(49961),H=n(25988),G=n(26921),W=n(88435),z=n(67062),K=n(22423),Y=n(28550),q=(n(92222),n(5266)),Q=n(43315),J=n(56802),X=function(e){var t=e.eventDate,n=e.ticketingSiteURL,r=(0,J.o)(),a=d.ag.formatDate((0,Q.RX)(t),{year:"numeric",month:"short",day:"numeric"}),o=d.ag.get("tracklist.livestream");return(0,Q.RX)(t)<new Date?i.createElement(D.D,{className:R.Z.eventDate,variant:"mesto",semanticColor:"textSubdued"},"".concat(o," • ").concat(a)):i.createElement(D.D,{className:R.Z.eventDate,variant:"mesto",semanticColor:"textSubdued"},i.createElement("a",{href:n,onClick:function(){r({targetUri:n,intent:"navigate",type:"click"})}},i.createElement(q.i,{className:R.Z.eventTicketIcon,height:19}),"".concat(o," • ").concat(a)))},$=(n(47042),n(20367)),ee=n(18261),te=n(43480),ne=function(e){var t=e.uri,n=e.imageUrl,r=e.displayName,a=e.username,o=e.piled,s=e.onClick,l=i.createElement($.q,{images:[{url:n,width:null,height:null}],label:r,width:24,userIconSize:16,piled:o,displayName:r,username:a,className:R.Z.facepileAvatar});return t?i.createElement(ee._,{menu:i.createElement(te.I,{uri:t})},i.createElement(A.r,{className:R.Z.facepile,to:t,onClick:s},l)):i.createElement("span",{className:R.Z.facepile},l)},re=function(e){var t=e.users,n=e.spec,r=(0,k.$P)();return i.createElement(i.Fragment,null,t.slice(0,5).map((function(e,t){var a;return i.createElement(ne,{key:e.uri||e.displayName,uri:e.uri,imageUrl:(null===(a=(0,V.X)(e.images))||void 0===a?void 0:a.url)||"",displayName:e.displayName,username:e.username,piled:t>0,onClick:function(){if(n&&e.uri){var i=n.addedByLinkFactory({position:t,uri:e.uri}).hitUiNavigate({destination:e.uri});r.logInteraction(i)}}})})))},ie=i.memo((function(e){var t=e.uri,n=e.uid,r=e.id,a=e.name,o=e.duration_ms,s=e.artists,l=e.albumOrShow,c=e.isMOGEFRestricted,y=e.isExplicit,E=e.isPlayable,b=e.isLocal,_=void 0!==b&&b,w=e.isPaywalled,N=e.isUserSubscribed,T=e.index,D=e.playIndex,x=void 0===D?null:D,F=e.isCollaborative,q=e.nrCollaborators,Q=void 0===q?1:q,J=e.isMixedMedia,$=e.addedBy,ee=e.hasDecoratedAddedBy,te=e.dateAdded,ne=e.release_date,ie=e.type,ae=e.imgUrl,oe=e.contextUri,se=e.onMove,le=e.onInsert,ce=e.usePlayContextItem,ue=e.allowedDropTypes,de=e.feedbackPath,me=e.feedbackUri,pe=e.deleteFeedbackPath,fe=e.isDisliked,ve=e.ticketingSiteURL,ge=e.eventDate,he=e.isLive,ye=e.isBlend,ke=void 0!==ye&&ye,Ee=e.canRemove,be=e.onFeedbackClick,_e=e.playlistName,Se=(0,k.fU)(u.createDesktopTrackListRowEventFactory,{data:{position:T,reason:"",uri:t}}).spec,we=(0,i.useContext)(K.fo).filter,Ne=(0,h._)(t),Oe=(0,C.k)(t,E,_),Ce="episode"===ie,Te="track"!==ie&&(null==l?void 0:l.mediaType)===j.E.VIDEO,Ie=w&&!N,Ae=(0,S.r)({downloadAvailability:Ne,isExplicit:y,isMOGEFRestricted:c,isPaywalled:w}),Pe=Ae.badges,De=Ae.hasBadges,Re=(0,O.E)(),xe=T+1;J&&(xe=Te?i.createElement(U.O,{"":"video-icon",iconSize:16}):Ce?i.createElement(Z.J,{"":"podcast-icon",iconSize:16}):i.createElement(M.F,{"":"track-icon",iconSize:16}));var Le=i.createElement(I.$,{uri:t,uid:r,albumUri:null==l?void 0:l.uri,artists:s,contextUri:oe,canBeRemovedFromPlaylist:Ee});Ce?Le=i.createElement(H.k,{uri:t,uid:r,showUri:null==l?void 0:l.uri,contextUri:oe,canBeRemovedFromPlaylist:Ee}):_&&(Le=i.createElement(G.N,{uri:t,uid:n,contextUri:oe,canBeRemovedFromPlaylist:Ee}));var Fe=Ce?l.publisher:(null==s?void 0:s.map((function(e){return e.name})).join(d.ag.getSeparator()))||"",Ue=null==$?void 0:$[0],Ze=(0,V.X)(null==Ue?void 0:Ue.images,{desiredWidth:24,desiredLabel:"small"}),Me=ce({uid:n,uri:t,index:null!=x?x:T}),Be=Me.isActive,je=Me.isPlaying,Ve=Me.triggerPlay,He=Me.togglePlay,Ge=F||Q>1||ke,We=function(){return i.createElement(P.Wh,{titleText:a},i.createElement(z.o,{searchWords:[we],textToHighlight:a}))};return i.createElement(g.ZP,{value:"row",index:T},i.createElement(W.l,{renderInline:!1,enabled:!0,showUri:l.uri},(function(e,n){var r;return i.createElement(m._P,{menu:Le},i.createElement(L.c,{uri:t,contextUri:oe,index:T,onTriggerPlay:function(e,t){Ve({loggingParams:t})},onTriggerPaywall:function(e){n(e)},isLocked:Ie,isActive:Be,ariaRowIndex:T+1,isPlayable:Oe,ageRestricted:c,dragMetadata:{name:a,createdBy:Fe},onMove:se,onInsert:le,allowedDropTypes:ue,spec:Se},i.createElement(P.Dd,{ariaColIndex:0},i.createElement(W.l,{showUri:l.uri,renderInline:!1,enabled:Ie},i.createElement(P.Du,{uri:t,playAriaLabel:d.ag.get("tracklist.a11y.play",a,Fe),onClick:function(e,t){Ie||He({loggingParams:t})},isPlaying:je,isActive:Be,isLocked:Ie,spec:Se},i.createElement(P.km,null,xe)))),i.createElement(P.vZ,{ariaColIndex:1},i.createElement(P.lD,{src:ae,isVideo:Te,isEpisode:Ce}),i.createElement(P.vm,null,Re?i.createElement(A.r,{to:t,className:R.Z.rowTitle,"":"internal-track-link"},We()):We(),De&&i.createElement(P.g3,null,Pe.download&&i.createElement(p.G,{size:16}),Pe.explicit&&i.createElement(f.N,null),Pe.paid&&i.createElement(B.g,null),Pe.nineteen&&i.createElement(v.X,{className:R.Z.nineteen,size:16})),i.createElement(P.K9,null,!Ce&&!Te&&s&&i.createElement(Y.o,{nonInteractive:_,artists:s,filter:we,spec:Se}),Ce&&!Te&&Fe))),i.createElement(P.UA,{ariaColIndex:2},i.createElement(P.BM,{nonInteractive:_,uri:l.uri,name:l.name,creatorUri:null==s||null===(r=s[0])||void 0===r?void 0:r.uri,spec:Se},i.createElement(z.o,{searchWords:[we],textToHighlight:l.name}))),Ge&&i.createElement(P.UA,{ariaColIndex:3},ke?i.createElement(re,{users:$,spec:Se}):i.createElement(P.p_,{name:(null==Ue?void 0:Ue.displayName)||(null==Ue?void 0:Ue.username)||"",uri:(null==Ue?void 0:Ue.uri)||"",imageUrl:(null==Ze?void 0:Ze.url)||"",showAvatar:ee,spec:Se})),J&&i.createElement(P.UA,{ariaColIndex:3+Number(Ge)},Ce&&i.createElement(P.fx,{releaseDate:ne})),he?i.createElement(P.UA,{ariaColIndex:3+Number(Ge)+Number(J)},ge&&ve?i.createElement(g.ZP,{value:"ticket-link"},i.createElement(X,{eventDate:ge,ticketingSiteURL:ve})):null):i.createElement(P.UA,{ariaColIndex:3+Number(Ge)+Number(J)},te?i.createElement(P.Op,{dateAdded:new Date(te)}):null),i.createElement(P.mU,{ariaColIndex:4+Number(Ge)+Number(J)},!Te&&!_&&i.createElement(P.qS,{uri:t,type:ie,spec:Se}),de&&pe&&i.createElement(P.bt,{isDisliked:fe,feedbackPath:de,deleteFeedbackPath:pe,feedbackUri:me||t,onClick:be,name:_e,contextUri:oe}),i.createElement(P.A$,{duration:o}),i.createElement(P.Zv,{menu:Le,label:d.ag.get("more.label.track",a,Fe),spec:Se}))))})))}),(function(e,t){return e.uri===t.uri&&e.allowedDropTypes.length===t.allowedDropTypes.length&&e.isCollaborative===t.isCollaborative&&e.nrCollaborators===t.nrCollaborators&&e.isPlayable===t.isPlayable})),ae=n(4942),oe=n(47921),se=n(34142),le=n(26914),ce=n(59916),ue=(r={},(0,ae.Z)(r,ce.tl.DOWN,(function(){return i.createElement(oe.i,{iconSize:16,className:R.Z.statusChangeDown})})),(0,ae.Z)(r,ce.tl.UP,(function(){return i.createElement(se.U,{iconSize:16,className:R.Z.statusChangeUp})})),(0,ae.Z)(r,ce.tl.NEW,(function(){return i.createElement(le.Z,{className:R.Z.notificationDot})})),(0,ae.Z)(r,ce.tl.EQUAL,(function(){return null})),r),de=function(e){var t=e.status,n=e.number,r=ue[t];return i.createElement("div",{className:R.Z.rowChartStatus},i.createElement(D.D,{variant:"ballad"},n),i.createElement(r,null))},me=i.memo((function(e){var t,n=e.uri,r=e.name,a=e.duration_ms,o=e.artists,s=e.album,l=e.isMOGEFRestricted,c=e.isExplicit,m=e.isPlayable,y=e.uid,E=e.index,b=e.contextUri,_=e.imgUrl,w=e.statusChange,N=e.showPlayCount,O=e.playCount,T=e.usePlayContextItem,A=(0,k.fU)(u.createDesktopTrackListRowEventFactory,{data:{position:E,reason:"",uri:n}}).spec,D=T({uid:y,uri:n,index:E}),F=D.isActive,U=D.isPlaying,Z=D.triggerPlay,M=D.togglePlay,B=(0,h._)(n),j=(0,C.k)(n,m),V=(0,S.r)({downloadAvailability:B,isExplicit:c,isMOGEFRestricted:l}),H=V.badges,G=V.hasBadges,W=(null==o?void 0:o.map((function(e){return e.name})).join(d.ag.getSeparator()))||"";return i.createElement(g.ZP,{value:"row",index:E},i.createElement(ee._,{menu:i.createElement(I.$,{uri:n,albumUri:null==s?void 0:s.uri,artists:o})},i.createElement(L.c,{uri:n,contextUri:b,index:E,onTriggerPlay:function(e,t){Z({loggingParams:t})},isActive:F,ariaRowIndex:E+1,isPlayable:j,ageRestricted:l,dragMetadata:{name:r,createdBy:W},allowedDropTypes:[],spec:A},i.createElement(P.Dd,{ariaColIndex:0},i.createElement(P.Du,{uri:n,className:R.Z.rowMarkerChartStatus,playAriaLabel:d.ag.get("tracklist.a11y.play",r,W),onClick:function(e,t){M({loggingParams:t})},isPlaying:U,isActive:F,spec:A},w?i.createElement(de,{number:E+1,status:w}):i.createElement(P.km,null,E+1))),i.createElement(P.vZ,{ariaColIndex:1},i.createElement(P.lD,{src:_}),i.createElement(P.vm,null,i.createElement(P.Wh,{titleText:r},r),G&&i.createElement(P.g3,null,H.download&&i.createElement(p.G,{size:16}),H.explicit&&i.createElement(f.N,null),H.nineteen&&i.createElement(v.X,{className:R.Z.nineteen,size:16})),i.createElement(P.K9,null,i.createElement(P.T6,{artists:o,spec:A})))),N&&i.createElement(P.UA,{ariaColIndex:2},i.createElement(x,{playcount:O})),i.createElement(P.UA,{ariaColIndex:2+Number(N)},i.createElement(P.BM,{uri:s.uri,name:s.name,creatorUri:null==o||null===(t=o[0])||void 0===t?void 0:t.uri,spec:A},s.name)),i.createElement(P.mU,{ariaColIndex:3+Number(N)},i.createElement(P.qS,{uri:n,spec:A}),i.createElement(P.A$,{duration:a}),i.createElement(P.Zv,{menu:i.createElement(I.$,{uri:n,albumUri:null==s?void 0:s.uri,artists:o}),label:d.ag.get("more.label.track",r,W),spec:A})))))}),(function(e,t){return e.uri===t.uri})),pe=n(64157),fe=n(84242),ve=i.memo((function(e){var t=e.uri,n=e.name,r=e.duration,a=e.album,o=e.artists,s=e.index,l=e.imgUrl,c=e.isPlayable,m=e.isExplicit,y=e.is19PlusOnly,E=e.requestId,b=e.isLyricsMatch,_=(0,fe.n)({uri:t},{featureIdentifier:"search",referrerIdentifier:"search"}),w=_.isActive,N=_.isPlaying,O=_.triggerPlay,T=_.togglePlay,A=(0,k.fU)(u.createDesktopTrackListRowEventFactory,{data:{position:s,reason:null!=E?E:"",uri:t}}).spec,D=(0,h._)(t),x=(0,C.k)(t,c),F=(0,S.r)({downloadAvailability:D,isExplicit:m,isMOGEFRestricted:y}),U=F.badges,Z=F.hasBadges,M=(o||[]).map((function(e){return e.name})).join(d.ag.getSeparator());return i.createElement(g.ZP,{value:"row",index:s},i.createElement(ee._,{menu:i.createElement(I.$,{uri:t,artists:o,contextUri:t,albumUri:null==a?void 0:a.uri})},i.createElement(L.c,{uri:t,contextUri:t,index:s,ariaRowIndex:s,onTriggerPlay:function(e,t){O({loggingParams:t})},isActive:w,isPlayable:x,ageRestricted:y,dragMetadata:{name:n,createdBy:M},spec:A},i.createElement(P.vZ,{ariaColIndex:0},i.createElement(P.VG,{uri:t,src:l,onClick:function(e,t){T({loggingParams:t})},isLocked:!1,isPlaying:N,isActive:w,playAriaLabel:d.ag.get("tracklist.a11y.play",n,M),spec:A}),i.createElement(P.vm,null,i.createElement(P.Wh,{titleText:n},n),Z&&i.createElement(P.g3,null,U.download&&i.createElement(p.G,{size:16}),U.explicit&&i.createElement(f.N,null),U.nineteen&&i.createElement(v.X,{className:R.Z.nineteen,size:16})),i.createElement(P.K9,null,i.createElement(P.T6,{artists:o,spec:A}),b&&i.createElement(pe.q,null)))),i.createElement(P.mU,{ariaColIndex:1},i.createElement(P.qS,{uri:t,spec:A}),i.createElement(P.A$,{duration:r.milliseconds}),i.createElement(P.Zv,{menu:i.createElement(I.$,{uri:t,artists:o,contextUri:t,albumUri:null==a?void 0:a.uri}),label:d.ag.get("more.label.track",n,M),spec:A})))))}),(function(e,t){return e.uri===t.uri&&e.index===t.index})),ge=i.memo((function(e){var t,n=e.uri,r=e.name,a=e.duration,o=e.artists,s=e.album,l=e.isExplicit,c=e.is19PlusOnly,m=e.isPlayable,y=e.index,E=e.imgUrl,b=e.requestId,_=e.isLyricsMatch,w=(0,fe.n)({uri:n},{featureIdentifier:"search",referrerIdentifier:"search"}),N=w.isActive,O=w.isPlaying,T=w.triggerPlay,A=w.togglePlay,D=(0,k.fU)(u.createDesktopTrackListRowEventFactory,{data:{position:y,reason:null!=b?b:"",uri:n}}).spec,x=(0,h._)(n),F=(0,C.k)(n,m),U=(0,S.r)({downloadAvailability:x,isExplicit:l,isMOGEFRestricted:c}),Z=U.badges,M=U.hasBadges,B=(null==o?void 0:o.map((function(e){return e.name})).join(d.ag.getSeparator()))||"";return i.createElement(g.ZP,{value:"row",index:y},i.createElement(ee._,{menu:i.createElement(I.$,{uri:n,albumUri:null==s?void 0:s.uri,artists:o,contextUri:n})},i.createElement(L.c,{uri:n,contextUri:n,onTriggerPlay:function(e,t){T({loggingParams:t})},isActive:N,index:y,ariaRowIndex:y+1,isPlayable:F,ageRestricted:c,dragMetadata:{name:r,createdBy:B},spec:D},i.createElement(P.Dd,{ariaColIndex:0},i.createElement(P.Du,{uri:n,playAriaLabel:d.ag.get("tracklist.a11y.play",r,B),onClick:function(e,t){A({loggingParams:t})},isPlaying:O,isActive:N,spec:D},i.createElement(P.km,null,y+1))),i.createElement(P.vZ,{ariaColIndex:1},i.createElement(P.lD,{src:E}),i.createElement(P.vm,null,i.createElement(P.Wh,{titleText:r},r),M&&i.createElement(P.g3,null,Z.download&&i.createElement(p.G,{size:16}),Z.explicit&&i.createElement(f.N,null),Z.nineteen&&i.createElement(v.X,{className:R.Z.nineteen,size:16})),i.createElement(P.K9,null,i.createElement(P.T6,{artists:o,spec:D}),_&&i.createElement(pe.q,null)))),i.createElement(P.UA,{ariaColIndex:2},i.createElement(P.BM,{uri:(null==s?void 0:s.uri)||"",name:(null==s?void 0:s.name)||"",creatorUri:null==o||null===(t=o[0])||void 0===t?void 0:t.uri,spec:D},null==s?void 0:s.name)),i.createElement(P.mU,{ariaColIndex:3},i.createElement(P.qS,{uri:n,spec:D}),i.createElement(P.A$,{duration:a.milliseconds}),i.createElement(P.Zv,{menu:i.createElement(I.$,{uri:n,albumUri:null==s?void 0:s.uri,artists:o,contextUri:n}),label:d.ag.get("more.label.track",r,B),spec:D})))))}),(function(e,t){return e.uri===t.uri})),he=i.memo((function(e){var t=e.uri,n=e.name,r=e.totalMilliseconds,s=e.artists,m=e.isPlayable,D=e.contentRating,F=e.imageUrl,U=e.albumUri,Z=e.contextUri,M=e.index,B=e.playcount,j=e.usePlayContextItem,V=(0,k.fU)(u.createDesktopTrackListRowEventFactory,{data:{position:M,reason:"",uri:t}}).spec,H=j({uri:t,index:M}),G=H.isActive,W=H.isPlaying,z=H.triggerPlay,K=H.togglePlay,Y=(0,o.TH)(),q=(0,y.vI)(_.k.InternalTrackLinks,Y),Q=(0,O.E)(),J=(0,h._)(t),X=(0,C.k)(t,m),$=(0,S.r)({downloadAvailability:J,contentRating:D}),te=$.badges,ne=$.hasBadges,re=D===E.KS.NineteenPlus,ie=s.map((function(e){return e.name})).join(d.ag.getSeparator()),ae=l().from(Z),oe=ae?ae.getBase62Id():"",se=(0,c.W6)(b.LW),le=w(se),ce=(0,a.v9)(T.Hw),ue=(0,N.FJ)(ce,oe),de=Q&&(ue||le||q);return i.createElement(g.ZP,{value:"row",index:M},i.createElement(ee._,{menu:i.createElement(I.$,{uri:t,contextUri:Z,albumUri:U})},i.createElement(L.c,{uri:t,onTriggerPlay:function(e,t){z({loggingParams:t})},isActive:G,contextUri:Z,isPlayable:X,ageRestricted:re,dragMetadata:{name:n,createdBy:ie},index:M,ariaRowIndex:M,spec:V},i.createElement(P.Dd,{ariaColIndex:0},i.createElement(P.Du,{uri:t,playAriaLabel:d.ag.get("tracklist.a11y.play",n,ie),isPlaying:W,isActive:G,onClick:function(e,t){K({loggingParams:t})},spec:V},i.createElement(P.km,null,M+1))),i.createElement(P.vZ,{ariaColIndex:1},i.createElement(P.lD,{src:F}),i.createElement(P.vm,null,de?i.createElement(A.r,{to:t,className:R.Z.rowTitle,"":"internal-track-link"},i.createElement(P.Wh,{titleText:n},n)):i.createElement(P.Wh,{titleText:n},n),ne&&i.createElement(P.g3,null,te.download&&i.createElement(p.G,{size:16}),te.explicit&&i.createElement(f.N,null),te.nineteen&&i.createElement(v.X,{className:R.Z.nineteen,size:16})))),i.createElement(P.UA,{ariaColIndex:2},i.createElement(x,{playcount:B})),i.createElement(P.mU,{ariaColIndex:3},i.createElement(P.qS,{uri:t,spec:V}),i.createElement(P.A$,{duration:r}),i.createElement(P.Zv,{menu:i.createElement(I.$,{uri:t,albumUri:U,contextUri:Z,artists:s}),label:d.ag.get("more.label.track",n,ie),spec:V})))))}),(function(e,t){return e.uri===t.uri})),ye=(n(74916),n(15306),n(74257)),ke=n(72138),Ee=i.memo((function(e){var t,n=e.uid,r=e.uri,a=e.name,o=e.imgUrl,s=e.artists,l=e.isExplicit,c=e.index,m=e.album,y=e.contextUri,E=e.isPlayable,b=e.isMOGEFRestricted,_=e.usePlayContextItem,w=(0,k.fU)(u.createDesktopTrackListRowEventFactory,{data:{position:c,reason:"",uri:r}}),N=w.spec,O=w.logger,T=(0,i.useMemo)((function(){return y.replace("internal:recs:","")}),[y]),A=(0,J.o)(),D=(0,ke.Yv)(T).addItems,x=_({uid:n,uri:r,index:c}),F=x.isActive,U=x.isPlaying,Z=x.triggerPlay,M=x.togglePlay,B=(0,i.useCallback)((function(){O.logInteraction(N.addButtonFactory().hitAddToPlaylist({playlist:T,itemToBeAdded:r})),D([r],{after:"end"}),A({type:"click",intent:"add-to-playlist",itemIdSuffix:"playlist/add",targetUri:T})}),[O,N,T,r,D,A]),j=(0,h._)(r),V=(0,C.k)(r,E),H=s.map((function(e){return e.name})).join(d.ag.getSeparator()),G=(0,S.r)({downloadAvailability:j,isExplicit:l,isMOGEFRestricted:b}),W=G.badges,z=G.hasBadges;return i.createElement(g.ZP,{value:"row",index:c},i.createElement(ee._,{menu:i.createElement(I.$,{uri:r,albumUri:m.uri,artists:s,contextUri:y})},i.createElement(L.c,{uri:r,contextUri:y,isPlayable:V,onTriggerPlay:function(e,t){Z({loggingParams:t})},isActive:F,ageRestricted:b,index:c,ariaRowIndex:c,dragMetadata:{name:a,createdBy:H},spec:N},i.createElement(P.vZ,{ariaColIndex:0},i.createElement(P.VG,{uri:r,src:o,onClick:function(e,t){M({loggingParams:t})},isLocked:!1,isPlaying:U,isActive:F,playAriaLabel:d.ag.get("tracklist.a11y.play",a,H),spec:N}),i.createElement(P.vm,null,i.createElement(P.Wh,{titleText:a},a),z&&i.createElement(P.g3,null,W.download&&i.createElement(p.G,{size:16}),W.explicit&&i.createElement(f.N,null),W.nineteen&&i.createElement(v.X,{className:R.Z.nineteen,size:16})),i.createElement(P.K9,null,i.createElement(P.T6,{artists:s,spec:N})))),i.createElement(P.UA,{ariaColIndex:1},i.createElement(P.BM,{uri:m.uri,name:m.name,creatorUri:null==s||null===(t=s[0])||void 0===t?void 0:t.uri,spec:N},m.name)),i.createElement(P.mU,{ariaColIndex:2},i.createElement(ye.P,{buttonSize:"sm",onClick:B,"aria-label":d.ag.get("addToPlaylist-icon.label"),"":"add-to-playlist-button"},d.ag.get("playlist.extender.button.add"))))))}),(function(e,t){return e.uid===t.uid&&e.uri===t.uri&&e.index===t.index})),be=i.memo((function(e){var t=e.uid,n=e.uri,r=e.isPlayable,a=e.isMOGEFRestricted,o=e.isExplicit,s=e.contextUri,l=e.name,c=e.imgUrl,u=e.index,m=e.podcast,y=e.usePlayContextItem,k=(0,i.useMemo)((function(){return s.replace("internal:recs:","")}),[s]),E=(0,J.o)(),b=(0,ke.Yv)(k).addItems,_=y({uid:t,uri:n,index:u}),w=_.isActive,N=_.isPlaying,O=_.triggerPlay,T=_.togglePlay,I=(0,i.useCallback)((function(){b([n],{after:"end"}),E({type:"click",intent:"add-to-playlist",itemIdSuffix:"playlist/add",targetUri:k})}),[b,n,E,k]),A=(0,h._)(n),D=(0,C.k)(n,r),x=(0,S.r)({downloadAvailability:A,isExplicit:o,isMOGEFRestricted:a}),F=x.badges,U=x.hasBadges;return i.createElement(g.ZP,{value:"row",index:u},i.createElement(ee._,{menu:i.createElement(H.k,{uri:n,contextUri:s})},i.createElement(L.c,{uri:n,contextUri:n,isPlayable:D,onTriggerPlay:function(){O()},isActive:w,ageRestricted:a,index:u,ariaRowIndex:u,dragMetadata:{name:l,createdBy:m.name}},i.createElement(P.vZ,{ariaColIndex:0},i.createElement(P.VG,{uri:n,src:c,onClick:function(){T()},isLocked:!1,isPlaying:N,isActive:w,isEpisode:!0,playAriaLabel:d.ag.get("tracklist.a11y.play",l,m.name)}),i.createElement(P.vm,null,i.createElement(P.Wh,{titleText:l},l),U&&i.createElement(P.g3,null,F.download&&i.createElement(p.G,{size:16}),F.explicit&&i.createElement(f.N,null),F.nineteen&&i.createElement(v.X,{className:R.Z.nineteen,size:16})))),i.createElement(P.UA,{ariaColIndex:1},i.createElement(P.BM,{uri:m.uri,name:m.name},m.name)),i.createElement(P.mU,{ariaColIndex:2},i.createElement(ye.P,{buttonSize:"sm",onClick:I},d.ag.get("playlist.extender.button.add"))))))}),(function(e,t){return e.uid===t.uid&&e.uri===t.uri&&e.index===t.index})),_e=n(94184),Se=n.n(_e),we=n(86250),Ne=function(e){var t=e.discNumber;return i.createElement("div",{className:Se()(R.Z.trackListRowGrid,R.Z.discRow)},i.createElement(P.Dd,{ariaColIndex:0},i.createElement("div",{className:R.Z.rowMarker},i.createElement(P.km,null,i.createElement(we.c,{iconSize:16})))),i.createElement(P.vZ,{ariaColIndex:1},i.createElement(P.vm,null,i.createElement(P.dS,null,d.ag.get("tracklist.disc-sperator.title",t)))))},Oe=i.memo((function(e){var t,n=e.uri,r=e.name,a=e.duration_ms,o=e.artists,s=e.album,l=e.contextUri,c=e.isExplicit,m=e.isMOGEFRestricted,y=e.isPlayable,E=e.index,b=e.imgUrl,_=e.usePlayContextItem,w=(0,k.fU)(u.createDesktopTrackListRowEventFactory,{data:{position:E,reason:"",uri:n}}).spec,N=_({uri:n,index:E}),O=N.isActive,T=N.isPlaying,A=N.triggerPlay,D=N.togglePlay,x=(0,h._)(n),F=(0,C.k)(n,y),U=(0,S.r)({downloadAvailability:x,isExplicit:c,isMOGEFRestricted:m}),Z=U.badges,M=U.hasBadges,B=(null==o?void 0:o.map((function(e){return e.name})).join(d.ag.getSeparator()))||"";return i.createElement(g.ZP,{value:"row",index:E},i.createElement(ee._,{menu:i.createElement(I.$,{uri:n,albumUri:s.uri,artists:o,contextUri:l})},i.createElement(L.c,{uri:n,contextUri:l,onTriggerPlay:function(e,t){A({loggingParams:t})},isActive:O,index:E,ariaRowIndex:E+1,isPlayable:F,ageRestricted:m,dragMetadata:{name:r,createdBy:B},spec:w},i.createElement(P.Dd,{ariaColIndex:0},i.createElement(P.Du,{uri:n,playAriaLabel:d.ag.get("tracklist.a11y.play",r,B),isPlaying:T,isActive:O,onClick:function(e,t){D({loggingParams:t})},spec:w},i.createElement(P.km,null,E+1))),i.createElement(P.vZ,{ariaColIndex:1},i.createElement(P.lD,{src:b}),i.createElement(P.vm,null,i.createElement(P.Wh,{titleText:r},r),M&&i.createElement(P.g3,null,Z.download&&i.createElement(p.G,{size:16}),Z.explicit&&i.createElement(f.N,null),Z.nineteen&&i.createElement(v.X,{className:R.Z.nineteen,size:16})),i.createElement(P.K9,null,i.createElement(P.T6,{artists:o,spec:w})))),i.createElement(P.UA,{ariaColIndex:2},i.createElement(P.BM,{uri:s.uri,name:s.name,creatorUri:null==o||null===(t=o[0])||void 0===t?void 0:t.uri,spec:w},s.name)),i.createElement(P.mU,{ariaColIndex:3},i.createElement(P.qS,{uri:n,spec:w}),i.createElement(P.A$,{duration:a}),i.createElement(P.Zv,{menu:i.createElement(I.$,{uri:n,albumUri:s.uri,artists:o,contextUri:l}),label:d.ag.get("more.label.track",r,B),spec:w})))))}),(function(e,t){return e.uri===t.uri})),Ce=n(23716),Te=i.memo((function(e){var t,n,r,a=e.uri,o=e.name,s=e.isPlayable,l=e.artists,c=e.album,m=e.contentRating,y=e.index,b=e.trackNumber,_=e.durationMs,w=e.shouldHighLight,N=void 0!==w&&w,O=e.contextUri,T=e.uid,A=e.usePlayContextItem,D=e.isContextActive,x=(0,k.fU)(u.createDesktopTrackListRowEventFactory,{data:{position:y,reason:"",uri:a}}).spec,F=(0,Ce.g)(),U=A({uri:a}),Z=U.togglePlay,M=U.triggerPlay,B=U.isPlaying,j=U.isActive,V=(0,i.useCallback)((function(e,t){D&&!B?F.skipToNext({uri:a,uid:T}):Z({loggingParams:t})}),[D,B,F,Z,T,a]),H=(0,h._)(a),G=(0,C.k)(a,s),W=(0,S.r)({downloadAvailability:H,contentRating:m}),z=W.badges,K=W.hasBadges,Y=m===E.KS.NineteenPlus,q=l.map((function(e){return e.name})).join(d.ag.getSeparator()),Q=function(e){return e.map((function(e){return{name:e.name||"",uri:e.uri,key:e.uri}}))};return i.createElement(g.ZP,{value:"row",index:y},i.createElement(ee._,{menu:i.createElement(I.$,{uri:a,albumUri:c.uri,artists:Q(l),contextUri:O})},i.createElement(L.c,{uri:a,contextUri:O,isPlayable:G,index:y,onTriggerPlay:function(e,t){M({loggingParams:t})},isActive:j,ageRestricted:Y,ariaRowIndex:y+1,dragMetadata:{name:o,createdBy:q},initialSelectedState:N,spec:x},i.createElement(P.Dd,{ariaColIndex:0},i.createElement(P.Du,{uri:a,playAriaLabel:d.ag.get("tracklist.a11y.play",o,q),isPlaying:B,isActive:j,onClick:V,spec:x},i.createElement(P.km,null,b))),i.createElement(P.vZ,{ariaColIndex:1},i.createElement(P.lD,{src:null===(t=c.images)||void 0===t||null===(n=t[0])||void 0===n?void 0:n.url}),i.createElement(P.vm,null,i.createElement(P.Wh,{titleText:o},o),K&&i.createElement(P.g3,null,z.download&&i.createElement(p.G,{size:16}),z.explicit&&i.createElement(f.N,null),z.nineteen&&i.createElement(v.X,{className:R.Z.nineteen,size:16})),i.createElement(P.K9,null,i.createElement(P.T6,{artists:l.map((function(e){return{uri:e.uri,name:e.name||""}})),spec:x})))),i.createElement(P.UA,{ariaColIndex:2},i.createElement(P.BM,{uri:c.uri,name:c.name,creatorUri:null==l||null===(r=l[0])||void 0===r?void 0:r.uri},c.name)),i.createElement(P.mU,{ariaColIndex:3},i.createElement(P.qS,{uri:a,spec:x}),i.createElement(P.JR,{stationURI:O,trackURI:a}),i.createElement(P.A$,{duration:_}),i.createElement(P.Zv,{spec:x,menu:i.createElement(I.$,{uri:a,albumUri:O,artists:Q(l)}),label:d.ag.get("more.label.track",o,q)})))))}),(function(e,t){return e.uri===t.uri&&e.name===t.name}));n(74600)},73785:(e,t,n)=>{"use strict";var r,i;n.d(t,{Q:()=>r,k:()=>i}),function(e){e.INDEX="INDEX",e.TITLE="TITLE",e.ARTIST="ARTIST",e.PLAYS="PLAYS",e.ADDED_BY="ADDED_BY",e.ADDED_AT="ADDED_AT",e.RELEASE_DATE="RELEASE_DATE",e.ACTIONS="ACTIONS",e.DURATION="DURATION",e.ALBUM="ALBUM",e.ALBUM_OR_PODCAST="ALBUM_OR_PODCAST",e.ALBUM_OR_SHOW="ALBUM_OR_SHOW",e.EVENT_DATE="EVENT_DATE",e.ADD="ADD"}(r||(r={})),function(e){e[e.NONE=0]="NONE",e[e.ASC=1]="ASC",e[e.DESC=2]="DESC",e[e.SECONDARY_ASC=3]="SECONDARY_ASC",e[e.SECONDARY_DESC=4]="SECONDARY_DESC"}(i||(i={}))},45547:(e,t,n)=>{"use strict";n.d(t,{Jp:()=>s,pr:()=>o,uK:()=>l});var r=n(93433),i=(n(91038),n(78783),n(82772),n(34553),n(21249),n(91058),n(92222),n(39961)),a=n(12324);function o(e,t,n){if(e){if((0,a.lK)(e)){var r=e.querySelector('[tabindex="0"]'),o=n?m:d;if(t===i.N.UP){var s=o(e,r,i.N.UP);if(!s)return;(0,a.Bu)(r,c(r,s))}if(t===i.N.DOWN){var l=o(e,r,i.N.DOWN);if(!l)return;(0,a.Bu)(r,c(r,l))}if(t===i.N.LEFT){var p=u(r,-1);if(p)return void(0,a.Bu)(r,p);var f=o(e,r,i.N.LEFT);if(!f)return;var v=f.querySelectorAll("a, button"),g=v[v.length-1];(0,a.Bu)(r,g)}if(t===i.N.RIGHT){var h=u(r,1);if(h)return void(0,a.Bu)(r,h);var y=o(e,r,i.N.RIGHT);if(!y)return;var k=y.querySelectorAll("a, button")[0];(0,a.Bu)(r,k)}}}else console.error("No grid element found. Canceling moving focus")}function s(e){var t=e.closest('[role="grid"]');if(t){var n=e.querySelectorAll("a, button")[0],r=t.querySelector('[tabindex="0"]');(0,a.Bu)(r,n)}}function l(e,t,n){var r=e.querySelector('[aria-rowindex="'.concat(t,'"]'));if(r){var i=r.querySelector('[aria-colindex="'.concat(n,'"]'));if(i){var o=i.querySelectorAll("a, button")[0],l=e.querySelector('[tabindex="0"]');(0,a.Bu)(l,o)}else s(r)}else e.focus({preventScroll:!0})}function c(e,t){var n=e.closest("[aria-colindex]"),r=Array.from(n.querySelectorAll("a, button")).indexOf(e),i=t.querySelectorAll("a, button");return i[r]||i[0]}function u(e,t){var n=Array.from(e.closest("[aria-colindex]").querySelectorAll("a, button")),r=n.findIndex((function(t){return t===e}))+t;return n[r]}function d(e,t,n){var r=t.closest("[aria-rowindex]");if(n===i.N.DOWN)for(var o=Array.from(e.querySelectorAll("[aria-rowindex]")),s=t.closest("[aria-colindex]").getAttribute("aria-colindex"),l=o.indexOf(r)+1;l<o.length;l++){var c=o[l].querySelector('[aria-colindex="'.concat(s,'"]'));if((0,a.KX)(c))return c}if(n===i.N.UP)for(var u=Array.from(e.querySelectorAll("[aria-rowindex]")),d=u.indexOf(r),m=t.closest("[aria-colindex]").getAttribute("aria-colindex"),p=d-1;p>=0;p--){var f=u[p].querySelector('[aria-colindex="'.concat(m,'"]'));if((0,a.KX)(f))return f}if(n===i.N.LEFT)for(var v=Array.from(r.querySelectorAll("[aria-colindex]")),g=t.closest("[aria-colindex]"),h=v.indexOf(g)-1;h>=0;h--){var y=v[h];if((0,a.KX)(y))return y}if(n===i.N.RIGHT)for(var k=Array.from(r.querySelectorAll("[aria-colindex]")),E=t.closest("[aria-colindex]"),b=k.indexOf(E)+1;b<k.length;b++){var _=k[b];if((0,a.KX)(_))return _}return null}function m(e,t,n){if(n===i.N.DOWN)for(var o=t.closest("[aria-colindex]").getAttribute("aria-colindex"),s=t.closest("[aria-rowindex]").getAttribute("aria-rowindex"),l=Array.from(t.closest('[role="grid"]').querySelectorAll("[aria-rowindex]")).map((function(e){var t;return parseInt(null!==(t=e.getAttribute("aria-rowindex"))&&void 0!==t?t:"0",10)})),c=parseInt(s,10),u=Math.max.apply(Math,(0,r.Z)(l)),d=c+1;d<=u;d+=1){var m=d,p=e.querySelector('[aria-colindex="'.concat(o,'"][aria-rowindex="').concat(m,'"]'));if((0,a.KX)(p))return p}if(n===i.N.UP)for(var f=t.closest("[aria-colindex]").getAttribute("aria-colindex"),v=t.closest("[aria-rowindex]").getAttribute("aria-rowindex"),g=parseInt(v,10)-1;g>=0;g-=1){var h=g,y=e.querySelector('[aria-colindex="'.concat(f,'"][aria-rowindex="').concat(h,'"]'));if((0,a.KX)(y))return y}if(n===i.N.LEFT)for(var k=t.closest("[aria-colindex]"),E=parseInt(k.getAttribute("aria-rowindex"),10),b=parseInt(k.getAttribute("aria-colindex"),10),_=Array.from(e.querySelectorAll('[aria-rowindex="'.concat(E,'"]'))),S=b-2;S>=0;S--){var w=_[S];if((0,a.KX)(w))return w}if(n===i.N.RIGHT)for(var N=t.closest("[aria-colindex]"),O=parseInt(N.getAttribute("aria-rowindex"),10),C=parseInt(N.getAttribute("aria-colindex"),10),T=Array.from(e.querySelectorAll('[aria-rowindex="'.concat(O,'"]'))),I=C;I<T.length;I++){var A=T[I];if((0,a.KX)(A))return A}return null}},70325:(e,t,n)=>{"use strict";n.d(t,{j:()=>l,id:()=>d,YU:()=>v,RX:()=>m});var r=n(45987),i=n(67294),a=n(39961),o=n(45547),s=(n(91058),n(33161),n(9653),["children","className","onKeyDown","isFluid"]),l=i.forwardRef((function(e,t){var n=e.children,l=e.className,c=e.onKeyDown,u=void 0===c?function(){}:c,d=e.isFluid,m=void 0!==d&&d,p=(0,r.Z)(e,s),f=(0,i.useRef)(null);!function(e){var t=(0,i.useRef)(null);(0,i.useEffect)((function(){var n=e.current,r=null==n?void 0:n.addEventListener("focusout",(function(e){if(e.target){var n,r,i,a,o=e.target,s=parseInt(null!==(n=null===(r=o.closest("[aria-rowindex]"))||void 0===r?void 0:r.getAttribute("aria-rowindex"))&&void 0!==n?n:"",10),l=parseInt(null!==(i=null===(a=o.closest("[aria-colindex]"))||void 0===a?void 0:a.getAttribute("aria-colindex"))&&void 0!==i?i:"",10);t.current={target:o,rowIndex:s,colIndex:l}}}));return function(){r&&(null==n||n.removeEventListener("focusout",r))}}),[e]),(0,i.useEffect)((function(){if(t.current&&e.current){var n,r=t.current,i=r.target,a=r.rowIndex,s=r.colIndex;!(null===(n=e.current)||void 0===n?void 0:n.contains(i))&&Number.isInteger(a)&&Number.isInteger(s)&&(0,o.uK)(e.current,a,s),t.current=null}}))}(f),(0,i.useImperativeHandle)(t,(function(){return f.current}));var v=(0,i.useCallback)((function(e){var t;null!==(t=f.current)&&void 0!==t&&t.contains(e.target)&&("ArrowUp"!==e.key&&"ArrowDown"!==e.key||e.preventDefault(),"ArrowUp"!==e.key&&"ArrowDown"!==e.key&&"ArrowLeft"!==e.key&&"ArrowRight"!==e.key||document.documentElement.classList.remove("no-focus-outline"),"ArrowUp"===e.key&&(0,o.pr)(f.current,a.N.UP,m),"ArrowDown"===e.key&&(0,o.pr)(f.current,a.N.DOWN,m),"ArrowLeft"===e.key&&(0,o.pr)(f.current,a.N.LEFT,m),"ArrowRight"===e.key&&(0,o.pr)(f.current,a.N.RIGHT,m),u(e))}),[u,m]);return i.createElement("div",{ref:f,role:"grid","aria-rowcount":p["aria-rowcount"],"aria-colcount":p["aria-colcount"],"aria-label":p["aria-label"],className:l,onKeyDown:v,tabIndex:0,"":p["data-testid"]},n)})),c=n(26712),u=function(e){(0,i.useEffect)((function(){if(e.current){var t=e.current.parentElement;do{var n;if(!t)return;t.getAttribute("role")||t.setAttribute("role","presentation"),t=t.parentElement}while("grid"!==(null===(n=t)||void 0===n?void 0:n.getAttribute("role")))}}),[e])},d=function(e){var t=e.children,n=e.columnIndex,r=e.className,a=(0,i.useRef)(null);return(0,c.O)(a),u(a),i.createElement("div",{ref:a,className:r,role:"gridcell","aria-colindex":n+1,tabIndex:-1},t)},m=function(e){var t=e.children,n=e.rowIndex,r=e.className,a=e["aria-selected"];return i.createElement("div",{onClick:function(e){var t=e.currentTarget;t.contains(document.activeElement)||(0,o.Jp)(t)},className:r,role:"row","aria-rowindex":n+1,"aria-selected":a},t)},p=n(87462),f=n(4942),v=function(e){var t=e.children,n=e.ariaSort,r=e.columnIndex,a=e.className,o=(0,i.useRef)(null);return(0,c.O)(o),u(o),i.createElement("div",(0,p.Z)({ref:o,className:a,role:"columnheader","aria-colindex":r+1},n?(0,f.Z)({},"aria-sort",n):{},{tabIndex:-1}),t)}},4835:(e,t,n)=>{"use strict";n.d(t,{q:()=>o});var r=n(45987),i=n(67294),a=["children"];function o(e){var t=e.children,n=(0,r.Z)(e,a);return i.createElement("label",{className:"hidden-visually"},t,i.createElement("input",n))}},14130:(e,t,n)=>{"use strict";n.d(t,{r:()=>s});var r=n(67294),i=n(15671),a=n(43144),o=(n(32564),function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,i.Z)(this,e),this.settings={level:t.level||"polite",parent:t.parent||document.body,idPrefix:t.idPrefix||"live-region-",delay:t.delay||0},this.currentRegion=document.createElement("span")}return(0,a.Z)(e,[{key:"say",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.settings.delay;this.clearNode(),this.currentRegion=document.createElement("span"),this.currentRegion.id=this.settings.idPrefix+Math.floor(1e4*Math.random());var r="assertive"!==this.settings.level?"status":"alert";this.currentRegion.setAttribute("aria-live",this.settings.level),this.currentRegion.setAttribute("role",r),this.currentRegion.setAttribute("style","clip: rect(1px, 1px, 1px, 1px); height: 1px; overflow: hidden; position: absolute; white-space: nowrap; width: 1px"),this.settings.parent.appendChild(this.currentRegion),window.setTimeout((function(){t.currentRegion.textContent=e}),n)}},{key:"clearNode",value:function(){var e=this.settings.parent.querySelector('[id^="'.concat(this.settings.idPrefix,'"]'));e&&this.settings.parent.removeChild(e)}}]),e}()),s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.delay,n=e.idPrefix,i=e.level,a=e.parent,s=(0,r.useMemo)((function(){return new o({delay:t,idPrefix:n,level:i,parent:a})}),[t,n,i,a]);return(0,r.useEffect)((function(){return function(){s.clearNode()}}),[s]),s}},88435:(e,t,n)=>{"use strict";n.d(t,{l:()=>g});var r=n(67294),i=n(32667),a=n(34011),o=n(86025),s=n(96206),l=n(1447),c=n(79896),u=n(27999);const d="a_fhw77sDAmUWT0DjcLz",m="IVCTj3T2ms7JvLUiF4hZ",p="_vX7nRSblUeXv4DTYkKu",f="ST9Bhw7AdmFCTZDIKw3n";var v=function(e){var t,n,c,v=e.showUri,g=(0,l.qT)(),h=(0,u.ye)(v);return null===h?null:null!=h&&h.basic?(t=h.basic,n=t.title,c=t.body,r.createElement("div",{className:d},r.createElement(i.D,{as:"div",variant:"cello",className:m},n),r.createElement(i.D,{as:"div",variant:"mesto",className:p},c),r.createElement("div",{className:f},r.createElement(a.D,{buttonSize:"sm",colorSet:"invertedLight",onClick:function(){g({type:"close"})}},t.cta)))):null!=h&&h.upsellLink?function(e){var t=e.title,n=e.body;return r.createElement("div",{className:d},r.createElement(i.D,{as:"div",variant:"cello",className:m},t),r.createElement(i.D,{as:"div",variant:"mesto",className:p},n),r.createElement("div",{className:f},r.createElement(o.oM,{buttonSize:"sm",semanticColor:"textBase",onClick:function(){g({type:"close"})}},s.ag.get("close")),r.createElement(a.D,{buttonSize:"sm",colorSet:"invertedLight",href:e.url},e.cta)))}(h.upsellLink):function(){var e=s.ag.get("paywalls.modal-heading"),t=r.createElement(r.Fragment,null,s.ag.get("paywalls.modal-body-p1"),r.createElement("br",null),r.createElement("br",null),s.ag.get("paywalls.modal-body-p2"),r.createElement("br",null),r.createElement("br",null),s.ag.get("paywalls.modal-body-p3"));return r.createElement("div",{className:d},r.createElement(i.D,{as:"div",variant:"cello",className:m},e),r.createElement(i.D,{as:"div",variant:"mesto",className:p},t),r.createElement("div",{className:f},r.createElement(o.oM,{buttonSize:"sm",semanticColor:"textBase",onClick:function(){g({type:"close"})}},s.ag.get("close"))))}()},g=function(e){var t=e.children,n=e.enabled,i=e.showUri,a=e.renderInline,o=void 0===a||a;return n?r.createElement(c.Nt,{trigger:"click",action:"toggle",offset:[-2,20],renderInline:o,content:r.createElement(c.yv,null,r.createElement(v,{showUri:i}))},t):r.createElement(r.Fragment,null,t)}},51781:e=>{e.exports={cast:{appId:"CC32E753"}}},13406:(e,t,n)=>{"use strict";n.d(t,{JP:()=>a,K1:()=>o,cr:()=>i,zH:()=>r});var r="web_player",i="nowPlayingCoverExpandedState",a="isPlaybackBarRemainingTimeToggled",o=64},45728:(e,t,n)=>{"use strict";n.d(t,{_0:()=>r,_p:()=>o,eP:()=>i,ws:()=>a});var r=s(120),i=s(30),a=(s(60),s(15),s(60)),o=s(15);function s(e){return 60*e*1e3}},8982:(e,t,n)=>{"use strict";n.d(t,{N:()=>i,_:()=>a});n(21249);var r=n(38470);function i(e){return{url:e.url,width:e.width,height:e.height}}function a(e){var t,n,a,o,s,l,c,u,d,m,p,f,v,g,h,y,k,E,b;switch(e.__typename){case"Artist":return null!==(t=null===(n=e.visuals.avatarImage)||void 0===n?void 0:n.sources.map(i))&&void 0!==t?t:[];case"Album":case"Audiobook":case"Podcast":case"Episode":case"Chapter":return null!==(a=null===(o=e.coverArt)||void 0===o?void 0:o.sources.map(i))&&void 0!==a?a:[];case"Track":return null!==(s=null===(l=e.albumOfTrack)||void 0===l||null===(c=l.coverArt)||void 0===c?void 0:c.sources.map(i))&&void 0!==s?s:[];case"Playlist":return null!==(u=null===(d=e.images.items[0])||void 0===d?void 0:d.sources.map(i))&&void 0!==u?u:[];case"User":return null!==(m=null===(p=e.avatar)||void 0===p?void 0:p.sources.map(i))&&void 0!==m?m:[];case"GenericError":case"NotFound":case"RestrictedContent":case"BrowseExternalHref":return[];case"BrowseSectionContainer":return null!==(f=null===(v=e.data)||void 0===v||null===(g=v.cardRepresentation)||void 0===g||null===(h=g.artwork)||void 0===h?void 0:h.sources.map(i))&&void 0!==f?f:[];case"BrowseSpacesHub":return null!==(y=null===(k=e.artwork)||void 0===k?void 0:k.sources.map(i))&&void 0!==y?y:[];case"BrowseClientFeature":return null!==(E=null===(b=e.artwork)||void 0===b?void 0:b.sources.map(i))&&void 0!==E?E:[];default:return(0,r._)(e),[]}}},58548:(e,t,n)=>{"use strict";n.d(t,{T:()=>k,y:()=>r.yw});var r=n(47134),i=(n(21249),n(67294)),a=n(15852),o=n(18686),s=n(45728),l=n(93433),c=(n(92222),n(98984)),u=n(54844),d=Spicetify.GraphQL.Definitions["browseAll"]={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"browseAll"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"pagePagination"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"PaginationInput"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"sectionPagination"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"PaginationInput"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"browseStart"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"kind"},value:{kind:"EnumValue",value:"MAIN_BROWSE"}},{kind:"ObjectField",name:{kind:"Name",value:"pagePagination"},value:{kind:"Variable",name:{kind:"Name",value:"pagePagination"}}},{kind:"ObjectField",name:{kind:"Name",value:"sectionPagination"},value:{kind:"Variable",name:{kind:"Name",value:"sectionPagination"}}}]}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"BrowseSectionContainer"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"sections"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"browseAllSections"}}]}}]}}]}}]}}].concat((0,l.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"browseAllSections"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"BrowseSectionPage"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"transformedLabel"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"sectionItems"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"browseAllItem"}}]}}]}}]}}]}}]),(0,l.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"browseAllItem"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"BrowseItem"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"content"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"FragmentSpread",name:{kind:"Name",value:"browseAllItemContent"}}]}}]}}]),(0,l.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"browseAllItemContent"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"BrowseItemContent"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"browseSectionContainer"}},{kind:"FragmentSpread",name:{kind:"Name",value:"browseClientFeature"}}]}}]),(0,l.Z)(u.dK.definitions),(0,l.Z)(u.N9.definitions),(0,l.Z)(u.K1.definitions),(0,l.Z)(u.$z.definitions))},m=function(){var e,t,n,r=function(e,t){return(0,c.a)(d,e,t)}({pagePagination:{offset:0,limit:10},sectionPagination:{offset:0,limit:99}},{cacheTime:s._0,staleTime:s.eP}),i=r.data;return"BrowseSectionContainer"!==(null==i||null===(e=i.browseStart)||void 0===e?void 0:e.__typename)?[]:null!==(t=null===(n=i.browseStart.sections)||void 0===n?void 0:n.items)&&void 0!==t?t:[]},p=n(38470),f=n(36790),v=n(8982);function g(e){var t=(0,v._)(e);if(t.length>0)return t[0].url}function h(e,t){switch(e.content.__typename){case"BrowseXlinkResponseWrapper":case"BrowseSectionContainerWrapper":return function(e,t,n){var a,o,s;switch(e.__typename){case"BrowseClientFeature":return i.createElement(f.p,{key:e.featureUri,title:null!==(a=null===(o=e.title)||void 0===o?void 0:o.transformedLabel)&&void 0!==a?a:"",pageId:"search",href:e.featureUri,color:null===(s=e.backgroundColor)||void 0===s?void 0:s.hex,imageUrl:g(e),ubiId:e.featureUri,index:t});case"BrowseSectionContainer":var l,c,u,d;return null!==(l=e.data)&&void 0!==l&&l.cardRepresentation?i.createElement(f.p,{key:n,title:null!==(c=null===(u=e.data.cardRepresentation.title)||void 0===u?void 0:u.transformedLabel)&&void 0!==c?c:"",pageId:"search",href:(0,r.t1)(n),color:null===(d=e.data.cardRepresentation.backgroundColor)||void 0===d?void 0:d.hex,imageUrl:g(e),ubiId:n,index:t}):null;case"BrowseSpacesHub":var m,v,h,y=(0,r.wJ)(e.spaceId);return i.createElement(f.p,{key:y,title:null!==(m=null===(v=e.title)||void 0===v?void 0:v.transformedLabel)&&void 0!==m?m:"",pageId:"search",href:y,color:null===(h=e.backgroundColor)||void 0===h?void 0:h.hex,imageUrl:g(e),ubiId:y,index:t});case"GenericError":case"NotFound":case"BrowseExternalHref":return null;default:return(0,p._)(e),null}}(e.content.data,t,e.uri);case"AlbumResponseWrapper":case"ArtistResponseWrapper":case"EpisodeOrChapterResponseWrapper":case"PlaylistResponseWrapper":case"PodcastOrAudiobookResponseWrapper":case"TrackResponseWrapper":case"UserResponseWrapper":case"NoContent":case"UnknownType":return null;default:return(0,p._)(e.content),null}}const y="M7LKuAFiIKaigK0fVguF";var k=function(e){var t=e.browseAllSpec,n=m();return i.createElement("div",{className:y},n.map((function(e,n){var r,s,l;return i.createElement(a.Nh,{key:e.uri,spec:t},i.createElement(o.q,{title:null!==(r=null===(s=e.data)||void 0===s||null===(l=s.title)||void 0===l?void 0:l.transformedLabel)&&void 0!==r?r:"",index:n,id:e.uri,showAll:!0},e.sectionItems.items.map((function(e,t){return h(e,t)}))))})))}},54844:(e,t,n)=>{"use strict";n.d(t,{$z:()=>g,H5:()=>h,K1:()=>r,N9:()=>i,RL:()=>f,Tf:()=>l,X6:()=>a,YJ:()=>m,_C:()=>s,dK:()=>v,dV:()=>u,nE:()=>o,qJ:()=>d,tl:()=>c,zZ:()=>p});var r=Spicetify.GraphQL.Definitions["browseImageURLAndSize"]={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"browseImageURLAndSize"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ImageSource"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]},i=Spicetify.GraphQL.Definitions["browseImageSources"]={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"browseImageSources"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Image"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"browseImageURLAndSize"}}]}}]}}]},a=Spicetify.GraphQL.Definitions["browseAlbum"]={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"browseAlbum"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AlbumResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Album"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"artists"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"profile"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"browseImageSources"}}]}}]}}]}}]}}]},o=Spicetify.GraphQL.Definitions["browseArtist"]={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"browseArtist"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ArtistResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Artist"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"profile"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"visuals"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"avatarImage"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"browseImageSources"}}]}}]}}]}}]}}]}}]},s=Spicetify.GraphQL.Definitions["browseEpisode"]={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"browseEpisode"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"EpisodeOrChapterResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Episode"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"description"}},{kind:"Field",name:{kind:"Name",value:"duration"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalMilliseconds"}}]}},{kind:"Field",name:{kind:"Name",value:"playedState"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"playPositionMilliseconds"}},{kind:"Field",name:{kind:"Name",value:"state"}}]}},{kind:"Field",name:{kind:"Name",value:"contentRating"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"label"}}]}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"browseImageSources"}}]}},{kind:"Field",name:{kind:"Name",value:"releaseDate"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isoString"}},{kind:"Field",name:{kind:"Name",value:"precision"}}]}},{kind:"Field",name:{kind:"Name",value:"podcast"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]}}]}}]},l=Spicetify.GraphQL.Definitions["browseChapter"]={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"browseChapter"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"EpisodeOrChapterResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Chapter"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"duration"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalMilliseconds"}}]}},{kind:"Field",name:{kind:"Name",value:"playedState"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"playPositionMilliseconds"}},{kind:"Field",name:{kind:"Name",value:"state"}}]}},{kind:"Field",name:{kind:"Name",value:"contentRating"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"label"}}]}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"browseImageSources"}}]}},{kind:"Field",name:{kind:"Name",value:"releaseDate"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isoString"}},{kind:"Field",name:{kind:"Name",value:"precision"}}]}},{kind:"Field",name:{kind:"Name",value:"audiobook"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]}}]}}]},c=Spicetify.GraphQL.Definitions["browsePlaylist"]={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"browsePlaylist"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PlaylistResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Playlist"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"description"}},{kind:"Field",name:{kind:"Name",value:"images"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"browseImageSources"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"ownerV2"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]}}]}}]}}]}}]},u=Spicetify.GraphQL.Definitions["browsePodcast"]={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"browsePodcast"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PodcastOrAudiobookResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Podcast"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"browseImageSources"}}]}},{kind:"Field",name:{kind:"Name",value:"mediaType"}},{kind:"Field",name:{kind:"Name",value:"publisher"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]}}]}}]},d=Spicetify.GraphQL.Definitions["browseAudiobook"]={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"browseAudiobook"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PodcastOrAudiobookResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Audiobook"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"browseImageSources"}}]}},{kind:"Field",name:{kind:"Name",value:"authors"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"publisher"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]}}]}}]},m=Spicetify.GraphQL.Definitions["browseTrack"]={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"browseTrack"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"TrackResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Track"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"contentRating"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"label"}}]}},{kind:"Field",name:{kind:"Name",value:"albumOfTrack"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"browseImageSources"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"artists"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"profile"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]}}]}}]}}]}}]},p=Spicetify.GraphQL.Definitions["browseUser"]={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"browseUser"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UserResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"avatar"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"browseImageSources"}}]}}]}}]}}]}}]},f=Spicetify.GraphQL.Definitions["browseContent"]={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"browseContent"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"BrowseItemContent"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"FragmentSpread",name:{kind:"Name",value:"browseAlbum"}},{kind:"FragmentSpread",name:{kind:"Name",value:"browseArtist"}},{kind:"FragmentSpread",name:{kind:"Name",value:"browseEpisode"}},{kind:"FragmentSpread",name:{kind:"Name",value:"browseChapter"}},{kind:"FragmentSpread",name:{kind:"Name",value:"browsePlaylist"}},{kind:"FragmentSpread",name:{kind:"Name",value:"browsePodcast"}},{kind:"FragmentSpread",name:{kind:"Name",value:"browseAudiobook"}},{kind:"FragmentSpread",name:{kind:"Name",value:"browseTrack"}},{kind:"FragmentSpread",name:{kind:"Name",value:"browseUser"}}]}}]},v=Spicetify.GraphQL.Definitions["browseSectionContainer"]={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"browseSectionContainer"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"BrowseSectionContainerWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"BrowseSectionContainer"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"cardRepresentation"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"transformedLabel"}}]}},{kind:"Field",name:{kind:"Name",value:"artwork"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"browseImageSources"}}]}},{kind:"Field",name:{kind:"Name",value:"backgroundColor"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hex"}}]}}]}}]}}]}}]}}]}}]},g=Spicetify.GraphQL.Definitions["browseClientFeature"]={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"browseClientFeature"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"BrowseXlinkResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"BrowseSpacesHub"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"transformedLabel"}}]}},{kind:"Field",name:{kind:"Name",value:"spaceId"}},{kind:"Field",name:{kind:"Name",value:"artwork"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"browseImageSources"}}]}},{kind:"Field",name:{kind:"Name",value:"backgroundColor"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hex"}}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"BrowseClientFeature"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"transformedLabel"}}]}},{kind:"Field",name:{kind:"Name",value:"featureUri"}},{kind:"Field",name:{kind:"Name",value:"artwork"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"browseImageSources"}}]}},{kind:"Field",name:{kind:"Name",value:"backgroundColor"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hex"}}]}}]}}]}}]}}]},h=Spicetify.GraphQL.Definitions["browseItem"]={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"browseItem"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"BrowseItem"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"content"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"FragmentSpread",name:{kind:"Name",value:"browseContent"}},{kind:"FragmentSpread",name:{kind:"Name",value:"browseSectionContainer"}},{kind:"FragmentSpread",name:{kind:"Name",value:"browseClientFeature"}}]}}]}}]}},47134:(e,t,n)=>{"use strict";n.d(t,{px:()=>v,t1:()=>f,wJ:()=>g,yw:()=>p});n(66992),n(41539),n(88674),n(78783),n(33948);var r=n(67294),i=n(51615),a=n(69518),o=n.n(a),s=n(73305),l=n(26700),c=r.lazy((function(){return Promise.all([n.e(1814),n.e(5392),n.e(3817)]).then(n.bind(n,19241)).then((function(e){return{default:e.BrowsePage}}))})),u=r.lazy((function(){return Promise.all([n.e(1814),n.e(5392),n.e(3817)]).then(n.bind(n,89503)).then((function(e){return{default:e.BrowseSection}}))})),d=function(){var e,t=(0,i.UO)().pageId;return r.createElement(c,{uri:(e=t,"spotify:page:".concat(e))})},m=function(){var e,t=(0,i.UO)().sectionId;return r.createElement(u,{uri:(e=t,"spotify:section:".concat(e))})},p=function(){return[r.createElement(l.l,{key:"browse-section",path:"/browse/section/:sectionId",component:m,pageId:s.Wg.GENRE}),r.createElement(l.l,{key:"browse-page",path:"/browse/:pageId",component:d,pageId:s.Wg.GENRE})]};function f(e){var t,n=o().from(e),r=null==n||null===(t=n.args)||void 0===t?void 0:t[0];if(r&&"page"===n.id)return"/browse/".concat(r)}function v(e){var t,n=o().from(e),r=null==n||null===(t=n.args)||void 0===t?void 0:t[0];if(r&&"section"===n.id)return"/browse/section/".concat(r)}function g(e){return"spotify:genre:".concat(e)}},74873:(e,t,n)=>{"use strict";n.d(t,{R$:()=>a,RD:()=>u,Vv:()=>d,ZR:()=>s,bb:()=>c,ot:()=>l,tk:()=>i,ul:()=>r,vj:()=>o});var r="BROWSE_REQUEST",i="BROWSE_REQUEST_SUCCESS",a="BROWSE_ITEMS_STYLE_REQUEST",o="BROWSE_ITEMS_STYLE_REQUEST_SUCCESS",s=function(e){return{type:r,isClientXConcertsHubEnabled:e}},l=function(e){return{type:i,data:e}},c=function(e){return{type:"BROWSE_REQUEST_FAILURE",error:e}},u=function(e){return{type:o,items:e}},d=function(e){return{type:"BROWSE_ITEMS_STYLE_REQUEST_FAILURE",error:e}}},36790:(e,t,n)=>{"use strict";n.d(t,{T:()=>$,p:()=>G});var r=n(67294),i=n(86706),a=n(87577),o=n(49207),s=n(74873),l=(n(21249),n(29439)),c=(n(79753),n(92222),n(24697)),u=n(32667),d=n(34011),m=n(98197),p=n(86604),f=n(96206),v=n(50114),g=n(48817),h=n(27937),y=n(56802),k=n(67892);const E="RqBX4yuCHgMNXtcJnxv5",b="nUgbAeYj4gkJ_tXlm_ck",_="I8HKKfSJDDPx7rwCatT2",S="v5TOXMimmpi0Ind7QLHC",w="gjJebeNMJQIjXZyOmINz",N="nuwPDs07FwDYc9TP9KWA",O="YYQh0cc9R7oKH5WmxBUP",C="D7SjPRxlJwibVXmL_BNN",T="un9ka9FQajcXmx1ncJIo",I="SdMIYvEJ5rA5V8t_gOnk";var A=function(e){var t=e.title,n=e.children,i=e.seeAllUri,a=e.pageId,o=e.className,s=void 0===o?"":o,v=e.childColumnSpan,h=void 0===v?1:v,A=(0,r.useState)(!1),P=(0,l.Z)(A,2),D=P[0],R=P[1],x=(0,r.useState)(!1),L=(0,l.Z)(x,2),F=L[0],U=L[1],Z=(0,r.useRef)(null),M=(0,y.o)(),B=(0,c.y1)((function(){!function(e,t,n,r,i){if(null!==i.current){var a=i.current,o=a.scrollLeft,s=o>0,l=o+a.offsetWidth<a.scrollWidth;e!==s&&n(s),t!==l&&r(l)}}(D,F,R,U,Z)}),200);if(Array.isArray(n)&&0===n.length)return null;var j=Array.isArray(n)?n.length:0;return r.createElement("section",{className:"".concat(s," ").concat(E),"aria-label":t},r.createElement("div",{className:w},i?r.createElement(k.r,{to:i,pageId:a},r.createElement(u.D,{as:"h2",variant:"canon",semanticColor:"textBase",className:S},t)):r.createElement(u.D,{as:"h2",variant:"canon",semanticColor:"textBase",className:S},t)),r.createElement("div",{className:_},r.createElement("div",{"":"scroll-wrapper",className:b,ref:Z,onScroll:B},r.createElement(g.T,{className:I,fixedColumnCount:j*h,onUpdate:B,render:function(e,t,i,a){return r.createElement(r.Fragment,null,D&&r.createElement("div",{className:"".concat(N," ").concat(C)},r.createElement(d.D,{title:f.ag.get("playback-control.skip-back"),className:T,onClick:function(){!function(e,t,n,r){null!==r.current&&(r.current.scrollLeft-=e*(t+n))}(e,t,a,Z),M({intent:"carousel-left",type:"click",itemIdSuffix:"carousel"})},tabIndex:-1,"aria-label":f.ag.get("playback-control.skip-back"),iconOnly:m.e,colorSet:"invertedLight"})),F&&r.createElement("div",{className:"".concat(N," ").concat(O)},r.createElement(d.D,{title:f.ag.get("playback-control.skip-forward"),className:T,onClick:function(){!function(e,t,n,r){null!==r.current&&(r.current.scrollLeft+=e*(t+n))}(e,t,a,Z),M({intent:"carousel-right",type:"click",itemIdSuffix:"carousel"})},tabIndex:-1,"aria-label":f.ag.get("playback-control.skip-forward"),iconOnly:p.V,colorSet:"invertedLight"})),n)}}))))},P=((0,v.P)(A,(function(){return null}),(function(e){return(0,h.vK)(e,"Carousel")})),n(42922)),D=n(15852),R=n(19480),x=n(69518),L=n.n(x),F=n(73012),U=n(81620),Z=n(89104);const M="x-categoryCard-CategoryCard",B="x-categoryCard-title",j="x-categoryCard-image";var V=F.Sns,H=F.d1r,G=function(e){var t=e.title,n=e.imageUrl,i=e.viewId,a=e.pageId,o=e.color,s=void 0===o?V:o,l=e.href,c=e.index,u=e.ubiId,d=i&&"/genre/".concat(i)||l||"#",m=(0,D.fU)(U.createDesktopCategoryCardEventFactory,{data:{position:c,identifier:u}}),p=m.spec,f=m.logger,v=(0,r.useCallback)((function(){var e,t=null===(e=L().from(d))||void 0===e?void 0:e.toURI();t&&f.logInteraction(p.hitUiNavigate({destination:t}))}),[f,p,d]),g=(0,D.Wi)(p);return r.createElement(k.r,{to:d,pageId:a,className:M,style:{backgroundColor:s},onClick:v,ref:g},r.createElement("div",null,n?r.createElement(Z.E,{loading:"lazy",src:n,className:j}):r.createElement("div",{style:{backgroundColor:H},className:j,"":"fallback"}),r.createElement("h3",{className:B},t)))};const W="a2ruVaZt_DdrdHz3GqgU",z="EfZJn6C1pA6BsRD5UpDR",K="xGVkSPi5IQWS8RjzeCmq";var Y=function(e){var t=e.title,n=e.imageUrl,i=e.viewId,a=e.color,o=void 0===a?V:a,s=e.pageId,l=e.index,c="/genre/".concat(i),u=(0,D.fU)(U.createDesktopCategoryCardEventFactory,{data:{position:l,identifier:i}}),d=u.spec,m=u.logger,p=(0,r.useCallback)((function(){var e,t=null===(e=L().from(c))||void 0===e?void 0:e.toURI();t&&m.logInteraction(d.hitUiNavigate({destination:t}))}),[m,d,c]),f=(0,D.Wi)(d);return r.createElement(k.r,{to:c,pageId:s,className:W,style:{backgroundColor:o},onClick:p,ref:f},r.createElement("div",null,r.createElement("h3",{className:z},t),n?r.createElement(Z.E,{loading:"lazy",className:K,src:n}):r.createElement("div",{className:K,style:{backgroundColor:H},"":"fallback"})))};const q="search-searchBrowse-browseAllContainer",Q="search-searchBrowse-browseAllWrapper";const J=(0,i.$j)((function(e){return{topGenres:e.browse.topGenres,browseAll:e.browse.browseAll}}))((function(e){var t=e.topGenres,n=e.browseAll,i=e.topGenresSpec,a=e.browseAllSpec;return t||n?r.createElement("div",{className:q},t&&r.createElement(P.ZP,{value:"top-genre"},r.createElement(D.Nh,{spec:i},r.createElement(A,{title:t.title,childColumnSpan:2},t.items.map((function(e,t){var n=e.viewId,i=e.color,a=e.title,o=e.imageUrl;return r.createElement(P.ZP,{key:n,index:t,value:"hero-category-card"},r.createElement(Y,{title:a,viewId:n,pageId:"search",color:i,imageUrl:o,index:t}))}))))),n&&r.createElement("div",{className:Q,"":"browse-all"},r.createElement(D.Nh,{spec:a},r.createElement(R.P,{title:n.title,showAll:!0},n.items.map((function(e,t){var n=e.viewId,i=e.color,a=e.title,o=e.imageUrl,s=e.href,l=e.ubiId;return r.createElement(G,{key:n||s,title:a,viewId:n,pageId:"search",href:s,color:i,imageUrl:o,ubiId:l,index:t})})))))):null}));var X=function(e){var t=(0,a.W6)(o.dE),n=(0,i.I0)();return(0,r.useEffect)((function(){n((0,s.ZR)(t))}),[t,n]),r.createElement(J,{topGenresSpec:e.topGenresSpec,browseAllSpec:e.browseAllSpec})},$=function(e){return r.createElement(r.Suspense,{fallback:null},r.createElement(X,{topGenresSpec:e.topGenresSpec,browseAllSpec:e.browseAllSpec}))}},15977:(e,t,n)=>{"use strict";n.d(t,{R:()=>Yt,h:()=>Lt});var r=n(29439),i=(n(47941),n(21249),n(89554),n(41539),n(54747),n(91038),n(78783),n(92222),n(67294)),a=n(73935),o=n(99942),s=n(52744),l=n(69792),c=n(89073),u=(n(91058),n(15861)),d=n(87757),m=n.n(d),p=(n(92087),n(85827),n(38862),n(2707),n(32564),n(17178)),f=n(21270),v=n(22305),g=(0,f.v)();function h(){return(h=(0,u.Z)(m().mark((function e(t,n){var r,i,a,o,s;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new p.ProductStateClient((0,v.G)()),e.next=3,r.getValues(p.GetValuesRequest.fromPartial({}));case 3:if(i=e.sent,a=i.pairs,o={},s="",a.abbaOverrides?s=a.abbaOverrides:a.abbaoverrides&&(s=a.abbaoverrides),s)try{o=JSON.parse(s)}catch(e){console.error("error parsing value=".concat(s,", error=").concat(e))}if(!Object.prototype.hasOwnProperty.call(o,t)){e.next=13;break}return console.warn("Abba: Override for ".concat(t," : ").concat(o[t])),setTimeout((function(){return n(null,o[t])}),0),e.abrupt("return");case 13:g.post("sp://abba/v1/flags",{flags:[t]}).then((function(e){var r=e.flags,i=void 0===r?[]:r,a=i[0]&&i[0].featureName===t&&i[0].cell;n(null,a||null)})).catch((function(e){n(e)}));case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}window.abba={get:function(e,t){return h.apply(this,arguments)},getAll:function(e){console.warn("Abba:getAll should only be used by TA tests for logging purposes."),g.get("sp://abba/v1/all_flags").then((function(t){var n=t.flags,r=(void 0===n?[]:n).reduce((function(e,t){return e[t.featureName]=t.cell,e}),{});e(null,JSON.stringify(r,null,2))})).catch((function(t){e(t)}))},getRequestedFlagNames:function(e){g.get("sp://abba/v1/requested_flag_names").then((function(t){e(null,JSON.stringify(t.sort(),null,2))})).catch((function(t){e(t)}))}};var y=n(54125);const k="rh7v8PDNC0ke2OkkyRhk",E="L6pjHHt_x4tfksfQ4Pem",b="H0jIvFjLqNoS1jwvMR82",_="UZcGKrwobJ2tS5Ka06pD";var S=function(){var e=(0,i.useState)(60),t=(0,r.Z)(e,2),n=t[0],a=t[1],o=(0,i.useState)("stream"),s=(0,r.Z)(o,2),l=s[0],c=s[1],u=(0,i.useState)(""),d=(0,r.Z)(u,2),m=d[0],p=d[1];return i.createElement("div",{className:k},i.createElement("div",{className:E},i.createElement("p",null,"Stream time (in seconds)"),i.createElement("input",{className:b,type:"text",value:n,onChange:function(e){var t=e.target.value;a(parseInt(t,10))}}),i.createElement("button",{className:_,onClick:function(){y.N.increaseStreamTime(n)}},"Add time"),i.createElement("button",{className:_,onClick:function(){y.N.increaseStreamTime(1200)}},"Add 20 minutes")),i.createElement("div",{className:E},i.createElement("p",null,"Override Country"),i.createElement("select",{value:m,onBlur:function(){},onChange:function(e){p(e.target.value)}},i.createElement("option",{value:"US"},"USA"),i.createElement("option",{value:"UK"},"United Kingdom"),i.createElement("option",{value:"JP"},"Japan"),i.createElement("option",{value:"BR"},"Brasil"),i.createElement("option",{value:"AU"},"Australia"),i.createElement("option",{value:"SE"},"Sweden"),i.createElement("option",{value:""},"Clear Override")),i.createElement("button",{className:_,onClick:function(){y.N.overrideCountry(m)}},"Override")),i.createElement("div",{className:E},i.createElement("p",null,"Clear ad in slot"),i.createElement("select",{value:l,onBlur:function(){},onChange:function(e){c(e.target.value)}},i.createElement("option",{value:"stream"},"STREAM"),i.createElement("option",{value:"billboard"},"BILLBOARD OVERLAY"),i.createElement("option",{value:"promotedsong"},"PROMOTED SONG"),i.createElement("option",{value:"hpto"},"HPTO"),i.createElement("option",{value:"leaderboard"},"LEADERBOARD")),i.createElement("button",{className:_,onClick:function(){y.N.clearSlot(l)}},"Clear slot"),i.createElement("p",null,"Trigger ad in slot"),i.createElement("select",{value:l,onBlur:function(){},onChange:function(e){c(e.target.value)}},i.createElement("option",{value:"stream"},"STREAM"),i.createElement("option",{value:"billboard"},"BILLBOARD OVERLAY"),i.createElement("option",{value:"promotedsong"},"PROMOTED SONG"),i.createElement("option",{value:"hpto"},"HPTO"),i.createElement("option",{value:"leaderboard"},"LEADERBOARD")),i.createElement("button",{className:_,onClick:function(){y.N.triggerSlot(l)}},"Trigger slot")),i.createElement("button",{className:_,onClick:function(){y.N.queueVideoAd()}},"Queue Video Ad"))};var w=n(86706),N=n(34011),O=n(40669),C=n(5965);const T="scaF2wOGtuiU5UBKJrGa",I="PjVBb0nlrIUasTrrFgCx",A="MjtdwpkzFFhhmzeyzOy2",P="uVClWczmJLRR5jfAENGP";var D=[{label:"Production",value:"prod"},{label:"Development",value:"dev"}],R=n(70043),x=n(78453),L=(n(68309),n(83710),n(96647),n(39714),n(9279)),F=n(39054),U=n(27531),Z=n(31937),M=n(57520),B=n(15006),j=n(25853);const V="mHtMWLOMN_lZh6Eq1lBe",H="Ryr6R2suLwNRYud_tuXs",G="CB4s_xlu5db24RNOdk9e",W="rXwi6WM3vPDuyj9fQLw_",z="rqhyBEi1217s5l9KD42B";var K=function(e){var t=e.name,n=e.value;return i.createElement(L.S,{hover:!0},i.createElement(F.p,{className:H,highlight:!0},t),i.createElement(F.p,{className:G,truncate:!0,align:"right"},n),i.createElement(F.p,{className:W},i.createElement("button",{className:z,onClick:function(){void 0!==n&&(0,j.v)(n)}},i.createElement(U.c,{iconSize:16}))))},Y=n(39270);const q="WT_NZ6JEU_dK03UPUjQm",Q="qiIwEYs34R1jRXwb_sZ8",J="x_Ve8I65cAL4jZHbutKP",X="y_1aE6JElOnrFrvmgpUO",$="rOqbwjYwx0AIWTfoYOQe",ee="w0xpmm3i0WhHooXZt9xC";var te=function(e){var t=e.name,n=e.value;return i.createElement(L.S,{hover:!0},i.createElement(F.p,{className:Q,highlight:!0},t),i.createElement(F.p,{className:J,truncate:!0,align:"right"},n),i.createElement(F.p,{className:X},i.createElement("button",{className:$,onClick:function(){void 0!==n&&(0,j.v)(n)}},i.createElement(U.c,{iconSize:16}))))},ne=function(e){var t=e.device;return i.createElement(Z.x,null,i.createElement("h3",{className:ee},t.name),i.createElement(M.i,null,i.createElement("colgroup",null,i.createElement("col",{width:"30%"}),i.createElement("col",null),i.createElement("col",{width:"16px"})),i.createElement("tbody",null,i.createElement(te,{name:"Device",value:null==t?void 0:t.name}),i.createElement(te,{name:"Identifier",value:t.id}),i.createElement(te,{name:"Type",value:t.type}),i.createElement(te,{name:"Group",value:t.isGroup.toString()}),i.createElement(te,{name:"Local",value:t.isLocal.toString()}),i.createElement(te,{name:"Active",value:t.isActive.toString()}),i.createElement(te,{name:"Connecting",value:t.isConnecting.toString()}),i.createElement(te,{name:"Disabled",value:t.isDisabled.toString()}),i.createElement(te,{name:"Volume",value:t.volume.toString()}),i.createElement(te,{name:"HiFi",value:t.hifiSupport.deviceSupported.toString()}))))},re=(n(47042),n(46314),n(66992),n(39575),n(82472),n(48675),n(92990),n(18927),n(33105),n(35035),n(74345),n(7174),n(32846),n(44731),n(77209),n(96319),n(58867),n(37789),n(33739),n(29368),n(14483),n(12056),n(3462),n(30678),n(27462),n(33824),n(55021),n(12974),n(15016),n(37380),n(1118),n(1245)),ie=n(19325),ae=n(79742),oe=n(81052),se=n(70167),le=n(68741),ce=n(29205),ue=n(43867),de=n(71258),me=n(80849),pe=n(34882),fe=n(81029),ve=n(32667),ge=n(73382),he=n(74257),ye=n(99709),ke=n(87531),Ee=n(64781),be=n(14927);const _e="gbcTqus4yhTHlzm2IETQ",Se="QoWcMe7qZMDKemQfS8Qu",we="ZeUVhdgF8ZRjvUCTdmLr",Ne="mJkwncrS8jYg4iIg1f7y";var Oe=[re.Ul,ie.M$,ae.gw,oe._X,le.No,ce.PodcastPaywallsClient,ue.PrefsClient,me.ShowServiceClient,pe.KQ,ke.R3,Ee.Dx,de.HB,se.BK,p.ProductStateClient,fe.Pn],Ce="debug-esperanto-requests";var Te=n(4942),Ie=(n(69600),n(9494),n(9653),n(82526),n(57327),n(38880),n(49337),n(33321),n(69070),n(73753)),Ae=n(92386),Pe=n(26527);var De=n(39275),Re=n(95389);var xe=n(23716),Le=n(8341),Fe=n(49104),Ue=n(63868);const Ze="bFE0oGWgZ40KJHjcBj12",Me="nAeIvCNG4jVwkKxAEqwm",Be="KG4I4Zh3DDzaN0XwzddI",je="tiUNZpj0HxFf5EOWSiCA",Ve="eymcN9Ndbrbe5jR7URP_",He="nzbIAA5MqUSD0hIKUuHg",Ge="hksYFxAm48XqAEbpcukQ",We="UnO1u4VJB0B6pTtqWh1n",ze="xlSWVFMQmYmRK34yiPOA",Ke="oKgZ0g8at59jN8nf8Bee",Ye="Nodut0kqaRIc93iGqbbP",qe="dUIum8rPR6Msq9wot5ky";function Qe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Je(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qe(Object(n),!0).forEach((function(t){(0,Te.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Xe=function(e){var t=e.size,n=e.ranges;if(0===n.length)return i.createElement("div",{className:Ge},i.createElement("div",{className:We}));var r=n.map((function(e){var n=100*e.fromByte/t,r=100*e.toByte/t;return"transparent ".concat(n,"%, ").concat(Ie.$_Y.azure135," ").concat(n,"%, ").concat(Ie.$_Y.azure135," ").concat(r,"%, transparent ").concat(r,"%")})).join(", "),a="linear-gradient(90deg, ".concat(r,")");return i.createElement("div",{className:Ge},i.createElement("div",{className:We,style:{background:a}}))},$e=function(e){var t=e.item,n=e.file,r=(0,xe.g)(),a=(function(e){var t,n=0;if(0===e.length)return n;for(t=0;t<e.length;t++)n=(n<<5)-n+e.charCodeAt(t),n|=0;return n}("".concat(n.format).concat(n.bitrate))+180)%360;return i.createElement(L.S,{hover:!0},i.createElement(F.p,{className:Me,highlight:!0},i.createElement("div",{className:ze,style:{background:"linear-gradient(180deg, hsl(".concat(a,", 60%, 30%), hsl(").concat(a,", 40%, 70%))")}},i.createElement("span",{className:Ke},n.format),i.createElement("span",{className:Ye},et(n.bitrate,1e3,"k")))),i.createElement(F.p,{className:Be,truncate:!0},i.createElement("div",{className:He},n.fileId,i.createElement(Xe,{size:n.byteSize,ranges:n.byteRanges}))),i.createElement(F.p,{className:je},i.createElement("button",{className:Ve,onClick:function(){r.play({uri:"spotify:internal:fileplayback",pages:[{items:[Je(Je({},t),{},{provider:"context",metadata:{"media.manifest":JSON.stringify({id:n.fileId,bitrate:n.bitrate,format:n.formatEnum,encryption:"aes"})}})]}]},{referrerIdentifier:"other",featureIdentifier:"debug"})}},i.createElement(Ae.J,{iconSize:16})),i.createElement("button",{className:Ve,onClick:function(){(0,j.v)(n.fileId)}},i.createElement(U.c,{iconSize:16}))))};function et(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(void 0!==e&&-1!==e)return"string"==typeof e&&(e=Number.parseInt(e,10)),"".concat((e/t).toLocaleString("en",{maximumFractionDigits:10})).concat(n)}function tt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;return!0===e?"Yes":"No"}function nt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;if(void 0!==e)return(0,Fe.m)(parseInt(e,10))}var rt=function(e){var t=e.name,n=e.value;return i.createElement(L.S,{hover:!0},i.createElement(F.p,{className:Me,highlight:!0},t),i.createElement(F.p,{className:Be,truncate:!0,align:"right"},n),i.createElement(F.p,{className:je},i.createElement("button",{className:Ve,onClick:function(){void 0!==n&&(0,j.v)(n)}},i.createElement(U.c,{iconSize:16}))))},it=n(20938),at=function(){},ot=n(93433),st=(n(21703),n(33948),n(82772),n(94184)),lt=n.n(st),ct=n(24697),ut=n(27827),dt=n(7408),mt=n(3578),pt=n(14644),ft=n(98562),vt=n(22423);const gt="HnpguQ3rtX44hdThdwy9",ht="oJJkROlUPmT5lEqzx1cZ",yt="dQkRirl4qynBunRI_kR2",kt="RqhApI3LSHoimdyl53SQ",Et="y1gsL5scUuLOArVrFYRl",bt="Ni7focuLC626smvmOnLP",_t="W5wjtyjHTJPGX5j7_WOp";var St=function(e){var t=e.property,n=e.value,r=e.onOverride,a=e.isOverridden;if("int"===t.type||"internal"===t.type)throw Error("Invalid property type for dropdown!");var o="bool"===t.type?["true","false"]:t.values;return i.createElement(ge.i,{id:"".concat(t.name,"-dropdown"),value:(null!=n?n:t.default).toString(),onChange:function(e){var n;r(t.name,(n=e.currentTarget.value,"bool"===t.type?"true"===n:n))},className:lt()((0,Te.Z)({},_t,a))},o.map((function(e){return i.createElement("option",{key:e,value:e},e)})))},wt=function(e){var t=e.property,n=e.value,a=e.onOverride,o=e.isOverridden;if("int"!==t.type)throw Error("Invalid property type for dropdown!");var s=(0,i.useState)(null!=n?n:t.default),l=(0,r.Z)(s,2),c=l[0],u=l[1],d=(0,ct.y1)((function(e){a(t.name,e)}),500);return i.createElement(ut.y,{type:"number",min:t.lower,max:t.upper,value:c,onChange:function(e){u(e.currentTarget.value),d(Number.parseInt(e.currentTarget.value,10))},className:lt()((0,Te.Z)({},_t,o))})},Nt=function(e){var t,n=e.property,r=e.localValue,a=e.remoteValue,o=e.onOverride,s=r!==a;return i.createElement(L.S,{hover:!0},i.createElement(F.p,{className:yt,title:n.name,highlight:!0},n.name),i.createElement(F.p,{className:kt},n.default.toString()),i.createElement(F.p,{className:kt},null!==(t=null==a?void 0:a.toString())&&void 0!==t?t:null),i.createElement(F.p,{className:kt},"bool"===n.type||"enum"===n.type?i.createElement(St,{property:n,value:r,onOverride:o,isOverridden:s}):"int"===n.type?i.createElement(wt,{property:n,value:r,onOverride:o,isOverridden:s}):null))},Ot=function(e){var t=e.properties,n=e.localConfiguration,r=e.remoteConfiguration,a=e.setOverrides,o=e.clearOverrides,s=(0,i.useContext)(vt.fo).filter,l=function(e,t){a(mt.VK.fromJSON((0,Te.Z)({},e,t)))};return i.createElement("div",{className:Et},i.createElement("div",{className:bt},i.createElement(he.P,{buttonSize:"sm",onClick:function(){return o()}},"Clear local overrides"),i.createElement(ft.K,{placeholder:"Find",alwaysExpanded:!0})),i.createElement(Z.x,null,i.createElement(M.i,null,i.createElement("colgroup",null,i.createElement("col",{width:"30%"}),i.createElement("col",null),i.createElement("col",null)),i.createElement("tbody",null,i.createElement(L.S,null,i.createElement(dt.x,{className:ht},"Name"),i.createElement(dt.x,{className:ht},"Default"),i.createElement(dt.x,{className:ht},"Remote"),i.createElement(dt.x,{className:ht},"Local")),t.filter((function(e){return-1!==e.name.toLowerCase().indexOf(s.toLowerCase())})).map((function(e){return i.createElement(Nt,{key:e.name,property:e,localValue:n.getValue(e.name),remoteValue:r.getValue(e.name),onOverride:l})}))))))};const Ct="wjncHEmBUc7V8RZYdENw",Tt="uyHngn_fJez61BsFl3tA",It="J2KhtXbDovVMDOMzv1Jy",At="h5nLocSUS3w2NB53IdWQ";var Pt={Authorization:[{label:"Access Token",Panel:function(){var e,t,n,r,a,o,s,l,c=(0,B.p)(),u=null!==(e=null===(t=c.token)||void 0===t?void 0:t.accessToken)&&void 0!==e?e:"Not authorized",d=new Date(null!==(n=null===(r=c.token)||void 0===r?void 0:r.accessTokenExpirationTimestampMs)&&void 0!==n?n:0);return i.createElement("div",{className:V},i.createElement(Z.x,null,i.createElement(M.i,null,i.createElement("colgroup",null,i.createElement("col",{width:"30%"}),i.createElement("col",null),i.createElement("col",{width:"16px"})),i.createElement("tbody",null,i.createElement(K,{name:"Token",value:u}),i.createElement(K,{name:"Expires At",value:d.toLocaleString()}),i.createElement(K,{name:"Retry Attempt",value:null!==(a=null===(o=c.retryAttempt)||void 0===o?void 0:o.toString())&&void 0!==a?a:"N/A"}),i.createElement(K,{name:"Retry At",value:null!==(s=null===(l=c.retryAt)||void 0===l?void 0:l.toLocaleString())&&void 0!==s?s:"N/A"})))))}}],Playback:[{label:"Playback",Panel:function(){var e,t,n,a,o,s=(0,Le.Y)((function(e){var t;return null!==(t=null==e?void 0:e.item)&&void 0!==t?t:null})),l=(e=(0,i.useState)(null),t=(0,r.Z)(e,2),n=t[0],a=t[1],o=(0,Pe.f)(),(0,i.useEffect)((function(){var e=!0;return o.getPlaybackInfo().then((function(t){e&&a(t)})),function(){e=!1}}),[o]),(0,Re._)(De.r.INFO,(function(e){var t=e.data;a(t)})),n),c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=(0,i.useState)(null),a=(0,r.Z)(n,2),o=a[0],s=a[1],l=(0,Pe.f)();return(0,i.useEffect)((function(){var n=!0,r=null;if(null===e)s(null);else{var i=function(){var t=(0,u.Z)(m().mark((function t(){var r;return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.getFiles(e);case 2:r=t.sent,n&&s(r);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();i(),null!==t&&(r=window.setInterval(i,t))}return function(){n=!1,null!==r&&window.clearInterval(r)}}),[l,e,t]),o}(null==s?void 0:s.uri,500),d=(0,xe.g)();return null===s?i.createElement("div",{className:Ze},"Nothing is currently playing."):i.createElement("div",{className:Ze},i.createElement("div",{className:qe},i.createElement(ve.D,{variant:"violaBold"},"Forced shuffle"),i.createElement(Ue.Z,{id:"forced-shuffe",value:d.getForcedShuffle(),onSelected:function(e){d.setForcedShuffle(e)}})),i.createElement(Z.x,null,i.createElement(M.i,null,i.createElement("colgroup",null,i.createElement("col",{width:"30%"}),i.createElement("col",null),i.createElement("col",{width:"16px"})),i.createElement("tbody",null,i.createElement(rt,{name:"url"===(null==l?void 0:l.fileType)?"URL":"File ID",value:null==l?void 0:l.fileId}),i.createElement(rt,{name:"Type",value:null==l?void 0:l.fileType}),i.createElement(rt,{name:"url"===(null==l?void 0:l.fileType)?"URL":"File ID",value:null==l?void 0:l.fileId}),i.createElement(rt,{name:"Codec",value:null==l?void 0:l.codecName}),i.createElement(rt,{name:"Bitrate",value:et(null==l?void 0:l.fileBitrate,1e3,"k")}),i.createElement(rt,{name:"Strategy",value:null==l?void 0:l.strategy}),i.createElement(rt,{name:"Target Bitrate",value:et(null==l?void 0:l.targetBitrate,1e3,"k")}),i.createElement(rt,{name:"Advisted Bitrate",value:et(null==l?void 0:l.advisedBitrate,1e3,"k")}),i.createElement(rt,{name:"Target File Available",value:tt(null==l?void 0:l.targetFileAvailable)}),i.createElement(rt,{name:"Duration (hh:mm)",value:nt(null==l?void 0:l.lengthMs)}),i.createElement(rt,{name:"Duration (ms)",value:et(null==l?void 0:l.lengthMs,1," ms")}),i.createElement(rt,{name:"Speed",value:et(null==l?void 0:l.playbackSpeed)}),i.createElement(rt,{name:"Gain Adjustment",value:et(null==l?void 0:l.gainAdjustment)}),i.createElement(rt,{name:"Loudness",value:null!=l&&l.hasLoudness?et(null==l?void 0:l.loudness):void 0})))),i.createElement(Z.x,null,i.createElement(M.i,null,i.createElement("colgroup",null,i.createElement("col",{width:"72px"}),i.createElement("col",null),i.createElement("col",{width:"32px"})),i.createElement("tbody",null,null==c?void 0:c.map((function(e){return i.createElement($e,{key:e.fileId,item:s,file:e})}))))))}},{label:"Connect",Panel:function(){var e=(0,Y.O)(),t=e.devices;return i.createElement("div",{className:q},i.createElement(Z.x,null,i.createElement(M.i,null,i.createElement("colgroup",null,i.createElement("col",{width:"30%"}),i.createElement("col",null),i.createElement("col",{width:"16px"})),i.createElement("tbody",null,i.createElement(te,{name:"Status",value:e.connectionStatus})))),t.map((function(e){return i.createElement(ne,{key:e.id,device:e})})))}}],"Data Fetching":[{label:"Esperanto",Panel:function(){var e=(0,i.useState)((function(){var e=(0,v.G)();return Oe.reduce((function(t,n){return t[n.SERVICE_ID]={calls:n.DECODERS,client:new n(e)},t}),{})})),t=(0,r.Z)(e,1)[0],n=Object.keys(t),a=(0,i.useState)(n[0]),o=(0,r.Z)(a,2),s=o[0],l=o[1],c=t[s].calls,d=Object.keys(c),p=(0,i.useState)(d[0]),f=(0,r.Z)(p,2),g=f[0],h=f[1],y=(0,i.useState)(null),k=(0,r.Z)(y,2),E=k[0],b=k[1],_=(0,i.useState)(""),S=(0,r.Z)(_,2),w=S[0],N=S[1],O=(0,i.useState)(""),C=(0,r.Z)(O,2),T=C[0],I=C[1],A=(0,be.um)(),P=(0,i.useCallback)((function(e,n){var r=null!=e?e:Object.keys(t)[0],i=t[r].calls,a=null!=n?n:Object.keys(i)[0];l(r),h(a);var o=function(e,t,n){var r,i,a=e.getItem(Ce);return"string"!=typeof a?null:null!==(r=null===(i=JSON.parse(a)[t])||void 0===i?void 0:i[n])&&void 0!==r?r:null}(A,r,a);N(null!==o?o:JSON.stringify(i[a].request(new Uint8Array),(function(e,t){return void 0===t?null:t}),2))}),[A,t]);return(0,i.useEffect)((function(){P()}),[P]),(0,i.useEffect)((function(){!function(e,t,n,r){var i=e.getItem(Ce),a="string"==typeof i?JSON.parse(i):{};Object.hasOwn(a,t)||(a[t]={}),a[t][n]=r,e.setItem(Ce,JSON.stringify(a))}(A,s,g,w)}),[A,s,g,w]),i.createElement("div",{className:_e},i.createElement("div",{className:Se},i.createElement(ve.D,{as:"p",variant:"ballad"},"Endpoint"),i.createElement(ge.i,{id:"service-dropdown",value:s,onChange:function(e){P(e.currentTarget.value)}},n.map((function(e){return i.createElement("option",{key:e,value:e},e)}))),i.createElement(ge.i,{id:"call-dropdown",value:g,onChange:function(e){P(s,e.currentTarget.value)}},d.map((function(e){return i.createElement("option",{key:e,value:e},e)})))),i.createElement("div",{className:we},i.createElement(ve.D,{as:"p",variant:"ballad"},"Request"),i.createElement(he.P,{buttonSize:"sm",onClick:function(){try{var e=JSON.parse(w,(function(e,t){return null===t?void 0:t})),t=JSON.stringify(e,(function(e,t){return void 0===t?null:t}),2);N("".concat(t,"\n"))}catch(e){}}},"Prettify"),i.createElement(he.P,{buttonSize:"sm",onClick:(0,u.Z)(m().mark((function e(){var n,r,i,a;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!E){e.next=4;break}return E.cancel(),b(null),e.abrupt("return");case 4:if(n=t[s].client,r=(o=g).charAt(0).toLowerCase()+o.slice(1),1!==(i=n[r]).length){e.next=14;break}return e.next=10,i.call(n,JSON.parse(w,(function(e,t){return null===t?void 0:t})));case 10:a=e.sent,I(JSON.stringify(a,void 0,2)),e.next=15;break;case 14:2===i.length&&b(i.call(n,JSON.parse(w,(function(e,t){return null===t?void 0:t})),(function(e){I(JSON.stringify(e,void 0,2))})));case 15:case"end":return e.stop()}var o}),e)})))},null!==E?"Cancel":"Send"),i.createElement(ye.B,{value:w,onChange:function(e){N(e.currentTarget.value)}})),i.createElement("div",{className:Ne},i.createElement(ve.D,{as:"p",variant:"ballad"},"Response"),i.createElement(ye.B,{value:T,readOnly:!0})))}},{label:"React Query",Panel:function(){return i.createElement(it.ReactQueryDevtoolsPanel,{setIsOpen:at,handleDragStart:at})}}],Other:[{label:"Remote Config",Panel:function(){var e=(0,ot.Z)((0,mt.y6)()),t=(0,pt.j)(),n=t.localConfiguration,r=t.remoteConfiguration,a=t.setOverrides,o=t.clearOverrides;return i.createElement("div",{className:gt},i.createElement(vt.hz,{uri:"spotify:internal:debug:remote-config-properties"},i.createElement(Ot,{properties:e,localConfiguration:n,remoteConfiguration:r,setOverrides:a,clearOverrides:o})))}},{label:"Ads",Panel:S},{label:"In-App Messaging",Panel:function(){var e=(0,w.I0)(),t=(0,w.v9)((function(e){return e.inAppMessaging.env})),n=(0,w.v9)((function(e){return e.inAppMessaging.message})),a=(0,i.useState)(""),o=(0,r.Z)(a,2),s=o[0],l=o[1],c=(0,i.useState)(""),u=(0,r.Z)(c,2),d=u[0],m=u[1],p=(0,i.useState)(!1),f=(0,r.Z)(p,2),v=f[0],g=f[1];(0,i.useEffect)((function(){n&&v&&g(!1)}),[n,v]);var h=!n&&v;return i.createElement("div",{className:T},i.createElement("div",{className:I},i.createElement("div",null,i.createElement("label",{htmlFor:"desktop.settings.inAppMessagingEnv"},"Mode (endpoint):")),i.createElement(O.v,{dir:"auto",value:t,id:"desktop.settings.inAppMessagingEnv",onSelect:function(t){"prod"!==t&&"dev"!==t||e((0,C.q1)(t))}},D.map((function(e){var t=e.label,n=e.value;return i.createElement("option",{key:n,value:n},t)}))),i.createElement("div",null,i.createElement("label",{htmlFor:"desktop.settings.inAppMessagingCreativeId"},"Creative Id:")),i.createElement("div",null,i.createElement("input",{className:A,placeholder:"(eg. 12123434)",id:"desktop.settings.inAppMessagingCreativeId",name:"Creative Id",type:"text",value:s,onChange:function(e){l(e.target.value),g(!1)}})),i.createElement("div",null,i.createElement("label",{htmlFor:"desktop.settings.inAppMessagingAppUri"},"URI for Dynamic Content (optional):")),i.createElement("div",null,i.createElement("input",{className:A,placeholder:"(eg. spotify:artist:123)",id:"desktop.settings.inAppMessagingAppUri",name:"App Uri",type:"text",value:d,onChange:function(e){m(e.target.value),g(!1)}})),i.createElement("div",null),i.createElement("div",null),i.createElement("div",null,i.createElement(N.D,{colorSet:"invertedLight",onClick:function(t){t.preventDefault(),e((0,C.XJ)(s,d)),g(!1),window.setTimeout((function(){g(!0)}),1e3)}},"Get Preview")),h&&i.createElement("div",{className:P},"No Messsage found")))}}]},Dt=Object.keys(Pt),Rt=function(){var e=(0,i.useState)(Dt[0]),t=(0,r.Z)(e,2),n=t[0],a=t[1],u=(0,i.useState)(0),d=(0,r.Z)(u,2),m=d[0],p=d[1],f=Pt[n][m].Panel;return i.createElement("div",{className:Ct},i.createElement(o.W,{className:Tt},i.createElement(s.b,{flexMobile:!0},Dt.map((function(e){return i.createElement(i.Fragment,null,i.createElement(l.W,null,e),Pt[e].map((function(t,r){return i.createElement(c._,{key:t.label,active:n===e&&m===r,label:t.label,onClick:function(){a(e),p(r)},className:It},t.label)})))})))),i.createElement("div",{className:At},i.createElement(f,null)))};function xt(e,t){t.head.querySelectorAll("style, link[rel=stylesheet]").forEach((function(e){t.head.removeChild(e)})),Array.from(e.styleSheets).forEach((function(n){if(n.cssRules){var r=t.createElement("style");Array.from(n.cssRules).forEach((function(e){r.appendChild(t.createTextNode(e.cssText))})),t.head.appendChild(r)}else if(n.href){var i=e.createElement("link");i.rel="stylesheet",i.href=n.href,t.head.appendChild(i)}}))}var Lt=function(){var e=(0,x.C)(),t=e.show,n=e.hide,o=e.isVisible,s=(0,i.useState)(null),l=(0,r.Z)(s,2),c=l[0],u=l[1],d=(0,i.useState)(null),m=(0,r.Z)(d,2),p=m[0],f=m[1],v=(0,i.useCallback)((function(){null!==c&&(c.close(),u(null),f(null))}),[c]);return(0,R.eY)(R.O4.SHOW_DEBUG_WINDOW,(function(){t()})),(0,i.useEffect)((function(){if(o&&null===c){var e=((r=document.createElement("div")).classList.add("encore-dark-theme"),r),t=function(e){var t=window.open("about:blank","_blank","left=".concat(e.left,",top=").concat(e.top+200,",width=").concat(e.width,",height=").concat(e.height));if(null!==t){t.document.title=e.title,t.document.body.appendChild(e.contents);var n=null;e.cloneStylesSource&&(xt(e.cloneStylesSource,t.document),(n=new MutationObserver((function(){xt(e.cloneStylesSource,t.document)}))).observe(e.cloneStylesSource.head,{subtree:!0,childList:!0,characterData:!0})),t.addEventListener("beforeunload",(function(){null!==n&&n.disconnect(),e.onClose()}))}return t}({left:0,top:0,width:1280,height:900,title:"Debug",contents:e,cloneStylesSource:window.document,onClose:n});u(t),f(e)}else o||v();var r;return function(){v()}}),[n,o,v,c,p]),(0,i.useEffect)((function(){return window.addEventListener("beforeunload",v),function(){window.removeEventListener("beforeunload",v)}}),[v]),o&&null!==p?a.createPortal(i.createElement(Rt,null),p):null},Ft=(n(88674),n(17727),n(84633),n(24812),n(69720),n(96206)),Ut=n(38868),Zt=n(7867),Mt=n(30339);const Bt="SsxBZ9Nwxg30ZcXUcUcJ",jt="HVN1FVVriodEnWgn1GZ4",Vt="legiK6gOuEtSJvxYKoXc",Ht="N6dpLHX_oZBYC1FQy8SA",Gt="krXyPxbq59r39DlZdHzv",Wt="_o0S4kMO8jLyHmiTwjxg",zt="yuK7YlDkSnTHzZph5sQq";function Kt(){var e=i.useState(Mt.ZP.isEnabled()),t=(0,r.Z)(e,2),n=t[0],a=t[1];return i.createElement("div",null," ",i.createElement(ve.D,{as:"h4",variant:"canon",semanticColor:"textBase"},"Pseudo localization"),i.createElement("div",null,i.createElement(ve.D,{variant:"ballad"},"Perform"," ",i.createElement("a",{href:"https://en.wikipedia.org/wiki/Pseudolocalization"},"pseudolocalization")," ","against the DOM.",i.createElement("br",null)),i.createElement(ve.D,{variant:"viola"},"In Accented English all Latin letters are replaced by accented Unicode counterparts which don't impair the readability of the content. This allows developers to quickly test if any given string is being correctly displayed in its 'translated' form. Additionally, simple heuristics are used to make certain words longer to better simulate the experience of international users.")),i.createElement("br",null),i.createElement("div",{className:zt},i.createElement(ve.D,{as:"label",htmlFor:"pseudo-localization",variant:"ballad"},"Toggle pseudo-localization"),i.createElement(Ue.Z,{id:"pseudo-localization",value:n,onSelected:function(e){e?(a(!0),Mt.ZP.start()):(a(!1),Mt.ZP.stop(),window.location.reload())}})))}var Yt=function(){var e=Ft.ag.getLocale(),t=Ft.ag.getDictionary(),n=(0,i.useState)(null),a=(0,r.Z)(n,2),o=a[0],s=a[1];(0,i.useEffect)((function(){var n={};return Promise.all(Object.keys(Zt.k1).map(function(){var e=(0,u.Z)(m().mark((function e(t){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,Ut.q)(t);case 2:n[t]=e.sent;case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())).then((function(){s(n)})).finally((function(){setImmediate((function(){Ft.ag.setDictionary(t),Ft.ag.setLocale(e)}))})),function(){Ft.ag.setDictionary(t),Ft.ag.setLocale(e)}}),[e,t]);var l=(0,i.useState)(null),c=(0,r.Z)(l,2),d=c[0],p=c[1],f=Ft.ag.get.bind(Ft.ag);return i.createElement("div",{className:Bt},i.createElement("h1",{className:jt},"Locales"),i.createElement("h3",null,"You can use this tool to test if the Desktop client is able to properly render every locale with correct font-family within Desktop UI."),i.createElement(Kt,null),o?i.createElement(i.Fragment,null,i.createElement("div",{className:Wt},i.createElement("p",null,"Choose a string key from the dropdown to test it"),i.createElement("select",{onChange:function(e){p(e.target.value)}},i.createElement("option",{selected:null===d},"Select a key"),Object.keys(o[Ft.go.en]||{}).map((function(e){return i.createElement("option",{selected:d===e,key:e},e)})))),i.createElement("div",{className:Vt},Object.entries(Zt.k1).map((function(e){var t=(0,r.Z)(e,2),n=t[0],a=t[1],s=a.displayName,l=a.displayNameEn;return n in o&&(Ft.ag.setDictionary(o[n]),Ft.ag.setLocale(n)),i.createElement("div",{className:Ht},i.createElement("h3",null,l," (",n,") (",s,")"),d?i.createElement("p",{className:Gt},n in o?f(d):"💥 Can't load dictionary 💥 "):null)})))):i.createElement("p",null,"Please wait until we fetch all dictionaries"))}},23267:(e,t,n)=>{"use strict";n.d(t,{B2:()=>l,YO:()=>p,bt:()=>c,nb:()=>m});var r=n(29439),i=n(4942),a=(n(21703),n(96647),n(47941),n(82526),n(57327),n(41539),n(38880),n(89554),n(54747),n(49337),n(33321),n(69070),n(67294));function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var l=function(){return{type:"SHOW_DEBUG_WINDOW"}},c=function(){return{type:"HIDE_DEBUG_WINDOW"}};function u(e,t){switch(t.type){case"SHOW_DEBUG_WINDOW":return s(s({},e),{},{isVisible:!0});case"HIDE_DEBUG_WINDOW":return s(s({},e),{},{isVisible:!1})}return e}var d=(0,a.createContext)(null),m=function(e){var t=e.children,n=(0,a.useReducer)(u,{isVisible:!1}),i=(0,r.Z)(n,2),o=i[0],s=i[1];return a.createElement(d.Provider,{value:[o,s]},t)};function p(){var e=(0,a.useContext)(d);if(null===e)throw new Error("Trying to use 'DebugContext' without 'DebugProvider'!");return e}},78453:(e,t,n)=>{"use strict";n.d(t,{C:()=>o});var r=n(29439),i=n(67294),a=n(23267);function o(){var e=(0,a.YO)(),t=(0,r.Z)(e,2),n=t[0],o=t[1],s=(0,i.useCallback)((function(){return o((0,a.B2)())}),[o]),l=(0,i.useCallback)((function(){return o((0,a.bt)())}),[o]);return{isVisible:n.isVisible,show:s,hide:l}}},51340:(e,t,n)=>{"use strict";n.d(t,{c:()=>r,f:()=>d});n(41539),n(81299),n(12419);var r,i=n(43144),a=n(15671),o=n(60136),s=n(82963),l=n(61120),c=n(98938);function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,l.Z)(e);if(t){var i=(0,l.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,s.Z)(this,n)}}!function(e){e.ENHANCED="enhanced",e.DEHANCED="dehanced",e.ENHANCED_WITH_NUM_RECS="enhanced_with_num_recs",e.RECOMMENDATION_ADDED="recommendation_added",e.RECOMMENDATION_ADD_FAIL="recommendation_add_fail",e.RECOMMENDATION_REMOVED="recommendation_removed",e.RECOMMENDATION_REMOVE_FAIL="recommendation_remove_fail",e.ENHANCE_OFFLINE_FAILURE="enhance_offline_failure"}(r||(r={}));var d=function(e){(0,o.Z)(n,e);var t=u(n);function n(){return(0,a.Z)(this,n),t.apply(this,arguments)}return(0,i.Z)(n)}(c.r)},14723:(e,t,n)=>{"use strict";n.d(t,{t:()=>L});var r=n(15861),i=n(15671),a=n(43144),o=n(4942),s=n(87757),l=n.n(s),c=(n(21703),n(96647),n(69518)),u=n.n(c),d=n(1838),m=n(39412),p=n(94967),f=n(88247),v=n(89952),g=n(73893),h=(n(38862),n(47941),n(82526),n(57327),n(41539),n(38880),n(89554),n(54747),n(49337),n(33321),n(69070),n(16516));function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var E="".concat(h.XA,"/enhanced-view/v1");function b(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;return e.build().withHost(E).withPath("/context/".concat(encodeURIComponent(t))).withQueryParameters(k(k({},r?{sessionId:r}:{}),{},{iteration:n,offset:i,limit:a,format:"json"})).send()}function _(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;return e.build().withMethod("POST").withHost(E).withPath("/context/".concat(encodeURIComponent(t),"/add")).withQueryParameters({sessionId:n,offset:i,limit:a}).withHeaders([{key:"accept",value:"text/plain"}]).withBody(JSON.stringify({itemIds:r})).withoutMarket().send()}function S(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;return e.build().withMethod("POST").withHost(E).withPath("/context/".concat(encodeURIComponent(t),"/remove")).withQueryParameters({sessionId:n,offset:i,limit:a}).withBody(JSON.stringify({itemIds:r})).withoutMarket().send()}var w=n(51340),N=(n(9653),n(68309),n(83710),n(69826),n(21249),n(91038),n(78783),n(66992),n(70189),n(33948),n(92222),n(69600),n(86535),n(99244),n(98984),{kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"decorateItemsForEnhance"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"trackUris"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"userUris"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"tracks"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uris"},value:{kind:"Variable",name:{kind:"Name",value:"trackUris"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Track"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"album"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"artists"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"profile"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"duration"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalMilliseconds"}}]}},{kind:"Field",name:{kind:"Name",value:"contentRating"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"label"}}]}},{kind:"Field",name:{kind:"Name",value:"playability"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"playable"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"users"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uris"},value:{kind:"Variable",name:{kind:"Name",value:"userUris"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"avatar"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}}]}}]}}]}}]}),O=function(e){return"User"===(null==e?void 0:e.__typename)},C=function(e){return"Track"===(null==e?void 0:e.__typename)};function T(e,t,n){var r,i,a,o,s,l,c,u,d=arguments.length>3&&void 0!==arguments[3]&&arguments[3],m=Number(e.itemAttributes.addedAt);return{__typename:"Track",uid:e.itemId,uri:e.uri,name:null!==(r=null==t?void 0:t.name)&&void 0!==r?r:"",album:{uri:null!==(i=null==t?void 0:t.album.uri)&&void 0!==i?i:"",name:null!==(a=null==t?void 0:t.album.name)&&void 0!==a?a:"",coverArt:null!==(o=null==t?void 0:t.album.coverArt)&&void 0!==o?o:null},artists:{items:null!==(s=null==t?void 0:t.artists.items)&&void 0!==s?s:[]},contentRating:null!==(l=null==t?void 0:t.contentRating)&&void 0!==l?l:null,duration:{totalMilliseconds:null!==(c=null==t?void 0:t.duration.totalMilliseconds)&&void 0!==c?c:0},playability:{playable:null!==(u=null==t?void 0:t.playability.playable)&&void 0!==u&&u},isEnhanced:e.itemAttributes.isRecommendation,isFirstRecommendationOfPage:d,addedBy:n,playContextPageIndex:e.itemAttributes.playerContextPage,addedAt:isNaN(m)?null:new Date(1e3*m)}}function I(e,t,n,r,i){return A.apply(this,arguments)}function A(){return(A=(0,r.Z)(l().mark((function e(t,n,r,i,a){var o;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P(t,n,r,i,a);case 2:return o=a.find((function(e){return e.itemAttributes.isRecommendation})),e.abrupt("return",a.map((function(e){return T(e,r.get(e.uri),i.get(e.itemAttributes.addedBy),e===o)})));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(e,t,n,r,i){return D.apply(this,arguments)}function D(){return(D=(0,r.Z)(l().mark((function e(t,n,r,i,a){var o,s;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=Array.from(new Set(a.filter((function(e){return!C(r.get(e.uri))})).map((function(e){return e.uri})))),s=Array.from(new Set(a.filter((function(e){return!O(i.get(e.itemAttributes.addedBy))})).map((function(e){return e.itemAttributes.addedBy})))),!o.length&&!s.length){e.next=5;break}return e.next=5,R(t,n,r,i,o,s);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function R(e,t,n,r,i,a){return x.apply(this,arguments)}function x(){return(x=(0,r.Z)(l().mark((function e(t,n,r,i,a,o){var s,c,d;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.create("".concat(a.join(","),"|").concat(o.join("@")),(function(){return t(N,{trackUris:a,userUris:o.map((function(e){return u().profileURI(e).toURI()}))},["trackUris","userUris"])}));case 2:if(s=e.sent,c=s.flatMap((function(e){var t;return null!==(t=e.tracks)&&void 0!==t?t:[]})),d=s.flatMap((function(e){var t;return null!==(t=e.users)&&void 0!==t?t:[]})),(null==c?void 0:c.length)===a.length&&(null==d?void 0:d.length)===o.length){e.next=7;break}throw new Error("Error decorating tracks and users for enhance! Mismatch in array sizes.");case 7:null==c||c.forEach((function(e,t){C(e)&&r.set(a[t],e)})),null==d||d.forEach((function(e,t){O(e)&&i.set(o[t],e)}));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var L=function(){function e(t,n,r){(0,i.Z)(this,e),(0,o.Z)(this,"TTL",36e5),(0,o.Z)(this,"CLEAN_INTERVAL",36e5),(0,o.Z)(this,"_events",new w.f),(0,o.Z)(this,"_getPageShouldEmitEnhancedWithRecs",!1),(0,o.Z)(this,"_inflightDecorationCache",new p.tL),(0,o.Z)(this,"_tracksCache",new p.tp(this.TTL,this.CLEAN_INTERVAL)),(0,o.Z)(this,"_userCache",new p.tp(this.TTL,this.CLEAN_INTERVAL)),(0,o.Z)(this,"MAX_PAGE_SIZE",300),this._builder=t,this._graphQLBatchedLoader=n,this._playerAPI=r}var t,n,s,c,h,y,k;return(0,a.Z)(e,[{key:"getEvents",value:function(){return this._events}},{key:"setIsEnhanced",value:(k=(0,r.Z)(l().mark((function e(t,n){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("Setting enhanced state is not yet implemented");case 1:case"end":return e.stop()}}),e)}))),function(e,t){return k.apply(this,arguments)})},{key:"getContextState",value:(y=(0,r.Z)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("Getting context state is not yet implemented");case 1:case"end":return e.stop()}}),e)}))),function(e){return y.apply(this,arguments)})},{key:"subscribeToContextState",value:function(e,t){return t(new Error("Subscribing to context state is not yet implemented")),function(){}}},{key:"addRecommendation",value:(h=(0,r.Z)(l().mark((function e(t,n,r,i,a){var o,s,c;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_(this._builder,t,n,r,i,a);case 3:return o=e.sent,s=o.body,200===(c=o.status)&&this._events.emit(w.c.RECOMMENDATION_ADDED,{uri:t}),e.abrupt("return",{enhancePage:s,status:c});case 10:throw e.prev=10,e.t0=e.catch(0),this._events.emit(w.c.RECOMMENDATION_ADD_FAIL,{uri:t}),e.t0;case 14:case"end":return e.stop()}}),e,this,[[0,10]])}))),function(e,t,n,r,i){return h.apply(this,arguments)})},{key:"removeItems",value:(c=(0,r.Z)(l().mark((function e(t,n,r,i,a,o){var s,c,u;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S(this._builder,t,n,r,i,a);case 3:return s=e.sent,c=s.body,200===(u=s.status)&&o&&this.getEvents().emit(w.c.RECOMMENDATION_REMOVED,{uri:t}),e.abrupt("return",{enhancePage:c,status:u});case 10:throw e.prev=10,e.t0=e.catch(0),o&&this.getEvents().emit(w.c.RECOMMENDATION_REMOVE_FAIL,{uri:t}),e.t0;case 14:case"end":return e.stop()}}),e,this,[[0,10]])}))),function(e,t,n,r,i,a){return c.apply(this,arguments)})},{key:"getPage",value:(s=(0,r.Z)(l().mark((function e(t,n,r,i,a){var o,s,c;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b(this._builder,t,n,r,i,a);case 2:return o=e.sent,s=o.body,c=o.status,this._getPageShouldEmitEnhancedWithRecs&&(this._events.emit(w.c.ENHANCED_WITH_NUM_RECS,{uri:t,numRecs:s.numTotalRecs}),this._getPageShouldEmitEnhancedWithRecs=!1),e.abrupt("return",{enhancePage:s,status:c});case 7:case"end":return e.stop()}}),e,this)}))),function(e,t,n,r,i){return s.apply(this,arguments)})},{key:"decoratePageItems",value:(n=(0,r.Z)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I(this._graphQLBatchedLoader,this._inflightDecorationCache,this._tracksCache,this._userCache,t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"updatePlayContextIfApplicable",value:(t=(0,r.Z)(l().mark((function e(t,n){var r,i,a,o,s,c,p,h,y,k;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((null===(r=this._playerAPI.getState())||void 0===r?void 0:r.context.uri)===t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getContextState(t);case 4:if(a=e.sent,o=a.isEnhanced,s=a.iteration,!u().isPlaylistV1OrV2(t)){e.next=11;break}c=(0,g.U)(t,n&&(0,d._j)(n)),e.next=16;break;case 11:if(!u().isCollection(t)){e.next=15;break}c=(0,f.I)(t,n&&(0,m.w)(n)),e.next=16;break;case 15:return e.abrupt("return");case 16:if((i=c).metadata||(i.metadata={}),!o){e.next=28;break}if(s){e.next=20;break}return e.abrupt("return");case 20:return e.next=22,this.getPage(t,s,void 0,0,1);case 22:p=e.sent,h=p.enhancePage,c.url=null==h?void 0:h.dspContextUri,c.metadata[v.sb.SORTING_CRITERIA]="",e.next=30;break;case 28:c.url="context://".concat(t),c.metadata[v.sb.REPORTING_URI]=t;case 30:if(y=this._playerAPI.getState(),k=null==y?void 0:y.sessionId,(null==y?void 0:y.context.uri)===t&&k){e.next=35;break}return e.abrupt("return");case 35:this._playerAPI.updateContext(k,c);case 36:case"end":return e.stop()}}),e,this)}))),function(e,n){return t.apply(this,arguments)})}]),e}()},11680:(e,t,n)=>{"use strict";n.d(t,{O:()=>a,_:()=>o});n(21703),n(96647);var r=n(67294),i=(0,r.createContext)(null),a=function(e){var t=e.instance,n=e.children;return r.createElement(i.Provider,{value:t},n)},o=function(){var e=(0,r.useContext)(i);if(null===e)throw new Error("useEnhanceAPI must be used within a EnhanceAPIProvider");return e}},27333:(e,t,n)=>{"use strict";n.d(t,{v:()=>s});var r=n(69518),i=n.n(r),a=n(87577),o=n(49207),s=function(e){var t,n=e.uri,r=e.renderEnabled,s=e.renderDisabled,l=(0,a.W6)(o.Up,{loadingValue:!1}),c=(0,a.W6)(o.We,{loadingValue:!1});return i().isPlaylistV1OrV2(n)&&l||i().isCollection(n)&&c?r():null!==(t=null==s?void 0:s())&&void 0!==t?t:null}},45287:(e,t,n)=>{"use strict";n.d(t,{U:()=>s});var r=n(29439),i=n(67294),a=n(78462),o=n(11680);function s(e){var t=(0,o._)(),n=(0,i.useState)(!1),s=(0,r.Z)(n,2),l=s[0],c=s[1],u=(0,i.useState)(),d=(0,r.Z)(u,2),m=d[0],p=d[1];(0,i.useEffect)((function(){var n=!1,r=t.subscribeToContextState(e,(function(e,t){e||n||(c(t.isEnhanced),p(t.iteration))}));return function(){r(),n=!0}}),[e,t]);var f=(0,i.useContext)(a.Gb).sortState,v=(0,i.useCallback)((function(n){return t.setIsEnhanced(e,n,f)}),[e,t,f]),g=(0,i.useCallback)((function(){return v(!l)}),[v,l]);return{isEnhanced:l,iteration:m,setIsEnhanced:v,toggleIsEnhanced:g}}},49790:(e,t,n)=>{"use strict";n.d(t,{g:()=>u});var r=n(67294),i=n(96206),a=n(21691),o=n(15852),s=n(45287),l=n(27333),c=function(e){var t=e.uri,n=e.divider,c=e.spec,u=(0,s.U)(t),d=u.isEnhanced,m=u.toggleIsEnhanced,p=(0,o.$P)();return r.createElement(l.v,{uri:t,renderEnabled:function(){return r.createElement(a.s,{role:"menuitem",divider:n,onClick:function(){c&&p.logInteraction(d?c.enhanceButtonFactory().hitUnenhanceContext({contextToBeUnenhanced:t}):c.enhanceButtonFactory().hitEnhanceContext({contextToBeEnhanced:t})),m()}},d?i.ag.get("web-player.enhance.contextmenu.turn-off-enhance"):i.ag.get("web-player.enhance.contextmenu.turn-on-enhance"))}})},u=r.memo((function(e){return r.createElement(r.Suspense,{fallback:null},r.createElement(c,e))}))},69846:(e,t,n)=>{"use strict";n.d(t,{U:()=>r.U});var r=n(45287)},66257:(e,t,n)=>{"use strict";n.d(t,{H:()=>i,r:()=>a});var r=n(67294),i=(0,r.createContext)({onLibraryItemRemove:function(){}}),a=function(e){var t=e.onLibraryItemRemove,n=e.children;return r.createElement(i.Provider,{value:{onLibraryItemRemove:t}},n)}},83538:(e,t,n)=>{"use strict";n.d(t,{H:()=>r.H});var r=n(66257)},39412:(e,t,n)=>{"use strict";n.d(t,{w:()=>c});var r,i=n(4942),a=n(1838),o=n(74483),s=n(59916),l=(r={},(0,i.Z)(r,s.bD.ADDED_AT,o._1.ADDED_AT),(0,i.Z)(r,s.bD.ADDED_BY,null),(0,i.Z)(r,s.bD.ALBUM,o._1.ALBUM_NAME),(0,i.Z)(r,s.bD.ARTIST,o._1.ARTIST_NAME),(0,i.Z)(r,s.bD.DURATION,null),(0,i.Z)(r,s.bD.TITLE,o._1.NAME),r),c=function(e){var t=(0,a._j)(e);if(t){var n=l[t.field],r=t.order;if(n&&r)return{field:n,order:r}}}},74895:(e,t,n)=>{"use strict";n.d(t,{p:()=>v});n(68309);var r=n(67294),i=n(96206),a=n(36590),o=n(8498),s=n(84242),l=n(69756),c=n(98620),u=n(86706),d=n(29255),m=n(39561),p=n(8688);var f=function(e){var t=e.metadata,n=e.index,l=(0,s.n)({uri:t.uri},{featureIdentifier:"your_library"}),c=l.isPlaying,u=l.togglePlay,d=t.name,m=t.images;return r.createElement(a.Z,{index:n,delegatePlayback:!0,delegateLogging:!0,isPlaying:c,featureIdentifier:"your_library",onPlay:function(e,t){return u({loggingParams:t})},headerText:d,uri:t.uri,renderCardImage:function(){return r.createElement(o.x,{images:m})},renderSubHeaderContent:function(){return r.createElement("span",null,i.ag.get("tracklist-header.songs-counter",t.totalLength))}})},v=function(e){var t=e.index,n=function(){var e=(0,m.MY)({offset:0,limit:1}),t=(0,u.v9)(d.Gg).user;if(null===e||null===t)return null;var n=(0,c.I2)(t.id);return n?{uri:n.uri,name:n.name,images:n.images,totalLength:null==e?void 0:e.totalLength,unfilteredTotalLength:e.unfilteredTotalLength,owner:(0,p.V3)(t)}:null}();return n?r.createElement(f,{metadata:n,index:t}):r.createElement(l.A,{cardImage:r.createElement(o.x,{images:[c.Ds]}),isLoading:!0})}},68120:(e,t,n)=>{"use strict";n.d(t,{S:()=>u,y:()=>d});var r=n(15861),i=n(87757),a=n.n(i),o=(n(92222),n(69518)),s=n.n(o),l=n(87961),c=n(16516),u=function(){var e=(0,r.Z)(a().mark((function e(t,n,r){var i,o,u,d;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=s().from(t),o=i.getBase62Id(),u=l.b.getInstance(),e.next=5,u.build().withHost(c.f).withPath("/track/".concat(encodeURIComponent(o),"/image/").concat(encodeURIComponent(n))).withQueryParameters({format:"json",vocalRemoval:r}).withEndpointIdentifier("/track/{trackId}").send();case 5:return d=e.sent,e.abrupt("return",d.body);case 7:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),d=function(){var e=(0,r.Z)(a().mark((function e(t){var n,r,i,o,u;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s().from(t),i=r.id,o=l.b.getInstance(),e.next=5,o.build().withHost(c.Z9).withPath("/track/".concat(encodeURIComponent(i))).withEndpointIdentifier("/track/{trackId}").send();case 5:return u=e.sent,e.abrupt("return",(null===(n=u.body)||void 0===n?void 0:n.has_lyrics)||!1);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},74414:(e,t,n)=>{"use strict";n.d(t,{o:()=>p});var r=n(67294),i=(n(47941),n(82526),n(57327),n(41539),n(38880),n(89554),n(54747),n(49337),n(33321),n(69070),n(87462)),a=n(4942),o=n(90071),s=n(51615),l=n(15852),c=n(73903);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var m=function(e){var t,n=(0,s.TH)(),a=(0,l.$P)(),u=null===(t=n.state)||void 0===t?void 0:t.interactionId,m=(0,r.useMemo)((function(){var t="string"==typeof e.to?(0,o.cP)(e.to):e.to;return d(d({},t),{},{state:d(d({},t.state),{},{interactionId:null!=u?u:a.getInteractionId((0,c.E)(n.pathname))})})}),[a,e.to,n.pathname,u]);return r.createElement(s.l_,(0,i.Z)({},e,{to:m}))},p=function(e){return r.createElement(m,e)}},26700:(e,t,n)=>{"use strict";n.d(t,{l:()=>v});var r=n(87462),i=n(45987),a=n(67294),o=n(51615),s=n(62830),l=n(92876),c=n(94960),u=n(73187),d=n(73903),m=["navigationalRoot","pageId","entityUri"],p=function(e){var t=e.navigationalRoot,n=e.pageId,r=e.entityUri,l=(0,i.Z)(e,m),p=(0,c.b)(),f=(0,c.H)(),v=(0,o.$B)(l),g=(0,s.NY)((function(){return v}),[v]);return(0,a.useEffect)((function(){if(p&&g&&n){var e=r instanceof Function?r(g.params):null!=r?r:g.url;p.reportPageView({pageId:n instanceof Function?n(g.params):n,navigationalRoot:null!=t?t:f,entityUri:e?(0,d.E)(e):void 0})}}),[n,g,t,f,p,r]),a.createElement(u.E,{value:null!=t?t:f},a.createElement(o.AW,l))},f=["navigationalRoot","pageId","entityUri","enableUBI"],v=function(e){var t=e.navigationalRoot,n=e.pageId,c=e.entityUri,u=e.enableUBI,d=void 0===u||u,m=(0,i.Z)(e,f),v=(0,o.$B)(m);return function(e,t){(0,a.useEffect)((function(){if(e&&t){var n=t instanceof Array?t[0]:t;(0,l.e)((function(e){e.setTag("pathname","/".concat(n))}))}}),[t,e])}(!!(0,s.NY)((function(){return v}),[v]),m.path),d?a.createElement(p,(0,r.Z)({navigationalRoot:t,pageId:n,entityUri:c},m)):a.createElement(o.AW,m)}},8271:(e,t,n)=>{"use strict";n.d(t,{X2:()=>i,s4:()=>a});n(21703),n(96647);var r=n(67294),i=(0,r.createContext)(null);function a(){var e=(0,r.useContext)(i);if(null===e)throw new Error("Trying to use 'PlatformContext' without 'PlatformProvider'!");return e.getEventSender()}},46457:(e,t,n)=>{"use strict";n.d(t,{S7:()=>c,tS:()=>m,vM:()=>u});var r=n(29439),i=n(4942),a=(n(21703),n(96647),n(47941),n(82526),n(57327),n(41539),n(38880),n(89554),n(54747),n(49337),n(33321),n(69070),n(67294));function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var l={isOpen:!1,uri:null},c=(0,a.createContext)(void 0),u=(0,a.createContext)(l);function d(e,t){switch(t.type){case"open":return s(s({},e),{},{isOpen:!0,uri:t.uri});case"close":return s({},l);default:throw new Error("Unknown action received!")}}var m=function(e){var t=e.children,n=(0,a.useReducer)(d,l),i=(0,r.Z)(n,2),o=i[0],s=i[1];return a.createElement(c.Provider,{value:s},a.createElement(u.Provider,{value:o},t))}},51627:(e,t,n)=>{"use strict";n.d(t,{l:()=>c});var r=n(15861),i=n(87757),a=n.n(i),o=(n(66992),n(41539),n(78783),n(33948),n(41637),n(67294)),s=n(22819),l=n(54977),c=function(e){var t=e.uri,n=e.permissionLevel,i=(0,l.z)(),c=(0,s.y)({uri:t,interactionData:{intent:"share",type:"click"}}).onCopyLink;return{onCopyLink:(0,o.useCallback)((0,r.Z)(a().mark((function e(){var r,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.getPermissionGrant(t,n);case 2:return r=e.sent,o=new URLSearchParams,r.token&&o.set("pt",r.token),e.abrupt("return",c(o));case 6:case"end":return e.stop()}}),e)}))),[t,n,i,c])}}},70485:(e,t,n)=>{"use strict";n.d(t,{l:()=>r.l});var r=n(51627)},52191:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>G,getRadioLabel:()=>V});n(21249),n(68309);var r=n(67294),i=n(51615),a=n(69518),o=n.n(a),s=n(1774),l=n(96206),c=n(18270),u=n(48690),d=n(83853),m=n(60289),p=n(59482),f=n(72907),v=n(6158),g=n(55120),h=n(61901),y=n(15861),k=n(29439),E=n(87757),b=n.n(E),_=n(92794);var S=n(20246),w=n(18261),N=n(84242),O=n(89952),C=n(15852),T=n(53538),I=n(4942),A=(n(43290),n(94184)),P=n.n(A),D=n(32667),R=n(28248),x=n(42922),L=n(7073);const F="NBwG2a4Dmwo6g_YrRdpo",U="dTKw7B8X1ybw7SHebMH3",Z="Ort1bswCfg95FTY9jLlv",M="KNUIWLKuuA1qIkTt4jus",B="I_J_2yQ25qssX6VlXXCk";var j=r.memo((function(e){var t=e.ariaLabel,n=e.tracks,i=e.radioStationUri,a=e.highlightUri,o=e.scrollToIndex,s=e.usePlayContextItem,c=e.isContextActive,u=(0,r.useRef)(null),d=(0,r.useRef)(!1),m=n.length>0;(0,r.useEffect)((function(){u.current&&o&&u.current.scrollToIndex(o)}),[o]);var p=(0,r.useCallback)((function(e,t){var n,o=L.KS.Unknown,l=!d.current&&a===e.uri;return l&&(d.current=!0),e.isExplicit&&(o=L.KS.Explicit),e.is19PlusOnly&&(o=L.KS.NineteenPlus),r.createElement(R.iJ,{key:t+e.uri,index:t,trackNumber:t+1,durationMs:e.duration.milliseconds,contextUri:i,uri:e.uri,uid:null!==(n=e.uid)&&void 0!==n?n:e.uri,name:e.name,isPlayable:!0,artists:e.artists,album:e.album,contentRating:o,shouldHighLight:l,usePlayContextItem:s,isContextActive:c})}),[a,i,s,c]),f=n.length>0?n:new Array(50).fill(void 0),v=l.ag.getLocale()===l.go.ar?R.rc:R.dN,g=Math.min(5,f.length)*v,h=-(g-v),y=(0,r.useMemo)((function(){return[R.QD.INDEX,R.QD.TITLE,R.QD.ALBUM,R.QD.ACTIONS,R.QD.DURATION]}),[]),k=(0,r.useCallback)((function(e){return e.uri}),[]),E=(0,r.useCallback)((function(e){var t;return null!==(t=e.uid)&&void 0!==t?t:e.uri}),[]);return r.createElement(x.ZP,{value:"radio-station-tracklist"},r.createElement("div",{className:P()((0,I.Z)({},M,m)),style:{"--footer-height":"".concat(g,"px"),"--footer-margin-top":"".concat(h,"px")}},r.createElement(R.Pv,{key:i,ariaLabel:t,hasHeaderRow:!0,rowPlaceholder:R.Lb,columns:y,renderRow:p,resolveUri:k,resolveUid:E,nrTracks:f.length,tracks:f,outerRef:u})),m&&r.createElement("div",{className:B},r.createElement(D.D,{variant:"ballad",as:"p"},l.ag.get("playlist-radio.more-songs"))))}));function V(e){var t=o().from(e);switch(null==t?void 0:t.type){case o().Type.PLAYLIST:case o().Type.PLAYLIST_V2:return l.ag.get("playlist-radio");case o().Type.TRACK:return l.ag.get("song-radio");case o().Type.ALBUM:return l.ag.get("album-radio");case o().Type.ARTIST:return l.ag.get("artist-radio");default:return l.ag.get("radio")}}var H=function(e){var t=e.station,n=t.stationURI,i=t.entityURI,a=t.title,o=t.image,v=t.relatedArtists,y=t.context,k=t.tracks,E=(0,h.Zj)(o.url),b=(0,C.fU)(s.createDesktopRadioStationEventFactory,{data:{identifier:n,uri:i}}),_=b.spec,I=b.logger,A=b.UBIFragment,P=r.useMemo((function(){return _.headerFactory()}),[_]),D=r.useMemo((function(){return _.actionBarFactory()}),[_]),R=r.useMemo((function(){return P.topBarFactory().playButtonFactory()}),[P]),x=r.useMemo((function(){return D.playButtonFactory()}),[D]),L=(0,N.n)(y,{featureIdentifier:"radio"}),M=L.togglePlay,B=L.usePlayContextItem,H=L.isPlaying,G=L.isActive,W=r.useCallback((function(e){var t=(0,T.aK)({isPlaying:H,isActive:G,spec:e,logger:I,uri:y.uri}),n={shuffle:!1,repeat:O.zq.REPEAT_NONE,loggingParams:t};M(n)}),[M,G,H,y.uri,I]),z=function(e){return function(){return W(e)}};return r.createElement("section",{className:F},r.createElement(m.gF,{backgroundColor:E},r.createElement(p.W,null,r.createElement(g.$,{size:"md",onClick:z(R),isPlaying:H,uri:y.uri}),r.createElement(f.i,{text:a,dragUri:n,dragLabel:a})),r.createElement(w._,{menu:null},r.createElement("div",{className:Z},r.createElement(m.Oe,{loading:"eager",name:a,images:[o],placeholderType:"playlist",shape:m.Kc.WITH_WAVES,dragUri:n}))),r.createElement(m.sP,null,r.createElement(m.dy,{small:!0,uppercase:!0},V(i)),r.createElement(w._,{menu:null},r.createElement(m.xd,{dragUri:n,dragLabel:a},a)),r.createElement(m.dy,{bold:!1,gray:!0},function(e){if(0===e.length)return"";var t=e.map((function(e){return e.name}));return 1===t.length?l.ag.get("playlist-radio.header.oneFeaturedArtist",t[0]):2===t.length?l.ag.get("playlist-radio.header.twoFeaturedArtists",t[0],t[1]):3===t.length?l.ag.get("playlist-radio.header.threeFeaturedArtists",t[0],t[1],t[2]):l.ag.get("playlist-radio.header.moreThanThreeFeaturedArtists",t[0],t[1],t[2])}(v)))),r.createElement("div",{className:U},r.createElement(c.o,{backgroundColor:E},r.createElement(c.F,null,r.createElement(g.$,{onClick:z(x),isPlaying:H,size:"lg",uri:y.uri}),r.createElement(S.y,{menu:r.createElement(d.i,{uri:n,tracks:k})},r.createElement(u.z,{label:l.ag.get("more.label.context",a)})))),r.createElement("div",{className:"contentSpacing"},r.createElement(A,{spec:_},r.createElement(j,{ariaLabel:a,radioStationUri:n,tracks:k,usePlayContextItem:B,isContextActive:G})))))};const G=function(){var e=(0,i.UO)(),t=e.id,n=e.entity,a=function(e){var t=(0,_.tv)(),n=(0,r.useState)(null),i=(0,k.Z)(n,2),a=i[0],o=i[1];return(0,r.useEffect)((function(){var n=!0,r=null,i=function(e){n&&o(e)},a=function(){var a=(0,y.Z)(b().mark((function a(){var s,l,c,u;return b().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.getStation(e,i);case 2:s=a.sent,l=(0,k.Z)(s,2),c=l[0],u=l[1],n?(o(c),r=u):null!==u&&u.cancel();case 7:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();return o(null),a(),function(){n=!1,null!==r&&r.cancel()}}),[t,e]),a}(o().stationURI([n,t]).toURI());return null===a?r.createElement(v.h,{hasError:!1,errorMessage:l.ag.get("error.not_found.title.station")}):r.createElement(H,{station:a})}},56607:(e,t,n)=>{"use strict";n.r(t),n.d(t,{RECENTLY_PLAYED_VIEW_ID:()=>C,RecentlyPlayed:()=>I,default:()=>A});n(68309),n(82526),n(41817),n(21249);var r=n(67294),i=n(94184),a=n.n(i),o=n(32667),s=n(96206),l=n(3634),c=n(89477),u=n(51216),d=n(46309),m=n(52778),p=n(95332),f=n(97891),v=n(18686),g=n(74895),h=n(64269),y=n(48817),k=n(42922),E=n(29439),b=n(11268),_=n(65998);var S=n(21794),w=n(38470);const N="uFQUpbITgGovaKRr6I_g",O="AKksNlfz_QuQjE1FPwYG";var C="recently-played",T=function(e,t){var n,i,a=e.uri;switch(e.type){case b.hn.LIKED_SONGS:return r.createElement(g.p,{key:a,index:t});case b.hn.YOUR_EPISODES:return r.createElement(h.T,{key:a,index:t});case b.hn.ALBUM:return r.createElement(l.r,{key:a,index:t,name:e.name,uri:e.uri,images:e.images,artists:e.artists,sharingInfo:null});case b.hn.ARTIST:return r.createElement(c.I,{key:a,index:t,name:e.name,uri:e.uri,images:e.images});case b.hn.PLAYLIST:return r.createElement(d.Z,{key:a,index:t,name:e.name,uri:e.uri,images:e.images,description:e.description,authorName:e.owner.displayName});case b.hn.SHOW:return r.createElement(p._,{key:a,index:t,name:e.name,uri:e.uri,images:e.images,publisher:e.publisher,sharingInfo:null});case b.hn.AUDIOBOOK:return r.createElement(u.c,{key:a,index:t,name:e.name,uri:e.uri,images:e.images,authorName:null!==(n=null===(i=e.authors)||void 0===i?void 0:i[0])&&void 0!==n?n:""});case b.hn.RADIO:return r.createElement(m.I,{key:a,index:t,name:e.name,uri:e.uri,images:e.images});case b.hn.TRACK:return r.createElement(f.G,{key:a,index:t,name:e.name,uri:e.uri,images:e.images,is19PlusOnly:e.isMOGEFRestricted,artists:e.artists,album:null,isExplicit:e.isExplicit,sharingInfo:null});default:return(0,w._)(e),null}},I=function(e){var t=e.title,n=e.showAll,i=void 0!==n&&n,l=e.index,c=void 0===l?0:l,u=null!=t?t:s.ag.get("view.recently-played"),d=function(){var e=(0,_.Y)(),t=(0,r.useState)(e.getContexts()),n=(0,E.Z)(t,2),i=n[0],a=n[1];return(0,r.useEffect)((function(){var t=function(e){var t=e.data;return a(t)};return e.addListener(b.$f.UPDATE,t),function(){e.removeListener(b.$f.UPDATE,t)}}),[e]),i}();return null===d?null:i?r.createElement("section",{className:a()("contentSpacing",N)},r.createElement(o.D,{as:"h1",variant:"canon",className:O},u),r.createElement(k.ZP,{value:"EntitiesGrid"},r.createElement(y.T,{render:function(){return d.map((function(e,t){return r.createElement(k.ZP,{key:null==e?void 0:e.uri,value:"card",index:t},T(e,t))}))}}))):r.createElement(v.q,{id:"recently-played",index:c,total:d.length,seeAllUri:(0,S.p)(C),pageId:"home",title:u},d.map((function(e,t){return T(e,t)})))};const A=I},62572:(e,t,n)=>{"use strict";n.d(t,{M:()=>P});var r=n(4942),i=n(29439),a=(n(23157),n(67294)),o=n(94184),s=n.n(o),l=n(86706),c=n(51615),u=n(69518),d=n.n(u),m=n(24697),p=n(73012),f=n(32667),v=n(44295),g=n(74410),h=n(90884),y=n(96206),k=n(70043),E=n(32648),b=n(15852),_=n(1393),S=n(15416);const w="main-topBar-searchBar",N="x-searchInput-searchInputInput",O="x-searchInput-searchInputOnSearch",C="x-searchInput-searchInputSearchIcon",T="x-searchInput-searchInputClearButton",I="x-searchInput-searchInputIconContainer",A="x-searchInput=searchInputClearIcon";var P=a.memo((function(e){var t=e.isSearchChipsEnabled,n=void 0!==t&&t,o=e.onSearch,u=void 0===o||o,P=e.onClick,D=(0,c.TH)(),R=(0,a.useRef)(null),x=(0,a.useRef)(null),L=(0,c.k6)(),F=(0,l.I0)(),U=(0,S.l)(),Z=(0,i.Z)(U,2),M=Z[0],B=M.category,j=M.query,V=Z[1],H=(0,a.useState)(j),G=(0,i.Z)(H,2),W=G[0],z=G[1],K=!!B,Y=a.useContext(E.VX).scrollNodeRef,q=D.pathname.startsWith("/recent-searches"),Q=K||q,J=(0,b.fU)(h.createDesktopSearchInputEventFactory,{}),X=J.spec,$=J.logger,ee=(0,m.y1)((function(e,t,r){n?V(e,B,!1,r):V(e,null,t,r),Y.current&&(Y.current.scrollTop=0)}),200),te=(0,a.useCallback)((function(){var e,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];(R.current!==document.activeElement&&(x.current=document.activeElement,R.current&&R.current.focus()),t)&&(null===(e=R.current)||void 0===e||e.select())}),[]);(0,k.eY)(k.O4.SHOW_SEARCH,(function(){return te(!0)}));var ne=D.pathname.startsWith("/search");(0,a.useEffect)((function(){!Q&&u&&ne&&(n&&j||te())}),[j,te,L.location.key,u,ne,Q,n]),(0,a.useEffect)((function(){ne||z("")}),[ne]);return a.createElement("div",{className:s()(w,(0,r.Z)({},O,!u))},a.createElement("form",{onSubmit:function(e){e.preventDefault(),W&&$.logInteraction(X.keyStrokeSearch());var t,n,r=d().from(W);if((null==r?void 0:r.type)===d().Type.AD){var i=d().idToHex(r.getBase62Id());if(r.getBase62Id()===i)return;F((0,_.HI)(i))}else r?L.push(r.toURLPath(!0),{preventMoveFocus:!0}):W||L.push("/search",{preventMoveFocus:!0});W&&(null===(t=Y.current)||void 0===t||null===(n=t.querySelector("h1, h2, h3, h4"))||void 0===n||n.focus())},role:"search"},a.createElement(f.D,{variant:"mesto",as:"input",style:{color:p.Snx},ref:R,className:s()(N),value:W,maxLength:800,autoCorrect:"off",autoCapitalize:"off",spellCheck:!1,onChange:function(e){var t=e.currentTarget.value,n=$.logInteraction(X.keyStrokeChangeSearchQuery({searchQueryString:t})).interactionId;z(t),ee(t,Q,n)},onKeyDown:function(e){if("Escape"===e.key)if(W){var t=$.logInteraction(X.hitTextClear()).interactionId;z(""),ee("",Q,t)}else R.current&&R.current.blur(),x.current instanceof HTMLElement&&x.current.focus()},placeholder:u?y.ag.get("search.search-for-label"):y.ag.get("navbar.search"),onFocus:function(){n||!Q&&u||ee(W,Q)},"":"search-input",onClick:P})),a.createElement("div",{className:I},a.createElement("span",{className:C},a.createElement(v.j,{className:A,"aria-hidden":!0})),W&&a.createElement("button",{className:T,onClick:function(){R.current&&R.current.focus();var e=$.logInteraction(X.hitTextClear()).interactionId;z(""),ee("",Q,e)},"aria-label":y.ag.get("search.a11y.clear-input")},a.createElement(g.k,{className:A}))))}))},16375:(e,t,n)=>{"use strict";n.d(t,{J:()=>a,u:()=>o});var r=n(29439),i=(n(57327),n(41539),n(40561),n(5229)),a="fusionSearchHistory",o=function(){var e=(0,i.z)(a,[]),t=(0,r.Z)(e,2),n=t[0],o=t[1];return{searchHistory:n,setSearchHistory:function(e){o(function(e){for(var t={},n=[],r=0;r<e.length;r++)e[r].uri in t||(n.push(e[r]),t[e[r].uri]=!0);return n.splice(50),n}(e))},clearSearchHistory:function(e){var t=[];e&&(t=n.filter((function(t){return t.uri!==e}))),o(t)}}}},15416:(e,t,n)=>{"use strict";n.d(t,{l:()=>a});n(69600),n(74916),n(15306);var r=n(67294),i=n(51615);function a(){var e=(0,i.k6)(),t=(0,i.$B)("/search/:query?/:category?"),n=(0,r.useCallback)((function(t,n,r,i){var a=i?{interactionId:i,preventMoveFocus:!0}:{preventMoveFocus:!0},o=["/search"];t&&(o.push(encodeURIComponent(t)),n&&o.push(n));var s=o.join("/");r?e.push(s,a):e.replace(s,a)}),[e]);return[{query:function(e){try{return decodeURIComponent(e)}catch(t){return e}}((null==t?void 0:t.params.query)||""),category:null==t?void 0:t.params.category},n]}},64157:(e,t,n)=>{"use strict";n.d(t,{q:()=>l});var r=n(67294),i=n(32667),a=n(96206),o=n(58679),s=n(49207),l=function(){return r.createElement(o.F,{property:s.mQ,renderNewExperience:function(){return r.createElement(r.Fragment,null," • ",r.createElement(i.D,{variant:"mesto",semanticColor:"textBase",dir:"auto",as:"span"},a.ag.get("search.lyrics-match")))}})}},91761:(e,t,n)=>{"use strict";n.d(t,{Z:()=>Q});var r=n(67294),i=n(87577),a=n(96206),o=n(22586),s=n(8247),l=n(5153),c=n(29439),u=(n(21249),n(94184)),d=n.n(u),m=n(9446);function p(){var e=(0,o.f)(),t=(0,r.useState)(!1),n=(0,c.Z)(t,2),i=n[0],a=n[1],s=(0,r.useCallback)((function(t){e.setEnabledState(t)}),[e]);return(0,r.useEffect)((function(){return e.subscribeToEnabledState(a)}),[e]),[i,s]}function f(){var e=(0,o.f)(),t=(0,r.useState)(e.getPreset()),n=(0,c.Z)(t,2),i=n[0],a=n[1],s=(0,r.useCallback)((function(t){e.setPreset(t)}),[e]);return(0,r.useEffect)((function(){return e.subscribeToPresetChange((function(e){a(e)}))})),[i,s]}n(57327),n(41539),n(69826),n(54678);var v=n(24697);function g(e){return"".concat(e>0?"+".concat(e):e,"dB")}const h="x-settings-equalizerPanelWrapper",y="x-settings-equalizerPanelFilters",k="x-settings-equalizerPanelFilter",E="x-settings-equalizerPanelInput",b="x-settings-equalizerPanelLabel",_="x-settings-equalizerPanelGainLabel",S="x-settings-equalizerPanelGainLabelUp",w="x-settings-equalizerPanelGainLabelDown",N="x-settings-equalizerPanelCanvas";function O(e){var t=e.filter,n=e.onChange,i=(0,o.f)(),s=(0,r.useRef)(null),l=f(),u=(0,c.Z)(l,1)[0];(0,r.useEffect)((function(){var e=u.filters.find((function(e){return e.key===t.key}));s.current&&e&&(s.current.value="".concat(e.gain))}),[u,t.key]),(0,r.useEffect)((function(){s.current&&s.current.setAttribute("aria-valuetext",a.ag.get("equalizer.filterA11yValueText",t.gain))}),[]);var d,p=(0,v.y1)((function(e,t){i.setFilterGain(e,t)}),100,{maxWait:200});return r.createElement("div",{className:k},r.createElement("input",{"aria-label":a.ag.get("equalizer.filterLabel",t.frequency),ref:s,type:"range",min:-m.l5,max:m.l5,step:.1,defaultValue:t.gain,className:E,onChange:function(e){var r=parseFloat(e.target.value);e.target.setAttribute("aria-valuetext",a.ag.get("equalizer.filterA11yValueText",r)),p(t.key,r),n(r)}}),r.createElement("label",{className:b},(d=t.frequency)>=1e3?"".concat(d/1e3,"KHz"):"".concat(d,"Hz")))}var C=n(85951);n(38862);function T(e,t){e.moveTo(t[0],t[1]);for(var n=2;n<t.length-1;n+=2)e.lineTo(t[n],t[n+1])}n(85827);function I(e){var t=.6,n=[],r=e.reduce((function(e,t){return e.push(t.x),e.push(t.y),e}),[]);r.unshift(e[0].y),r.unshift(e[0].x),r.push(e[e.length-1].x),r.push(e[e.length-1].y);for(var i=2;i<r.length-4;i+=2)for(var a=0;a<=16;a++){var o=(r[i+2]-r[i-2])*t,s=(r[i+4]-r[i])*t,l=(r[i+3]-r[i-1])*t,c=(r[i+5]-r[i+1])*t,u=a/16,d=2*Math.pow(u,3)-3*Math.pow(u,2)+1,m=-2*Math.pow(u,3)+3*Math.pow(u,2),p=Math.pow(u,3)-2*Math.pow(u,2)+u,f=Math.pow(u,3)-Math.pow(u,2),v=d*r[i]+m*r[i+2]+p*o+f*s,g=d*r[i+1]+m*r[i+3]+p*l+f*c;n.push(v),n.push(g)}return n}n(43290);n(89554),n(54747);var A=n(73012);function P(e,t){var n=e.getContext("2d");n&&(n.clearRect(0,0,e.clientWidth,e.clientHeight),function(e,t,n){var r=t.clientWidth,i=t.clientHeight,a=r/n.length/2;e.beginPath();var o=e.createLinearGradient(r/2,0,r/2,i);o.addColorStop(0,"rgba(11%, 73%, 33%, 100%)"),o.addColorStop(1,"rgba(11%, 73%, 33%, 0%)"),e.fillStyle=o,T(e,I(n)),e.lineTo(r-a,i),e.lineTo(a,i),e.fill()}(n,e,t),function(e,t){e.beginPath(),e.strokeStyle="rgb(11%, 73%, 33%)",e.lineWidth=4,T(e,I(t)),e.stroke()}(n,t),function(e,t){e.fillStyle=A.ixZ,t.forEach((function(t){e.beginPath(),e.arc(t.x,t.y,4,0,2*Math.PI),e.fill()}))}(n,t))}function D(e,t){var n=t.clientWidth/e.length;return e.map((function(e,r){return{x:r*n+n/2,y:t.clientHeight-(e+m.l5+3)/(2*m.l5+6)*t.clientHeight}}))}function R(e){var t=(0,r.useRef)(null),n=function(){var e=(0,r.useState)(window.devicePixelRatio||1),t=(0,c.Z)(e,2),n=t[0],i=t[1];return(0,r.useEffect)((function(){!function e(){matchMedia("(resolution: ".concat(window.devicePixelRatio,"dppx)")).addEventListener("change",(function(){i(window.devicePixelRatio),e()}),{once:!0})}()}),[]),n}(),i=(0,r.useCallback)((function(){var e;if(t.current){var r=n,i=t.current.getBoundingClientRect();t.current.width=i.width*r,t.current.height=i.height*r,null===(e=t.current.getContext("2d"))||void 0===e||e.scale(r,r)}}),[n]),a=(0,r.useCallback)((function(){if(t.current&&e.current){var n=D(e.current,t.current);P(t.current,n)}}),[e]),o=(0,r.useCallback)((function(n){if(t.current&&e.current){var r,i,a,o,s,l,c=D(e.current,t.current),u=D(n,t.current);r=t.current,i=c,a=u,o=0,s=JSON.parse(JSON.stringify(i)),l=a.map((function(e,t){return e.y-i[t].y})),window.requestAnimationFrame((function e(){if(!(o>=18)){for(var t=0;t<s.length;t++){var n=i[t].y,a=l[t];s[t].y=(c=n,u=a,d=o,(d/=9)<1?u/2*Math.pow(d,3)+c:(d-=2,u/2*(Math.pow(d,3)+2)+c))}var c,u,d;P(r,s),o++,window.requestAnimationFrame(e)}}))}}),[e]);return(0,r.useEffect)((function(){i(),a()}),[i,a]),(0,C.y)({refOrElement:t,onResize:function(){i(),a()}}),{canvasRef:t,drawCanvas:a,animateCanvas:o}}function x(){var e=p(),t=(0,c.Z)(e,2),n=t[0],i=t[1],o=f(),s=(0,c.Z)(o,2),l=s[0],u=s[1],v=(0,r.useRef)(l.filters.map((function(e){return e.gain}))),k=R(v),E=k.canvasRef,b=k.drawCanvas,C=k.animateCanvas;return(0,r.useEffect)((function(){var e=l.filters.map((function(e){return e.gain}));"custom"!==l.key&&C(e),v.current=e}),[l,C]),r.createElement("div",{className:h},r.createElement("canvas",{"aria-label":a.ag.get("equalizer.equalizer"),role:"img",className:N,ref:E}),r.createElement("label",{className:d()(_,S)},g(m.l5)),r.createElement("label",{className:d()(_,w)},g(-m.l5)),r.createElement("div",{className:y,dir:"ltr"},l.filters.map((function(e,t){return r.createElement(O,{key:e.key,filter:e,onChange:function(e){v.current[t]=e,b(),n||i(!0),u((0,m.f8)(v.current))}})}))))}n(69720);var L=n(32667),F=n(40669);const U="x-settings-equalizerPresetsContainer",Z="x-settings-equalizerPresetsLabel";function M(){var e=p(),t=(0,c.Z)(e,2),n=t[0],i=t[1],o=f(),s=(0,c.Z)(o,2),l=s[0],u=s[1];return r.createElement("div",{className:U},r.createElement(L.D,{as:"label",variant:"viola",semanticColor:"textSubdued",htmlFor:"desktop.equalizer.preset",className:Z},a.ag.get("equalizer.presets")),r.createElement(F.v,{id:"desktop.equalizer.preset",value:l.key,onSelect:function(e){u(e),n||i(!0)}},"custom"===l.key&&r.createElement("option",{value:l.key},l.displayName),Object.entries(m.PG).map((function(e){var t=(0,c.Z)(e,2),n=t[0],i=t[1];return r.createElement("option",{key:n,value:n},i.displayName)}))))}n(84944),n(33792);var B=n(74257);function j(){var e=p(),t=(0,c.Z)(e,2),n=t[0],i=t[1],o=f(),s=(0,c.Z)(o,2)[1];return r.createElement(B.P,{onClick:function(){s(m.PG.flat.key),n||i(!0)},buttonSize:"sm"},a.ag.get("equalizer.reset"))}var V=n(63868),H=n(1983),G=n(98632),W=n(56919);function z(){var e=p(),t=(0,c.Z)(e,2),n=t[0],i=t[1];return r.createElement(l.Z,{filterMatchQuery:a.ag.get("equalizer.equalizer")},r.createElement(W.M,null,r.createElement(H.D,{htmlFor:"settings.equalizer"},a.ag.get("equalizer.equalizer"))),r.createElement(G.m,null,r.createElement(V.Z,{id:"settings.equalizer",value:n,onSelected:i})))}const K="x-settings-equalizerSection",Y="x-settings-equalizerWrapper",q="x-settings-equalizerResetButtonWrapper";function Q(){var e=(0,o.f)();return(0,i.W6)(s.Ro,{loadingValue:!1})&&e.isSupported()?r.createElement(r.Fragment,null,r.createElement(z,null),r.createElement(l.Z,{filterMatchQuery:a.ag.get("equalizer.equalizer")},r.createElement("div",{className:K},r.createElement(M,null),r.createElement("div",{className:Y},r.createElement(x,null)),r.createElement("div",{className:q},r.createElement(j,null))))):null}},25268:(e,t,n)=>{"use strict";n.d(t,{c:()=>s,k:()=>o});var r=n(29439),i=(n(21703),n(96647),n(67294)),a=(0,i.createContext)(void 0),o=function(e){var t=e.children,n=(0,i.useState)(!1),o=(0,r.Z)(n,2),s=o[0],l=o[1],c=(0,i.useState)(!1),u=(0,r.Z)(c,2),d=u[0],m=u[1];return i.createElement(a.Provider,{value:{sectionMatch:s,setSectionMatch:l,sectionContainsMatch:d,setSectionContainsMatch:m}},t)},s=function(){var e=(0,i.useContext)(a);if(void 0===e)throw new Error("useSectionMatchState() must be used within a SectionFilterMatchContextProvider");return e}},21539:(e,t,n)=>{"use strict";n.d(t,{T:()=>o});var r=n(67294),i=n(22423);const a="x-settings-container";var o=function(e){var t=e.children,n=e.outerRef;return r.createElement(i.hz,{uri:"spotify:internal:settings"},r.createElement("div",{ref:n,className:a,"":"settings-page"},t))}},9766:(e,t,n)=>{"use strict";n.d(t,{b:()=>u});var r=n(67294),i=n(32667),a=n(73753),o=n(96206),s=n(98562);const l="x-settings-headerContainer",c="x-settings-header";function u(e){var t=e.containerRef;return r.createElement("div",{className:l},r.createElement(i.D,{as:"h1",variant:"canon",className:c,semanticColor:"textBase",paddingBottom:a.o78},o.ag.get("desktop.settings.settings")),r.createElement("div",null,r.createElement(s.K,{placeholder:"",alwaysExpanded:!1,clearOnEscapeInElementRef:t})))}},1983:(e,t,n)=>{"use strict";n.d(t,{D:()=>c});var r=n(45987),i=(n(57327),n(41539),n(67294)),a=n(32667),o=n(67062),s=n(22423),l=["htmlString","children","htmlFor","semanticColor","className"];function c(e){var t=e.htmlString,n=e.children,c=e.htmlFor,u=e.semanticColor,d=void 0===u?"textSubdued":u,m=e.className,p=(0,r.Z)(e,l),f=(0,i.useContext)(s.fo).filter;if(!n&&!t)return null;var v=n;return t&&(v=i.createElement("span",{dangerouslySetInnerHTML:{__html:t}})),i.createElement(a.D,{as:"label",variant:"viola",semanticColor:d,htmlFor:c,className:m,"":p["data-testid"]},f.length>0?i.createElement(o.o,{searchWords:[f],textToHighlight:n||t||""}):v)}},5153:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});n(57327),n(41539);var r=n(67294),i=n(22423),a=n(46608),o=n(25268);const s="x-settings-row";var l=function(e){var t=e.children,n=e.filterMatchQuery,l=(0,r.useContext)(i.fo).filter,c=(0,o.c)(),u=c.setSectionContainsMatch,d=c.sectionMatch,m=(0,a.M)(l,n);return(0,r.useEffect)((function(){u(m)}),[m,u]),d||m?r.createElement("div",{className:s},t):null}},98632:(e,t,n)=>{"use strict";n.d(t,{m:()=>a});var r=n(67294);const i="x-settings-secondColumn";var a=function(e){var t=e.children;return r.createElement("div",{className:i},t)}},56919:(e,t,n)=>{"use strict";n.d(t,{M:()=>a});var r=n(67294);const i="x-settings-firstColumn";var a=function(e){var t=e.children;return r.createElement("div",{className:i},t)}},65986:(e,t,n)=>{"use strict";n.d(t,{Q:()=>c});n(57327),n(41539);var r=n(67294),i=n(22423),a=n(46608),o=n(25268);const s="x-settings-section";function l(e){var t=e.children,n=e.filterMatchQuery,l=(0,r.useContext)(i.fo).filter,c=(0,o.c)(),u=c.setSectionMatch,d=c.sectionContainsMatch,m=(0,a.M)(l,n);return(0,r.useEffect)((function(){u(m)}),[m,u]),m||d?r.createElement("div",{className:s},t):null}function c(e){return r.createElement(o.k,null,r.createElement(l,e))}},9363:(e,t,n)=>{"use strict";n.d(t,{q:()=>s});n(57327),n(41539);var r=n(67294),i=n(32667),a=n(67062),o=n(22423);function s(e){var t=e.children,n=(0,r.useContext)(o.fo).filter;return r.createElement(i.D,{as:"h2",variant:"cello",semanticColor:"textBase"},r.createElement(a.o,{searchWords:[n],textToHighlight:t}))}},86588:(e,t,n)=>{"use strict";n.r(t),n.d(t,{DesktopSettings:()=>He,default:()=>Ge,getIsEmployeeDesktopSettings:()=>Ve});var r=n(67294),i=n(21539),a=n(9766),o=(n(66992),n(41539),n(33948),n(87577)),s=n(37324),l=n(49207),c=(n(74916),n(15306),n(96206)),u=n(63868),d=n(1983),m=n(5153),p=n(98632),f=n(56919),v=n(65986),g=n(9363),h=function(e){var t=e.settings.values,n=e.setValue,i=c.ag.get("desktop.settings.cookiesDisabled").replace(/(<([^>]+)>)/gi,"");return r.createElement(v.Q,{filterMatchQuery:c.ag.get("desktop.settings.privacy")},r.createElement(g.q,null,c.ag.get("desktop.settings.privacy")),r.createElement(m.Z,{filterMatchQuery:i},r.createElement(f.M,null,r.createElement(d.D,{htmlFor:"settings.showLocalFiles",htmlString:i})),r.createElement(p.m,null,r.createElement(u.Z,{id:"desktop.settings.cookiesDisabled",value:!!t["app.cookies-disabled"],onSelected:function(e){n("app.cookies-disabled",e)}}))))},y=(n(77601),function(e){var t=e.settings.values,n=e.setValue;return navigator&&/^win/i.test(navigator.platform)?r.createElement(v.Q,{filterMatchQuery:c.ag.get("desktop.settings.compatibility")},r.createElement(g.q,null,c.ag.get("desktop.settings.compatibility")),r.createElement(m.Z,{filterMatchQuery:c.ag.get("desktop.settings.enableHardwareAcceleration")},r.createElement(f.M,null,r.createElement(d.D,{htmlFor:"desktop.settings.enableHardwareAcceleration"},c.ag.get("desktop.settings.enableHardwareAcceleration"))),r.createElement(p.m,null,r.createElement(u.Z,{id:"desktop.settings.enableHardwareAcceleration",value:!!t["ui.hardware_acceleration"],onSelected:function(e){n("ui.hardware_acceleration",e)}})))):null}),k=n(29439),E=(n(9653),n(92222),n(32667)),b=n(39106),_=n(91761);const S="x-settings-crossFadeContainer";var w=12e3,N=function(e){var t=e.settings.values,n=e.setValue,i=(0,r.useState)(-1),a=(0,k.Z)(i,2),o=a[0],s=a[1],l=-1===o?Number(t["audio.crossfade.time_v2"]):o,h="".concat(Math.round(l/1e3)," ").concat(c.ag.get("desktop.settings.sec"));return r.createElement(v.Q,{filterMatchQuery:c.ag.get("desktop.settings.playback")},r.createElement(g.q,null,c.ag.get("desktop.settings.playback")),void 0!==t["audio.crossfade_v2"]&&r.createElement(m.Z,{filterMatchQuery:c.ag.get("desktop.settings.crossfadeTracks")},r.createElement(f.M,null,r.createElement(d.D,{htmlFor:"desktop.settings.crossfadeTracks"},c.ag.get("desktop.settings.crossfadeTracks")),t["audio.crossfade_v2"]&&r.createElement(r.Fragment,null,r.createElement("div",{className:S},r.createElement(b.ko,{value:l,max:w,step:1e3,labelText:c.ag.get("desktop.settings.crossfadeTracks"),onStepBackward:function(){s(Math.max(0,l-1e3))},onStepForward:function(){s(Math.min(w,l+1e3))},onDragStart:function(e){s(e*w)},onDragMove:function(e){s(e*w)},onDragEnd:function(e){var t=Math.floor(e*w);s(t),n("audio.crossfade.time_v2",t)}})),r.createElement(E.D,{variant:"mesto",semanticColor:"textSubdued"},h))),r.createElement(p.m,null,r.createElement(u.Z,{id:"desktop.settings.crossfadeTracks",value:!!t["audio.crossfade_v2"],onSelected:function(e){n("audio.crossfade_v2",e)}}))),r.createElement(m.Z,{filterMatchQuery:c.ag.get("desktop.settings.automixInfo")},r.createElement(f.M,null,r.createElement(d.D,{htmlFor:"desktop.settings.automixInfo"},c.ag.get("desktop.settings.automixInfo"))),r.createElement(p.m,null,r.createElement(u.Z,{id:"desktop.settings.automixInfo",value:!!t["audio.automix"],onSelected:function(e){n("audio.automix",e)}}))),r.createElement(m.Z,{filterMatchQuery:c.ag.get("desktop.settings.monoDownmixer")},r.createElement(f.M,null,r.createElement(d.D,{htmlFor:"desktop.settings.monoDownmixer"},c.ag.get("desktop.settings.monoDownmixer"))),r.createElement(p.m,null,r.createElement(u.Z,{id:"desktop.settings.monoDownmixer",value:!!t["audio.downmixer_v2"],onSelected:function(e){n("audio.downmixer_v2",e)}}))),r.createElement(_.Z,null))},O=(n(21249),n(40669)),C={minimized:{label:function(){return c.ag.get("desktop.settings.autostartMinimized")}},normal:{label:function(){return c.ag.get("desktop.settings.autostartNormal")}},off:{label:function(){return c.ag.get("desktop.settings.autostartOff")}}},T=function(e){var t=e.settings,n=t.values,i=t.autoStart,a=e.setValue;return r.createElement(v.Q,{filterMatchQuery:c.ag.get("desktop.settings.startupAndWindowBehavior")},r.createElement(g.q,null,c.ag.get("desktop.settings.startupAndWindowBehavior")),void 0!==n["app.autostart-mode"]&&r.createElement(m.Z,{filterMatchQuery:c.ag.get("desktop.settings.autostart")},r.createElement(f.M,null,r.createElement(d.D,{htmlFor:"desktop.settings.autostart"},c.ag.get("desktop.settings.autostart"))),r.createElement(p.m,null,r.createElement(O.v,{id:"desktop.settings.autostart",value:n["app.autostart-mode"],onSelect:function(e){a("app.autostart-mode",e)}},i.map((function(e){var t=e.enumKey,n=e.enumValue;return r.createElement("option",{key:t,value:n},C[t]?C[t].label():"")}))))),r.createElement(m.Z,{filterMatchQuery:c.ag.get("desktop.settings.closeShouldMinimize")},r.createElement(f.M,null,r.createElement(d.D,{htmlFor:"desktop.settings.closeShouldMinimize"},c.ag.get("desktop.settings.closeShouldMinimize"))),r.createElement(p.m,null,r.createElement(u.Z,{id:"desktop.settings.closeShouldMinimize",value:!!n["ui.minimize_to_tray"],onSelected:function(e){a("ui.minimize_to_tray",e)}}))))},I=(n(23123),n(96647),n(83710),n(39714),n(91058),n(94184)),A=n.n(I),P=n(74257);const D="x-settings-restartAppButton";function R(e){var t=e.onClick;return r.createElement(P.P,{className:D,onClick:t},c.ag.get("settings.restartApp"))}var x={"auto-detect":{label:function(){return c.ag.get("desktop.settings.proxy.autodetect")}},"no-proxy":{label:function(){return c.ag.get("desktop.settings.proxy.noproxy")}},http:{label:function(){return c.ag.get("desktop.settings.proxy.http")}},socks4:{label:function(){return c.ag.get("desktop.settings.proxy.socks4")}},socks5:{label:function(){return c.ag.get("desktop.settings.proxy.socks5")}}},L=[{enumKey:"auto-detect",enumValue:0},{enumKey:"no-proxy",enumValue:1},{enumKey:"http",enumValue:2},{enumKey:"socks4",enumValue:3},{enumKey:"socks5",enumValue:4}],F=n(12191);const U="mpdBa62OP4Fr5wvCsa89",Z="x-proxySettings-ProxySettings",M="x-proxySettings-fullWidth",B="x-settings-input",j="x-proxySettings-horizontalPair";var V=function(e){var t=e.id,n=e.type,i=e.placeHolder,a=e.inputRef,o=e.handleOnChange;return r.createElement("input",{type:n||"text",id:t,"":t,className:B,placeholder:i,ref:a,onChange:o})},H=function(e){var t=e.children,n=e.label;return r.createElement(F.c,{label:n,className:j},t)},G=function(e,t,n){var r="".concat(e,":").concat(t);switch(n){case 2:r+="@http";break;case 3:r+="@socks4";break;case 4:r+="@socks5"}return r},W=function(e){var t=e.addr,n=e.mode,i=e.pass,a=e.user,o=e.setValue,s=e.restartContainer,l=e.fullWidth,u=(0,r.useRef)(null),d=(0,r.useRef)(null),m=(0,r.useRef)(null),p=(0,r.useRef)(null),f=(0,r.useState)(""),h=(0,k.Z)(f,2),y=h[0],E=h[1],b=(0,r.useState)(""),_=(0,k.Z)(b,2),S=_[0],w=_[1],N=(0,r.useState)(!1),C=(0,k.Z)(N,2),T=C[0],I=C[1];(0,r.useEffect)((function(){var e=(null==t?void 0:t.split(/[:@]+/))||["",""],n=(0,k.Z)(e,2),r=n[0],i=n[1];E(r),w(i),u.current&&(u.current.value=r),d.current&&(d.current.value=i)}),[t]),(0,r.useEffect)((function(){p.current&&i&&(p.current.value=i.toString())}),[i]),(0,r.useEffect)((function(){m.current&&a&&(m.current.value=a.toString())}),[a]);var P=(0,r.useCallback)((function(e){var t=e.target,r=G(t.value,S,n||0);E(t.value),o("network.proxy.addr",r),I(!0)}),[n,S,o]),D=(0,r.useCallback)((function(e){var t=e.target,r=G(y,t.value,n||0);w(t.value),o("network.proxy.addr",r),I(!0)}),[n,y,o]),F=(0,r.useCallback)((function(e){var t=e.target;o("network.proxy.user",t.value),I(!0)}),[o]),B=(0,r.useCallback)((function(e){var t=e.target;o("network.proxy.pass",t.value),I(!0)}),[o]),j=0!==n&&1!==n,W=3!==n;return r.createElement(v.Q,{filterMatchQuery:c.ag.get("desktop.settings.proxy.title")},r.createElement(g.q,null,c.ag.get("desktop.settings.proxy.title")),r.createElement("div",{className:A()(Z,l?M:null)},r.createElement(H,{label:c.ag.get("desktop.settings.proxy.type")},r.createElement(O.v,{id:"network.proxy.mode",value:n,onSelect:function(e){var t=parseInt(e,10);o("network.proxy.mode",t),I(!0)}},L.map((function(e){var t=e.enumKey,n=e.enumValue;return r.createElement("option",{key:t,value:n,"":t},x[t]?x[t].label():"")})))),j?r.createElement(r.Fragment,null,r.createElement("div",{className:U},r.createElement(H,{label:c.ag.get("desktop.settings.proxy.host")},r.createElement(V,{id:"network.proxy.host",handleOnChange:P,placeHolder:c.ag.get("desktop.settings.proxy.host"),inputRef:u})),r.createElement(H,{label:c.ag.get("desktop.settings.proxy.port")},r.createElement(V,{id:"network.proxy.port",type:"number",handleOnChange:D,placeHolder:c.ag.get("desktop.settings.proxy.port"),inputRef:d}))),r.createElement("div",{className:W?U:void 0},r.createElement(H,{label:c.ag.get("desktop.settings.proxy.user")},r.createElement(V,{id:"network.proxy.user",handleOnChange:F,placeHolder:c.ag.get("desktop.settings.proxy.user"),inputRef:m})),W?r.createElement(H,{label:c.ag.get("desktop.settings.proxy.pass")},r.createElement(V,{id:"network.proxy.pass",handleOnChange:B,placeHolder:c.ag.get("desktop.settings.proxy.pass"),type:"password",inputRef:p})):null)):null,T&&r.createElement("div",null,r.createElement(R,{onClick:s}))))},z=n(15861),K=n(87757),Y=n.n(K),q=n(66393);const Q="lK69fKYZ5vCYr6mC8ORv";var J=function(e){var t=e.settings,n=e.setValue,i=(0,r.useContext)(q.t),a=(0,r.useContext)(s.z),o=(0,r.useState)(!1),l=(0,k.Z)(o,2),u=l[0],h=l[1],y=(0,r.useCallback)((function(){a.applyUpdate()}),[a]),E=t.values["storage.location"];return r.createElement(v.Q,{filterMatchQuery:c.ag.get("desktop.settings.offlineStorageLocation")},r.createElement(g.q,null,c.ag.get("desktop.settings.offlineStorageLocation")),r.createElement(m.Z,{filterMatchQuery:E},r.createElement(f.M,null,r.createElement(d.D,{htmlFor:"desktop.settings.offline-storage",className:Q},E)),r.createElement(p.m,null,r.createElement(P.P,{id:"desktop.settings.offline-storage",buttonSize:"sm",onClick:(0,z.Z)(Y().mark((function e(){var r;return Y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.browseForFolder();case 2:(r=e.sent).path&&(n("storage.location",r.path),r.path!==t.values["storage.location"]&&h(!0));case 4:case"end":return e.stop()}}),e)})))},c.ag.get("desktop.settings.offlineStorageChangeLocation")),u&&r.createElement(R,{onClick:y}))))},X=n(86706),$=n(75484),ee=n(4236),te=(n(32564),n(21703),n(73665));function ne(){var e=(0,te.t)(),t=(0,r.useState)(null),n=(0,k.Z)(t,2),i=n[0],a=n[1],o=(0,r.useState)(!0),s=(0,k.Z)(o,2),l=s[0],c=s[1],u=(0,r.useState)(null),d=(0,k.Z)(u,2),m=d[0],p=d[1];return(0,r.useEffect)((function(){function t(){return(t=(0,z.Z)(Y().mark((function t(){var n;return Y().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null===m){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,t.next=5,e.getStatistics();case 5:n=t.sent,a(n),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),p(t.t0 instanceof Error?t.t0:new Error("Error when fetching storage statistics."));case 12:c(!1);case 13:case"end":return t.stop()}}),t,null,[[2,9]])})))).apply(this,arguments)}var n=window.setInterval((function(){!function(){t.apply(this,arguments)}()}),1500);return function(){return clearInterval(n)}}),[e,m]),[i,l,m]}var re=function(e){var t=e.settings,n=e.setValue,i=(0,r.useContext)(q.t),a=(0,r.useContext)(s.z),o=!(0,ee.k)(),l=(0,r.useState)(!1),u=(0,k.Z)(l,2),h=u[0],y=u[1],E=(0,r.useCallback)((function(){a.applyUpdate()}),[a]),b=ne(),_=(0,k.Z)(b,3),S=_[0],w=_[1],N=_[2],O=(0,X.I0)(),C="",T="",I=0;w?(C=c.ag.get("page.loading"),T=c.ag.get("page.loading")):N||null===S?(C=c.ag.get("error.generic"),T=c.ag.get("error.generic")):(I=S.currentSizeMB-S.currentLockedSizeMB,C=" ".concat(I," MB"),T=" ".concat(S.currentLockedSizeMB," MB"));var A=t.values["storage.location"];return r.createElement(v.Q,{filterMatchQuery:"Storage"},r.createElement(g.q,null,"Storage"),r.createElement(m.Z,{filterMatchQuery:"Downloads"},r.createElement(f.M,null,r.createElement("div",null,r.createElement("div",null,r.createElement(d.D,{htmlFor:"desktop.settings.downloads",semanticColor:"textBase"},"Downloads:"),r.createElement(d.D,{htmlFor:"desktop.settings.downloads"},T)),r.createElement(d.D,{htmlFor:"desktop.settings.downloads"},"Content you have downloaded for offline use"))),r.createElement(p.m,null,r.createElement(P.P,{id:"desktop.settings.downloads",buttonSize:"sm",onClick:function(){O((0,$.Sl)())},disabled:o||!S||0===S.currentLockedSizeMB},"Remove all downloads"))),r.createElement(m.Z,{filterMatchQuery:"Cache"},r.createElement(f.M,null,r.createElement("div",null,r.createElement("div",null,r.createElement(d.D,{htmlFor:"desktop.settings.cache",semanticColor:"textBase"},"Cache:"),r.createElement(d.D,{htmlFor:"desktop.settings.cache"},C)),r.createElement(d.D,{htmlFor:"desktop.settings.cache"},"Temporary files that Spotify stores for a faster experience on slow networks"))),r.createElement(p.m,null,r.createElement(P.P,{id:"desktop.settings.cache",buttonSize:"sm",onClick:function(){O((0,$.ct)())},disabled:0===I},"Clear cache"))),r.createElement(m.Z,{filterMatchQuery:A},r.createElement(f.M,null,r.createElement("div",null,r.createElement("div",null,r.createElement(d.D,{htmlFor:"desktop.settings.offline-storage",semanticColor:"textBase"},"".concat(c.ag.get("desktop.settings.offlineStorageLocation"),":"))),r.createElement(d.D,{htmlFor:"desktop.settings.offline-storage"},A))),r.createElement(p.m,null,r.createElement(P.P,{id:"desktop.settings.offline-storage",buttonSize:"sm",onClick:(0,z.Z)(Y().mark((function e(){var r;return Y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.browseForFolder();case 2:(r=e.sent).path&&(n("storage.location",r.path),r.path!==t.values["storage.location"]&&y(!0));case 4:case"end":return e.stop()}}),e)})))},c.ag.get("desktop.settings.offlineStorageChangeLocation")),h&&r.createElement(R,{onClick:E}))))},ie=function(e){var t=e.settings,n=e.setValue,i=(0,r.useContext)(s.z),a=(0,r.useCallback)((function(){i.applyUpdate()}),[i]),c=t.values,u=(0,o.W6)(l.dA);return r.createElement(r.Fragment,null,r.createElement(N,{settings:t,setValue:n}),r.createElement(T,{settings:t,setValue:n}),u?r.createElement(re,{settings:t,setValue:n}):r.createElement(J,{settings:t,setValue:n}),r.createElement(W,{setValue:n,restartContainer:a,mode:c["network.proxy.mode"],addr:c["network.proxy.addr"],user:c["network.proxy.user"],pass:c["network.proxy.pass"]}),r.createElement(y,{settings:t,setValue:n}),r.createElement(h,{settings:t,setValue:n}))},ae=n(56802),oe=function(e){var t=e.settings.values,n=e.setValue,i=(0,o.W6)(l.Cd,{loadingValue:!1}),a=(0,ae.o)();if(void 0===t["app.player.autoplay"])return null;var s="0"!==t.autoplay;return r.createElement(v.Q,{filterMatchQuery:c.ag.get("desktop.settings.autoplay")},r.createElement(g.q,null,c.ag.get("desktop.settings.autoplay")),!i&&r.createElement(m.Z,{filterMatchQuery:c.ag.get("desktop.settings.localAutoplayInfo")},r.createElement(f.M,null,r.createElement(d.D,{htmlFor:"desktop.settings.localAutoplayInfo"},c.ag.get("desktop.settings.localAutoplayInfo"))),r.createElement(p.m,null,r.createElement(u.Z,{id:"desktop.settings.localAutoplayInfo",value:!!t["app.player.autoplay"],onSelected:function(e){n("app.player.autoplay",e)}}))),!i&&r.createElement(m.Z,{filterMatchQuery:c.ag.get("desktop.settings.globalAutoplayInfo")},r.createElement(f.M,null,r.createElement(d.D,{htmlFor:"desktop.settings.localAutoplayInfo"},c.ag.get("desktop.settings.globalAutoplayInfo"))),r.createElement(p.m,null,r.createElement(u.Z,{id:"desktop.settings.localAutoplayInfo",value:s,onSelected:function(e){a({intent:e?"enable_autoplay":"disable_autoplay",type:"click"}),n("autoplay",e?"1":"0")}}))),i&&r.createElement(m.Z,{filterMatchQuery:c.ag.get("desktop.settings.autoplayInfo")},r.createElement(f.M,null,r.createElement(d.D,{htmlFor:"global.settings.autoplayInfo"},c.ag.get("desktop.settings.autoplayInfo"))),r.createElement(p.m,null,r.createElement(u.Z,{id:"global.settings.autoplayInfo",value:s,onSelected:function(e){a({intent:e?"enable_autoplay":"disable_autoplay",type:"click"}),n("autoplay",e?"1":"0")}}))))},se=n(44314),le=n(8247),ce=function(e){var t,n,i=e.settings.values,a=e.setValue,s=(0,o.W6)(le.nt),l=void 0===i.catalogue||"free"===i.catalogue.toLowerCase(),h=(0,r.useContext)(se.N),y=null==h||null===(t=h.client_capabilities)||void 0===t?void 0:t.can_show_system_media_controls,k=null==h||null===(n=h.client_capabilities)||void 0===n?void 0:n.can_show_track_notifications;return r.createElement(v.Q,{filterMatchQuery:c.ag.get("settings.display")},r.createElement(g.q,null,c.ag.get("settings.display")),!l&&r.createElement(m.Z,{filterMatchQuery:c.ag.get("settings.showMusicAnnouncements")},r.createElement(f.M,null,r.createElement(d.D,{htmlFor:"settings.showMusicAnnouncements"},c.ag.get("settings.showMusicAnnouncements"))),r.createElement(p.m,null,r.createElement(u.Z,{id:"settings.showMusicAnnouncements",value:!i["ui.hide_hpto"],onSelected:function(e){a("ui.hide_hpto",!e)}}))),k&&r.createElement(m.Z,{filterMatchQuery:c.ag.get("settings.showTrackNotifications")},r.createElement(f.M,null,r.createElement(d.D,{htmlFor:"settings.trackNotifications"},c.ag.get("settings.showTrackNotifications"))),r.createElement(p.m,null,r.createElement(u.Z,{id:"settings.trackNotifications",value:!!i["ui.track_notifications_enabled"],onSelected:function(e){a("ui.track_notifications_enabled",e)}}))),y&&r.createElement(m.Z,{filterMatchQuery:c.ag.get("desktop.settings.showSystemMediaControls")},r.createElement(f.M,null,r.createElement(d.D,{htmlFor:"settings.systemMediaControlsEnabled"},c.ag.get("desktop.settings.showSystemMediaControls"))),r.createElement(p.m,null,r.createElement(u.Z,{id:"settings.systemMediaControlsEnabled",value:!!i["ui.system_media_controls_enabled"],onSelected:function(e){a("ui.system_media_controls_enabled",e)}}))),s&&r.createElement(m.Z,{filterMatchQuery:c.ag.get("buddy-feed.see-what-your-friends-are-playing")},r.createElement(f.M,null,r.createElement(d.D,{htmlFor:"settings.showFriendActivity"},c.ag.get("buddy-feed.see-what-your-friends-are-playing"))),r.createElement(p.m,null,r.createElement(u.Z,{id:"settings.showFriendActivity",value:!!i["ui.show_friend_feed"],onSelected:function(e){a("ui.show_friend_feed",e)}}))))},ue=n(5960),de=n(29255),me=n(52983);const pe="m7e5wHq6US9u3BbLQXEX",fe="ul4DB6lq_3qO_aCiEbcc";var ve=function(){var e,t=(0,X.I0)(),n=(0,X.v9)(de.Gg),i=n.locale,a=n.user,o=n.overrides,s=(0,r.useRef)(null),l=(0,r.useRef)(null),c=(0,r.useCallback)((function(e){s.current&&s.current.value&&t((0,me.k9)(e?s.current.value:""))}),[t]),u=(0,r.useCallback)((function(e){l.current&&l.current.value&&t((0,me.fY)(e?l.current.value:""))}),[t]),d=(null==o?void 0:o.country)||(null==a?void 0:a.country),v=(null==o?void 0:o.locale)||i;return r.createElement(r.Fragment,null,r.createElement(m.Z,{filterMatchQuery:null!=d?d:""},r.createElement(f.M,null,r.createElement("div",{className:pe},r.createElement(ue.z,{id:"overrides.country",onChange:function(e){var t=e.target.checked;c(t)},defaultChecked:!(null==o||!o.country)},r.createElement(E.D,{variant:"viola",semanticColor:"textSubdued"},"Country")))),r.createElement(p.m,null,r.createElement("input",{type:"text",id:"overrides.country.input",className:fe,disabled:!(null!=o&&o.country),ref:s,defaultValue:d,onChange:function(){return c(!0)}}))),r.createElement(m.Z,{filterMatchQuery:null!==(e=null==o?void 0:o.locale)&&void 0!==e?e:""},r.createElement(f.M,null,r.createElement("div",{className:pe},r.createElement(ue.z,{id:"overrides.locale",onChange:function(e){var t=e.target.checked;u(t)},defaultChecked:!(null==o||!o.locale)},r.createElement(E.D,{variant:"viola",semanticColor:"textSubdued"},"Language")))),r.createElement(p.m,null,r.createElement("input",{type:"text",id:"overrides.locale.input",className:fe,disabled:!(null!=o&&o.locale),ref:l,defaultValue:v,onChange:function(){return u(!0)}}))))},ge=function(e){var t=e.settings.values,n=e.setValue;return Ve(t)?r.createElement(v.Q,{filterMatchQuery:c.ag.get("settings.employee")},r.createElement(g.q,null,c.ag.get("settings.employee")),r.createElement(m.Z,{filterMatchQuery:c.ag.get("desktop.settings.language-override")},r.createElement(f.M,null,r.createElement(d.D,{htmlFor:""},c.ag.get("desktop.settings.language-override")))),r.createElement(ve,null),r.createElement(m.Z,{filterMatchQuery:c.ag.get("desktop.settings.enableDeveloperMode")},r.createElement(f.M,null,r.createElement(d.D,{htmlFor:"settings.developerMode"},c.ag.get("desktop.settings.enableDeveloperMode"))),r.createElement(p.m,null,r.createElement(u.Z,{id:"settings.developerMode",value:!!t["app.enable-developer-mode"],onSelected:function(e){n("app.enable-developer-mode",e)}})))):null},he=function(e){var t=e.settings.values,n=e.setValue,i="1"===t["lock-filter-explicit-content"],a="0"===t["filter-explicit-content"]||void 0===t["filter-explicit-content"],o=i?c.ag.get("desktop.settings.explicitContentFilterSettingLocked"):c.ag.get("desktop.settings.explicitContentFilterSetting");return r.createElement(v.Q,{filterMatchQuery:c.ag.get("desktop.settings.explicitContentFilter")},r.createElement(g.q,null,c.ag.get("desktop.settings.explicitContentFilter")),r.createElement(m.Z,{filterMatchQuery:o},r.createElement(f.M,null,r.createElement(d.D,{htmlFor:"desktop.settings.explicitContentFilter"},o)),r.createElement(p.m,null,r.createElement(u.Z,{id:"desktop.settings.explicitContentFilter",disabled:i,value:a,onSelected:function(e){n("filter-explicit-content",e?"0":"1")}}))))},ye=n(7867),ke=function(e){var t=e.settings.values,n=e.setValue,i=t.language,a=(0,r.useContext)(s.z),o=(0,r.useCallback)((function(){a.applyUpdate()}),[a]);return void 0===t.language?null:r.createElement(v.Q,{filterMatchQuery:c.ag.get("desktop.settings.language")},r.createElement(g.q,null,c.ag.get("desktop.settings.language")),r.createElement(m.Z,{filterMatchQuery:c.ag.get("desktop.settings.selectLanguage")},r.createElement(f.M,null,r.createElement(d.D,{htmlFor:"desktop.settings.selectLanguage"},c.ag.get("desktop.settings.selectLanguage"))),r.createElement(p.m,null,r.createElement(O.v,{dir:"auto",value:t.language,id:"desktop.settings.selectLanguage",onSelect:function(e){n("language",e)}},ye.bC.map((function(e){return r.createElement("option",{key:e,value:e},"".concat(ye.k1[e].displayName," (").concat(ye.k1[e].displayNameEn,")"))}))))),navigator.language!==i?r.createElement(R,{onClick:o}):null)},Ee=n(5229),be=n(72573),_e=n(14130),Se=n(72131),we=function(e){return void 0!==e.id};function Ne(e){var t;if(!we(e))return e.path;switch(e.id){case Se.G.DOWNLOADS:t=c.ag.get("local-files.source.downloads");break;case Se.G.ITUNES:t=c.ag.get("local-files.source.itunes");break;case Se.G.MY_MUSIC:t=c.ag.get("local-files.source.my_music");break;case Se.G.WINDOWS_MUSIC_LIBRARY:t=c.ag.get("local-files.source.windows_music_library");break;default:t=String(e.id)}return t}var Oe=function(e){var t=e.source,n=e.onAddOrRemoveSource,i=(0,r.useState)(!we(t)||t.enabled),a=(0,k.Z)(i,2),o=a[0],s=a[1],l=we(t)?String(t.id):t.path;return r.createElement(m.Z,{filterMatchQuery:Ne(t)},r.createElement(f.M,null,r.createElement(d.D,{htmlFor:"settings.local-files.".concat(l)},Ne(t))),r.createElement(p.m,null,r.createElement(u.Z,{id:"settings.local-files.".concat(l),value:o,onSelected:function(e){s(e),n(t,e)}})))},Ce=function(){var e=(0,r.useState)(),t=(0,k.Z)(e,2),n=t[0],i=t[1],a=(0,r.useContext)(q.t),o=(0,_e.r)(),s=(0,r.useCallback)((0,z.Z)(Y().mark((function e(){return Y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=i,e.next=3,a.getSources();case 3:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 5:case"end":return e.stop()}}),e)}))),[a]);(0,r.useEffect)((function(){s()}),[s]);var l=(0,r.useCallback)((0,z.Z)(Y().mark((function e(){var t,n;return Y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.browseForFolder();case 2:if(t=e.sent,!(n=t.path)){e.next=9;break}return e.next=7,a.addFolder({path:n});case 7:s(),o.say(c.ag.get("settings.localFilesFolderAdded",n));case 9:case"end":return e.stop()}}),e)}))),[o,a,s]),u=(0,r.useCallback)((function(e,t){e.enabled=t,a.mutateDefaultSource(e)}),[a]),d=(0,r.useCallback)((function(e,t){t?a.addFolder(e):a.removeFolder(e)}),[a]);return r.createElement(v.Q,{filterMatchQuery:c.ag.get("settings.showSongsFrom")},r.createElement(g.q,null,c.ag.get("settings.showSongsFrom")),null==n?void 0:n.defaultSources.map((function(e){return r.createElement(Oe,{key:String(e.id),source:e,onAddOrRemoveSource:u})})),null==n?void 0:n.folders.map((function(e){return r.createElement(Oe,{key:e.path,source:e,onAddOrRemoveSource:d})})),r.createElement("div",null,r.createElement(P.P,{buttonSize:"sm","aria-label":c.ag.get("settings.addASource"),onClick:function(){l()}},c.ag.get("settings.addASource"))))},Te=function(){var e=(0,Ee.z)(be.J,!1),t=(0,k.Z)(e,2),n=t[0],i=t[1];return r.createElement(r.Fragment,null,r.createElement(v.Q,{filterMatchQuery:c.ag.get("settings.localFiles")},r.createElement(g.q,null,c.ag.get("settings.localFiles")),r.createElement(m.Z,{filterMatchQuery:c.ag.get("settings.showLocalFiles")},r.createElement(f.M,null,r.createElement(d.D,{htmlFor:"settings.showLocalFiles"},c.ag.get("settings.showLocalFiles"))),r.createElement(p.m,null,r.createElement(u.Z,{id:"settings.showLocalFiles",value:n,onSelected:function(e){i(e)}})))),n?r.createElement(Ce,null):null)},Ie=(n(57327),n(17252));var Ae={automatic:{enum:0,label:function(){return c.ag.get("desktop.settings.streamingQualityAutomatic")}},low:{enum:1,label:function(){return c.ag.get("desktop.settings.streamingQualityLow")}},medium:{enum:2,label:function(){return c.ag.get("desktop.settings.streamingQualityNormal")}},high:{enum:3,label:function(){return c.ag.get("desktop.settings.streamingQualityHigh")}},veryhigh:{enum:4,label:function(){return c.ag.get("desktop.settings.streamingQualityVeryHigh")}},hifi:{enum:5,label:function(){return c.ag.get("desktop.settings.streamingQualityHiFi")}}};function Pe(e,t){switch(parseInt(e,10)){default:case Ae.automatic.enum:case Ae.low.enum:case Ae.medium.enum:case Ae.high.enum:return!0;case Ae.veryhigh.enum:return function(e){switch(parseInt(e["audio-quality"],10)){default:return!1;case 1:case 2:return!0}}(t);case Ae.hifi.enum:return function(e){return 2===parseInt(e["audio-quality"],10)}(t)}}var De={loud:{label:function(){return c.ag.get("desktop.settings.loudnessLoud")}},normal:{label:function(){return c.ag.get("desktop.settings.loudnessNormal")}},quiet:{label:function(){return c.ag.get("desktop.settings.loudnessQuiet")}}},Re=function(e){var t=e.settings,n=t.values,i=t.formats,a=t.loudness,o=e.setValue,s=!n["audio.normalize_v2"],l=n["audio.play_bitrate_enumeration"],h=n["audio.sync_bitrate_enumeration"];return void 0!==n["audio.play_bitrate_enumeration"]?r.createElement(v.Q,{filterMatchQuery:c.ag.get("desktop.settings.musicQuality")},r.createElement(g.q,null,c.ag.get("desktop.settings.musicQuality")),r.createElement(m.Z,{filterMatchQuery:c.ag.get("desktop.settings.streamingQuality")},r.createElement(f.M,null,r.createElement(d.D,{htmlFor:"desktop.settings.streamingQuality"},c.ag.get("desktop.settings.streamingQuality"))),r.createElement(p.m,null,r.createElement(O.v,{id:"desktop.settings.streamingQuality",value:Pe(l,n)?n["audio.play_bitrate_enumeration"]:Ae.high.enum,onSelect:function(e){var t=parseInt(e,10);Pe(e,n)||(t=Ae.high.enum),o("audio.play_bitrate_non_metered_enumeration",t),o("audio.play_bitrate_enumeration",t)}},xe(i,n)))),r.createElement(m.Z,{filterMatchQuery:c.ag.get("desktop.settings.downloadQuality.title")},r.createElement(f.M,null,r.createElement(d.D,{htmlFor:"desktop.settings.downloadQuality"},c.ag.get("desktop.settings.downloadQuality.title")),r.createElement(Ie.e,{message:c.ag.get("desktop.settings.downloadQuality.info").replace(/(<([^>]+)>)/gi,"")})),r.createElement(p.m,null,r.createElement(O.v,{id:"desktop.settings.downloadQuality",value:Pe(h,n)?n["audio.sync_bitrate_enumeration"]:Ae.high.enum,onSelect:function(e){var t=parseInt(e,10);Pe(e,n)||(t=Ae.high.enum);var r=0===t?Ae.high.enum:t;o("audio.sync_bitrate_enumeration",r)}},xe(i,n)))),r.createElement(m.Z,{filterMatchQuery:c.ag.get("desktop.settings.automatic-downgrade.title")},r.createElement(f.M,null,r.createElement(d.D,{htmlFor:"desktop.settings.automatic-downgrade"},c.ag.get("desktop.settings.automatic-downgrade.title")),r.createElement(Ie.e,{message:c.ag.get("desktop.settings.automatic-downgrade.info")})),r.createElement(p.m,null,r.createElement(u.Z,{id:"desktop.settings.automatic-downgrade",value:!!n["audio.allow_downgrade"],onSelected:function(e){o("audio.allow_downgrade",e)}}))),r.createElement(m.Z,{filterMatchQuery:c.ag.get("desktop.settings.normalize")},r.createElement(f.M,null,r.createElement(d.D,{htmlFor:"desktop.settings.normalize"},c.ag.get("desktop.settings.normalize"))),r.createElement(p.m,null,r.createElement(u.Z,{id:"desktop.settings.normalize",value:!!n["audio.normalize_v2"],onSelected:function(e){o("audio.normalize_v2",e)}}))),r.createElement(m.Z,{filterMatchQuery:c.ag.get("desktop.settings.loudnessEnvironment_with_limiter_details")},r.createElement(f.M,null,r.createElement(d.D,{htmlFor:"desktop.settings.loudnessEnvironment"},c.ag.get("desktop.settings.loudnessEnvironment_with_limiter_details"))),r.createElement(p.m,null,r.createElement(O.v,{id:"desktop.settings.loudnessEnvironment",disabled:s,value:n["audio.loudness.environment"],onSelect:function(e){o("audio.loudness.environment",parseInt(e,10))}},a.map((function(e){var t=e.enumKey,n=e.enumValue;return r.createElement("option",{key:t,value:n},De[t]?De[t].label():"")})))))):null};function xe(e,t){var n=function(e){return"2"===e["audio-quality"]}(t);return e.filter((function(e){return e.enumKey in Ae})).filter((function(e){var t=e.enumKey;switch(Ae[t].enum){default:case Ae.automatic.enum:return!n;case Ae.low.enum:case Ae.medium.enum:case Ae.high.enum:case Ae.veryhigh.enum:return!0;case Ae.hifi.enum:return n}})).map((function(e){var t=e.enumKey,n=e.enumValue;return r.createElement("option",{key:t,value:n},Ae[t]?Ae[t].label():"")}))}var Le=n(35032),Fe=n(37900),Ue=n(71801),Ze=Fe.D.CONNECTION_STATE_CHANGE;const Me="xm2mOJwSu9_GfODYzx8M";var Be=function(e){var t=e.settings.values,n=e.setValue,i=function(){var e=(0,Ue.H)(),t=(0,r.useState)(null),n=(0,k.Z)(t,2),i=n[0],a=n[1],o=(0,r.useCallback)((function(t){e.connect(t)}),[e]),s=(0,r.useCallback)((function(){e.disconnect()}),[e]);return(0,r.useEffect)((function(){var t=function(e){a(e.data)};return e.addListener(Ze,t),function(){e.removeListener(Ze,t)}}),[e,a]),[i,o,s]}(),a=(0,k.Z)(i,3),o=a[0],s=a[1],l=a[2],h=(0,r.useCallback)((function(){null!=o&&o.connection?l():s({window:{width:Math.max(800,window.outerWidth-100),height:Math.max(600,window.outerHeight-100)}})}),[o,s,l]);if(!(void 0!==t["publish-playlist"]&&void 0!==t["incognito-enabled"]))return null;var y=!!t["incognito-enabled"];return r.createElement(v.Q,{filterMatchQuery:c.ag.get("desktop.settings.social")},r.createElement(g.q,null,c.ag.get("desktop.settings.social")),(null==o?void 0:o.show_connect_option)&&r.createElement(m.Z,{filterMatchQuery:c.ag.get("desktop.settings.facebook")},r.createElement(f.M,null,r.createElement(d.D,{htmlFor:"desktop.settings.facebook"},c.ag.get("desktop.settings.facebook"))),r.createElement(p.m,null,r.createElement(P.P,{id:"desktop.settings.facebook",buttonSize:"sm",className:Me,onClick:h,iconLeading:Le.z},!0===o.connection?c.ag.get("desktop.settings.facebook.disconnect"):c.ag.get("desktop.settings.facebook.connect")))),r.createElement(m.Z,{filterMatchQuery:c.ag.get("desktop.settings.newPlaylistsPublic")},r.createElement(f.M,null,r.createElement(d.D,{htmlFor:"desktop.settings.newPlaylistsPublic"},c.ag.get("desktop.settings.newPlaylistsPublic"))),r.createElement(p.m,null,r.createElement(u.Z,{id:"desktop.settings.newPlaylistsPublic",value:"1"===t["publish-playlist"],onSelected:function(e){n("publish-playlist",e?"1":"0")}}))),r.createElement(m.Z,{filterMatchQuery:c.ag.get("desktop.settings.privateSession")},r.createElement(f.M,null,r.createElement(d.D,{htmlFor:"desktop.settings.privateSession"},c.ag.get("desktop.settings.privateSession"))),r.createElement(p.m,null,r.createElement(u.Z,{id:"desktop.settings.privateSession",value:!!t["incognito-enabled"],onSelected:function(e){n("incognito-enabled",e)}}))),r.createElement(m.Z,{filterMatchQuery:c.ag.get("desktop.settings.publishActivity")},r.createElement(f.M,null,r.createElement(d.D,{htmlFor:"desktop.settings.publishActivity"},c.ag.get("desktop.settings.publishActivity"))),r.createElement(p.m,null,r.createElement(u.Z,{id:"desktop.settings.publishActivity",disabled:y,value:"0"!==t["publish-activity"],onSelected:function(e){n("publish-activity",e?"1":"0")}}))),r.createElement(m.Z,{filterMatchQuery:c.ag.get("desktop.settings.publishTopArtists")},r.createElement(f.M,null,r.createElement(d.D,{htmlFor:"desktop.settings.publishTopArtists"},c.ag.get("desktop.settings.publishTopArtists"))),r.createElement(p.m,null,r.createElement(u.Z,{id:"desktop.settings.publishTopArtists",disabled:y,value:"1"===t["public-toplist"],onSelected:function(e){n("public-toplist",e?"1":"0")}}))))},je=n(1512);function Ve(e){return"1"===e.employee}var He=function(){var e=(0,je.r)(),t=e.settings,n=e.setValue,o=(0,r.useRef)(null);return r.createElement(i.T,{outerRef:o},r.createElement(a.b,{containerRef:o}),r.createElement(ke,{settings:t,setValue:n}),r.createElement(he,{settings:t,setValue:n}),r.createElement(oe,{settings:t,setValue:n}),r.createElement(Re,{settings:t,setValue:n}),r.createElement(Te,null),r.createElement(ce,{settings:t,setValue:n}),r.createElement(Be,{settings:t,setValue:n}),r.createElement(ie,{settings:t,setValue:n}),r.createElement(ge,{settings:t,setValue:n}))};const Ge=He},1512:(e,t,n)=>{"use strict";n.d(t,{r:()=>_});n(47941),n(82526),n(38880),n(89554),n(54747),n(49337),n(33321),n(69070);var r=n(93433),i=n(4942),a=n(15861),o=n(29439),s=n(87757),l=n.n(s),c=(n(66992),n(38559),n(21249),n(69720),n(41539),n(33948),n(26699),n(92222),n(57327),n(67294)),u=n(43867),d=n(17178),m=n(53602),p=n(21270),f=n(22305);function v(){return new d.ProductStateClient((0,f.G)())}function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var y=[{enumKey:"quiet",enumValue:0},{enumKey:"normal",enumValue:1},{enumKey:"loud",enumValue:2}],k=[{enumKey:"minimized",enumValue:"minimized"},{enumKey:"normal",enumValue:"normal"},{enumKey:"off",enumValue:"off"}],E=["filter-explicit-content","publish-playlist","publish-activity","public-toplist","autoplay"],b=["incognito-enabled"],_=function(){var e=(0,c.useRef)((0,p.v)()),t=(0,c.useRef)((0,u.makePrefs)((0,f.G)())),n=(0,m.M)(),s=n.isPrivateSession,g=n.setPrivateSession,_=(0,c.useState)({formats:[],values:{"incognito-enabled":s},autoStart:k,loudness:y}),S=(0,o.Z)(_,2),w=S[0],N=S[1],O=function(e){return"string"==typeof e?{string:e}:"boolean"==typeof e?{bool:e}:{number:String(e)}},C=function(e){return Object.fromEntries(Object.entries(e.entries).map((function(e){var t,n=(0,o.Z)(e,2),r=n[0],i=n[1],a=i.string,s=i.bool,l=i.number;return[r,null!==(t=null!=a?a:s)&&void 0!==t?t:l]})))},T=function(){var e=(0,a.Z)(l().mark((function e(n,r){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!E.includes(n)){e.next=4;break}return e.next=3,v().putValues(d.PutValuesRequest.fromPartial({pairs:(0,i.Z)({},n,r)}));case 3:case 9:return e.abrupt("return");case 4:if(!b.includes(n)){e.next=7;break}return g(Boolean(r)),e.abrupt("return");case 7:return e.next=9,t.current.set({entries:(0,i.Z)({},n,O(r))});case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),I=(0,c.useCallback)(T,[g]);return(0,c.useEffect)((function(){N((function(e){return h(h({},e),{},{values:h(h({},e.values),{},{"incognito-enabled":s})})}))}),[s]),(0,c.useEffect)((function(){e.current.get("sp://playback/v2/formats",void 0,{accept:"application/json"}).then((function(e){var t=[{enumKey:"automatic",enumValue:0,supported:!0}].concat((0,r.Z)(e.formats.filter((function(e){return e.supported})))).map((function(e){return h(h({},e),{},{enumKey:e.enumKey.toLocaleLowerCase()})}));N((function(e){return h(h({},e),{},{formats:t})}))}));var n=v().subValues(d.SubValuesRequest.fromPartial({}),(function(e){N((function(t){return h(h({},t),{},{values:h(h({},t.values),e.pairs)})}))})),i=t.current.subAll({},(function(e){N((function(t){return h(h({},t),{},{values:h(h({},t.values),C(e))})}))}));return function(){i.cancel(),n.cancel()}}),[]),{settings:w,setValue:I}}},72573:(e,t,n)=>{"use strict";n.d(t,{J:()=>r});var r="showLocalFiles"},50054:(e,t,n)=>{"use strict";n.d(t,{r:()=>r.r});var r=n(1512)},6033:(e,t,n)=>{"use strict";n.d(t,{M:()=>b});n(21249);var r=n(67294),i=n(96206),a=n(28248),o=n(29439),s=(n(92222),n(74916),n(15306),n(51615)),l=n(25988),c=n(21509),u=n(82760),d=n(30005),m=n(21691),p=r.memo((function(e){var t=e.projectId,n=e.originalTrackUri,i=(0,s.k6)();return r.createElement(d.v,null,r.createElement(m.s,{role:"menuitem",onClick:function(){i.push("/make-music/studio/".concat(n,"/").concat(t))}},"Open in Soundtrap Studio"))})),f=n(7212),v=n(70842),g=n(18261),h=n(16281),y=r.memo((function(e){var t=e.index,n=e.project,a=e.contextUri,d=e.usePlayContextItem,m=e.userDisplayName,y=(0,s.k6)(),k=function(){y.push("/make-music/studio/".concat(n.originalTrackUri,"/").concat(n.soundtrapProjectId))},E=(0,r.useState)(!1),b=(0,o.Z)(E,2),_=b[0],S=b[1],w=n.publishedTrackUri||"",N=d({uri:w,index:t}),O=N.isActive,C=N.isPlaying,T=N.triggerPlay,I=N.togglePlay;return r.createElement(r.Fragment,null,r.createElement(g._,{menu:n.publishingState===v.H.PUBLISHED&&n.publishedTrackUri?r.createElement(l.k,{uri:n.publishedTrackUri}):r.createElement(p,{projectId:n.soundtrapProjectId,originalTrackUri:n.originalTrackUri})},r.createElement(u.c,{uri:w,contextUri:a,onTriggerPlay:function(){T()},onDoubleClick:n.publishingState===v.H.NOT_PUBLISHED?k:n.publishingState===v.H.IN_PROGRESS?function(){return S(!0)}:void 0,isActive:O,index:t,ariaRowIndex:t,isPlayable:n.publishingState===v.H.PUBLISHED,dragMetadata:{name:n.title,createdBy:m}},r.createElement(c.Dd,{ariaColIndex:0},r.createElement(c.Du,{uri:w,playAriaLabel:i.ag.get("tracklist.a11y.play",n.title,""),isPlaying:C,isActive:O,onClick:function(){I()}},r.createElement(c.km,null,t+1))),r.createElement(c.vZ,{ariaColIndex:1},r.createElement(c.lD,{src:n.imageUri}),r.createElement(c.vm,null,r.createElement(c.Wh,{titleText:n.title},n.title),r.createElement(c.K9,null,m))),r.createElement(c.UA,{ariaColIndex:2},r.createElement(h.V,{text:n.publishingState.replace(/_/g," ")})),r.createElement(c.mU,{ariaColIndex:3},n.publishingState===v.H.PUBLISHED&&n.publishedTrackUri?r.createElement(r.Fragment,null,r.createElement(c.qS,{uri:w}),r.createElement(c.Zv,{menu:r.createElement(l.k,{uri:n.publishedTrackUri}),label:i.ag.get("more.label.track",n.title,m)})):r.createElement(r.Fragment,null,r.createElement(c.Zv,{menu:r.createElement(p,{projectId:n.soundtrapProjectId,originalTrackUri:n.originalTrackUri}),label:i.ag.get("more.label.track",n.title,m)}))))),_&&r.createElement(f.x,{project:n,userDisplayName:m,onClose:function(){return S(!1)}}))}),(function(e,t){return e.project.soundtrapProjectId===t.project.soundtrapProjectId})),k=n(84242),E=n(42781),b=function(e){var t=e.data,n=e.userDisplayName,o=e.maxNumberOfTracks,s=[a.QD.INDEX,a.QD.TITLE,a.QD.ADD,a.QD.DURATION],l=(0,r.useCallback)((function(e){return e.uri}),[]),c="spotify:app:soundtrap_tracks",u=(0,k.n)({uri:c,pages:[{items:t.map((function(e){return{uri:e.publishedTrackUri||"",type:E.p.TRACK,uid:null,provider:null}}))}]},{featureIdentifier:"profile"}).usePlayContextItem,d=(0,r.useCallback)((function(e,t){return r.createElement(y,{key:e.key,index:t,project:e,contextUri:c,usePlayContextItem:u,userDisplayName:n})}),[u,n]);return r.createElement(a.Pv,{ariaLabel:i.ag.get("web-player.soundtrap.projects-tracklist.aria"),renderRow:d,nrTracks:o?Math.min(t.length,o):t.length,tracks:t,resolveUri:l,hasHeaderRow:!1,columns:s})}},7212:(e,t,n)=>{"use strict";n.d(t,{x:()=>y});var r=n(67294),i=n(32667),a=n(74410),o=n(34011),s=n(96206),l=n(84465),c=n(8498);const u="u9EhipkP6KyieCr2NlTD",d="vJsSH_fQRnGszaT5fix4",m="TeNrKjY_K8jdtDq8stVN",p="Cl4_NVCCvbFlddl1AQzm",f="N6kXum06C3bJ7dhlLLwA",v="zFZ06mb5YNt2DSm4z5ws",g="ENRKllFtrwdfnKquLHiw";var h=function(e){var t=e.title,n=e.subtitle,a=e.imageUri;return r.createElement("div",{className:f},r.createElement(c.x,{images:[{url:a}]}),r.createElement("div",{className:v},r.createElement(i.D,{as:"div",variant:"balladBold"},t),n&&r.createElement(i.D,{as:"div",variant:"ballad",semanticColor:"textSubdued"},n)))},y=function(e){var t=e.project,n=e.userDisplayName,c=e.onClose;return r.createElement(l.Z,{isOpen:!0,contentLabel:s.ag.get("web-player.soundtrap.publishing-modal.aria"),onRequestClose:function(){return c()}},r.createElement("div",{className:u},r.createElement("div",{className:m},r.createElement(i.D,{as:"h1",variant:"canon"},s.ag.get("web-player.soundtrap.publishing-modal.title")),r.createElement("button",{className:p,onClick:function(){return c()},"aria-label":s.ag.get("close")},r.createElement(a.k,{iconSize:16}))),r.createElement("div",{className:d},r.createElement(h,{title:t.title,subtitle:n,imageUri:t.imageUri}),r.createElement(i.D,{as:"p",variant:"mesto"},s.ag.get("web-player.soundtrap.publishing-modal.description")),r.createElement(i.D,{as:"p",variant:"mesto"},s.ag.get("web-player.soundtrap.confidential")),r.createElement("div",{className:g},r.createElement(o.D,{onClick:function(){return c()}},s.ag.get("pwa.understood"))))))}},81612:(e,t,n)=>{"use strict";n.d(t,{w:()=>d});var r=n(15861),i=n(29439),a=n(87757),o=n.n(a),s=n(67294),l=n(87577),c=n(67448),u=n(8247),d=function(e,t){var n=(0,s.useState)(null),a=(0,i.Z)(n,2),d=a[0],m=a[1],p=(0,s.useRef)(!1),f=(0,l.W6)(u.sT,{loadingValue:!1}),v=(0,c.z)(),g=(0,s.useCallback)((0,r.Z)(o().mark((function n(){var r;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(f){n.next=2;break}return n.abrupt("return");case 2:if(!e){n.next=8;break}return n.next=5,v.getMyProjects({query:"",page_number:0,result_per_page:6,sort_by:""});case 5:n.t0=n.sent,n.next=11;break;case 8:return n.next=10,v.getPublishedProjects({username:t});case 10:n.t0=n.sent;case 11:if(r=n.t0,p.current){n.next=14;break}return n.abrupt("return");case 14:m(r.projects);case 15:case"end":return n.stop()}}),n)}))),[e,f,v,t]);return(0,s.useEffect)((function(){return p.current=!0,g(),function(){p.current=!1}}),[g]),{projects:d,fetchProjects:g}}},88757:(e,t,n)=>{"use strict";n.d(t,{t:()=>a});n(26699);var r=n(8341),i=["spotify:playlist:37i9dQZF1DXc3KPAjGyPdm"];function a(){return(0,r.Y)((function(e){var t,n=null!==(t=null==e?void 0:e.context.uri)&&void 0!==t?t:"";return i.includes(n)}))}},95664:(e,t,n)=>{"use strict";var r;n.d(t,{U:()=>r}),function(e){e.HOME="home",e.COLLECTION="collection",e.SEARCH="search",e.SETTINGS="settings",e.PLAYLISTS_SIDEBAR="playlists-sidebar",e.NOW_PLAYING_BAR="now-playing-bar",e.BUDDY_FEED="buddy-feed",e.PROFILE="profile",e.DEEP_LINK="deep-link",e.MAKE_MUSIC="make-music",e.UNKNOWN="unknown"}(r||(r={}))},73187:(e,t,n)=>{"use strict";n.d(t,{E:()=>a,G:()=>i});var r=n(67294),i=(0,r.createContext)(void 0),a=function(e){var t=e.value,n=e.children;return r.createElement(i.Provider,{value:t},n)}},68929:(e,t,n)=>{"use strict";n.d(t,{j:()=>g,M:()=>h});var r=n(67294),i=n(51615),a=n(93433),o=n(15671),s=n(43144),l=n(4942),c=(n(26699),n(32023),n(92222),n(82772),n(47941),n(82526),n(57327),n(41539),n(38880),n(89554),n(54747),n(49337),n(33321),n(69070),n(73305)),u=n(95664);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){(0,l.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var p=function(e,t){var n,r,i,a,o,s;if(null!==(n=e.state)&&void 0!==n&&n.navigationalRoot)return null===(s=e.state)||void 0===s?void 0:s.navigationalRoot;if(null!==(r=e.state)&&void 0!==r&&r.referrer&&(null===(i=e.state)||void 0===i?void 0:i.referrer)!==(null==t||null===(a=t.state)||void 0===a?void 0:a.referrer))switch(e.state.referrer){case"buddy_feed":return u.U.BUDDY_FEED;case"now_playing_bar":return u.U.NOW_PLAYING_BAR;case"user_profile":return u.U.PROFILE;case"playlists_sidebar":return u.U.PLAYLISTS_SIDEBAR;case"deeplink":return u.U.DEEP_LINK;case"home":return u.U.HOME;case"search":return u.U.SEARCH;case"your_library":return u.U.COLLECTION}return null==t||null===(o=t.state)||void 0===o?void 0:o.navigationalRoot},f=function(){function e(t,n){var r=this;(0,o.Z)(this,e),(0,l.Z)(this,"locationKeys",[]),(0,l.Z)(this,"onLocationChange",(function(e){var t=r.location;if(e!==t){if(e.state=m(m({},e.state),{},{navigationalRoot:p(e,t)}),e.key){r.locationKeys.includes(e.key)||(r.locationKeys=[].concat((0,a.Z)(r.locationKeys),[e.key]));var n=r.locationKeys.indexOf(e.key),i=null!=t&&t.key?r.locationKeys.indexOf(t.key):-1;r.direction=n>i?c.hw.FORWARD:c.hw.BACK}r.location=e}})),(0,l.Z)(this,"reportPageView",(function(e){var t,n,i,a,o,s,l,d,p,f,v,g=r.history,h=g.location,y=g.action;if(r.onLocationChange(h),!(e.pageId&&e.pageId===(null===(t=r.pageView)||void 0===t?void 0:t.pageId)&&e.entityUri===(null===(n=r.pageView)||void 0===n?void 0:n.entityUri))&&h.pathname!==(null===(i=r.pageView)||void 0===i?void 0:i.pathname)){var k=null!==(a=null!==(o=null==e?void 0:e.navigationalRoot)&&void 0!==o?o:null===(s=h.state)||void 0===s?void 0:s.navigationalRoot)&&void 0!==a?a:u.U.DEEP_LINK,E="POP"!==y?null!==(l=null===(d=h.state)||void 0===d?void 0:d.interactionId)&&void 0!==l?l:r.ubiLogger.getInteractionId(e.entityUri):void 0;r.pageView={pageId:e.pageId,entityUri:e.entityUri,navigationalRoot:k,navigationReason:r.getNavigationReason(k),pathname:h.pathname,interactionId:E},h.state=m(m({},h.state),{},{navigationalRoot:k});var b,_={navigationalRoot:null!==(p=r.pageView.navigationalRoot)&&void 0!==p?p:u.U.UNKNOWN,pageId:null!==(f=r.pageView.pageId)&&void 0!==f?f:"UNKNOWN",entityUri:null!==(v=r.pageView.entityUri)&&void 0!==v?v:"UNKNOWN"};if(r.pageView.interactionId)r.ubiLogger.logNavigation(m(m({},_),{},{interactionId:r.pageView.interactionId}));else r.ubiLogger.logNavigation(m(m({},_),{},{navigationReason:null!==(b=r.pageView.navigationReason)&&void 0!==b?b:c.hw.UNKNOWN}))}})),this.history=t,this.ubiLogger=n,this.unsubscribe=this.listen()}return(0,s.Z)(e,[{key:"listen",value:function(){return this.onLocationChange(this.history.location),this.history.listen(this.onLocationChange)}},{key:"getNavigationReason",value:function(e){var t,n=this.history,r=n.location,i=n.action;return this.pageView?"POP"===i?this.direction:null===(t=r.state)||void 0===t?void 0:t.navigationReason:e===u.U.DEEP_LINK?c.hw.DEEP_LINK:c.hw.CLIENT_STARTED}}]),e}(),v=n(15852),g=(0,r.createContext)(void 0),h=function(e){var t=e.children,n=(0,i.k6)(),a=(0,v.$P)(),o=(0,r.useMemo)((function(){return new f(n,a)}),[n,a]);return(0,r.useEffect)((function(){return function(){return o.unsubscribe()}}),[o]),r.createElement(g.Provider,{value:o},t)}},94960:(e,t,n)=>{"use strict";n.d(t,{H:()=>s,b:()=>o});var r=n(67294),i=n(73187),a=n(68929),o=function(){return(0,r.useContext)(a.j)},s=function(){return(0,r.useContext)(i.G)}},83209:(e,t,n)=>{"use strict";n.d(t,{$:()=>o});var r=n(67294),i=n(11436),a=n(21821),o=function(){return r.createElement("div",{className:a.Z.coverContainer},r.createElement(i.P,{iconSize:64,className:a.Z.coverIcon}))}},23609:(e,t,n)=>{"use strict";n.d(t,{x:()=>u});var r=n(86706),i=n(69518),a=n.n(i),o=n(96206),s=n(29255),l=n(39561),c=n(8688);function u(){var e=(0,l.j$)({offset:0,limit:1}),t=(0,r.v9)(s.Gg).user;return null!==e&&null!=t&&t.id?{uri:a().collectionURI(t.id,"your-episodes").toURI(),name:o.ag.get("sidebar.your_episodes"),images:[],totalLength:null==e?void 0:e.totalLength,owner:(0,c.V3)(t)}:null}},64269:(e,t,n)=>{"use strict";n.d(t,{T:()=>p});n(68309);var r=n(67294),i=n(96206),a=n(36590),o=n(8498),s=n(84242),l=n(69756),c=n(23609),u=n(83209),d=n(21821),m=function(e){var t=e.metadata,n=e.index,l=(0,s.n)({uri:t.uri},{featureIdentifier:"your_library"}),c=l.isPlaying,m=l.togglePlay,p=t.name,f=t.images;return r.createElement(a.Z,{index:n,delegatePlayback:!0,delegateLogging:!0,isPlaying:c,featureIdentifier:"your_library",onPlay:function(e,t){return m({loggingParams:t})},headerText:p,uri:t.uri,renderCardImage:function(){return r.createElement(o.x,{images:f,FallbackComponent:u.$})},renderSubHeaderContent:function(){return r.createElement("span",null,i.ag.get("tracklist-header.episodes-counter",t.totalLength))},className:d.Z.yourEpisodesCard})},p=function(e){var t=e.index,n=(0,c.x)();return n?r.createElement(m,{metadata:n,index:t}):r.createElement(l.A,{cardImage:r.createElement(o.x,{FallbackComponent:u.$}),isLoading:!0})}},49068:(e,t,n)=>{"use strict";n.d(t,{x:()=>r.x});var r=n(23609)},57784:(e,t,n)=>{"use strict";n.d(t,{aN:()=>p,O1:()=>v});var r=n(4942),i=(n(21249),n(69600),n(89554),n(41539),n(54747),n(47941),n(67294)),a=n(97762),o=n(69518),s=n.n(o),l=n(32667);const c="main-dragAndDrop-dndImageShelter",u="main-dragAndDrop-dndImage";function d(e){var t=document.createElement("p");t.className=u,t.innerHTML=e;var n=document.createElement("div");return n.className=c,document.body.appendChild(t),document.body.appendChild(n),{element:t,remove:function(){requestAnimationFrame((function(){t.parentNode&&t.parentNode.removeChild(t),n.parentNode&&n.parentNode.removeChild(n)}))}}}var m,p=(m={},(0,r.Z)(m,s().Type.ALBUM,"text/x-spotify-albums"),(0,r.Z)(m,s().Type.ARTIST,"text/x-spotify-artists"),(0,r.Z)(m,s().Type.COLLECTION_ALBUM,"text/x-spotify-collection-albums"),(0,r.Z)(m,s().Type.COLLECTION_ARTIST,"text/x-spotify-collection-artists"),(0,r.Z)(m,s().Type.DAILY_MIX,"text/x-spotify-daily-mix"),(0,r.Z)(m,s().Type.EPISODE,"text/x-spotify-episodes"),(0,r.Z)(m,s().Type.FOLDER,"text/x-spotify-folders"),(0,r.Z)(m,s().Type.LOCAL,"text/x-spotify-local-tracks"),(0,r.Z)(m,s().Type.LOCAL_ALBUM,"text/x-spotify-local-albums"),(0,r.Z)(m,s().Type.LOCAL_ARTIST,"text/x-spotify-local-artists"),(0,r.Z)(m,s().Type.PLAYLIST,"text/x-spotify-playlists"),(0,r.Z)(m,s().Type.PLAYLIST_V2,"text/x-spotify-playlists"),(0,r.Z)(m,s().Type.PROFILE,"text/x-spotify-users"),(0,r.Z)(m,s().Type.SHOW,"text/x-spotify-shows"),(0,r.Z)(m,s().Type.STATION,"text/x-spotify-stations"),(0,r.Z)(m,s().Type.TRACK,"text/x-spotify-tracks"),m),f=function(e){var t=e.text;return i.createElement(l.D,{variant:"ballad",dir:"auto"},t)},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=function(o){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n,m=arguments.length>4&&void 0!==arguments[4]?arguments[4]:r;o.stopPropagation(),window.addEventListener("click",(function(){return document.body.removeAttribute("data-dragging-type")}),{once:!0});var v=l.map((function(e){return s().from(e)})),g=v.map((function(e){return null==e?void 0:e.toOpenURL()}));if(0===v.length||o.metaKey)o.preventDefault();else{o.dataTransfer.setData("text/x-spotify-context",u),o.dataTransfer.setData("text/uri-list",g.join("\n")),o.dataTransfer.setData("text/plain",g.join("\n")),o.dataTransfer.setData("text/x-spotify-section","".concat(m||0));var h={};for(var y in v.forEach((function(e){var t=p[e.type];h[t]?h[t].push(e):h[t]=[e]})),document.body.setAttribute("data-dragging-type",Object.keys(h).join(" ")),h)if(h[y]){var k=h[y];o.dataTransfer.setData(y,k.join("\n"))}var E=(0,a.renderToString)(i.createElement(f,{text:c}));if("function"==typeof o.dataTransfer.setDragImage){var b=d(E);o.dataTransfer.setDragImage(b.element,0,0),b.remove()}}};return o}},87972:(e,t,n)=>{"use strict";n.d(t,{J:()=>l});var r=n(93433),i=n(29439),a=(n(92222),n(67294)),o=n(62830),s=n(87961),l=function(e,t){var n=(0,a.useState)({loading:!0,error:null,data:null}),l=(0,i.Z)(n,2),c=l[0],u=l[1];return(0,o.KW)((function(){var n=!0;return u({loading:!0,error:null,data:null}),e.apply(void 0,[s.b.getInstance()].concat((0,r.Z)(t||[]))).then((function(e){n&&u({loading:!1,error:null,data:e})}),(function(e){n&&u({loading:!1,error:e,data:null})})),function(){n=!1}}),[e,t]),{data:c.data,error:c.error,loading:c.loading}}},37925:(e,t,n)=>{"use strict";n.d(t,{RH:()=>a,eM:()=>r});n(69600),n(21249),n(57327),n(41539),n(92222),n(2707);var r={SMALL:192,BIG:232},i={small:{width:64,height:64},standard:{width:300,height:300},large:{width:640,height:640},xlarge:{width:1280,height:1280}};function a(e){var t=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map(o),t=e.filter((function(e){return e.width>=r.SMALL&&e.url})).sort((function(e,t){return e.width-t.width}));return t.length?t:e}(e),n=t[0],i=(null==n?void 0:n.url)||null;return i?[i,t.filter((function(e){var t=e.url,n=e.width;return t&&n})).map((function(e){var t=e.url,n=e.width;return"".concat(t," ").concat(n/2,"w, ").concat(t," ").concat(n,"w")})).join(", "),"(min-width: 1280px) ".concat(r.BIG,"px, ").concat(r.SMALL,"px")]:[]}function o(e){if(!e.label)return e;var t=i[e.label],n=t.width,r=t.height;return{url:e.url,width:n,height:r}}},56802:(e,t,n)=>{"use strict";n.d(t,{o:()=>c});var r=n(67294),i=n(86706),a=n(51615),o=n(32648),s=n(99438),l=n(25896);function c(){var e=(0,r.useContext)(o.H8),t=(0,i.I0)(),n=(0,a.k6)();return(0,r.useCallback)((function(r){var i=(0,s.createInteractionLogEventGenerator)(n.location.pathname,e);t((0,l._)(i(r)))}),[t,n,e])}},38894:(e,t,n)=>{"use strict";n.d(t,{g:()=>a});var r=n(86706),i=n(29255),a=function(){return(0,r.v9)(i.Gg).isAnonymous}},87093:(e,t,n)=>{"use strict";n.d(t,{E:()=>i});var r=n(86706),i=function(){return(0,r.v9)((function(e){var t;return null===(t=e.platform)||void 0===t?void 0:t.isBrowser}))}},68960:(e,t,n)=>{"use strict";n.d(t,{Y:()=>s});var r=n(86706),i=n(87577),a=n(49207),o=n(29255),s=function(){var e=(0,i.W6)(a.wy,{loadingValue:!1}),t=(0,r.v9)(o.OA);return e&&t}},43028:(e,t,n)=>{"use strict";n.d(t,{k:()=>o});var r=n(4236),i=n(26482),a=n(19986);function o(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=(0,a._)(e),s=(0,r.k)(),l=o===i.Om.YES;return t&&(s||l||n)}},80322:(e,t,n)=>{"use strict";n.d(t,{Y:()=>u});var r=n(29439),i=n(86706),a=n(69518),o=n.n(a),s=n(4383),l=n(29255),c=n(4236),u=function(e){var t,n=(0,s.Z)(e),a=(0,r.Z)(n,1)[0],u=(0,c.k)(),d=(0,i.v9)(l.n5);return!u&&a?o().collectionAlbumURI(d,null===(t=o().from(e))||void 0===t?void 0:t.getBase62Id()).toURI():e}},4236:(e,t,n)=>{"use strict";n.d(t,{k:()=>o});var r=n(67294),i=n(86706),a=n(27328),o=function(){var e=(0,i.I0)(),t=(0,i.v9)((function(e){return e.onlineStatus.online}));return(0,r.useEffect)((function(){var t=function(){e((0,a.Q7)(!0))},n=function(){e((0,a.Q7)(!1))},r=function(){document.hidden||e((0,a.Q7)(navigator.onLine))};return window.addEventListener("online",t),window.addEventListener("offline",n),window.addEventListener("visibilitychange",r),function(){window.removeEventListener("online",t),window.removeEventListener("offline",n),window.removeEventListener("visibilitychange",r)}}),[e]),t}},6330:(e,t,n)=>{"use strict";n.d(t,{e:()=>p});var r=n(68554);const i="(min-width: 0px)",a="(min-width: 0px) and (max-width: 767px)",o="(min-width: 768px)",s="(min-width: 768px) and (max-width: 1023px)",l="(min-width: 1024px)",c="(min-width: 1024px) and (max-width: 1279px)",u="(min-width: 1280px)",d="(min-width: 1280px) and (max-width: 1919px)",m="(min-width: 1920px)";var p=function(){return{isXS:(0,r.a)(i),isXSOnly:(0,r.a)(a),isSM:(0,r.a)(o),isSMOnly:(0,r.a)(s),isMD:(0,r.a)(l),isMDOnly:(0,r.a)(c),isLG:(0,r.a)(u),isLGOnly:(0,r.a)(d),isXL:(0,r.a)(m)}}},96001:(e,t,n)=>{"use strict";n.d(t,{h:()=>i});n(89554),n(41539),n(54747),n(57327);var r=n(67294);function i(e){return(0,r.useCallback)((function(t){null!==t&&void 0!==t.getAnimations&&t.getAnimations({subtree:!0}).filter((function(t){return t instanceof CSSAnimation&&t.animationName===e&&"running"===t.playState})).forEach((function(e){return e.startTime=0}))}),[e])}},51867:(e,t,n)=>{"use strict";n.d(t,{k:()=>s});var r=n(67294),i=n(86706),a=n(67870),o=n(63826),s=function(e){var t=(0,i.I0)();return(0,r.useCallback)((function(n){return(0,o.T)({hide:function(){return t((0,a.Xe)())},show:function(){return t((0,a.TB)(n))},msTimeout:e})}),[e,t])}},13983:(e,t,n)=>{"use strict";n.d(t,{a:()=>c,z:()=>u});n(47941),n(82526),n(57327),n(41539),n(38880),n(89554),n(54747),n(49337),n(33321),n(69070);var r=n(4942),i=n(67294),a=n(51615),o=n(23716);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var c=function(){var e,t,n=(0,a.TH)(),r=(0,o.g)();null!==(e=n.state)&&void 0!==e&&e.referrer?r.setReferrer(null===(t=n.state)||void 0===t?void 0:t.referrer):n.state=l(l({},n.state),{},{referrer:r.getReferrer()})},u=function(e){var t=(0,o.g)(),n=(0,a.TH)();(0,i.useEffect)((function(){t.setReferrer(e),n.state=l(l({},n.state),{},{referrer:e})}),[n,t,e])}},5965:(e,t,n)=>{"use strict";n.d(t,{Gt:()=>i,Hp:()=>r,XJ:()=>s,Yk:()=>c,b8:()=>o,gq:()=>a,q1:()=>l});var r={DISMISS_IN_APP_MESSAGE:"DISMISS_IN_APP_MESSAGE",PREVIEW_IN_APP_MESSAGE:"PREVIEW_IN_APP_MESSAGE",SET_IN_APP_MESSAGING_ENV:"SET_IN_APP_MESSAGING_ENV",SHOW_IN_APP_MESSAGE:"SHOW_IN_APP_MESSAGE",SHOW_PREVIEW_TOOL:"SHOW_PREVIEW_TOOL",TRIGGER_APP_START_IN_APP_MESSAGE:"TRIGGER_APP_START_IN_APP_MESSAGE"};function i(){return{type:r.TRIGGER_APP_START_IN_APP_MESSAGE}}function a(e){return{type:r.SHOW_IN_APP_MESSAGE,message:e}}function o(){return{type:r.DISMISS_IN_APP_MESSAGE}}function s(e,t){return{type:r.PREVIEW_IN_APP_MESSAGE,creativeId:e,appUri:t}}function l(e){return{type:r.SET_IN_APP_MESSAGING_ENV,env:e}}function c(e){return{type:r.SHOW_PREVIEW_TOOL,show:e}}},98102:(e,t,n)=>{"use strict";var r=n(29439),i=n(15861),a=n(87757),o=n.n(a),s=(n(66992),n(41539),n(88674),n(78783),n(33948),n(21249),n(89554),n(54747),n(47941),n(67294)),l=n(92876),c=n(73935),u=n(69518),d=n.n(u),m=n(83120),p=n(62227),f=n(70043),v=(n(83710),n(74916),n(4723),n(23123),n(91058),n(47094)),g=n(63767),h={version:"1.1.64.510",date:new Date(2021,6,20)};function y(){if((0,v.ZO)()!==g.W.Desktop)return!0;var e,t,n,i=(n=window.navigator.userAgent.match(v.c6),null!==(e=null==n||null===(t=n.groups)||void 0===t?void 0:t.version)&&void 0!==e?e:null);if(!i)return!0;var a,o=function(e){var t=h.version.split(".")[2],n=e.split("."),i=(0,r.Z)(n,3),a=i[1],o=i[2];if("1"!==a)return new Date;var s=parseInt(t,10),l=parseInt(o,10);if(isNaN(l))return new Date;var c=l-s,u=new Date(h.date.getTime());return u.setDate(u.getDate()+14*c),u}(i);return a=o,((new Date).getTime()-a.getTime())/864e5<30}var k=n(38868),E=(n(82526),n(57327),n(38880),n(49337),n(33321),n(69070),n(4942)),b=n(90071),_=n(3578),S=n(88005),w=n(14723),N=n(93433),O=n(15671),C=n(43144),T=(n(38862),n(32397));var I,A=function(){function e(t,n,r,i){(0,O.Z)(this,e),this.storage=t,this.storageKey=n,this.playerApi=r,this.libraryApi=i}return(0,C.Z)(e,[{key:"executeAction",value:function(e,t){var n;(function(e,t){return e===T.gi&&!!t}(e,t)&&this.playerApi.play(t.context,t.origin,t.options),function(e,t){return e===T.wH&&!!t}(e,t))&&(n=this.libraryApi).add.apply(n,(0,N.Z)(t.uris))}},{key:"triggerActions",value:function(){var e=this.storage.getItem(this.storageKey);if(e){this.cleanActions();try{var t=JSON.parse(e);if(!function(e){return!!(e&&e.key&&e.action)}(t))return;this.executeAction(t.key,t.action)}catch(e){return}}}},{key:"storeAction",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],i=t[1];this.storage.setItem("PLAY_AT_FIRST_TAP_HAD_DEFERRED_ACTIONS",JSON.stringify(!0)),this.storage.setItem(this.storageKey,JSON.stringify({key:r,action:i}))}},{key:"cleanActions",value:function(){this.storage.removeItem(this.storageKey)}}]),e}(),P=n(25853),D=function(){function e(){(0,O.Z)(this,e)}var t,n;return(0,C.Z)(e,[{key:"copy",value:(n=(0,i.Z)(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(0,P.v)(t);case 1:case"end":return e.stop()}}),e)}))),function(e){return n.apply(this,arguments)})},{key:"paste",value:(t=(0,i.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,navigator.clipboard.readText();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),function(){return t.apply(this,arguments)})}]),e}(),R=n(30168),x=(n(24603),n(28450),n(88386),n(39714),n(38992),n(85827),n(92222),n(21703),n(96647),n(5212),n(82772),n(55758)),L=n(16516),F="".concat(L.XA,"/collection/v2");function U(e,t,n,r){return e.build().withHost(F).withPath("/write").withMethod("POST").withHeaders([{key:"content-type",value:"application/json"},{key:"accept",value:"application/json"}]).withResponseType("json").withBody(JSON.stringify({username:t,set:n,items:r.map((function(e){return{uri:e}}))})).send()}function Z(e,t,n,r){return e.build().withHost(F).withPath("/write").withMethod("POST").withHeaders([{key:"content-type",value:"application/json"},{key:"accept",value:"application/json"}]).withResponseType("json").withBody(JSON.stringify({username:t,set:n,items:r.map((function(e){return{uri:e,is_removed:!0}}))})).send()}function M(e,t,n,r){return e.build().withHost(F).withPath("/contains").withMethod("POST").withHeaders([{key:"content-type",value:"application/json"},{key:"accept",value:"application/json"}]).withResponseType("json").withBody(JSON.stringify({username:t,set:n,items:r.map((function(e){return{uri:e}}))})).send()}var B=function(){function e(t,n,r){(0,O.Z)(this,e),(0,E.Z)(this,"events",new x.yF),this._builder=t,this._transport=n,this._username=r,this._subscribeToCollectionChangedMessages()}var t,n,r;return(0,C.Z)(e,[{key:"_subscribeToCollectionChangedMessages",value:function(){var e=this;if(this._username){var t=new RegExp(String.raw(I||(I=(0,R.Z)(["hm://collection/([^/]*)/[^/]*/json"]))));this._transport.matchMessages(t,(function(n){var r,i=n.payloads,a=n.uri;if(void 0!==i&&0!==i.length){var o=null===(r=a.match(t))||void 0===r?void 0:r[1];if(o&&(0,x.XC)(o)){var s=JSON.parse(i[0]).items.reduce((function(e,t){var n=t.type,r=t.identifier,i=t.removed,a="spotify:".concat(n,":").concat(r);return i?e.removed.push(a):e.added.push(a),e}),{added:[],removed:[]}),l=s.added,c=s.removed;l.length&&e.events.emit(x.zy.ADDED,{set:o,uris:l,source:"server"}),c.length&&e.events.emit(x.zy.REMOVED,{set:o,uris:c,source:"server"})}}}),p.DEALER_PLUGIN_NAME)}}},{key:"getEvents",value:function(){return this.events}},{key:"add",value:(r=(0,i.Z)(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._username){e.next=2;break}throw new Error("Username is required");case 2:return e.next=4,U(this._builder,this._username,t,n);case 4:this.events.emit(x.zy.ADDED,{set:t,uris:n,source:"client"});case 5:case"end":return e.stop()}}),e,this)}))),function(e,t){return r.apply(this,arguments)})},{key:"remove",value:(n=(0,i.Z)(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._username){e.next=2;break}throw new Error("Username is required");case 2:return e.next=4,Z(this._builder,this._username,t,n);case 4:this.events.emit(x.zy.REMOVED,{set:t,uris:n,source:"client"});case 5:case"end":return e.stop()}}),e,this)}))),function(e,t){return n.apply(this,arguments)})},{key:"contains",value:(t=(0,i.Z)(o().mark((function e(t,n){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._username){e.next=2;break}throw new Error("Username is required");case 2:return e.next=4,M(this._builder,this._username,t,n);case 4:return r=e.sent,e.abrupt("return",r.body.found);case 6:case"end":return e.stop()}}),e,this)}))),function(e,n){return t.apply(this,arguments)})},{key:"subscribeContains",value:function(e,t,n){var r=this,i=[];this.contains(e,t).then((function(e){i=e,n(e)}));var a=function(r){var a=r.data,o=a.set,s=a.uris;e===o&&(s.some((function(e){var n=t.indexOf(e);return!1===i[n]}))&&(s.forEach((function(e){var n=t.indexOf(e);-1!==n&&(i[n]=!0)})),n(i)))},o=function(r){var a=r.data,o=a.set,s=a.uris;e===o&&(s.some((function(e){var n=t.indexOf(e);return!0===i[n]}))&&(s.forEach((function(e){var n=t.indexOf(e);-1!==n&&(i[n]=!1)})),n(i)))};return this.events.addListener(x.zy.ADDED,a),this.events.addListener(x.zy.REMOVED,o),function(){r.events.removeListener(x.zy.ADDED,a),r.events.removeListener(x.zy.REMOVED,o)}}}]),e}(),j=n(92357),V=function(){function e(){(0,O.Z)(this,e)}return(0,C.Z)(e,[{key:"enableMenuItem",value:function(){return Promise.resolve()}},{key:"disableMenuItem",value:function(){return Promise.resolve()}},{key:"setTitlebarHeight",value:function(){return Promise.resolve()}},{key:"notifyUsableStateReached",value:function(){return Promise.resolve()}},{key:"getEvents",value:function(){return new j.z}}]),e}(),H=(n(81299),n(12419),n(60136)),G=n(82963),W=n(61120),z=(n(84944),n(33792),n(34553),n(45561)),K=n(88074),Y=n(67111),q=n(9446);function Q(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,W.Z)(e);if(t){var i=(0,W.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,G.Z)(this,n)}}var J=function(e){(0,H.Z)(a,e);var t,n,r=Q(a);function a(e){var t;return(0,O.Z)(this,a),(t=r.call(this,e)).webAudioFilters=[],t}return(0,C.Z)(a,[{key:"setEnabledState",value:function(e){var t=this;this.localStorageAPI.setItem(Y.K,e);var n=function(e,n){t.webAudioFilters[n]&&(t.webAudioFilters[n].gain.value=e.gain)};e?this.filters.forEach(n):q.PG.flat.filters.forEach(n)}},{key:"getEnabledState",value:function(){var e=this.localStorageAPI.getItem(Y.K);return!(e instanceof Error)&&e}},{key:"subscribeToEnabledState",value:function(e){var t=this.localStorageAPI.getItem(Y.K);e(!(t instanceof Error)&&t);var n=function(t){t.data.key===Y.K&&e(t.data.value)},r=this.localStorageAPI.getEvents();return r.addListener(z.u.UPDATE,n),function(){r.removeListener(z.u.UPDATE,n)}}},{key:"connectAudioProcessor",value:function(e){var t=this,n=new AudioContext({latencyHint:"playback"}),r=n.createMediaElementSource(e);this.webAudioFilters=this.filters.map((function(e,r){var i=n.createBiquadFilter();return i.frequency.value=e.frequency,0===r?i.type="lowshelf":r===t.filters.length-1?i.type="highshelf":(i.type="peaking",i.Q.value=5),i.gain.value=e.gain,i})),this.webAudioFilters.reduce((function(e,t){return e.connect(t),t}),r).connect(n.destination),document.addEventListener("click",(function(){n.resume()}),{once:!0})}},{key:"setFilterGain",value:(n=(0,i.Z)(o().mark((function e(t,n){var r,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=Math.max(-q.l5,Math.min(n,q.l5)),i=this.filters.findIndex((function(e){return e.key===t})),this.webAudioFilters[i]&&(this.webAudioFilters[i].gain.value=r),this.filters[i].gain=r;case 4:case"end":return e.stop()}}),e,this)}))),function(e,t){return n.apply(this,arguments)})},{key:"getFilters",value:(t=(0,i.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.filters);case 1:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"isSupported",value:function(){return"AudioContext"in window}}]),a}(K.t),X=n(33178),$=n(37900);function ee(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,W.Z)(e);if(t){var i=(0,W.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,G.Z)(this,n)}}var te={show_connect_option:!1,connection:!1},ne=function(e){(0,H.Z)(n,e);var t=ee(n);function n(){var e;return(0,O.Z)(this,n),(e=t.call(this)).onAddListener($.D.CONNECTION_STATE_CHANGE,(function(e){e.data.listener(new X.B($.D.CONNECTION_STATE_CHANGE,te)),e.preventDefault()})),e}return(0,C.Z)(n,[{key:"connect",value:function(){return Promise.resolve(te)}},{key:"disconnect",value:function(){return Promise.resolve(te)}}]),n}($.Z),re=n(14411),ie=n(86458),ae=n(57481),oe=n(51206),se=n.n(oe),le=function(){function e(){(0,O.Z)(this,e)}var t,n,r;return(0,C.Z)(e,[{key:"getVersionInfo",value:(r=(0,i.Z)(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=se().parse(navigator.userAgent),e.abrupt("return",{containerVersion:t.browser.version||"unknown",containerBuildType:"unknown",containerPlatform:"unknown",uiVersion:"xpui_2022-08-26_1661529059895_3ae3b4f"});case 2:case"end":return e.stop()}}),e)}))),function(){return r.apply(this,arguments)})},{key:"subscribe",value:function(){return{cancel:function(){}}}},{key:"prepareUpdate",value:(n=(0,i.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),function(){return n.apply(this,arguments)})},{key:"applyUpdate",value:(t=(0,i.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:window.location.reload();case 1:case"end":return e.stop()}}),e)}))),function(){return t.apply(this,arguments)})}]),e}(),ce=n(8495),ue=n(88914),de=function(e,t,n){var r=(0,ce.mi)({transport:e,suppressPersist:false,context:[(0,ue.jx)(t),(0,ue.UR)({version:"xpui_2022-08-26_1661529059895_3ae3b4f"}),(0,ue.Mb)(),(0,ue.sr)(n)]});return r},me=n(7713),pe=n(92528);function fe(e,t,n){return Math.min(Math.max(e,t),n)}var ve=n(39275),ge="playback",he=.0625,ye=function(){function e(t){var n=this;(0,O.Z)(this,e),(0,E.Z)(this,"_volume",null),(0,E.Z)(this,"_remoteVolume",null),this._harmony=t,this._events=new ve.N,this._events.addListener(ve.r.VOLUME,(function(e){var t=e.data,r=t.volume,i=t.isLocal;n._volume=r||0,i&&function(e){try{localStorage.setItem(ge,JSON.stringify({volume:e}))}catch(e){}}(r)})),this._harmony.addListener(pe.ih.VOLUME_CHANGED,(function(e){var t=e.data,r=t.volume,i=t.remote;n._events.emit(ve.r.VOLUME,{volume:r,isLocal:!i})})),this._harmony.addListener(pe.ih.LAST_ACTIVE_DEVICE_INFO_CHANGED,(function(e){var t=e.data.deviceInfo;if(null!==t){var r=n._remoteVolume!==t.volume;r&&!t.local&&(n._remoteVolume=t.volume||0,n._events.emit(ve.r.VOLUME,{volume:n._remoteVolume,isLocal:!1})),null!==n._remoteVolume&&r&&t.local&&(n._remoteVolume=null,n._events.emit(ve.r.VOLUME,{volume:t.volume,isLocal:!0}))}}))}var t,n,r,a,s,l;return(0,C.Z)(e,[{key:"getCapabilities",value:function(){return{canChangeVolume:!0,canGetPlaybackInfo:!1,canGetFiles:!1}}},{key:"getEvents",value:function(){return this._events}},{key:"getVolume",value:(l=(0,i.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._harmony.getVolume();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)}))),function(){return l.apply(this,arguments)})},{key:"setVolume",value:(s=(0,i.Z)(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=fe(t,0,1),e.next=3,this._harmony.setVolume(n);case 3:case"end":return e.stop()}}),e,this)}))),function(e){return s.apply(this,arguments)})},{key:"raiseVolume",value:(a=(0,i.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===this._volume){e.next=3;break}return e.next=3,this.setVolume(this._volume+he);case 3:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"lowerVolume",value:(r=(0,i.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===this._volume){e.next=3;break}return e.next=3,this.setVolume(this._volume-he);case 3:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"getPlaybackInfo",value:(n=(0,i.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",null);case 1:case"end":return e.stop()}}),e)}))),function(){return n.apply(this,arguments)})},{key:"getFiles",value:(t=(0,i.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("Not implemented!");case 1:case"end":return e.stop()}}),e)}))),function(){return t.apply(this,arguments)})}]),e}(),ke=n(99772),Ee=.0625,be=function(){function e(t){var n=this;(0,O.Z)(this,e),(0,E.Z)(this,"_volume",null),this._overture=t,this._events=new ve.N,this._events.addListener(ve.r.VOLUME,(function(e){var t=e.data.volume;n._volume=t})),this._overture.addListener(ke.oQ.VOLUME_CHANGED,(function(e){var t=e.data;n._events.emit(ve.r.VOLUME,{volume:t.volume,isLocal:!0})}))}var t,n,r,a,s,l;return(0,C.Z)(e,[{key:"getCapabilities",value:function(){return{canChangeVolume:!0,canGetPlaybackInfo:!1,canGetFiles:!1}}},{key:"getEvents",value:function(){return this._events}},{key:"getVolume",value:(l=(0,i.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._overture.getVolume();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)}))),function(){return l.apply(this,arguments)})},{key:"setVolume",value:(s=(0,i.Z)(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=fe(t,0,1),e.next=3,this._overture.setVolume(n);case 3:case"end":return e.stop()}}),e,this)}))),function(e){return s.apply(this,arguments)})},{key:"raiseVolume",value:(a=(0,i.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===this._volume){e.next=3;break}return e.next=3,this.setVolume(this._volume+Ee);case 3:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"lowerVolume",value:(r=(0,i.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===this._volume){e.next=3;break}return e.next=3,this.setVolume(this._volume-Ee);case 3:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"getPlaybackInfo",value:(n=(0,i.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",null);case 1:case"end":return e.stop()}}),e)}))),function(){return n.apply(this,arguments)})},{key:"getFiles",value:(t=(0,i.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("Not implemented!");case 1:case"end":return e.stop()}}),e)}))),function(){return t.apply(this,arguments)})}]),e}();n(26699),n(32023),n(68309);function _e(){var e=se().getParser(window.navigator.userAgent).getBrowserName();return"Web Player (".concat(e,")")}function Se(e){var t=se().getParser(window.navigator.userAgent),n=function(e){switch(e){case"macOS":return"osx";case"Chrome OS":return"chrome";default:return e}}(t.getOSName()||"not_applicable"),r=function(e,t){if("Windows"===e)switch(t){case"NT":return"NT";case"XP":case"NT 5.1":return"XP";case"NT 5.0":return"2000";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return""}return t}(n,t.getOSVersion()),i=t.getBrowserName(),a=t.getBrowserVersion();return"web_player ".concat(n," ").concat(r,";").concat(i," ").concat(a,";").concat(e).toLowerCase()}function we(){var e=se().getParser(window.navigator.userAgent);return e.satisfies({chrome:">=37",firefox:">=47",safari:">=13.1",edge:">=79"})||e.getUA().includes("Spotify")}var Ne=null;function Oe(e,t){var n="Safari"===se().parse(window.navigator.userAgent).browser.name;return Ne=(0,pe.BE)({transport:e,client:{descriptor:{id:null,randomizeId:!0,name:_e(),brand:"spotify",model:"web_player",platform_identifier:t.platformIdentifier,capabilities:{video_playback:we()}}},streamer:{disallowRobustnessValues:[pe.nA.EMPTY],cubicVolume:!0,videoPlayerContainer:t.videoPlayerContainer,disableMux:n,createPlayer:t.createPlayer},controller:{decorateTrackWindow:!0},claimInactivePlayerStates:!0,onlyLocalState:!1})}n(82481),n(69826);var Ce,Te=n(89952),Ie=n(34891),Ae=(n(77601),n(42781)),Pe=n(38470);function De(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Re(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?De(Object(n),!0).forEach((function(t){(0,E.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):De(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function xe(e,t){var n=t.shuffle;return(void 0!==n||!d().isShow(e.uri))&&n}function Le(e,t){var n=t.repeat;if(void 0===n&&d().isShow(e.uri))return pe.zq.OFF;switch(n){case Te.zq.REPEAT_NONE:return pe.zq.OFF;case Te.zq.REPEAT_CONTEXT:return pe.zq.CONTEXT;case Te.zq.REPEAT_TRACK:return pe.zq.TRACK;default:return}}function Fe(e,t,n){var r,i,a,o,s,l,c;return{contextURI:e.uri,trackUID:null===(r=n.skipTo)||void 0===r?void 0:r.uid,trackURI:null===(i=n.skipTo)||void 0===i?void 0:i.uri,index:null===(a=n.skipTo)||void 0===a?void 0:a.index,pageIndex:null===(o=n.skipTo)||void 0===o?void 0:o.pageIndex,initialOffset:n.seekTo,shuffle:xe(e,n),repeatMode:Le(e,n),filter:null===(s=e.metadata)||void 0===s?void 0:s[Te.sb.FILTERING_PREDICATE],sort:null===(l=e.metadata)||void 0===l?void 0:l[Te.sb.SORTING_CRITERIA],playOrigin:(c=t,{featureIdentifier:c.featureIdentifier,featureVersion:c.featureVersion,referrerIdentifier:c.referrerIdentifier,viewURI:c.viewURI,externalReferrer:c.externalReferrer}),paused:n.paused,loggingParams:n.loggingParams}}var Ue=new RegExp(String.raw(Ce||(Ce=(0,R.Z)(["^q[0-9]+$"]))));function Ze(e,t,n){var r,i=!!e.uid&&Ue.test(e.uid),a=null!=n?n:i?"queue":null;return d().isTrack(e.uri)||d().isLocalTrack(e.uri)?function(e,t){var n,r,i,a,o,s,l,c,u,m,p,f,v;return{type:Ae.p.TRACK,uri:null!==(n=t.linked_from)&&void 0!==n&&n.uri?t.linked_from.uri:t.uri,uid:null!==(r=t.uid)&&void 0!==r?r:null,name:null!==(i=t.name)&&void 0!==i?i:"",mediaType:null!==(a=t.track_type)&&void 0!==a?a:"audio",duration:{milliseconds:null!==(o=t.duration_ms)&&void 0!==o?o:0},album:{type:Ae.p.ALBUM,uri:null!==(s=null===(l=t.album)||void 0===l?void 0:l.uri)&&void 0!==s?s:"",name:null!==(c=null===(u=t.album)||void 0===u?void 0:u.name)&&void 0!==c?c:"",images:null!==(m=null===(p=t.album)||void 0===p?void 0:p.images)&&void 0!==m?m:[]},artists:null!==(f=null===(v=t.artists)||void 0===v?void 0:v.map((function(e){var t=e.uri,n=e.name;return{type:Ae.p.ARTIST,uri:t,name:n||""}})))&&void 0!==f?f:[],isLocal:d().isLocalTrack(t.uri),provider:e,get images(){return this.album.images}}}(a,e):d().isEpisode(e.uri)?"true"===(null==t?void 0:t.is_audiobook_chapter)?function(e,t){var n,r,i,a,o,s,l,c,u,d;return{type:Ae.p.CHAPTER,uri:t.uri,uid:null!==(n=t.uid)&&void 0!==n?n:null,name:null!==(r=t.name)&&void 0!==r?r:"",mediaType:null!==(i=t.track_type)&&void 0!==i?i:"audio",duration:{milliseconds:null!==(a=t.duration_ms)&&void 0!==a?a:0},book:{type:Ae.p.AUDIOBOOK,uri:null!==(o=null===(s=t.album)||void 0===s?void 0:s.uri)&&void 0!==o?o:"",name:null!==(l=null===(c=t.album)||void 0===c?void 0:c.name)&&void 0!==l?l:"",images:null!==(u=null===(d=t.album)||void 0===d?void 0:d.images)&&void 0!==u?u:[]},provider:e,get images(){return this.book.images}}}(a,e):function(e,t){var n,r,i,a,o,s,l,c,u,d;return{type:Ae.p.EPISODE,uri:t.uri,uid:null!==(n=t.uid)&&void 0!==n?n:null,name:null!==(r=t.name)&&void 0!==r?r:"",mediaType:null!==(i=t.track_type)&&void 0!==i?i:"audio",duration:{milliseconds:null!==(a=t.duration_ms)&&void 0!==a?a:0},show:{type:Ae.p.SHOW,uri:null!==(o=null===(s=t.album)||void 0===s?void 0:s.uri)&&void 0!==o?o:"",name:null!==(l=null===(c=t.album)||void 0===c?void 0:c.name)&&void 0!==l?l:"",images:null!==(u=null===(d=t.album)||void 0===d?void 0:d.images)&&void 0!==u?u:[]},provider:e,get images(){return this.show.images}}}(a,e):d().isAd(e.uri)?function(e,t){var n,r,i,a,o,s,l,c,u,d;return{type:Ae.p.AD,uri:t.uri,uid:null!==(n=t.uid)&&void 0!==n?n:null,title:null!==(r=t.name)&&void 0!==r?r:null,advertiser:null!==(i=null===(a=t.artists)||void 0===a?void 0:a[0].name)&&void 0!==i?i:null,url:null!==(o=null===(s=t.artists)||void 0===s?void 0:s[0].uri)&&void 0!==o?o:null,id:null,mediaType:null!==(l=t.track_type)&&void 0!==l?l:"audio",duration:{milliseconds:null!==(c=t.duration_ms)&&void 0!==c?c:0},images:null!==(u=null===(d=t.album)||void 0===d?void 0:d.images)&&void 0!==u?u:[],isPodcastAd:!1,isSkippableAd:!1,isTestAd:!1,provider:e}}(a,e):Re(Re({},Te.F3),{},{uri:e.uri,uid:null!==(r=e.uid)&&void 0!==r?r:null,provider:a})}function Me(e){switch(e){default:case pe.zq.OFF:return Te.zq.REPEAT_NONE;case pe.zq.CONTEXT:return Te.zq.REPEAT_CONTEXT;case pe.zq.TRACK:return Te.zq.REPEAT_TRACK}}function Be(e){switch(e){case pe.cJ.DEFAULT:case pe.cJ.UNKNOWN:case void 0:return{bitrateLevel:Te.M4.UNKNOWN};case pe.cJ.LOW:return{bitrateLevel:Te.M4.LOW};case pe.cJ.NORMAL:return{bitrateLevel:Te.M4.NORMAL};case pe.cJ.HIGH:return{bitrateLevel:Te.M4.HIGH};case pe.cJ.VERY_HIGH:return{bitrateLevel:Te.M4.VERY_HIGH};case pe.cJ.HIFI:return{bitrateLevel:Te.M4.HIFI};default:return(0,Pe.U)(e)}}function je(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map((function(e){return Te.Fd.includes(e)?e:"unknown"}))}function Ve(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,W.Z)(e);if(t){var i=(0,W.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,G.Z)(this,n)}}var He=function(e){(0,H.Z)(n,e);var t=Ve(n);function n(e){var r;return(0,O.Z)(this,n),(r=t.call(this))._harmony=e,r._harmony.addListener(pe.ih.STATE_CHANGED,(function(e){var t=e.data.state;r.emit(Ie.rg.UPDATE,function(e){var t;if(null===e)return null;var n,r,i,a,o,s,l,c,u,d,m,p,f,v,g,h,y,k,E=null!==e.context.uri,b=null!==e.track_window.current_track;return{sessionId:"",timestamp:e.timestamp,context:{uri:null!==(t=e.context.uri)&&void 0!==t?t:"",metadata:e.context.metadata},index:{pageURI:null,pageIndex:null,itemIndex:null},item:(k=e.track_window.current_track,null===k?null:Ze(k)),shuffle:e.shuffle,repeat:Me(e.repeat_mode),speed:e.paused?0:1,playbackQuality:Be(e.playback_quality),playbackId:null,positionAsOfTimestamp:e.position,duration:e.duration,restrictions:(n=e.restrictions,r=n.disallow_pausing_reasons,i=void 0===r?[]:r,a=n.disallow_resuming_reasons,o=void 0===a?[]:a,s=n.disallow_seeking_reasons,l=void 0===s?[]:s,c=n.disallow_skipping_prev_reasons,u=void 0===c?[]:c,d=n.disallow_skipping_next_reasons,m=void 0===d?[]:d,p=n.disallow_toggling_repeat_context_reasons,f=void 0===p?[]:p,v=n.disallow_toggling_repeat_track_reasons,g=void 0===v?[]:v,h=n.disallow_toggling_shuffle_reasons,y=void 0===h?[]:h,{canPause:0===i.length,canResume:0===o.length,canSeek:0===l.length,canSkipPrevious:0===u.length,canSkipNext:0===m.length,canToggleRepeatContext:0===f.length,canToggleRepeatTrack:0===g.length,canToggleShuffle:0===y.length,disallowPausingReasons:je(i),disallowResumingReasons:je(o),disallowSeekingReasons:je(l),disallowSkippingPreviousReasons:je(u),disallowSkippingNextReasons:je(m),disallowTogglingRepeatContextReasons:je(f),disallowTogglingRepeatTrackReasons:je(g),disallowTogglingShuffleReasons:je(y)}),hasContext:E&&b,isPaused:e.paused,isBuffering:!1,previousItems:e.track_window.previous_tracks.map((function(e){return Ze(e)})),nextItems:e.track_window.next_tracks.map((function(e){return Ze(e)}))}}(t))})),r}return(0,C.Z)(n)}(Ie.Bc),Ge=n(48993),We=n(94967),ze=n(76189);function Ke(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ye(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ke(Object(n),!0).forEach((function(t){(0,E.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ke(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var qe=function(){function e(t,n,r,a){var s=this;(0,O.Z)(this,e),(0,E.Z)(this,"_queue",null),(0,E.Z)(this,"_cache",new We.tp(36e5,3e5)),this._events=t,this._queueManager=n,this._loader=r,this.getRepeatMode=a,this._queueManager.addListener(pe.ih.PLAYER_QUEUE_CHANGED,function(){var e=(0,i.Z)(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s._queue=t.data.internalPlayerQueue,e.next=3,s.getQueueState();case 3:s._state=e.sent,s._events.emitQueueUpdate(s._state);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this._state=(0,Ge.ew)([],this.getRepeatMode())}var t,n,r,a,s,l;return(0,C.Z)(e,[{key:"getQueueState",value:(l=(0,i.Z)(o().mark((function e(){var t,n,r,i,a,s,l,c,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=null!==(t=this._queue)&&void 0!==t&&t.current_track?Ze(null===(n=this._queue)||void 0===n?void 0:n.current_track,null===(r=this._queue)||void 0===r?void 0:r.current_track.metadata,null===(i=this._queue)||void 0===i?void 0:i.current_track.provider):null,c=null!==(a=null===(s=this._queue)||void 0===s?void 0:s.next_items.map((function(e){return Ze(e,e.metadata,e.provider)})))&&void 0!==a?a:[],u=l?[l].concat((0,N.Z)(c)):c,e.prev=3,e.next=6,(0,ze.f_)(this._loader,this._cache,u);case 6:u=e.sent,e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),console.error(e.t0);case 12:return e.abrupt("return",(0,Ge.ew)(u,this.getRepeatMode()));case 13:case"end":return e.stop()}}),e,this,[[3,9]])}))),function(){return l.apply(this,arguments)})},{key:"isSameItem",value:function(e,t){return e.uid&&t.uid?e.uid===t.uid:e.uri===t.uri}},{key:"isQueued",value:function(e){return"queue"===e.provider}},{key:"markAsQueued",value:function(e){return Ye(Ye({},e),{},{provider:"queue",metadata:Ye(Ye({},e.metadata),{},{is_queued:"true"})})}},{key:"createQueueItem",value:function(e,t){return{uri:e.uri,type:"track",provider:t?"queue":"context",metadata:{is_queued:t.toString()}}}},{key:"addToQueue",value:(s=(0,i.Z)(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._queueManager.addToQueue(t.map((function(e){return e.uri})));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return s.apply(this,arguments)})},{key:"removeFromQueue",value:(a=(0,i.Z)(o().mark((function e(t){var n,r=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._queue){e.next=2;break}return e.abrupt("return");case 2:this._queueManager.setInternalPlayerQueue({revision:this._queue.revision,next_items:null===(n=this._queue.next_items)||void 0===n?void 0:n.filter((function(e){return!t.some((function(t){return r.isSameItem(t,e)}))})),previous_items:this._queue.previous_items});case 3:case"end":return e.stop()}}),e,this)}))),function(e){return a.apply(this,arguments)})},{key:"clearQueue",value:(r=(0,i.Z)(o().mark((function e(){var t=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._queue){e.next=2;break}return e.abrupt("return");case 2:this._queueManager.setInternalPlayerQueue({revision:this._queue.revision,next_items:this._queue.next_items.filter((function(e){return!t.isQueued(e)})),previous_items:this._queue.previous_items});case 3:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"reorderQueue",value:(n=(0,i.Z)(o().mark((function e(t,n){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._queue){e.next=2;break}return e.abrupt("return");case 2:r=(0,N.Z)(this._queue.next_items),this._queueManager.setInternalPlayerQueue({revision:this._queue.revision,next_items:(0,Ge.iT)(t,r,n,this.isSameItem,this.isQueued,this.markAsQueued),previous_items:this._queue.previous_items});case 4:case"end":return e.stop()}}),e,this)}))),function(e,t){return n.apply(this,arguments)})},{key:"insertIntoQueue",value:(t=(0,i.Z)(o().mark((function e(t,n){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._queue){e.next=2;break}return e.abrupt("return");case 2:r=(0,N.Z)(this._queue.next_items),this._queueManager.setInternalPlayerQueue({revision:this._queue.revision,next_items:(0,Ge.LT)(t,r,n,this.isSameItem,this.isQueued,this.createQueueItem),previous_items:this._queue.previous_items});case 4:case"end":return e.stop()}}),e,this)}))),function(e,n){return t.apply(this,arguments)})},{key:"getQueue",value:function(){return this._state}},{key:"getInternalQueue",value:function(){return this._queue}}]),e}(),Qe=function(){function e(t,n,r){var i=this;(0,O.Z)(this,e),(0,E.Z)(this,"_state",null),this._harmony=t,this._defaultFeatureVersion=r,this._events=new He(this._harmony),this._events.addListener(Ie.rg.UPDATE,(function(e){var t=e.data;i._state=t})),this._queue=new qe(this._events,this._harmony.getQueueManager(),n,(function(){var e,t;return null!==(e=null===(t=i._state)||void 0===t?void 0:t.repeat)&&void 0!==e?e:Te.zq.REPEAT_NONE})),this.referrer="other"}var t,n,r,a,s,l,c,u,d,m,p,f,v,g,h,y,k,b,_;return(0,C.Z)(e,[{key:"setDefaultFeatureVersion",value:function(e){void 0===e.featureVersion&&(e.featureVersion=this._defaultFeatureVersion)}},{key:"getCapabilities",value:function(){return{canChangeSpeed:!1,canChangeVolume:!0,canPlayMultipleContextPages:!0,maxNextTracks:2,hasDecoratedQueue:!0}}},{key:"getEvents",value:function(){return this._events}},{key:"getState",value:function(){return this._state}},{key:"getReferrer",value:function(){return this.referrer}},{key:"setReferrer",value:function(e){this.referrer=e}},{key:"play",value:(_=(0,i.Z)(o().mark((function e(t,n){var r,i=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=i.length>2&&void 0!==i[2]?i[2]:{},!this._events.emitPlaySync(t,n,r)){e.next=3;break}return e.abrupt("return");case 3:this.setDefaultFeatureVersion(n),t.pages?this._harmony.playPages(t.pages.map((function(e){var t;return{tracks:null===(t=e.items)||void 0===t?void 0:t.map((function(e){var t=e.uri,n=e.uid;return{uri:t,uid:null!=n?n:void 0}})),pageURL:e.url,nextPageURL:e.nextPageUrl,metadata:e.metadata}})),null,Fe(t,n,r)):this._harmony.playURI(t.uri,null,Fe(t,n,r));case 5:case"end":return e.stop()}}),e,this)}))),function(e,t){return _.apply(this,arguments)})},{key:"pause",value:(b=(0,i.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._events.emitPauseSync()){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this._harmony.pause();case 4:case"end":return e.stop()}}),e,this)}))),function(){return b.apply(this,arguments)})},{key:"resume",value:(k=(0,i.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._events.emitResumeSync()){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this._harmony.resume();case 4:case"end":return e.stop()}}),e,this)}))),function(){return k.apply(this,arguments)})},{key:"skipToNext",value:(y=(0,i.Z)(o().mark((function e(t){var n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._events.emitSkipToNextSync()){e.next=2;break}return e.abrupt("return");case 2:return n=void 0,r=this._queue.getInternalQueue(),t&&r&&(n=r.next_items.find((function(e){return(!t.uid||e.uid===t.uid)&&e.uri===t.uri}))),e.next=7,this._harmony.nextTrack(null,{track:n});case 7:case"end":return e.stop()}}),e,this)}))),function(e){return y.apply(this,arguments)})},{key:"skipToPrevious",value:(h=(0,i.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._events.emitSkipToPreviousSync()){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this._harmony.smartPreviousTrack();case 4:case"end":return e.stop()}}),e,this)}))),function(){return h.apply(this,arguments)})},{key:"seekTo",value:(g=(0,i.Z)(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._harmony.seek(t);case 2:case"end":return e.stop()}}),e,this)}))),function(e){return g.apply(this,arguments)})},{key:"seekForward",value:(v=(0,i.Z)(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._harmony.seekForward(t);case 2:case"end":return e.stop()}}),e,this)}))),function(e){return v.apply(this,arguments)})},{key:"seekBackward",value:(f=(0,i.Z)(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._harmony.seekBackward(t);case 2:case"end":return e.stop()}}),e,this)}))),function(e){return f.apply(this,arguments)})},{key:"setShuffle",value:(p=(0,i.Z)(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._harmony.setShuffle(t);case 2:case"end":return e.stop()}}),e,this)}))),function(e){return p.apply(this,arguments)})},{key:"setRepeat",value:(m=(0,i.Z)(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t,e.next=e.t0===Te.zq.REPEAT_NONE?3:e.t0===Te.zq.REPEAT_CONTEXT?6:e.t0===Te.zq.REPEAT_TRACK?9:12;break;case 3:return e.next=5,this._harmony.setRepeatMode(pe.zq.OFF);case 5:case 8:case 11:case 12:return e.abrupt("break",13);case 6:return e.next=8,this._harmony.setRepeatMode(pe.zq.CONTEXT);case 9:return e.next=11,this._harmony.setRepeatMode(pe.zq.TRACK);case 13:case"end":return e.stop()}}),e,this)}))),function(e){return m.apply(this,arguments)})},{key:"setSpeed",value:(d=(0,i.Z)(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("Changing playback speed not possible with Harmony.");case 1:case"end":return e.stop()}}),e)}))),function(e){return d.apply(this,arguments)})},{key:"canPlayEncryptedContent",value:(u=(0,i.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._harmony.getMediaConfig();case 2:return e.t0=e.sent.keysystem,e.t1=void 0,e.abrupt("return",e.t0!==e.t1);case 5:case"end":return e.stop()}}),e,this)}))),function(){return u.apply(this,arguments)})},{key:"refreshCurrentContext",value:(c=(0,i.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._harmony.updateCurrentContext();case 2:case"end":return e.stop()}}),e,this)}))),function(){return c.apply(this,arguments)})},{key:"updateContext",value:(l=(0,i.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("Updating context not possible with Harmony.");case 1:case"end":return e.stop()}}),e)}))),function(){return l.apply(this,arguments)})},{key:"addToQueue",value:(s=(0,i.Z)(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._events.emitQueueActionSync(Ie.FE.ADD)){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this._queue.addToQueue(t);case 5:this._events.emitQueueActionComplete(Ie.FE.ADD),e.next=12;break;case 8:throw e.prev=8,e.t0=e.catch(2),this._events.emitQueueActionComplete(Ie.FE.ADD,e.t0 instanceof Error?e.t0:new Error("Unknown error object")),e.t0;case 12:case"end":return e.stop()}}),e,this,[[2,8]])}))),function(e){return s.apply(this,arguments)})},{key:"reorderQueue",value:(a=(0,i.Z)(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._events.emitQueueActionSync(Ie.FE.REORDER)){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this._queue.reorderQueue(t,n);case 5:this._events.emitQueueActionComplete(Ie.FE.REORDER),e.next=12;break;case 8:throw e.prev=8,e.t0=e.catch(2),this._events.emitQueueActionComplete(Ie.FE.REORDER,e.t0 instanceof Error?e.t0:new Error("Unknown error object")),e.t0;case 12:case"end":return e.stop()}}),e,this,[[2,8]])}))),function(e,t){return a.apply(this,arguments)})},{key:"insertIntoQueue",value:(r=(0,i.Z)(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._events.emitQueueActionSync(Ie.FE.INSERT)){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this._queue.insertIntoQueue(t,n);case 5:this._events.emitQueueActionComplete(Ie.FE.INSERT),e.next=12;break;case 8:throw e.prev=8,e.t0=e.catch(2),this._events.emitQueueActionComplete(Ie.FE.INSERT,e.t0 instanceof Error?e.t0:new Error("Unknown error object")),e.t0;case 12:case"end":return e.stop()}}),e,this,[[2,8]])}))),function(e,t){return r.apply(this,arguments)})},{key:"removeFromQueue",value:(n=(0,i.Z)(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._events.emitQueueActionSync(Ie.FE.REMOVE)){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this._queue.removeFromQueue(t);case 5:this._events.emitQueueActionComplete(Ie.FE.REMOVE),e.next=12;break;case 8:throw e.prev=8,e.t0=e.catch(2),this._events.emitQueueActionComplete(Ie.FE.REMOVE,e.t0 instanceof Error?e.t0:new Error("Unknown error object")),e.t0;case 12:case"end":return e.stop()}}),e,this,[[2,8]])}))),function(e){return n.apply(this,arguments)})},{key:"clearQueue",value:(t=(0,i.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._events.emitQueueActionSync(Ie.FE.CLEAR)){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this._queue.clearQueue();case 5:this._events.emitQueueActionComplete(Ie.FE.CLEAR),e.next=12;break;case 8:throw e.prev=8,e.t0=e.catch(2),this._events.emitQueueActionComplete(Ie.FE.CLEAR,e.t0 instanceof Error?e.t0:new Error("Unknown error object")),e.t0;case 12:case"end":return e.stop()}}),e,this,[[2,8]])}))),function(){return t.apply(this,arguments)})},{key:"getQueue",value:function(){return this._queue.getQueue()}},{key:"getForcedShuffle",value:function(){return!1}},{key:"setForcedShuffle",value:function(){}}]),e}();function Je(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Xe(e){return"Partner spotify ".concat(e)}function $e(e,t){return(0,ke.cr)(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Je(Object(n),!0).forEach((function(t){(0,E.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Je(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({transport:e},t))}n(3843),n(32564);var et=n(48896);function tt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function nt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tt(Object(n),!0).forEach((function(t){(0,E.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function rt(e){return function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){var t=e.url,n=e.height,r=e.width;return Boolean(t)&&Boolean(n)&&Boolean(r)})).map((function(e){var t=e.url,n=e.width,r=e.height;return{url:t,height:parseInt(null!=r?r:"0",10),width:parseInt(null!=n?n:"0",10)}}))}({url:e.image_url,height:e.image_height,width:e.image_width},{url:e.image_url_small,height:e.image_height_small,width:e.image_width_small},{url:e.image_url_large,height:e.image_height_large,width:e.image_width_large},{url:e.image_url_xlarge,height:e.image_height_xlarge,width:e.image_width_xlarge})}function it(e,t){return null===e?null:d().isTrack(e.uri)||d().isLocalTrack(e.uri)?function(e,t){var n,r,i,a,o,s=e.metadata;return{type:Ae.p.TRACK,uri:e.uri,uid:null,name:null!==(n=s.title)&&void 0!==n?n:"",mediaType:e.mediaType,duration:{milliseconds:t},album:{type:Ae.p.ALBUM,uri:null!==(r=s.album_uri)&&void 0!==r?r:"",name:null!==(i=s.album_title)&&void 0!==i?i:"",images:rt(s)},artists:[{type:Ae.p.ARTIST,uri:null!==(a=s.artist_uri)&&void 0!==a?a:"",name:null!==(o=s.artist_name)&&void 0!==o?o:""}],isLocal:d().isLocalTrack(e.uri),isExplicit:!1,is19PlusOnly:!1,provider:null,get images(){return this.album.images}}}(e,t):d().isEpisode(e.uri)?function(e,t){var n,r,i,a=e.metadata;return{type:Ae.p.EPISODE,uri:e.uri,uid:null,name:null!==(n=a.title)&&void 0!==n?n:"",mediaType:e.mediaType,duration:{milliseconds:t},show:{type:Ae.p.SHOW,uri:null!==(r=a.album_uri)&&void 0!==r?r:"",name:null!==(i=a.album_title)&&void 0!==i?i:"",images:rt(a)},provider:null,get images(){return this.show.images}}}(e,t):d().isAd(e.uri)?function(e,t){var n,r,i,a,o=e.metadata;return{type:Ae.p.AD,uri:e.uri,uid:null,title:null!==(n=o.title)&&void 0!==n?n:null,advertiser:null!==(r=o.artist_name)&&void 0!==r?r:null,url:null!==(i=o.artist_uri)&&void 0!==i?i:null,id:null!==(a=o.ad_id)&&void 0!==a?a:null,mediaType:e.mediaType,duration:{milliseconds:t},images:[],isPodcastAd:!1,isSkippableAd:!1,isTestAd:!1,provider:null}}(e,t):nt(nt({},Te.F3),{},{uri:e.uri,metadata:e.metadata||null})}function at(e){switch(e){case ke.zq.CONTEXT:return Te.zq.REPEAT_CONTEXT;case ke.zq.TRACK:return Te.zq.REPEAT_TRACK;case ke.zq.NONE:default:return Te.zq.REPEAT_NONE}}function ot(e){var t=e.playbackState;return{canPause:!!t.playing,canResume:!t.playing,canSeek:!0,canSkipPrevious:!1,canSkipNext:!1,canToggleRepeatContext:!1,canToggleRepeatTrack:!1,canToggleShuffle:!1,disallowPausingReasons:t.playing?[]:["already_paused"],disallowResumingReasons:t.playing?["already_playing"]:[],disallowSeekingReasons:[],disallowSkippingPreviousReasons:["unknown"],disallowSkippingNextReasons:["unknown"],disallowTogglingRepeatContextReasons:["unknown"],disallowTogglingRepeatTrackReasons:["unknown"],disallowTogglingShuffleReasons:["unknown"]}}function st(e){var t=e.hasContext||e.isPaused||e.isBuffering;return{canSeek:null!=t&&t,disallowSeekingReasons:t?[]:["not_playing_track"]}}function lt(e){if(null===e)return null;var t=e.playbackState,n=e.track,r=null==n?void 0:n.metadata,i=function(e){var t=e.track,n=null==t?void 0:t.metadata;return(null==n?void 0:n.contextURI)||(null==t?void 0:t.uri)||null}(e);return i?{sessionId:"",timestamp:Date.now(),context:{uri:null!=i?i:"",metadata:r},index:{pageURI:null,pageIndex:null,itemIndex:null},item:n?it(n,t.duration):null,shuffle:!1,repeat:at(ke.zq.NONE),speed:1,playbackQuality:{bitrateLevel:Te.M4.UNKNOWN},playbackId:null,positionAsOfTimestamp:t.position,duration:t.duration,restrictions:nt(nt({},ot(e)),st({hasContext:!!n&&!!i,isPaused:!t.playing,isBuffering:!1})),hasContext:!!n&&!!i,isPaused:!t.playing,previousItems:[],nextItems:[]}:null}function ct(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ut(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ct(Object(n),!0).forEach((function(t){(0,E.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ct(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var dt=n(67789);function mt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mt(Object(n),!0).forEach((function(t){(0,E.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ft="https://spclient.wg.spotify.com",vt={"com.apple.fps.1_0":"fairplay","com.widevine.alpha":"widevine","com.microsoft.playready":"playready"},gt=function(e){var t,n;return null!==(t=e.pages)&&void 0!==t&&t.length&&null!==(n=e.pages[0].items)&&void 0!==n&&n.length?e.pages[0].items[0]:e},ht=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"audio";return t?"@webgate/".concat(vt[e],"-license/v1/").concat(n,"/license"):"".concat(ft,"/").concat(vt[e],"-license/v1/unauth/").concat(n,"/license")},yt=function(){var e=(0,i.Z)(o().mark((function e(t,n,r){var i,a,s,l,c,u,m,p,f,v,g,h=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=h.length>3&&void 0!==h[3]?h[3]:"com.widevine.alpha",l=h.length>4?h[4]:void 0,c=pt(pt({},n.metadata),{},{contextURI:n!==t?t.uri:null}),null===(i=n.metadata)||void 0===i||!i.externalResolvedUrl){e.next=5;break}return e.abrupt("return",(0,ke.SK)({uri:n.uri,resolvedURL:null===(u=n.metadata)||void 0===u?void 0:u.externalResolvedUrl,fileId:"",metadata:c,logData:l}));case 5:if("episode"!==(null===(a=d().from(n.uri))||void 0===a?void 0:a.type)){e.next=13;break}return m=c.mediaType,p="yes"===c.useAuthEndpoint,f=ht(s,p,m),e.next=11,(0,dt.IS)(n,s,m);case 11:return v=e.sent,e.abrupt("return",(0,ke.SK)(pt({uri:n.uri,licenseEndpoint:f,metadata:c,logData:l,fileId:"",noAuth:!p},v)));case 13:throw g=new Error("No valid solution has been found to play this item (".concat(null==n?void 0:n.uri,")")),r.emitSync(Ie.rg.ERROR,new et.lu(et.cg.ONE_TRACK_UNPLAYABLE,[],g)),g;case 16:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}();function kt(e,t){var n,a=function(e){var t,n,r=new Ie.Bc,a={sessionId:"",timestamp:0,context:{uri:""},index:{pageURI:null,pageIndex:null,itemIndex:null},item:null,shuffle:!1,repeat:Te.zq.REPEAT_NONE,speed:1,playbackQuality:{bitrateLevel:Te.M4.UNKNOWN},playbackId:null,positionAsOfTimestamp:0,duration:0,restrictions:{canPause:!1,canResume:!1,canSeek:!1,canSkipNext:!1,canSkipPrevious:!1,canToggleRepeatContext:!1,canToggleRepeatTrack:!1,canToggleShuffle:!1,disallowPausingReasons:["not_playing_track"],disallowResumingReasons:["not_playing_track"],disallowSeekingReasons:["not_playing_track"],disallowSkippingPreviousReasons:["not_playing_context"],disallowSkippingNextReasons:["not_playing_context"],disallowTogglingRepeatContextReasons:["not_playing_context"],disallowTogglingRepeatTrackReasons:["not_playing_context"],disallowTogglingShuffleReasons:["not_playing_context"]},hasContext:!1,isPaused:!1,isBuffering:!1,previousItems:[],nextItems:[]};function s(e){return ut(ut(ut({},a),e),{},{context:ut(ut({},a.context),null==e?void 0:e.context)})}function l(e){a=s(e),r.emit(Ie.rg.UPDATE,a)}function c(){return u.apply(this,arguments)}function u(){return(u=(0,i.Z)(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getCurrentState();case 2:l(lt(t.sent));case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function d(e){return m.apply(this,arguments)}function m(){return(m=(0,i.Z)(o().mark((function e(r){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r){e.next=6;break}if(!t){e.next=3;break}return e.abrupt("return");case 3:t=setTimeout((function(){t=null,l({isBuffering:r})}),200),e.next=7;break;case 6:t?(clearTimeout(t),t=null,l({isBuffering:r})):n||(n=setTimeout((function(){n=null,l({isBuffering:r})}),400));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(){return(p=(0,i.Z)(o().mark((function t(){var n,r,i,c,u;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getCurrentState();case 2:n=t.sent,r=lt(n),i=r?ut(ut({},r),{},{isBuffering:!1,hasContext:!1,isPaused:!1,positionAsOfTimestamp:a.duration}):{positionAsOfTimestamp:a.duration,position:a.duration,isBuffering:!1,hasContext:!1,isPaused:!1,restrictions:ot(n)},c=s(i),u=st(i),l(ut(ut({},c),{},{restrictions:ut(ut({},i.restrictions),u)}));case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return e.on(ke.oQ.ERROR,(function(e){var t=e.data.error;t.unrecoverable?r.emit(Ie.rg.ERROR,new et.lu(et.cg.PLAYBACK_ERROR,[],t)):r.emit(Ie.rg.ERROR,new et.jB(et.cg.PLAYBACK_ERROR,[],t))})),e.on(ke.oQ.PAUSED,c),e.on(ke.oQ.PROGRESS,(0,i.Z)(o().mark((function n(){return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(Date.now()-a.timestamp>=1e3&&c(),!a.isBuffering&&!t){n.next=6;break}return n.next=4,e.getCurrentState();case 4:n.sent.playbackState.buffering||d(!1);case 6:case"end":return n.stop()}}),n)})))),e.on(ke.oQ.TRACK_LOADED,c),e.on(ke.oQ.TRACK_ENDED,(function(){return p.apply(this,arguments)})),e.on(ke.oQ.BUFFERING_START,(0,i.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d(!0);case 2:case"end":return e.stop()}}),e)})))),e.on(ke.oQ.BUFFERING_END,(0,i.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d(!1);case 2:case"end":return e.stop()}}),e)})))),e.on(ke.oQ.AUTOPLAY_FAILED,(0,i.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d(!1);case 2:case"end":return e.stop()}}),e)})))),e.on(ke.oQ.BEFORE_TRACK_LOAD,(0,i.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d(!0);case 2:case"end":return e.stop()}}),e)})))),e.on(ke.oQ.POSITION_CHANGED,(0,i.Z)(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getCurrentState();case 2:if(!t.sent.playbackState.playing){t.next=6;break}return t.next=6,d(!0);case 6:case"end":return t.stop()}}),t)})))),r}(e),s=null,l="other",c={unloadedSeekPosition:0,playArgs:null},u=function(){var t=(0,i.Z)(o().mark((function t(){var r;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0!==n){t.next=5;break}return t.next=3,e.getMediaConfig();case 3:r=t.sent,n=r.keysystem;case 5:return t.abrupt("return",n);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return a.addListener(Ie.rg.UPDATE,(function(e){var t=e.data;s=t})),"undefined"!=typeof window&&u(),{getCapabilities:function(){return{canChangeSpeed:!1,canChangeVolume:!0,canPlayMultipleContextPages:!1,maxNextTracks:0,hasDecoratedQueue:!1}},canPlayEncryptedContent:function(){return(0,i.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u();case 2:return e.t0=e.sent,e.t1=void 0,e.abrupt("return",e.t0!==e.t1);case 5:case"end":return e.stop()}}),e)})))()},getEvents:function(){return a},getState:function(){return s},getReferrer:function(){return l},setReferrer:function(e){l=e},play:function(n,r,s){return(0,i.Z)(o().mark((function i(){var l,d,m,p,f,v,g,h;return o().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(!a.emitPlaySync(n,r,null!=s?s:{})){i.next=2;break}return i.abrupt("return");case 2:return i.next=4,u();case 4:return p=i.sent,f=gt(n),i.next=8,yt(n,f,a,p,t);case 8:return v=i.sent,g=(0,ke.Sy)({tracks:[v]}),h={index:null!==(l=null==s||null===(d=s.skipTo)||void 0===d?void 0:d.index)&&void 0!==l?l:void 0,initialPosition:null!==(m=null==s?void 0:s.seekTo)&&void 0!==m?m:0},i.next=13,e.playList(g,h);case 13:c={playArgs:[n,r,s],unloadedSeekPosition:0};case 14:case"end":return i.stop()}}),i)})))()},pause:function(){return(0,i.Z)(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!a.emitPauseSync()){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,e.pause();case 4:case"end":return t.stop()}}),t)})))()},resume:function(){var t=this;return(0,i.Z)(o().mark((function n(){var i,s,l,u,d;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.getCurrentState();case 2:if(i=n.sent,!!!i.track){n.next=10;break}if(!a.emitResumeSync()){n.next=7;break}return n.abrupt("return");case 7:return n.next=9,e.resume();case 9:case 14:return n.abrupt("return");case 10:if(!c.playArgs){n.next=15;break}return s=(0,r.Z)(c.playArgs,3),l=s[0],u=s[1],d=s[2],n.next=14,t.play(l,u,pt(pt({},d),{},{seekTo:c.unloadedSeekPosition}));case 15:case"end":return n.stop()}}),n)})))()},skipToNext:function(){return(0,i.Z)(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!a.emitSkipToNextSync()){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,e.nextTrack();case 4:case"end":return t.stop()}}),t)})))()},skipToPrevious:function(){return(0,i.Z)(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!a.emitSkipToPreviousSync()){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,e.previousTrack();case 4:case"end":return t.stop()}}),t)})))()},seekTo:function(t){return(0,i.Z)(o().mark((function n(){return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.getCurrentState();case 2:if(n.sent.track){n.next=6;break}return c.unloadedSeekPosition=t,n.abrupt("return");case 6:return n.next=8,e.seek(t);case 8:case"end":return n.stop()}}),n)})))()},seekForward:function(t){return(0,i.Z)(o().mark((function n(){var r,i;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.getCurrentState();case 2:return r=n.sent,i=r.playbackState.position,n.next=6,e.seek(i+t);case 6:case"end":return n.stop()}}),n)})))()},seekBackward:function(t){return(0,i.Z)(o().mark((function n(){var r,i;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.getCurrentState();case 2:return r=n.sent,i=r.playbackState.position,n.next=6,e.seek(i-t);case 6:case"end":return n.stop()}}),n)})))()},setShuffle:function(){return(0,i.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("setShuffle is not supported in Overture");case 1:case"end":return e.stop()}}),e)})))()},setRepeat:function(){return(0,i.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("setRepeat is not supported in Overture");case 1:case"end":return e.stop()}}),e)})))()},setSpeed:function(){return(0,i.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("setSpeed is not supported in Overture");case 1:case"end":return e.stop()}}),e)})))()},refreshCurrentContext:function(){return(0,i.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},updateContext:function(){return(0,i.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("Updating context not possible with Overture.");case 1:case"end":return e.stop()}}),e)})))()},addToQueue:function(){return(0,i.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("addToQueue is not supported in Overture");case 1:case"end":return e.stop()}}),e)})))()},clearQueue:function(){return(0,i.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("clearQueue is not supported in Overture");case 1:case"end":return e.stop()}}),e)})))()},removeFromQueue:function(){return(0,i.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("removeFromQueue is not supported in Overture");case 1:case"end":return e.stop()}}),e)})))()},reorderQueue:function(){return(0,i.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("reorderQueue is not supported in Overture");case 1:case"end":return e.stop()}}),e)})))()},insertIntoQueue:function(){return(0,i.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("insertIntoQueue is not supported in Overture");case 1:case"end":return e.stop()}}),e)})))()},getQueue:function(){throw new Error("getQueue is not supported in Overture")},getForcedShuffle:function(){return!1},setForcedShuffle:function(){}}}function Et(e,t){var n=t.isAnonymous,r=t.type,i=t.createPlayer;return n?{harmony:null,overture:$e(e,{platform_identifier:Xe(r),config:{preinitMediaElement:!1,enableWithoutEME:!0,unauthenticatedLogs:!0,videoPlayerContainer:".VideoPlayer__container",audioPlayerContainer:".VideoPlayer__container"},autoActivateElement:!0})}:{harmony:Oe(e,{videoPlayerContainer:".VideoPlayer__container",platformIdentifier:Se(r),createPlayer:i}),overture:null}}function bt(e,t,n){var r=e.harmony,i=e.overture,a=n.clientId;if(null!==r)return new Qe(r,t,"xpui_2022-08-26_1661529059895_3ae3b4f");if(null!==i)return kt(i,{clientId:a,correlationId:(0,me.Z)("config").correlationId});throw new Error("Unable to create PlayerAPI without a Harmony or Overture instance!")}function _t(e){var t=e.harmony,n=e.overture;if(null!==t)return new ye(t);if(null!==n)return new be(n);throw new Error("Unable to create PlaybackAPI without a Harmony or Overture instance!")}var St="data-translations-url-for-locale";function wt(){return Nt.apply(this,arguments)}function Nt(){return Nt=(0,i.Z)(o().mark((function e(){var t,n,r,i,a,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=document.head.querySelector("link[".concat(St,"]")),n=t.getAttribute("href"),r=t.getAttribute(St),i=new AbortController,a=setTimeout((function(){return i.abort()}),5e3),e.next=7,fetch(n,{signal:i.signal}).then((function(e){return e.json()})).catch((function(){return{}}));case 7:return s=e.sent,clearTimeout(a),e.abrupt("return",{translations:s,translationsUrl:n,locale:r});case 10:case"end":return e.stop()}}),e)}))),Nt.apply(this,arguments)}var Ot=n(89751);function Ct(){var e=(0,Ot.vQ)("client-web_remote-config-overrides")||"";try{return _.VK.fromJSON(JSON.parse(e)["web-player"]||{})}catch(e){return _.VK.builder().build()}}var Tt=function(){function e(){(0,O.Z)(this,e)}return(0,C.Z)(e,[{key:"getContents",value:function(){return Promise.resolve({})}},{key:"getEvents",value:function(){return{addListener:function(){},removeListener:function(){}}}},{key:"getCapabilities",value:function(){return{isSupported:!1}}}]),e}(),It=function(){function e(){(0,O.Z)(this,e)}var t;return(0,C.Z)(e,[{key:"subscribeToPrivateSession",value:function(){return function(){}}},{key:"setPrivateSession",value:(t=(0,i.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),function(){return t.apply(this,arguments)})},{key:"getCapabilities",value:function(){return{isSupported:!1}}}]),e}(),At=n(91385),Pt=n(74670),Dt=(n(41637),n(13406)),Rt=function(){function e(t){(0,O.Z)(this,e),this.recaptchaWebPlayerFraudSiteKey=t,this.log("load")}return(0,C.Z)(e,[{key:"log",value:function(e){var t=this,n=window.grecaptcha;if(n){var r="".concat("open3/").concat(e.toLowerCase());n.enterprise.ready((function(){n.enterprise.execute(t.recaptchaWebPlayerFraudSiteKey,{action:r}).then((function(e){var t=new URLSearchParams({token:e,action:r,productType:Dt.zH});fetch("/recaptcha/fraud?".concat(t))})).catch((function(){}))}))}}}]),e}(),xt=n(86649),Lt=n(76271),Ft=function(){function e(t,n){(0,O.Z)(this,e),this._playlistAPI=t,this._showAPI=n}return(0,C.Z)(e,[{key:"isURIReportable",value:function(e){return(0,Lt.g)(e)}},{key:"canReportPlaylist",value:function(e,t){return(0,Lt.R)(this._playlistAPI,e,t,!0)}},{key:"canReportEpisode",value:function(e){return this._showAPI.getEpisodeOrChapter(e).then(xt.Qj)}},{key:"getReportURL",value:function(e){return Promise.resolve("https://support.spotify.com/abuse/?uri=".concat(e,"&platform=desktop-web"))}}]),e}(),Ut=function(){function e(){(0,O.Z)(this,e)}var t,n,r;return(0,C.Z)(e,[{key:"getCapabilities",value:function(){return{isSupported:!1}}},{key:"getSegments",value:(r=(0,i.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",[]);case 1:case"end":return e.stop()}}),e)}))),function(){return r.apply(this,arguments)})},{key:"getSegmentByTimestamp",value:(n=(0,i.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",void 0);case 1:case"end":return e.stop()}}),e)}))),function(){return n.apply(this,arguments)})},{key:"getArtists",value:(t=(0,i.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",[]);case 1:case"end":return e.stop()}}),e)}))),function(){return t.apply(this,arguments)})}]),e}();function Zt(){return Mt.apply(this,arguments)}function Mt(){return Mt=(0,i.Z)(o().mark((function e(){var t,r,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=null,!("serviceWorker"in navigator)){e.next=8;break}return e.next=4,n.e(1814).then(n.bind(n,75131));case 4:r=e.sent,a=r.Workbox,(t=new a("/service-worker.js")).register();case 8:return e.abrupt("return",function(){var e=(0,i.Z)(o().mark((function e(n){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=5;break}return e.next=3,t.messageSW(n);case 3:return r=e.sent,e.abrupt("return",JSON.parse(r));case 5:return e.abrupt("return",new Promise((function(){})));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 9:case"end":return e.stop()}}),e)}))),Mt.apply(this,arguments)}var Bt=n(86597),jt=n(90120),Vt=n(8247),Ht=function(){function e(t,n){var r=this;if((0,O.Z)(this,e),(0,E.Z)(this,"_events",new jt.C),(0,E.Z)(this,"_hasSubtitleSupport",!1),(0,E.Z)(this,"_isLocal",!0),(0,E.Z)(this,"_subtitleLanguages",[]),this._harmony=t,null!==this._harmony){this._hasSubtitleSupport=n.getValue(Vt.dq),this._harmony.addListener(pe.ih.LAST_ACTIVE_DEVICE_INFO_CHANGED,(function(e){var t,n,i=e.data;r._isLocal=null===(t=null===(n=i.deviceInfo)||void 0===n?void 0:n.local)||void 0===t||t}));var a=null;this._harmony.addListener(pe.ih.STATE_CHANGED,(function(e){var t,n,s,l=null===(t=e.data.state)||void 0===t||null===(n=t.track_window)||void 0===n?void 0:n.current_track,c=null!==(s=null==l?void 0:l.uri)&&void 0!==s?s:null,u="episode"===(null==l?void 0:l.type);r._hasSubtitleSupport&&r._isLocal&&u?c!==a&&(setTimeout((0,i.Z)(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._harmony.getSubtitleLanguages();case 2:t=e.sent,r.setSubtitleLanguages(t);case 4:case"end":return e.stop()}}),e)}))),1e3),a=c):r.setSubtitleLanguages([])}))}else this._hasSubtitleSupport=!1}var t,n,r;return(0,C.Z)(e,[{key:"setSubtitleLanguages",value:function(e){this._subtitleLanguages=e,this._events.emit(jt.d.SUBTITLE_LANGUAGES_CHANGED,e)}},{key:"getCapabilities",value:function(){return{hasSubtitleSupport:this._hasSubtitleSupport,hasMinimizeBitrateSupport:!1}}},{key:"getEvents",value:function(){return this._events}},{key:"getSubtitleLanguages",value:(r=(0,i.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._subtitleLanguages);case 1:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"getPreferredSubtitleLanguage",value:(n=(0,i.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._harmony){e.next=2;break}return e.abrupt("return",null);case 2:return e.abrupt("return",this._harmony.getActiveSubtitleLanguage());case 3:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"setPreferredSubtitleLanguage",value:(t=(0,i.Z)(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._harmony){e.next=2;break}return e.abrupt("return");case 2:null!==t?(this._harmony.setSubtitleLanguage(t),this._harmony.showSubtitles()):this._harmony.hideSubtitles();case 3:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"setMinimizeBitrate",value:function(e){}}]),e}(),Gt=n(87961),Wt=(n(24812),n(91334));n(26541);function zt(e,t,n){return e.build().withHost(L.SW).withPath("/get_access_token").withQueryParameters({reason:t,productType:n}).withoutMarket().withoutAuthorization().withEndpointIdentifier("/get_access_token").send()}var Kt=function(){try{var e=document.getElementById("config"),t=e?JSON.parse(e.innerHTML):{};return n=t,["accessToken","accessTokenExpirationTimestampMs","isAnonymous"].every((function(e){return e in n}))?t:null}catch(e){return null}var n};var Yt=n(74263),qt=n(84553),Qt=function(){function e(t){(0,O.Z)(this,e),(0,E.Z)(this,"_events",new Yt.a),(0,E.Z)(this,"_state",qt.p),this._tokenProvider=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n=Kt();return(0,Wt.k)((0,i.Z)(o().mark((function t(){var r;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n||(0,Wt.p)(n)){t.next=2;break}return t.abrupt("return",n);case 2:return t.next=4,zt(Gt.b.getInstance(),"transport",e);case 4:return r=t.sent,t.abrupt("return",r.body);case 6:case"end":return t.stop()}}),t)}))),t)}(t,this.onTokenChanged.bind(this))}var t;return(0,C.Z)(e,[{key:"onTokenChanged",value:function(e){this._state={isAuthorized:null!==e&&!(0,Wt.p)(e),token:e,retryAttempt:null,retryAt:null},this._events.emit(Yt.B.UPDATE,this._state)}},{key:"getCapabilities",value:function(){return{canGetSessionTransferURL:!1}}},{key:"getEvents",value:function(){return this._events}},{key:"getState",value:function(){return this._state}},{key:"getTokenProvider",value:function(){return this._tokenProvider}},{key:"tryAuthorize",value:function(){throw new Error("Not implemented!")}},{key:"getSessionTransferURL",value:(t=(0,i.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("Getting a session transfer URL is not possible on web!");case 1:case"end":return e.stop()}}),e)}))),function(){return t.apply(this,arguments)})}]),e}(),Jt=n(26222),Xt=n(21288);function $t(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function en(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$t(Object(n),!0).forEach((function(t){(0,E.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$t(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function tn(e){var t,n,r,i=e.id,a=e.name,o=e.type,s=e.is_group,l=e.local,c=e.is_active,u=e.is_being_activated,d=e.is_controllable,m=e.volume,p=e.playback_features;return{id:i,name:null!=a?a:"",type:o,isGroup:s,isLocal:l,isActive:c,isConnecting:u,isDisabled:!d,volume:m,hifiSupport:{fullySupported:!(null==p||null===(t=p.hifi_status)||void 0===t||!t.fully_supported),deviceSupported:!(null==p||null===(n=p.hifi_status)||void 0===n||!n.device_supported),userEligible:!(null==p||null===(r=p.hifi_status)||void 0===r||!r.user_eligible)}}}function nn(e,t){return t?Xt.TK.CONNECTING:e&&!e.isLocal?Xt.TK.CONNECTED:Xt.TK.NOT_CONNECTED}function rn(e){var t,n=e.map(tn),r=n.find((function(e){return e.isActive}));if(!r){var i=n.findIndex((function(e){return e.isLocal}));-1!==i&&(r=en(en({},n[i]),{},{isActive:!0}),n[i]=r)}var a=n.find((function(e){return e.isConnecting&&!e.isActive}));return{connectionStatus:nn(r,a),activeDevice:null!==(t=r)&&void 0!==t?t:null,connectingDevice:null!=a?a:null,devices:n}}function an(e,t){var n=tn(t),r=e.devices.findIndex((function(e){return e.isActive})),i=(0,N.Z)(e.devices);return-1!==r&&(i[r]=n),en(en({},e),{},{connectionStatus:nn(n,void 0),activeDevice:n,devices:i})}function on(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,W.Z)(e);if(t){var i=(0,W.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,G.Z)(this,n)}}var sn=function(e){(0,H.Z)(n,e);var t=on(n);function n(e){var r;(0,O.Z)(this,n),(r=t.call(this)).harmony=e;var a=null;return r.harmony.addListener(pe.ih.DEVICES_CHANGED,(function(e){var t=e.data;t.devices&&t.devices.length>0&&(a=rn(t.devices),r.emit(Jt.F.UPDATE,a))})),r.harmony.addListener(pe.ih.LAST_ACTIVE_DEVICE_INFO_CHANGED,function(){var e=(0,i.Z)(o().mark((function e(t){var n,i,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=t.data).deviceInfo){e.next=10;break}if(!a||(null===(i=a.activeDevice)||void 0===i?void 0:i.id)!==n.deviceInfo.id){e.next=6;break}r.emit(Jt.F.UPDATE,an(a,n.deviceInfo)),e.next=10;break;case 6:return e.next=8,r.harmony.getDevices();case 8:(s=e.sent)&&s.length>0&&(a=rn(s),r.emit(Jt.F.UPDATE,a));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),r}return(0,C.Z)(n)}(Jt.M),ln=function(){function e(t){var n=this;(0,O.Z)(this,e),(0,E.Z)(this,"state",null),this.harmony=t,this.events=new sn(this.harmony),this.events.addListener(Jt.F.UPDATE,(function(e){var t=e.data;n.state=t}))}var t,n,r;return(0,C.Z)(e,[{key:"getCapabilities",value:function(){return{supportsLocalDiscovery:!1}}},{key:"getState",value:function(){return this.state}},{key:"getEvents",value:function(){return this.events}},{key:"discoverDevices",value:(r=(0,i.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("Discovering devices on local network is not supported in Harmony");case 1:case"end":return e.stop()}}),e)}))),function(){return r.apply(this,arguments)})},{key:"transferPlayback",value:(n=(0,i.Z)(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.harmony.transfer(t,{loggingParams:n});case 2:case"end":return e.stop()}}),e,this)}))),function(e,t){return n.apply(this,arguments)})},{key:"logout",value:(t=(0,i.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("Logging out devices is not supported in Harmony");case 1:case"end":return e.stop()}}),e)}))),function(){return t.apply(this,arguments)})}]),e}(),cn=n(19325),un=n(58126);function dn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,W.Z)(e);if(t){var i=(0,W.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,G.Z)(this,n)}}var mn=function(e){(0,H.Z)(n,e);var t=dn(n);function n(){return(0,O.Z)(this,n),t.apply(this,arguments)}return(0,C.Z)(n)}(Jt.M),pn=function(){function e(){(0,O.Z)(this,e),this.events=new mn}var t,n,r;return(0,C.Z)(e,[{key:"getCapabilities",value:function(){return{supportsLocalDiscovery:!1}}},{key:"getState",value:function(){return null}},{key:"getEvents",value:function(){return this.events}},{key:"discoverDevices",value:(r=(0,i.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),function(){return r.apply(this,arguments)})},{key:"transferPlayback",value:(n=(0,i.Z)(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),function(e,t){return n.apply(this,arguments)})},{key:"logout",value:(t=(0,i.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.resolve(cn.YC.fromPartial({status:un.Status.OK})));case 1:case"end":return e.stop()}}),e)}))),function(){return t.apply(this,arguments)})}]),e}(),fn=n(3775),vn=(n(51532),n(43290),n(24123)),gn=Spicetify.GraphQL.Definitions["addToLibrary"]={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"addToLibrary"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uris"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addLibraryItems"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"uris"},value:{kind:"Variable",name:{kind:"Name",value:"uris"}}}]}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}}]}}]}}]},hn=Spicetify.GraphQL.Definitions["removeFromLibrary"]={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"removeFromLibrary"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uris"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"removeLibraryItems"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"uris"},value:{kind:"Variable",name:{kind:"Name",value:"uris"}}}]}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}}]}}]}}]};function yn(e){var t=e.map((function(e){return d().from(e)})).map((function(e){return null!==e?e.type:null})).reduce((function(e,t){return e===t?e:null}));if(null===t)throw new Error("Given URIs need to be of the same type!");return t}function kn(e){return e===d().Type.ALBUM||e===d().Type.ARTIST||e===d().Type.TRACK||e===d().Type.SHOW||e===d().Type.EPISODE}function En(e,t){return bn.apply(this,arguments)}function bn(){return(bn=(0,i.Z)(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(kn(yn(n))){e.next=3;break}throw new Error("Unknown URI type!");case 3:return e.next=5,t(gn,{uris:n},["uris"]);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _n(e,t){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,i.Z)(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(kn(yn(n))){e.next=3;break}throw new Error("Unknown URI type!");case 3:return e.next=5,t(hn,{uris:n},["uris"]);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}n(86535),n(99244),n(69720);var wn=n(98984),Nn=Spicetify.GraphQL.Definitions["fetchLibraryAlbums"]={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"fetchLibraryAlbums"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},defaultValue:{kind:"IntValue",value:"0"}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},defaultValue:{kind:"IntValue",value:"50"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"me"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"library"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"albums"},arguments:[{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UserLibraryAlbumPage"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"pagingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"offset"}},{kind:"Field",name:{kind:"Name",value:"limit"}}]}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UserLibraryAlbumResponse"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"addedAt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isoString"}}]}},{kind:"Field",name:{kind:"Name",value:"album"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"libraryAlbum"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"totalCount"}}]}}]}}]}}]}}]}}].concat((0,N.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"libraryAlbum"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AlbumResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"_uri"}},{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Error"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Album"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"artists"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"profile"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"date"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isoString"}},{kind:"Field",name:{kind:"Name",value:"precision"}}]}}]}}]}}]}}]))},On=Spicetify.GraphQL.Definitions["areAlbumsInLibrary"]={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"areAlbumsInLibrary"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uris"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"albums"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uris"},value:{kind:"Variable",name:{kind:"Name",value:"uris"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Error"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Album"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"saved"}}]}}]}}]}}]},Cn=Spicetify.GraphQL.Definitions["fetchLibraryArtists"]={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"fetchLibraryArtists"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},defaultValue:{kind:"IntValue",value:"0"}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},defaultValue:{kind:"IntValue",value:"50"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"me"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"library"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"artists"},arguments:[{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UserLibraryArtistPage"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"pagingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"offset"}},{kind:"Field",name:{kind:"Name",value:"limit"}}]}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UserLibraryArtistResponse"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"addedAt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isoString"}}]}},{kind:"Field",name:{kind:"Name",value:"artist"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"libraryArtist"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"totalCount"}}]}}]}}]}}]}}]}}].concat((0,N.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"libraryArtist"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ArtistResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"_uri"}},{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Error"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Artist"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"profile"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"visuals"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"avatarImage"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}}]}}]}}]}}]}}]))},Tn=Spicetify.GraphQL.Definitions["areArtistsInLibrary"]={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"areArtistsInLibrary"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uris"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"artists"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uris"},value:{kind:"Variable",name:{kind:"Name",value:"uris"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Error"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Artist"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"saved"}}]}}]}}]}}]},In=Spicetify.GraphQL.Definitions["fetchLibraryTracks"]={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"fetchLibraryTracks"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},defaultValue:{kind:"IntValue",value:"0"}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},defaultValue:{kind:"IntValue",value:"50"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"me"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"library"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"tracks"},arguments:[{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UserLibraryTrackPage"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"pagingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"offset"}},{kind:"Field",name:{kind:"Name",value:"limit"}}]}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UserLibraryTrackResponse"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"addedAt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isoString"}}]}},{kind:"Field",name:{kind:"Name",value:"track"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"libraryTrack"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"totalCount"}}]}}]}}]}}]}}]}}].concat((0,N.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"libraryTrack"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"TrackResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"_uri"}},{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Error"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Track"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"duration"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalMilliseconds"}}]}},{kind:"Field",name:{kind:"Name",value:"albumOfTrack"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"artists"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"profile"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"artists"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"profile"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"discNumber"}},{kind:"Field",name:{kind:"Name",value:"trackNumber"}},{kind:"Field",name:{kind:"Name",value:"contentRating"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"label"}}]}},{kind:"Field",name:{kind:"Name",value:"playability"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"playable"}}]}}]}}]}}]}}]))},An=Spicetify.GraphQL.Definitions["areTracksInLibrary"]={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"areTracksInLibrary"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uris"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"tracks"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uris"},value:{kind:"Variable",name:{kind:"Name",value:"uris"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Error"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Track"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"saved"}}]}}]}}]}}]},Pn=Spicetify.GraphQL.Definitions["fetchLibraryShows"]={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"fetchLibraryShows"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},defaultValue:{kind:"IntValue",value:"0"}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},defaultValue:{kind:"IntValue",value:"50"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"me"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"library"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"podcasts"},arguments:[{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UserLibraryPodcastPage"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"pagingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"offset"}},{kind:"Field",name:{kind:"Name",value:"limit"}}]}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UserLibraryPodcastResponse"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"addedAt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isoString"}}]}},{kind:"Field",name:{kind:"Name",value:"podcast"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"libraryPodcast"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"totalCount"}}]}}]}}]}}]}}]}}].concat((0,N.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"libraryPodcast"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PodcastResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"_uri"}},{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Error"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Podcast"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"description"}},{kind:"Field",name:{kind:"Name",value:"publisher"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"language"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"}}]}},{kind:"Field",name:{kind:"Name",value:"mediaType"}},{kind:"Field",name:{kind:"Name",value:"contentRating"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"label"}}]}}]}}]}}]}}]))},Dn=Spicetify.GraphQL.Definitions["areShowsInLibrary"]={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"areShowsInLibrary"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uris"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"podcasts"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uris"},value:{kind:"Variable",name:{kind:"Name",value:"uris"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Error"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Audiobook"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"saved"}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Podcast"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"saved"}}]}}]}}]}}]},Rn=Spicetify.GraphQL.Definitions["fetchLibraryAudiobooks"]={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"fetchLibraryAudiobooks"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},defaultValue:{kind:"IntValue",value:"0"}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},defaultValue:{kind:"IntValue",value:"50"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"me"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"library"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"audiobooks"},arguments:[{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UserLibraryAudiobookPage"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"pagingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"offset"}},{kind:"Field",name:{kind:"Name",value:"limit"}}]}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UserLibraryAudiobookResponse"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"addedAt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isoString"}}]}},{kind:"Field",name:{kind:"Name",value:"audiobook"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"libraryAudiobook"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"totalCount"}}]}}]}}]}}]}}]}}].concat((0,N.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"libraryAudiobook"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AudiobookResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"_uri"}},{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Error"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Audiobook"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"authors"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"accessInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isUserMemberOfAtLeastOneGroup"}}]}}]}}]}}]}}]))},xn=Spicetify.GraphQL.Definitions["fetchLibraryEpisodes"]={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"fetchLibraryEpisodes"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},defaultValue:{kind:"IntValue",value:"0"}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},defaultValue:{kind:"IntValue",value:"50"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"me"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"library"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"episodes"},arguments:[{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UserLibraryEpisodePage"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"pagingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"offset"}},{kind:"Field",name:{kind:"Name",value:"limit"}}]}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UserLibraryEpisodeResponse"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"addedAt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isoString"}}]}},{kind:"Field",name:{kind:"Name",value:"episode"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"libraryEpisode"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"totalCount"}}]}}]}}]}}]}}]}}].concat((0,N.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"libraryEpisode"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"EpisodeResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"_uri"}},{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Error"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Episode"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"description"}},{kind:"Field",name:{kind:"Name",value:"duration"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalMilliseconds"}}]}},{kind:"Field",name:{kind:"Name",value:"podcastV2"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"_uri"}},{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Error"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Podcast"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"publisher"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"mediaType"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"playedState"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"playPositionMilliseconds"}},{kind:"Field",name:{kind:"Name",value:"state"}}]}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"language"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"}}]}},{kind:"Field",name:{kind:"Name",value:"contentRating"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"label"}}]}},{kind:"Field",name:{kind:"Name",value:"releaseDate"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isoString"}},{kind:"Field",name:{kind:"Name",value:"precision"}}]}},{kind:"Field",name:{kind:"Name",value:"playability"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"playable"}},{kind:"Field",name:{kind:"Name",value:"reason"}}]}},{kind:"Field",name:{kind:"Name",value:"restrictions"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"paywallContent"}}]}}]}}]}}]}}]))},Ln=Spicetify.GraphQL.Definitions["areEpisodesInLibrary"]={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"areEpisodesInLibrary"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uris"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"episodes"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uris"},value:{kind:"Variable",name:{kind:"Name",value:"uris"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Error"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Chapter"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"saved"}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Episode"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"saved"}}]}}]}}]}}]};function Fn(e,t){return e.reduce((function(e,n){var r=t(n);return(e[r]=e[r]||[]).push(n),e}),{})}function Un(e){return e===d().Type.ALBUM||e===d().Type.ARTIST||e===d().Type.TRACK||e===d().Type.SHOW||e===d().Type.EPISODE}function Zn(e){return e.map((function(e){return null!==e&&(("Album"===e.__typename||"Artist"===e.__typename||"Track"===e.__typename||"Podcast"===e.__typename||"Episode"===e.__typename||"Audiobook"===e.__typename||"Chapter"===e.__typename)&&e.saved)}))}function Mn(e,t,n){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,i.Z)(o().mark((function e(t,n,r){var i,a,s,l,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==r.length){e.next=2;break}return e.abrupt("return",[]);case 2:e.t0=n,e.next=e.t0===d().Type.ALBUM?5:e.t0===d().Type.ARTIST?9:e.t0===d().Type.TRACK?13:e.t0===d().Type.SHOW?17:e.t0===d().Type.EPISODE?21:25;break;case 5:return e.next=7,t(On,{uris:r},["uris"]);case 7:return i=e.sent,e.abrupt("return",Zn(i.flatMap((function(e){return e.albums}))));case 9:return e.next=11,t(Tn,{uris:r},["uris"]);case 11:return a=e.sent,e.abrupt("return",Zn(a.flatMap((function(e){return e.artists}))));case 13:return e.next=15,t(An,{uris:r},["uris"]);case 15:return s=e.sent,e.abrupt("return",Zn(s.flatMap((function(e){return e.tracks}))));case 17:return e.next=19,t(Dn,{uris:r},["uris"]);case 19:return l=e.sent,e.abrupt("return",Zn(l.flatMap((function(e){return e.podcasts}))));case 21:return e.next=23,t(Ln,{uris:r},["uris"]);case 23:return c=e.sent,e.abrupt("return",Zn(c.flatMap((function(e){return e.episodes}))));case 25:throw new Error("Unknown URI type!");case 26:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function jn(e,t,n){return Vn.apply(this,arguments)}function Vn(){return Vn=(0,i.Z)(o().mark((function e(t,n,a){var s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=Fn(a.filter((function(e){return!t.has(e)})),(function(e){var t=d().from(e);if(null===t||!Un(t.type))throw new Error("Unknown URI type!");return t.type})),e.next=3,Promise.all(Object.entries(s).map(function(){var e=(0,i.Z)(o().mark((function e(i){var a,s,l,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=(0,r.Z)(i,2),s=a[0],l=a[1],e.next=3,Mn(n,s,l);case 3:c=e.sent,l.forEach((function(e,n){return t.set(e,c[n])}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 3:return e.abrupt("return",a.map((function(e){return t.get(e)})));case 4:case"end":return e.stop()}}),e)}))),Vn.apply(this,arguments)}var Hn,Gn=n(6489),Wn=(n(47042),n(41817),n(32165),n(79753),n(91038),n(69049));function zn(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Kn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Kn(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function Kn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Yn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,W.Z)(e);if(t){var i=(0,W.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,G.Z)(this,n)}}var qn=function(e){(0,H.Z)(r,e);var t,n=Yn(r);function r(e,t,i,a){var o;return(0,O.Z)(this,r),(o=n.call(this,e))._containsItems=t,o._transport=i,o._pattern=a,o}return(0,C.Z)(r,[{key:"onMessage",value:function(e){var t=e.payloads;if(void 0!==t&&0!==t.length){var n=JSON.parse(t[0]).items;if(Array.isArray(n)){var r,i=!1,a=!1,o=!1,s=!1,l=!1,c=zn(n);try{for(c.s();!(r=c.n()).done;){var u=r.value;switch(u.type){case"album":var m=d().albumURI(u.identifier).toURI();this._cache.set(m,!u.removed),this.emitUpdateItems([m],!u.removed),i=!0;break;case"artist":var p=d().artistURI(u.identifier).toURI();this._cache.set(p,!u.removed),this.emitUpdateItems([p],!u.removed),a=!0;break;case"episode":var f=d().episodeURI(u.identifier).toURI();this._cache.set(f,!u.removed),this.emitUpdateItems([f],!u.removed),o=!0;break;case"show":var v=d().showURI(u.identifier).toURI();this._cache.set(v,!u.removed),this.emitUpdateItems([v],!u.removed),s=!0;break;case"track":var g=d().trackURI(u.identifier).toURI();this._cache.set(g,!u.removed),this.emitUpdateItems([g],!u.removed),l=!0}}}catch(e){c.e(e)}finally{c.f()}i&&this.emit(Gn.EW.UPDATE,{list:Gn.XD.ALBUMS}),a&&this.emit(Gn.EW.UPDATE,{list:Gn.XD.ARTISTS}),o&&this.emit(Gn.EW.UPDATE,{list:Gn.XD.EPISODES}),s&&(this.emit(Gn.EW.UPDATE,{list:Gn.XD.SHOWS}),this.emit(Gn.EW.UPDATE,{list:Gn.XD.BOOKS})),l&&this.emit(Gn.EW.UPDATE,{list:Gn.XD.TRACKS})}}}},{key:"subscribeToUpdates",value:function(){this._transport.matchMessages(this._pattern,this.onMessage.bind(this),p.DEALER_PLUGIN_NAME)}},{key:"unsubscribeFromUpdates",value:function(){this._transport.unmatchMessages(this._pattern,this.onMessage.bind(this),p.DEALER_PLUGIN_NAME)}},{key:"onBatchChanged",value:(t=(0,i.Z)(o().mark((function e(t){var n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==t.size){e.next=2;break}return e.abrupt("return");case 2:return n=Array.from(t.keys()),e.next=5,this._containsItems(n);case 5:r=e.sent,this.emitUpdateItems(n,r);case 7:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),r}(Wn.w),Qn=function(e){(0,H.Z)(r,e);var t,n=Yn(r);function r(){return(0,O.Z)(this,r),n.apply(this,arguments)}return(0,C.Z)(r,[{key:"subscribeToUpdates",value:function(){}},{key:"unsubscribeFromUpdates",value:function(){}},{key:"emitUpdateItems",value:function(){}},{key:"emitOperationComplete",value:function(){}},{key:"onBatchChanged",value:(t=(0,i.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),function(){return t.apply(this,arguments)})}]),r}(Wn.w);function Jn(e,t,n,r){return r?new Qn(e):new qn(e,t,n,new RegExp(String.raw(Hn||(Hn=(0,R.Z)(["hm://collection/(collection|listenlater|show)/.+/json"])))))}n(28733);var Xn=n(72169);function $n(e){var t,n,r=(0,Xn.U2)(e,"album"),i=(0,Xn.U2)(r,"data");return"Album"!==i.__typename?(t=r._uri,n={type:Ae.p.ARTIST,uri:"",name:""},{type:Ae.p.ALBUM,uri:t,name:"",images:[],artists:[n],release:{date:new Date(1970,1).toISOString(),precision:"year"}}):{type:Ae.p.ALBUM,uri:r._uri,name:i.name,artists:(0,Xn.BH)(i.artists),images:(0,Xn.NS)(i.coverArt),release:(0,Xn.dR)(i.date)}}function er(e){return(0,Xn.p_)(e,"UserLibraryAlbumPage","Error fetching library albums via GraphQL!"),{items:e.items.map($n),offset:e.pagingInfo.offset,limit:e.pagingInfo.limit,totalLength:e.totalCount,unfilteredTotalLength:e.totalCount}}function tr(e){var t,n=(0,Xn.U2)(e,"artist"),r=(0,Xn.U2)(n,"data");return"Artist"!==r.__typename?(t=n._uri,{type:Ae.p.ARTIST,uri:t,name:"",images:[]}):{type:Ae.p.ARTIST,uri:n._uri,name:r.profile.name,images:(0,Xn.NS)(r.visuals.avatarImage)}}function nr(e){return(0,Xn.p_)(e,"UserLibraryArtistPage","Error fetching library artists via GraphQL!"),{items:e.items.map(tr),offset:e.pagingInfo.offset,limit:e.pagingInfo.limit,totalLength:e.totalCount,unfilteredTotalLength:e.totalCount}}var rr=n(143);function ir(e){return{type:Ae.p.EPISODE,uri:e,name:"",description:"",duration:{milliseconds:0},timeLeft:{milliseconds:0},images:[],languages:[],release:{date:new Date(1970,1).toISOString(),precision:"year"},show:{type:Ae.p.SHOW,uri:"",name:"",publisher:"",images:[],mediaType:rr.E.UNKNOWN},podcastSubscription:{isPaywalled:!1,isUserSubscribed:!1},isPlayable:!1,isExplicit:!1,is19PlusOnly:!1}}function ar(e){return{type:Ae.p.SHOW,uri:e,name:"",publisher:"",images:[],mediaType:rr.E.UNKNOWN}}function or(e){var t,n=(0,Xn.U2)(e,"episode"),r=(0,Xn.U2)(n,"data");if("Episode"!==r.__typename)return ir(n._uri);var i=r.podcastV2,a=i.data,o="Podcast"!==a.__typename?ar(i._uri):(0,Xn.jv)(a);return{type:Ae.p.EPISODE,uri:n._uri,name:r.name,description:null!==(t=r.description)&&void 0!==t?t:"",duration:(0,Xn.Pv)(r.duration),timeLeft:(0,Xn.GD)(r.duration,r.playedState),images:(0,Xn.NS)(r.coverArt),languages:(0,Xn.LO)(r.language),release:(0,Xn.dR)(r.releaseDate),show:o,podcastSubscription:(0,Xn.w$)(r.restrictions,r.playability),isPlayable:(0,Xn.Rn)(r.playability),isExplicit:(0,Xn.sW)(r.contentRating),is19PlusOnly:(0,Xn.R7)(r.contentRating)}}function sr(e){return(0,Xn.p_)(e,"UserLibraryEpisodePage","Error fetching library shows via GraphQL!"),{items:e.items.map(or),offset:e.pagingInfo.offset,limit:e.pagingInfo.limit,totalLength:e.totalCount,unfilteredTotalLength:e.totalCount}}function lr(e){var t,n,r,i=(0,Xn.U2)(e,"podcast"),a=(0,Xn.U2)(i,"data");return"Podcast"!==a.__typename?(r=i._uri,{type:Ae.p.SHOW,uri:r,name:"",publisher:"",images:[]}):{type:Ae.p.SHOW,uri:i._uri,name:a.name,publisher:null!==(t=null===(n=a.publisher)||void 0===n?void 0:n.name)&&void 0!==t?t:"",images:(0,Xn.NS)(a.coverArt)}}function cr(e){return(0,Xn.p_)(e,"UserLibraryPodcastPage"),{items:e.items.map(lr)||[],offset:e.pagingInfo.offset,limit:e.pagingInfo.limit,totalLength:e.totalCount,unfilteredTotalLength:e.totalCount}}function ur(e){var t=(0,Xn.U2)(e,"addedAt"),n=(0,Xn.U2)(e,"track"),r=(0,Xn.U2)(n,"data");return"Track"!==r.__typename?function(e,t){var n={type:Ae.p.ARTIST,uri:"",name:""};return{type:Ae.p.TRACK,uri:e,name:"",album:{type:Ae.p.ALBUM,uri:"",name:"",images:[],artist:n},artists:[n],duration:{milliseconds:0},discNumber:0,trackNumber:0,isPlayable:!1,isExplicit:!1,is19PlusOnly:!1,isLocal:!1,addedAt:(0,Xn.Bq)(t)}}(n._uri,t):{type:Ae.p.TRACK,uri:n._uri,name:r.name,album:(0,Xn.Cf)((0,Xn.U2)(r,"albumOfTrack")),artists:(0,Xn.mQ)(r.artists),duration:(0,Xn.Pv)(r.duration),discNumber:r.discNumber,trackNumber:r.trackNumber,isPlayable:r.playability.playable,isExplicit:(0,Xn.sW)(r.contentRating),is19PlusOnly:(0,Xn.R7)(r.contentRating),isLocal:!1,addedAt:(0,Xn.Bq)(t)}}function dr(e){return(0,Xn.p_)(e,"UserLibraryTrackPage","Error fetching library shows via GraphQL!"),{items:e.items.map(ur),offset:e.pagingInfo.offset,limit:e.pagingInfo.limit,totalLength:e.totalCount,unfilteredTotalLength:e.totalCount}}function mr(e){var t,n,r,i,a=(0,Xn.U2)(e,"audiobook"),o=(0,Xn.U2)(a,"data");if("Audiobook"!==o.__typename)return i=a._uri,{type:Ae.p.AUDIOBOOK,uri:i,name:"",authorName:"",images:[],isLocked:!1};var s=(0,Xn.U2)(o,"authors");return{type:Ae.p.AUDIOBOOK,uri:a._uri,name:o.name,authorName:null!==(t=null==s||null===(n=s[0])||void 0===n?void 0:n.name)&&void 0!==t?t:"",images:(0,Xn.NS)(o.coverArt),isLocked:null!==(r=o.accessInfo&&!o.accessInfo.isUserMemberOfAtLeastOneGroup)&&void 0!==r&&r}}function pr(e){return(0,Xn.p_)(e,"UserLibraryAudiobookPage"),{items:e.items.map(mr)||[],offset:e.pagingInfo.offset,limit:e.pagingInfo.limit,totalLength:e.totalCount,unfilteredTotalLength:e.totalCount}}var fr=50,vr={items:[],totalLength:0,unfilteredTotalLength:0,offset:0,limit:0},gr=function(){function e(t,n,r){var a=this;(0,O.Z)(this,e),(0,E.Z)(this,"_cache",new Map),(0,E.Z)(this,"_inFlightCache",new We.tL),this._loader=t,this._isAnonymous=r,this._events=Jn(this._cache,function(){var e=(0,i.Z)(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,jn(a._cache,a._batchedLoader,t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n,this._isAnonymous),this._batchedLoader=(0,fn.QM)(this._loader,50)}var t,n,r,a,s,l,c,u,d,m;return(0,C.Z)(e,[{key:"getCapabilities",value:function(){return{canSort:!1,canFilter:!1,canModifyOffline:!1,canGetTracksByArtistOrAlbum:!1,canMarkEpisodesAsDone:!1,canFetchAllTracks:!1,canFetchArtistsWithOffset:!0}}},{key:"checkIfLoggedIn",value:function(){if(this._isAnonymous)throw new Error("LibraryAPI is not available for anonymous users!")}},{key:"query",value:(m=(0,i.Z)(o().mark((function e(t,n){var r,i=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._inFlightCache.create("".concat((0,vn.Y)(t).name,":").concat(JSON.stringify(n)),(function(){return i._loader(t,n)}));case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)}))),function(e,t){return m.apply(this,arguments)})},{key:"markAsInLibrary",value:function(e){var t=this;e.items.forEach((function(e){var n=e.uri;return t._cache.set(n,!0)}))}},{key:"getAlbums",value:(d=(0,i.Z)(o().mark((function e(){var t,n,r,i,a,s,l,c,u,d,m=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=m.length>0&&void 0!==m[0]?m[0]:{},!this._isAnonymous){e.next=3;break}return e.abrupt("return",vr);case 3:return a=i.offset,s=void 0===a?0:a,l=i.limit,c=void 0===l?fr:l,e.next=6,this.query(Nn,{offset:s,limit:c});case 6:return u=e.sent,d=er(null!==(t=null==u||null===(n=u.data.me)||void 0===n||null===(r=n.library)||void 0===r?void 0:r.albums)&&void 0!==t?t:null),this.markAsInLibrary(d),e.abrupt("return",d);case 10:case"end":return e.stop()}}),e,this)}))),function(){return d.apply(this,arguments)})},{key:"getArtists",value:(u=(0,i.Z)(o().mark((function e(){var t,n,r,i,a,s,l,c,u,d,m=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=m.length>0&&void 0!==m[0]?m[0]:{},!this._isAnonymous){e.next=3;break}return e.abrupt("return",vr);case 3:return a=i.offset,s=void 0===a?0:a,l=i.limit,c=void 0===l?fr:l,e.next=6,this.query(Cn,{offset:s,limit:c});case 6:return u=e.sent,d=nr(null!==(t=null==u||null===(n=u.data.me)||void 0===n||null===(r=n.library)||void 0===r?void 0:r.artists)&&void 0!==t?t:null),this.markAsInLibrary(d),e.abrupt("return",d);case 10:case"end":return e.stop()}}),e,this)}))),function(){return u.apply(this,arguments)})},{key:"getShows",value:(c=(0,i.Z)(o().mark((function e(){var t,n,r,i,a,s,l,c,u,d,m=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=m.length>0&&void 0!==m[0]?m[0]:{},!this._isAnonymous){e.next=3;break}return e.abrupt("return",vr);case 3:return a=i.offset,s=void 0===a?0:a,l=i.limit,c=void 0===l?fr:l,e.next=6,this.query(Pn,{offset:s,limit:c});case 6:return u=e.sent,d=cr(null!==(t=null==u||null===(n=u.data.me)||void 0===n||null===(r=n.library)||void 0===r?void 0:r.podcasts)&&void 0!==t?t:null),this.markAsInLibrary(d),e.abrupt("return",d);case 10:case"end":return e.stop()}}),e,this)}))),function(){return c.apply(this,arguments)})},{key:"getTracks",value:(l=(0,i.Z)(o().mark((function e(){var t,n,r,i,a,s,l,c,u,d,m=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=m.length>0&&void 0!==m[0]?m[0]:{},!this._isAnonymous){e.next=3;break}return e.abrupt("return",vr);case 3:if(void 0===i.uri){e.next=5;break}return e.abrupt("return",{items:[],offset:0,limit:0,totalLength:0,unfilteredTotalLength:0});case 5:return a=i.offset,s=void 0===a?0:a,l=i.limit,c=void 0===l?fr:l,e.next=8,this.query(In,{offset:s,limit:c});case 8:return u=e.sent,d=dr(null!==(t=null==u||null===(n=u.data.me)||void 0===n||null===(r=n.library)||void 0===r?void 0:r.tracks)&&void 0!==t?t:null),this.markAsInLibrary(d),e.abrupt("return",d);case 12:case"end":return e.stop()}}),e,this)}))),function(){return l.apply(this,arguments)})},{key:"getEpisodes",value:(s=(0,i.Z)(o().mark((function e(){var t,n,r,i,a,s,l,c,u,d,m=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=m.length>0&&void 0!==m[0]?m[0]:{},!this._isAnonymous){e.next=3;break}return e.abrupt("return",vr);case 3:return a=i.offset,s=void 0===a?0:a,l=i.limit,c=void 0===l?fr:l,e.next=6,this.query(xn,{offset:s,limit:c});case 6:return u=e.sent,d=sr(null!==(t=null==u||null===(n=u.data.me)||void 0===n||null===(r=n.library)||void 0===r?void 0:r.episodes)&&void 0!==t?t:null),this.markAsInLibrary(d),e.abrupt("return",d);case 10:case"end":return e.stop()}}),e,this)}))),function(){return s.apply(this,arguments)})},{key:"getBooks",value:(a=(0,i.Z)(o().mark((function e(){var t,n,r,i,a,s,l,c,u,d,m=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=m.length>0&&void 0!==m[0]?m[0]:{},!this._isAnonymous){e.next=3;break}return e.abrupt("return",vr);case 3:return a=i.offset,s=void 0===a?0:a,l=i.limit,c=void 0===l?fr:l,e.next=6,this.query(Rn,{offset:s,limit:c});case 6:return u=e.sent,d=pr(null!==(t=null==u||null===(n=u.data.me)||void 0===n||null===(r=n.library)||void 0===r?void 0:r.audiobooks)&&void 0!==t?t:null),this.markAsInLibrary(d),e.abrupt("return",d);case 10:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"getEvents",value:function(){return this._events}},{key:"onUpdateItems",value:function(e,t){this._events.emitUpdateItems(e,t)}},{key:"add",value:(r=(0,i.Z)(o().mark((function e(){var t,n,r,i=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=i.length,n=new Array(t),r=0;r<t;r++)n[r]=i[r];if(!this._events.emitOperationSync(Gn.pT.ADD,n)){e.next=3;break}return e.abrupt("return");case 3:return this.checkIfLoggedIn(),e.prev=4,this.onUpdateItems(n,!0),e.next=8,En(this._batchedLoader,n);case 8:this._events.emitOperationComplete(Gn.pT.ADD,n),e.next=16;break;case 11:throw e.prev=11,e.t0=e.catch(4),this.onUpdateItems(n,!1),this._events.emitOperationComplete(Gn.pT.ADD,n,e.t0 instanceof Error?e.t0:new Error("Unknown error object")),e.t0;case 16:case"end":return e.stop()}}),e,this,[[4,11]])}))),function(){return r.apply(this,arguments)})},{key:"remove",value:(n=(0,i.Z)(o().mark((function e(){var t,n,r,i=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=i.length,n=new Array(t),r=0;r<t;r++)n[r]=i[r];if(!this._events.emitOperationSync(Gn.pT.REMOVE,n)){e.next=3;break}return e.abrupt("return");case 3:return this.checkIfLoggedIn(),e.prev=4,this.onUpdateItems(n,!1),e.next=8,_n(this._batchedLoader,n);case 8:this._events.emitOperationComplete(Gn.pT.REMOVE,n),e.next=16;break;case 11:throw e.prev=11,e.t0=e.catch(4),this.onUpdateItems(n,!0),this._events.emitOperationComplete(Gn.pT.REMOVE,n,e.t0 instanceof Error?e.t0:new Error("Unknown error object")),e.t0;case 16:case"end":return e.stop()}}),e,this,[[4,11]])}))),function(){return n.apply(this,arguments)})},{key:"contains",value:(t=(0,i.Z)(o().mark((function e(){var t,n,r,i,a=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=a.length,n=new Array(t),r=0;r<t;r++)n[r]=a[r];if(!this._isAnonymous){e.next=3;break}return e.abrupt("return",new Array(n.length).fill(!1));case 3:return e.next=5,jn(this._cache,this._batchedLoader,n);case 5:return i=e.sent,this.onUpdateItems(n,i),e.abrupt("return",i);case 8:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"containsSync",value:function(e){return!this._isAnonymous&&this._cache.get(e)}},{key:"markAsPlayed",value:function(){return Promise.resolve()}},{key:"markAsUnPlayed",value:function(){return Promise.resolve()}}]),e}(),hr=Spicetify.GraphQL.Definitions["libraryV2"]={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"libraryV2"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},defaultValue:{kind:"IntValue",value:"0"}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},defaultValue:{kind:"IntValue",value:"100"}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"filters"}},type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},defaultValue:{kind:"ListValue",values:[]}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"order"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"textFilter"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"me"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"experimentalLibrary"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"page"},arguments:[{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}},{kind:"Argument",name:{kind:"Name",value:"filterIds"},value:{kind:"Variable",name:{kind:"Name",value:"filters"}}},{kind:"Argument",name:{kind:"Name",value:"sortOrderId"},value:{kind:"Variable",name:{kind:"Name",value:"order"}}},{kind:"Argument",name:{kind:"Name",value:"textFilter"},value:{kind:"Variable",name:{kind:"Name",value:"textFilter"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"LibraryPage"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"availableFilters"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"selectedFilters"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"availableSortOrders"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"selectedSortOrder"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addedAt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isoString"}}]}},{kind:"Field",name:{kind:"Name",value:"item"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"FragmentSpread",name:{kind:"Name",value:"libraryV2Album"}},{kind:"FragmentSpread",name:{kind:"Name",value:"libraryV2Artist"}},{kind:"FragmentSpread",name:{kind:"Name",value:"libraryV2Audiobook"}},{kind:"FragmentSpread",name:{kind:"Name",value:"libraryV2Podcast"}},{kind:"FragmentSpread",name:{kind:"Name",value:"libraryV2PodcastOrAudiobook"}},{kind:"FragmentSpread",name:{kind:"Name",value:"libraryV2Folder"}},{kind:"FragmentSpread",name:{kind:"Name",value:"libraryV2Playlist"}},{kind:"FragmentSpread",name:{kind:"Name",value:"libraryV2PseudoPlaylist"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"pagingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"offset"}},{kind:"Field",name:{kind:"Name",value:"limit"}}]}},{kind:"Field",name:{kind:"Name",value:"totalCount"}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Error"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"message"}}]}}]}}]}}]}}]}}].concat((0,N.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"libraryV2Album"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"LibraryItem"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AlbumResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"_uri"}},{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Album"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"artists"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"profile"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"date"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isoString"}},{kind:"Field",name:{kind:"Name",value:"precision"}}]}}]}}]}}]}}]}}]),(0,N.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"libraryV2Artist"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"LibraryItem"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ArtistResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"_uri"}},{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Artist"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"profile"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"visuals"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"avatarImage"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}}]}}]}}]}}]}}]}}]),(0,N.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"libraryV2Audiobook"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"LibraryItem"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AudiobookResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"_uri"}},{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Audiobook"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"libraryV2AudiobookFields"}}]}}]}}]}}]}}]),(0,N.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"libraryV2AudiobookFields"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Audiobook"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"authors"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"accessInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isUserMemberOfAtLeastOneGroup"}}]}}]}}]),(0,N.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"libraryV2Podcast"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"LibraryItem"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PodcastResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"_uri"}},{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Podcast"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"libraryV2PodcastFields"}}]}}]}}]}}]}}]),(0,N.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"libraryV2PodcastFields"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Podcast"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"description"}},{kind:"Field",name:{kind:"Name",value:"publisher"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"language"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"}}]}},{kind:"Field",name:{kind:"Name",value:"mediaType"}},{kind:"Field",name:{kind:"Name",value:"contentRating"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"label"}}]}}]}}]),(0,N.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"libraryV2PodcastOrAudiobook"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"LibraryItem"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PodcastOrAudiobookResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"_uri"}},{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Podcast"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"libraryV2PodcastFields"}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Audiobook"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"libraryV2AudiobookFields"}}]}}]}}]}}]}}]),(0,N.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"libraryV2Folder"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"LibraryItem"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"LibraryFolderResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"_uri"}}]}}]}}]),(0,N.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"libraryV2Playlist"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"LibraryItem"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PlaylistResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"_uri"}}]}}]}}]),(0,N.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"libraryV2PseudoPlaylist"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"LibraryItem"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"LibraryPseudoPlaylistResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"_uri"}}]}}]}}]))};function yr(e,t){var n=null==e?void 0:e.page;return(0,Xn.p_)(n,"LibraryPage","Error fetching library via GraphQL!"),{items:n.items.map(t)||[],offset:n.pagingInfo.offset,limit:n.pagingInfo.limit,totalLength:n.totalCount,unfilteredTotalLength:n.totalCount}}function kr(e){var t,n,r=(0,Xn.U2)(e,"item"),i=(0,Xn.U2)(r,"data");return"Album"!==i.__typename?(t=r._uri,n={type:Ae.p.ARTIST,uri:"",name:""},{type:Ae.p.ALBUM,uri:t,name:"",images:[],artists:[n],release:{date:new Date(1970,1).toISOString(),precision:"year"}}):{type:Ae.p.ALBUM,uri:i.uri,name:i.name,artists:(0,Xn.BH)(i.artists),images:(0,Xn.NS)(i.coverArt),release:(0,Xn.dR)(i.date)}}function Er(e){var t,n=(0,Xn.U2)(e,"item"),r=(0,Xn.U2)(n,"data");return"Artist"!==r.__typename?(t=n._uri,{type:Ae.p.ARTIST,uri:t,name:"",images:[]}):{type:Ae.p.ARTIST,uri:n._uri,name:r.profile.name,images:(0,Xn.NS)(r.visuals.avatarImage)}}function br(e){var t,n,r,i=(0,Xn.U2)(e,"item"),a=(0,Xn.U2)(i,"data");return"Podcast"!==a.__typename?(r=i._uri,{type:Ae.p.SHOW,uri:r,name:"",publisher:"",images:[]}):{type:Ae.p.SHOW,uri:i._uri,name:a.name,publisher:null!==(t=null===(n=a.publisher)||void 0===n?void 0:n.name)&&void 0!==t?t:"",images:(0,Xn.NS)(a.coverArt)}}function _r(e){var t,n,r,i,a=(0,Xn.U2)(e,"item"),o=(0,Xn.U2)(a,"data");if("Audiobook"!==o.__typename)return i=a._uri,{type:Ae.p.AUDIOBOOK,uri:i,name:"",authorName:"",images:[],isLocked:!1};var s=(0,Xn.U2)(o,"authors");return{type:Ae.p.AUDIOBOOK,uri:a._uri,name:o.name,authorName:null!==(t=null==s||null===(n=s[0])||void 0===n?void 0:n.name)&&void 0!==t?t:"",images:(0,Xn.NS)(o.coverArt),isLocked:null!==(r=o.accessInfo&&!o.accessInfo.isUserMemberOfAtLeastOneGroup)&&void 0!==r&&r}}var Sr=50,wr={items:[],totalLength:0,unfilteredTotalLength:0,offset:0,limit:0},Nr=function(){function e(t,n,r){var a=this;(0,O.Z)(this,e),(0,E.Z)(this,"_cache",new Map),(0,E.Z)(this,"_inFlightCache",new We.tL),this._loader=t,this._isAnonymous=r,this._events=Jn(this._cache,function(){var e=(0,i.Z)(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,jn(a._cache,a._batchedLoader,t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n,this._isAnonymous),this._batchedLoader=(0,fn.QM)(this._loader,50)}var t,n,r,a,s,l,c,u,d,m;return(0,C.Z)(e,[{key:"getCapabilities",value:function(){return{canSort:!1,canFilter:!1,canModifyOffline:!1,canGetTracksByArtistOrAlbum:!1,canMarkEpisodesAsDone:!1,canFetchAllTracks:!1,canFetchArtistsWithOffset:!0}}},{key:"checkIfLoggedIn",value:function(){if(this._isAnonymous)throw new Error("LibraryAPI is not available for anonymous users!")}},{key:"query",value:(m=(0,i.Z)(o().mark((function e(t,n){var r,i=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._inFlightCache.create("".concat((0,vn.Y)(t).name,":").concat(JSON.stringify(n)),(function(){return i._loader(t,n)}));case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)}))),function(e,t){return m.apply(this,arguments)})},{key:"markAsInLibrary",value:function(e){var t=this;e.items.forEach((function(e){var n=e.uri;return t._cache.set(n,!0)}))}},{key:"getAlbums",value:(d=(0,i.Z)(o().mark((function e(){var t,n,r,i,a,s,l,c,u,d=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=d.length>0&&void 0!==d[0]?d[0]:{},!this._isAnonymous){e.next=3;break}return e.abrupt("return",wr);case 3:return i=r.offset,a=void 0===i?0:i,s=r.limit,l=void 0===s?Sr:s,e.next=6,this.query(hr,{filters:["Albums"],order:"Recently Added",textFilter:null,offset:a,limit:l});case 6:return c=e.sent,u=yr(null!==(t=null==c||null===(n=c.data.me)||void 0===n?void 0:n.experimentalLibrary)&&void 0!==t?t:null,kr),this.markAsInLibrary(u),e.abrupt("return",u);case 10:case"end":return e.stop()}}),e,this)}))),function(){return d.apply(this,arguments)})},{key:"getArtists",value:(u=(0,i.Z)(o().mark((function e(){var t,n,r,i,a,s,l,c,u,d=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=d.length>0&&void 0!==d[0]?d[0]:{},!this._isAnonymous){e.next=3;break}return e.abrupt("return",wr);case 3:return i=r.offset,a=void 0===i?0:i,s=r.limit,l=void 0===s?Sr:s,e.next=6,this.query(hr,{filters:["Artists"],order:"Recently Added",textFilter:null,offset:a,limit:l});case 6:return c=e.sent,u=yr(null!==(t=null==c||null===(n=c.data.me)||void 0===n?void 0:n.experimentalLibrary)&&void 0!==t?t:null,Er),this.markAsInLibrary(u),e.abrupt("return",u);case 10:case"end":return e.stop()}}),e,this)}))),function(){return u.apply(this,arguments)})},{key:"getShows",value:(c=(0,i.Z)(o().mark((function e(){var t,n,r,i,a,s,l,c,u,d=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=d.length>0&&void 0!==d[0]?d[0]:{},!this._isAnonymous){e.next=3;break}return e.abrupt("return",wr);case 3:return i=r.offset,a=void 0===i?0:i,s=r.limit,l=void 0===s?Sr:s,e.next=6,this.query(hr,{filters:["Podcasts & Shows"],order:"Recently Added",textFilter:null,offset:a,limit:l});case 6:return c=e.sent,u=yr(null!==(t=null==c||null===(n=c.data.me)||void 0===n?void 0:n.experimentalLibrary)&&void 0!==t?t:null,br),this.markAsInLibrary(u),e.abrupt("return",u);case 10:case"end":return e.stop()}}),e,this)}))),function(){return c.apply(this,arguments)})},{key:"getTracks",value:(l=(0,i.Z)(o().mark((function e(){var t,n,r,i,a,s,l,c,u,d,m=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=m.length>0&&void 0!==m[0]?m[0]:{},!this._isAnonymous){e.next=3;break}return e.abrupt("return",wr);case 3:if(void 0===i.uri){e.next=5;break}return e.abrupt("return",{items:[],offset:0,limit:0,totalLength:0,unfilteredTotalLength:0});case 5:return a=i.offset,s=void 0===a?0:a,l=i.limit,c=void 0===l?Sr:l,e.next=8,this.query(In,{offset:s,limit:c});case 8:return u=e.sent,d=dr(null!==(t=null==u||null===(n=u.data.me)||void 0===n||null===(r=n.library)||void 0===r?void 0:r.tracks)&&void 0!==t?t:null),this.markAsInLibrary(d),e.abrupt("return",d);case 12:case"end":return e.stop()}}),e,this)}))),function(){return l.apply(this,arguments)})},{key:"getEpisodes",value:(s=(0,i.Z)(o().mark((function e(){var t,n,r,i,a,s,l,c,u,d,m=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=m.length>0&&void 0!==m[0]?m[0]:{},!this._isAnonymous){e.next=3;break}return e.abrupt("return",wr);case 3:return a=i.offset,s=void 0===a?0:a,l=i.limit,c=void 0===l?Sr:l,e.next=6,this.query(xn,{offset:s,limit:c});case 6:return u=e.sent,d=sr(null!==(t=null==u||null===(n=u.data.me)||void 0===n||null===(r=n.library)||void 0===r?void 0:r.episodes)&&void 0!==t?t:null),this.markAsInLibrary(d),e.abrupt("return",d);case 10:case"end":return e.stop()}}),e,this)}))),function(){return s.apply(this,arguments)})},{key:"getBooks",value:(a=(0,i.Z)(o().mark((function e(){var t,n,r,i,a,s,l,c,u,d=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=d.length>0&&void 0!==d[0]?d[0]:{},!this._isAnonymous){e.next=3;break}return e.abrupt("return",wr);case 3:return i=r.offset,a=void 0===i?0:i,s=r.limit,l=void 0===s?Sr:s,e.next=6,this.query(hr,{filters:["Audiobooks"],order:"Recently Added",textFilter:null,offset:a,limit:l});case 6:return c=e.sent,u=yr(null!==(t=null==c||null===(n=c.data.me)||void 0===n?void 0:n.experimentalLibrary)&&void 0!==t?t:null,_r),this.markAsInLibrary(u),e.abrupt("return",u);case 10:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"getEvents",value:function(){return this._events}},{key:"onUpdateItems",value:function(e,t){this._events.emitUpdateItems(e,t)}},{key:"add",value:(r=(0,i.Z)(o().mark((function e(){var t,n,r,i=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=i.length,n=new Array(t),r=0;r<t;r++)n[r]=i[r];if(!this._events.emitOperationSync(Gn.pT.ADD,n)){e.next=3;break}return e.abrupt("return");case 3:return this.checkIfLoggedIn(),e.prev=4,this.onUpdateItems(n,!0),e.next=8,En(this._batchedLoader,n);case 8:this._events.emitOperationComplete(Gn.pT.ADD,n),e.next=16;break;case 11:throw e.prev=11,e.t0=e.catch(4),this.onUpdateItems(n,!1),this._events.emitOperationComplete(Gn.pT.ADD,n,e.t0 instanceof Error?e.t0:new Error("Unknown error object")),e.t0;case 16:case"end":return e.stop()}}),e,this,[[4,11]])}))),function(){return r.apply(this,arguments)})},{key:"remove",value:(n=(0,i.Z)(o().mark((function e(){var t,n,r,i=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=i.length,n=new Array(t),r=0;r<t;r++)n[r]=i[r];if(!this._events.emitOperationSync(Gn.pT.REMOVE,n)){e.next=3;break}return e.abrupt("return");case 3:return this.checkIfLoggedIn(),e.prev=4,this.onUpdateItems(n,!1),e.next=8,_n(this._batchedLoader,n);case 8:this._events.emitOperationComplete(Gn.pT.REMOVE,n),e.next=16;break;case 11:throw e.prev=11,e.t0=e.catch(4),this.onUpdateItems(n,!0),this._events.emitOperationComplete(Gn.pT.REMOVE,n,e.t0 instanceof Error?e.t0:new Error("Unknown error object")),e.t0;case 16:case"end":return e.stop()}}),e,this,[[4,11]])}))),function(){return n.apply(this,arguments)})},{key:"contains",value:(t=(0,i.Z)(o().mark((function e(){var t,n,r,i,a=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=a.length,n=new Array(t),r=0;r<t;r++)n[r]=a[r];if(!this._isAnonymous){e.next=3;break}return e.abrupt("return",new Array(n.length).fill(!1));case 3:return e.next=5,jn(this._cache,this._batchedLoader,n);case 5:return i=e.sent,this.onUpdateItems(n,i),e.abrupt("return",i);case 8:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"containsSync",value:function(e){return!this._isAnonymous&&this._cache.get(e)}},{key:"markAsPlayed",value:function(){return Promise.resolve()}},{key:"markAsUnPlayed",value:function(){return Promise.resolve()}}]),e}();function Or(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Cr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Or(Object(n),!0).forEach((function(t){(0,E.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Or(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Tr(e){return{url:e.url,width:e.width||void 0,height:e.height||void 0}}function Ir(e){return{milliseconds:e}}function Ar(e){return{date:e.release_date,precision:e.release_date_precision}}function Pr(e){return{type:Ae.p.ARTIST,uri:e.uri,name:e.name}}function Dr(e){return Cr({},function(e){return{type:Ae.p.ALBUM,uri:e.uri,name:e.name,artists:e.artists.map(Pr),images:e.images.map(Tr),release:Ar(e)}}(e.album))}function Rr(e){if(void 0===e.items)throw new Error("Invalid Web API library albums response!");return{items:e.items.map(Dr),offset:e.offset,limit:e.limit,totalLength:e.total,unfilteredTotalLength:e.total}}function xr(e){return Cr({},function(e){return{type:Ae.p.ARTIST,uri:e.uri,name:e.name,images:e.images.map(Tr)}}(e))}function Lr(e,t){if(void 0===e.artists||void 0===e.artists.items)throw new Error("Invalid Web API library artists response!");return{items:e.artists.items.map(xr),offset:t,next:e.artists.cursors.after,limit:e.artists.limit,totalLength:e.artists.items.length?Math.max(e.artists.total,e.artists.items.length):0,unfilteredTotalLength:e.artists.items.length?Math.max(e.artists.total,e.artists.items.length):0}}function Fr(e){return{type:Ae.p.SHOW,uri:e.uri,name:e.name,publisher:e.publisher,images:e.images.map(Tr)}}function Ur(e){return Cr({},Fr(e.show))}function Zr(e){if(void 0===e.items)throw new Error("Invalid Web API library shows response!");return{items:e.items.map(Ur),offset:e.offset,limit:e.limit,totalLength:e.total,unfilteredTotalLength:e.total}}function Mr(e){return{type:Ae.p.ARTIST,uri:null==e?void 0:e.uri,name:null==e?void 0:e.name}}function Br(e){return{type:Ae.p.ARTIST,uri:e.uri,name:e.name}}function jr(e){return{type:Ae.p.ALBUM,uri:e.uri,name:e.name,artist:Mr(e.artists[0]),images:e.images.map(Tr)}}function Vr(e){return Cr(Cr({},function(e){var t;return{type:Ae.p.TRACK,uri:(null===(t=e.linked_from)||void 0===t?void 0:t.uri)||e.uri,name:e.name,duration:Ir(e.duration_ms),album:jr(e.album),artists:e.artists.map(Br),discNumber:e.disc_number,trackNumber:e.track_number,isExplicit:e.explicit,isPlayable:e.is_playable,isLocal:e.is_local,is19PlusOnly:(e.tags||[]).includes("MOGEF-19+")}}(e.track)),{},{addedAt:e.added_at})}function Hr(e){if(void 0===e.items)throw new Error("Invalid Web API library tracks response!");return{items:e.items.map(Vr),offset:e.offset,limit:e.limit,totalLength:e.total,unfilteredTotalLength:e.total}}function Gr(e){return Cr({},function(e){return{type:Ae.p.EPISODE,uri:e.uri,name:e.name,description:e.description,duration:Ir(e.duration_ms),timeLeft:Ir(e.resume_point.fully_played?0:e.duration_ms-e.resume_point.resume_position_ms),images:e.images.map(Tr),podcastSubscription:(t=e.is_paywall_content,n=e.restriction,{isPaywalled:t,isUserSubscribed:t&&"payment_required"!==(null==n?void 0:n.reason)}),isExplicit:e.explicit,languages:e.languages,release:Ar(e),show:Fr(e.show),isPlayable:e.is_playable,is19PlusOnly:(e.tags||[]).includes("MOGEF-19+")};var t,n}(e.episode))}function Wr(e){if(void 0===e.items)throw new Error("Invalid Web API library episodes response!");return{items:e.items.map(Gr),offset:e.offset,limit:e.limit,totalLength:e.total,unfilteredTotalLength:e.total}}var zr=n(71538);function Kr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Yr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Kr(Object(n),!0).forEach((function(t){(0,E.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var qr,Qr=50,Jr={items:[],totalLength:0,unfilteredTotalLength:0,offset:0,limit:0},Xr=function(){function e(t,n,r){var a=this;(0,O.Z)(this,e),(0,E.Z)(this,"_cache",new Map),(0,E.Z)(this,"_inFlightCache",new We.tL),this._builder=t,this._isAnonymous=r,this._events=Jn(this._cache,function(){var e=(0,i.Z)(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,zr.lX)(a._cache,a._builder,t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n,this._isAnonymous)}var t,n,r,a,s,l,c,u,d,m;return(0,C.Z)(e,[{key:"getCapabilities",value:function(){return{canSort:!1,canFilter:!1,canModifyOffline:!1,canGetTracksByArtistOrAlbum:!1,canMarkEpisodesAsDone:!1,canFetchAllTracks:!1,canFetchArtistsWithOffset:!1}}},{key:"checkIfLoggedIn",value:function(){if(this._isAnonymous)throw new Error("LibraryAPI is not available for anonymous users!")}},{key:"sendRequest",value:(m=(0,i.Z)(o().mark((function e(t){var n,r,i=this,a=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:{},e.next=3,this._inFlightCache.create("".concat(t).concat(JSON.stringify(n)),(function(){return i._builder.build().withHost(L.H).withPath(t).withQueryParameters(n).withEndpointIdentifier(t).send()}));case 3:return r=e.sent,e.abrupt("return",r.body);case 5:case"end":return e.stop()}}),e,this)}))),function(e){return m.apply(this,arguments)})},{key:"getAlbums",value:(d=(0,i.Z)(o().mark((function e(){var t,n,r,i,a,s,l=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=l.length>0&&void 0!==l[0]?l[0]:{},!this._isAnonymous){e.next=3;break}return e.abrupt("return",Jr);case 3:return n=t.offset,r=void 0===n?0:n,i=t.limit,a=void 0===i?Qr:i,e.next=6,this.sendRequest("/me/albums",{limit:a,offset:r});case 6:return s=e.sent,e.abrupt("return",Rr(s));case 8:case"end":return e.stop()}}),e,this)}))),function(){return d.apply(this,arguments)})},{key:"getArtists",value:(u=(0,i.Z)(o().mark((function e(){var t,n,r,i,a,s,l,c=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=c.length>0&&void 0!==c[0]?c[0]:{},!this._isAnonymous){e.next=3;break}return e.abrupt("return",Jr);case 3:if(n=t.offset,r=void 0===n?0:n,i=t.limit,a=void 0===i?Qr:i,0===r||"string"==typeof r){e.next=6;break}throw new Error("Invalid offset argument for getArtists call! Expected a string cursor.");case 6:return s=Yr(Yr({type:"artist"},"string"==typeof r?{after:r}:{}),{},{limit:a}),e.next=9,this.sendRequest("/me/following",s);case 9:return l=e.sent,e.abrupt("return",Lr(l,s.after));case 11:case"end":return e.stop()}}),e,this)}))),function(){return u.apply(this,arguments)})},{key:"getShows",value:(c=(0,i.Z)(o().mark((function e(){var t,n,r,i,a,s,l=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=l.length>0&&void 0!==l[0]?l[0]:{},!this._isAnonymous){e.next=3;break}return e.abrupt("return",Jr);case 3:return n=t.offset,r=void 0===n?0:n,i=t.limit,a=void 0===i?Qr:i,e.next=6,this.sendRequest("/me/shows",{limit:a,offset:r});case 6:return s=e.sent,e.abrupt("return",Zr(s));case 8:case"end":return e.stop()}}),e,this)}))),function(){return c.apply(this,arguments)})},{key:"getTracks",value:(l=(0,i.Z)(o().mark((function e(){var t,n,r,i,a,s,l=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=l.length>0&&void 0!==l[0]?l[0]:{},!this._isAnonymous){e.next=3;break}return e.abrupt("return",Jr);case 3:if(void 0===t.uri){e.next=5;break}return e.abrupt("return",{items:[],offset:0,limit:0,totalLength:0,unfilteredTotalLength:0});case 5:return n=t.offset,r=void 0===n?0:n,i=t.limit,a=void 0===i?Qr:i,e.next=8,this.sendRequest("/me/tracks",{limit:a,offset:r});case 8:return s=e.sent,e.abrupt("return",Hr(s));case 10:case"end":return e.stop()}}),e,this)}))),function(){return l.apply(this,arguments)})},{key:"getEpisodes",value:(s=(0,i.Z)(o().mark((function e(){var t,n,r,i,a,s,l=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=l.length>0&&void 0!==l[0]?l[0]:{},!this._isAnonymous){e.next=3;break}return e.abrupt("return",Jr);case 3:return n=t.offset,r=void 0===n?0:n,i=t.limit,a=void 0===i?Qr:i,e.next=6,this.sendRequest("/me/episodes",{limit:a,offset:r});case 6:return s=e.sent,e.abrupt("return",Wr(s));case 8:case"end":return e.stop()}}),e,this)}))),function(){return s.apply(this,arguments)})},{key:"subscribeToBooks",value:function(e){return e(new Error("Audio books not supported"),null),function(){}}},{key:"getBooks",value:(a=(0,i.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Jr);case 1:case"end":return e.stop()}}),e)}))),function(){return a.apply(this,arguments)})},{key:"getEvents",value:function(){return this._events}},{key:"onUpdateItems",value:function(e,t){this._events.emitUpdateItems(e,t)}},{key:"add",value:(r=(0,i.Z)(o().mark((function e(){var t,n,r,i=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=i.length,n=new Array(t),r=0;r<t;r++)n[r]=i[r];if(!this._events.emitOperationSync(Gn.pT.ADD,n)){e.next=3;break}return e.abrupt("return");case 3:return this.checkIfLoggedIn(),e.prev=4,this.onUpdateItems(n,!0),e.next=8,(0,zr.$)(this._builder,n);case 8:this._events.emitOperationComplete(Gn.pT.ADD,n),e.next=16;break;case 11:throw e.prev=11,e.t0=e.catch(4),this.onUpdateItems(n,!1),this._events.emitOperationComplete(Gn.pT.ADD,n,e.t0 instanceof Error?e.t0:new Error("Unknown error object")),e.t0;case 16:case"end":return e.stop()}}),e,this,[[4,11]])}))),function(){return r.apply(this,arguments)})},{key:"remove",value:(n=(0,i.Z)(o().mark((function e(){var t,n,r,i=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=i.length,n=new Array(t),r=0;r<t;r++)n[r]=i[r];if(!this._events.emitOperationSync(Gn.pT.REMOVE,n)){e.next=3;break}return e.abrupt("return");case 3:return this.checkIfLoggedIn(),e.prev=4,this.onUpdateItems(n,!1),e.next=8,(0,zr.Er)(this._builder,n);case 8:this._events.emitOperationComplete(Gn.pT.REMOVE,n),e.next=16;break;case 11:throw e.prev=11,e.t0=e.catch(4),this.onUpdateItems(n,!0),this._events.emitOperationComplete(Gn.pT.REMOVE,n,e.t0 instanceof Error?e.t0:new Error("Unknown error object")),e.t0;case 16:case"end":return e.stop()}}),e,this,[[4,11]])}))),function(){return n.apply(this,arguments)})},{key:"contains",value:(t=(0,i.Z)(o().mark((function e(){var t,n,r,i,a=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=a.length,n=new Array(t),r=0;r<t;r++)n[r]=a[r];if(!this._isAnonymous){e.next=3;break}return e.abrupt("return",new Array(n.length).fill(!1));case 3:return e.next=5,(0,zr.lX)(this._cache,this._builder,n);case 5:return i=e.sent,this.onUpdateItems(n,i),e.abrupt("return",i);case 8:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"containsSync",value:function(e){return!this._isAnonymous&&this._cache.get(e)}},{key:"markAsPlayed",value:function(){return Promise.resolve()}},{key:"markAsUnPlayed",value:function(){return Promise.resolve()}}]),e}(),$r=function(){function e(){(0,O.Z)(this,e)}var t,n,r,a,s;return(0,C.Z)(e,[{key:"getCapabilities",value:function(){return{canSort:!1,canFilter:!1,canFetchAllTracks:!1}}},{key:"browseForFolder",value:function(){return Promise.resolve({path:null})}},{key:"getTracks",value:(s=(0,i.Z)(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.reject());case 1:case"end":return e.stop()}}),e)}))),function(e){return s.apply(this,arguments)})},{key:"getSources",value:(a=(0,i.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.reject());case 1:case"end":return e.stop()}}),e)}))),function(){return a.apply(this,arguments)})},{key:"mutateDefaultSource",value:(r=(0,i.Z)(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.reject());case 1:case"end":return e.stop()}}),e)}))),function(e){return r.apply(this,arguments)})},{key:"addFolder",value:(n=(0,i.Z)(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.reject());case 1:case"end":return e.stop()}}),e)}))),function(e){return n.apply(this,arguments)})},{key:"removeFolder",value:(t=(0,i.Z)(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.reject());case 1:case"end":return e.stop()}}),e)}))),function(e){return t.apply(this,arguments)})}]),e}(),ei=n(91042),ti=n(26482),ni=n(69675),ri=function(){function e(){(0,O.Z)(this,e),(0,E.Z)(this,"_events",new ni.N)}var t,n,r,a,s,l;return(0,C.Z)(e,[{key:"getCapabilities",value:function(){return{canDownload:function(){return ti.PQ.NO_CAPABILITY}}}},{key:"getEvents",value:function(){return this._events}},{key:"getDownloads",value:(l=(0,i.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.reject());case 1:case"end":return e.stop()}}),e)}))),function(){return l.apply(this,arguments)})},{key:"getAvailabilitySync",value:function(){return ti.Om.NO}},{key:"addDownload",value:(s=(0,i.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.reject());case 1:case"end":return e.stop()}}),e)}))),function(){return s.apply(this,arguments)})},{key:"removeDownload",value:(a=(0,i.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.reject());case 1:case"end":return e.stop()}}),e)}))),function(){return a.apply(this,arguments)})},{key:"removeAllDownloads",value:(r=(0,i.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.reject());case 1:case"end":return e.stop()}}),e)}))),function(){return r.apply(this,arguments)})},{key:"removeCache",value:(n=(0,i.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.reject());case 1:case"end":return e.stop()}}),e)}))),function(){return n.apply(this,arguments)})},{key:"getStatistics",value:(t=(0,i.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.reject());case 1:case"end":return e.stop()}}),e)}))),function(){return t.apply(this,arguments)})}]),e}(),ii=n(61634),ai=n(20321),oi=n(90658),si=n(97326),li=(n(70189),n(76460));function ci(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,W.Z)(e);if(t){var i=(0,W.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,G.Z)(this,n)}}var ui=new RegExp(String.raw(qr||(qr=(0,R.Z)(["hm://playlist/v2/playlist/(?<base62Id>.+)"])))),di=function(e){(0,H.Z)(n,e);var t=ci(n);function n(e){var r;return(0,O.Z)(this,n),r=t.call(this),(0,E.Z)((0,si.Z)(r),"_uris",new Set),r._transport=e,r.onMessage=r.onMessage.bind((0,si.Z)(r)),r}return(0,C.Z)(n,[{key:"onBatchChanged",value:function(e){this._uris=new Set(e.keys()),this._transport.unmatchMessages(ui,this.onMessage,p.DEALER_PLUGIN_NAME),e.size>0&&this._transport.matchMessages(ui,this.onMessage,p.DEALER_PLUGIN_NAME)}},{key:"onMessage",value:function(e){var t,n=e.uri.match(ui);if(void 0!==(null==n||null===(t=n.groups)||void 0===t?void 0:t.base62Id)){var r=d().playlistV2URI(n.groups.base62Id).toURI();this._uris.has(r)&&this.emit(ii.XL.UPDATE,{uri:r})}}}]),n}(li.n);function mi(e){return new di(e)}var pi=n(52200),fi=[{kind:"FragmentDefinition",name:{kind:"Name",value:"FetchPlaylistMetadata"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Playlist"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"description"}},{kind:"Field",name:{kind:"Name",value:"ownerV2"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Error"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"message"}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"username"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"avatar"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"imageSources"}}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"images"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"extractedColors"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"colorRaw"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hex"}},{kind:"Field",name:{kind:"Name",value:"isFallback"}}]}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"imageSources"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"collaborative"}},{kind:"Field",name:{kind:"Name",value:"followers"}},{kind:"Field",name:{kind:"Name",value:"format"}},{kind:"Field",name:{kind:"Name",value:"attributes"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"key"}},{kind:"Field",name:{kind:"Name",value:"value"}}]}},{kind:"Field",name:{kind:"Name",value:"sharingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"shareUrl"}}]}}]}}],vi=[{kind:"FragmentDefinition",name:{kind:"Name",value:"FetchPlaylistContents"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Playlist"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"content"},arguments:[{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PlaylistItemsPage"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"pagingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"offset"}},{kind:"Field",name:{kind:"Name",value:"limit"}}]}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uid"}},{kind:"Field",name:{kind:"Name",value:"addedAt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isoString"}}]}},{kind:"Field",name:{kind:"Name",value:"addedBy"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Error"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"message"}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"username"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"avatar"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"imageSources"}}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"attributes"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"key"}},{kind:"Field",name:{kind:"Name",value:"value"}}]}},{kind:"Field",name:{kind:"Name",value:"item"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"TrackResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Error"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"message"}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Track"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",alias:{kind:"Name",value:"trackDuration"},name:{kind:"Name",value:"duration"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalMilliseconds"}}]}},{kind:"Field",name:{kind:"Name",value:"playcount"}},{kind:"Field",name:{kind:"Name",value:"album"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"artists"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"profile"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"imageSources"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"artists"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"profile"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"discNumber"}},{kind:"Field",name:{kind:"Name",value:"trackNumber"}},{kind:"Field",name:{kind:"Name",value:"playability"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"playable"}},{kind:"Field",name:{kind:"Name",value:"reason"}}]}},{kind:"Field",name:{kind:"Name",value:"contentRating"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"label"}}]}}]}}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"LocalTrackResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Error"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"message"}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"LocalTrack"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",alias:{kind:"Name",value:"albumName"},name:{kind:"Name",value:"album"}},{kind:"Field",alias:{kind:"Name",value:"artistName"},name:{kind:"Name",value:"artist"}},{kind:"Field",alias:{kind:"Name",value:"localTrackDuration"},name:{kind:"Name",value:"duration"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalMilliseconds"}}]}}]}}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"EpisodeResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Error"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"message"}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Episode"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"description"}},{kind:"Field",alias:{kind:"Name",value:"episodeDuration"},name:{kind:"Name",value:"duration"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalMilliseconds"}}]}},{kind:"Field",name:{kind:"Name",value:"playedState"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"playPositionMilliseconds"}}]}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"imageSources"}}]}},{kind:"Field",name:{kind:"Name",value:"language"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"}}]}},{kind:"Field",name:{kind:"Name",value:"releaseDate"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isoString"}},{kind:"Field",name:{kind:"Name",value:"precision"}}]}},{kind:"Field",name:{kind:"Name",value:"podcast"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"publisher"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"imageSources"}}]}},{kind:"Field",name:{kind:"Name",value:"mediaType"}}]}},{kind:"Field",name:{kind:"Name",value:"restrictions"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"paywallContent"}}]}},{kind:"Field",name:{kind:"Name",value:"playability"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"playable"}},{kind:"Field",name:{kind:"Name",value:"reason"}}]}},{kind:"Field",name:{kind:"Name",value:"contentRating"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"label"}}]}}]}}]}}]}}]}}]}}]}}]}}]}}],gi=Spicetify.GraphQL.Definitions["fetchPlaylist"]={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"fetchPlaylist"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uri"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},defaultValue:{kind:"IntValue",value:"0"}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},defaultValue:{kind:"IntValue",value:"50"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"playlistUnion"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uri"},value:{kind:"Variable",name:{kind:"Name",value:"uri"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Error"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"message"}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Playlist"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"FetchPlaylistMetadata"}},{kind:"FragmentSpread",name:{kind:"Name",value:"FetchPlaylistContents"}}]}}]}}]}}].concat((0,N.Z)(fi),(0,N.Z)(pi.rD.definitions),(0,N.Z)(pi.rA.definitions),(0,N.Z)(vi))},hi=Spicetify.GraphQL.Definitions["fetchPlaylistMetadata"]={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"fetchPlaylistMetadata"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uri"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},defaultValue:{kind:"IntValue",value:"0"}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},defaultValue:{kind:"IntValue",value:"50"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"playlistUnion"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uri"},value:{kind:"Variable",name:{kind:"Name",value:"uri"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Error"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"message"}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Playlist"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"FetchPlaylistMetadata"}},{kind:"FragmentSpread",name:{kind:"Name",value:"FetchPlaylistContentsDurations"}}]}}]}}]}}].concat((0,N.Z)(fi),(0,N.Z)(pi.rD.definitions),(0,N.Z)(pi.rA.definitions),(0,N.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"FetchPlaylistContentsDurations"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Playlist"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"content"},arguments:[{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Error"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"message"}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PlaylistItemsPage"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"pagingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"limit"}}]}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"item"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"TrackResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Error"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"message"}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Track"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",alias:{kind:"Name",value:"trackDuration"},name:{kind:"Name",value:"duration"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalMilliseconds"}}]}}]}}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"LocalTrackResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Error"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"message"}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"LocalTrack"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"localTrackDuration"},name:{kind:"Name",value:"duration"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalMilliseconds"}}]}}]}}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"EpisodeResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Error"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"message"}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Episode"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"episodeDuration"},name:{kind:"Name",value:"duration"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalMilliseconds"}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]))},yi=Spicetify.GraphQL.Definitions["fetchPlaylistContents"]={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"fetchPlaylistContents"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uri"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},defaultValue:{kind:"IntValue",value:"0"}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},defaultValue:{kind:"IntValue",value:"50"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"playlistUnion"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uri"},value:{kind:"Variable",name:{kind:"Name",value:"uri"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Error"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"message"}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Playlist"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"FetchPlaylistContents"}}]}}]}}]}}].concat((0,N.Z)(vi),(0,N.Z)(pi.rD.definitions),(0,N.Z)(pi.rA.definitions))};function ki(e){return{url:e.url,width:e.width,height:e.height}}var Ei=n(7073);function bi(e){switch(e){case Ei.VQ.Minute:case Ei.VQ.Hour:case Ei.VQ.Day:return"day";case Ei.VQ.Month:return"month";case Ei.VQ.Year:case void 0:return"year";default:return(0,Pe.U)(e)}}function _i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Si(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_i(Object(n),!0).forEach((function(t){(0,E.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function wi(e){return{type:Ae.p.ARTIST,uri:e.uri,name:e.profile.name}}function Ni(e){return{type:Ae.p.ARTIST,uri:e.uri,name:e.profile.name}}function Oi(e){switch(e){case Ei.Cl.Audio:return rr.E.AUDIO;case Ei.Cl.Video:return rr.E.VIDEO;case Ei.Cl.Mixed:return rr.E.MIXED;case Ei.Cl.Unknown:return rr.E.UNKNOWN;default:return(0,Pe.U)(e)}}function Ci(e,t){var n,r,i,a;if(null===e)return null;var o,s,l,c,u={id:e.uid,uid:e.uid,playIndex:t,addedAt:(null===(n=e.addedAt)||void 0===n?void 0:n.isoString)||null,addedBy:(o=e.addedBy,o&&"User"===o.data.__typename?{type:Ae.p.USER,uri:o.data.uri,username:o.data.username,displayName:null!==(s=o.data.name)&&void 0!==s?s:null,images:(null===(l=o.data.avatar)||void 0===l||null===(c=l.sources)||void 0===c?void 0:c.map(ki))||[]}:null),formatListAttributes:null!==(r=null===(i=e.attributes)||void 0===i?void 0:i.reduce((function(e,t){var n=t.key,r=t.value;return e[n]=r,e}),{}))&&void 0!==r?r:{}};switch(null===(a=e.item)||void 0===a?void 0:a.__typename){case"TrackResponseWrapper":var d=function(e){var t,n,r,i,a,o=e.data;return"Track"!==o.__typename?null:{type:Ae.p.TRACK,uri:o.uri,name:o.name,duration:{milliseconds:o.trackDuration.totalMilliseconds},album:(r=o.album,{type:Ae.p.ALBUM,uri:r.uri,name:r.name,artist:wi(r.artists.items[0]),images:null!==(i=null===(a=r.coverArt)||void 0===a?void 0:a.sources.map(ki))&&void 0!==i?i:[]}),artists:o.artists.items.map(Ni),discNumber:o.discNumber,trackNumber:o.trackNumber,isExplicit:(null===(t=o.contentRating)||void 0===t?void 0:t.label)===Ei.KS.Explicit,is19PlusOnly:(null===(n=o.contentRating)||void 0===n?void 0:n.label)===Ei.KS.NineteenPlus,isPlayable:o.playability.playable,isLocal:!1}}(e.item);return d?Si(Si({},d),u):null;case"LocalTrackResponseWrapper":var m=function(e){var t,n,r,i,a,o=e.data;return"LocalTrack"!==o.__typename?null:{type:Ae.p.TRACK,uri:o.uri,name:o.name,album:{type:Ae.p.ALBUM,uri:"",name:null!==(t=o.albumName)&&void 0!==t?t:"",artist:{type:Ae.p.ARTIST,uri:"",name:null!==(n=o.artistName)&&void 0!==n?n:""},images:[]},artists:[{type:Ae.p.ARTIST,uri:"",name:null!==(r=o.artistName)&&void 0!==r?r:""}],duration:{milliseconds:null!==(i=null===(a=o.localTrackDuration)||void 0===a?void 0:a.totalMilliseconds)&&void 0!==i?i:0},discNumber:0,trackNumber:0,isPlayable:!1,isExplicit:!1,is19PlusOnly:!1,isLocal:!0}}(e.item);return m?Si(Si({},m),u):null;case"EpisodeResponseWrapper":var p=function(e){var t,n,r,i,a,o,s,l,c,u,d,m,p,f,v,g,h,y=e.data;return"Episode"!==y.__typename?null:{type:Ae.p.EPISODE,uri:y.uri,name:y.name,description:null!==(t=y.description)&&void 0!==t?t:"",duration:{milliseconds:y.episodeDuration.totalMilliseconds},timeLeft:{milliseconds:y.episodeDuration.totalMilliseconds-y.playedState.playPositionMilliseconds},images:null!==(n=null===(r=y.coverArt)||void 0===r?void 0:r.sources.map(ki))&&void 0!==n?n:[],languages:y.language?[y.language.code]:[],release:{date:null===(i=y.releaseDate)||void 0===i?void 0:i.isoString,precision:bi(null===(a=y.releaseDate)||void 0===a?void 0:a.precision)},show:(p=y.podcast,{type:Ae.p.SHOW,uri:p.uri,name:p.name,publisher:null!==(f=null===(v=p.publisher)||void 0===v?void 0:v.name)&&void 0!==f?f:"",images:null!==(g=null===(h=p.coverArt)||void 0===h?void 0:h.sources.map(ki))&&void 0!==g?g:[],mediaType:Oi(p.mediaType)}),podcastSubscription:(u=null!==(o=null===(s=y.restrictions)||void 0===s?void 0:s.paywallContent)&&void 0!==o&&o,d=y.playability.reason,m=!1,u&&d!==Ei.Ku.PaymentRequired&&(m=!0),{isPaywalled:u,isUserSubscribed:m}),isPlayable:y.playability.playable,isExplicit:(null===(l=y.contentRating)||void 0===l?void 0:l.label)===Ei.KS.Explicit,is19PlusOnly:(null===(c=y.contentRating)||void 0===c?void 0:c.label)===Ei.KS.NineteenPlus}}(e.item);return p?Si(Si({},p),u):null;case"UnknownType":case null:case void 0:return null;default:return(0,Pe._)(e.item),null}}function Ti(e){if(null===e||"Playlist"!==e.__typename||null===e.content||"PlaylistItemsPage"!==e.content.__typename)throw new Error("Error fetching playlist via GraphQL!");var t=e.content;if(null===t||"PlaylistItemsPage"!==t.__typename)throw new Error("Error fetching playlist via GraphQL!");var n=t.items;if(null===n)throw new Error("Error fetching playlist via GraphQL!");return{items:n.map(Ci),offset:t.pagingInfo.offset,limit:t.pagingInfo.limit,totalLength:t.totalCount}}function Ii(e){var t,n;if(null===e)return null;var r=e.attributes,i=null!==(t=r["madeFor.name"])&&void 0!==t?t:null,a=null!==(n=r["madeFor.username"])&&void 0!==n?n:null,o="1"===r["madeFor.displayed"];return null!==a&&o?{type:Ae.p.USER,uri:"spotify:user:".concat(encodeURIComponent(a)),username:a,displayName:i,images:[]}:null}function Ai(e,t){return{metadata:Pi(e,t),contents:Ti(t)}}function Pi(e,t){var n,r,i,a,o,s,l,c;if(null===t||"Playlist"!==t.__typename||"PlaylistItemsPage"!==(null===(n=t.content)||void 0===n?void 0:n.__typename))throw new Error("Error fetching playlist via GraphQL!");var u,d,m=t.content.totalCount,p=function(e){var t,n,r={duration:0,count:0},i=null!==(t=null===(n=e.items)||void 0===n?void 0:n.reduce((function(e,t){if(null===t||null===t.item)return e;var n=t.item;switch(n.__typename){case"TrackResponseWrapper":"Track"===n.data.__typename&&(e.duration+=n.data.trackDuration.totalMilliseconds,e.count++);break;case"LocalTrackResponseWrapper":var r;"LocalTrack"===n.data.__typename&&(e.duration+=(null===(r=n.data.localTrackDuration)||void 0===r?void 0:r.totalMilliseconds)||0,e.count++);break;case"EpisodeResponseWrapper":"Episode"===n.data.__typename&&(e.duration+=n.data.episodeDuration.totalMilliseconds,e.count++);break;case"UnknownType":break;default:(0,Pe._)(n)}return e}),r))&&void 0!==t?t:r;return{milliseconds:i.count>0?i.duration/i.count*e.totalCount:0,isEstimate:i.count<e.totalCount}}(t.content),f="User"===t.ownerV2.data.__typename,v=function(e){var t,n,r;return null===e||"User"!==e.data.__typename?{type:Ae.p.USER,uri:"",username:"",displayName:null,images:[]}:{type:Ae.p.USER,uri:e.data.uri,username:e.data.username,displayName:null!==(t=e.data.name)&&void 0!==t?t:null,images:(null===(n=e.data.avatar)||void 0===n||null===(r=n.sources)||void 0===r?void 0:r.map(ki))||[]}}(t.ownerV2),g=e===v.username,h=t.collaborative,y=null!==(r=null===(i=t.content.items)||void 0===i?void 0:i.some((function(e){var t;return"EpisodeResponseWrapper"===(null==e||null===(t=e.item)||void 0===t?void 0:t.__typename)})))&&void 0!==r&&r,k=null!==(a=null===(o=t.content.items)||void 0===o?void 0:o.some((function(e){var t;return"TrackResponseWrapper"===(null==e||null===(t=e.item)||void 0===t?void 0:t.__typename)})))&&void 0!==a&&a,E=g,b=g,_=m>0,S=(u=t.format,d=t.attributes,null===u?null:null===d?{type:u,attributes:{}}:{type:u,attributes:d.reduce((function(e,t){var n=t.key,r=t.value;return e[n]=r,e}),{})});return{isPublished:!1,type:Ae.p.PLAYLIST,uri:t.uri,name:t.name,description:null!==(s=t.description)&&void 0!==s?s:"",totalLength:m,totalLikes:t.followers,duration:p,images:(null===(l=t.images.items)||void 0===l?void 0:l.length)>0?null===(c=t.images.items)||void 0===c?void 0:c[0].sources.map(ki):[],owner:v,madeFor:Ii(S),isLoaded:f,isOwnedBySelf:g,isCollaborative:h,hasEpisodes:y,hasSpotifyTracks:k,canAdd:E,canRemove:b,canPlay:_,formatListData:S,canReportAnnotationAbuse:!1,collaborators:null,permissions:null,hasDateAdded:!1}}var Di=n(32242),Ri=n(19423),xi=n(97908);function Li(e){var t;null!==(t=e.formatListData)&&void 0!==t&&t.type?e.hasDateAdded=!xi.C.includes(e.formatListData.type):e.hasDateAdded=!0}var Fi=Spicetify.GraphQL.Definitions["addToPlaylist"]={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"addToPlaylist"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"playlistUri"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uris"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"newPosition"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"PlaylistItemPositionInput"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addItemsToPlaylist"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"playlistUri"},value:{kind:"Variable",name:{kind:"Name",value:"playlistUri"}}},{kind:"ObjectField",name:{kind:"Name",value:"uris"},value:{kind:"Variable",name:{kind:"Name",value:"uris"}}},{kind:"ObjectField",name:{kind:"Name",value:"newPosition"},value:{kind:"Variable",name:{kind:"Name",value:"newPosition"}}}]}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Error"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"message"}}]}}]}}]}}]},Ui=Spicetify.GraphQL.Definitions["removeFromPlaylist"]={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"removeFromPlaylist"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uids"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"playlistUri"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"removeItemsFromPlaylist"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"uids"},value:{kind:"Variable",name:{kind:"Name",value:"uids"}}},{kind:"ObjectField",name:{kind:"Name",value:"playlistUri"},value:{kind:"Variable",name:{kind:"Name",value:"playlistUri"}}}]}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Error"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"message"}}]}}]}}]}}]},Zi=Spicetify.GraphQL.Definitions["moveItemsInPlaylist"]={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"moveItemsInPlaylist"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uids"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"playlistUri"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"newPosition"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"PlaylistItemPositionInput"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"moveItemsInPlaylist"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"playlistUri"},value:{kind:"Variable",name:{kind:"Name",value:"playlistUri"}}},{kind:"ObjectField",name:{kind:"Name",value:"uids"},value:{kind:"Variable",name:{kind:"Name",value:"uids"}}},{kind:"ObjectField",name:{kind:"Name",value:"newPosition"},value:{kind:"Variable",name:{kind:"Name",value:"newPosition"}}}]}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Error"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"message"}}]}}]}}]}}]};function Mi(e){if("start"===e.before||"start"===e.after)return{moveType:Ei.Le.TopOfPlaylist,fromUid:null};if("end"===e.before||"end"===e.after)return{moveType:Ei.Le.BottomOfPlaylist,fromUid:null};if(e.before)return{moveType:Ei.Le.BeforeUid,fromUid:e.before};if(e.after)return{moveType:Ei.Le.AfterUid,fromUid:e.after};throw new Error("Couldn't determine position to insert tracks based on input")}var Bi=function(){function e(t,n,r,i){(0,O.Z)(this,e),(0,E.Z)(this,"_inFlightCache",new We.tL),this._builder=t,this._loader=n,this._transport=r,this._username=i,this._events=mi(this._transport)}var t,n,r,a,s,l,c,u,d,m,p,f,v;return(0,C.Z)(e,[{key:"emitUpdate",value:function(e){this._events.emit(ii.XL.UPDATE,{uri:e})}},{key:"getCapabilities",value:function(){return{canSort:!1,canFilter:!1,canModifyOffline:!1,canMoveMultipleItems:!1,canFetchAllTracks:!1,canDecorateAddedBy:!0,canToggleCollaborative:!1,canHandlePermissions:!1,hasUidsGeneratedFromIndicies:!1}}},{key:"query",value:(v=(0,i.Z)(o().mark((function e(t,n){var r,i=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._inFlightCache.create("".concat((0,vn.Y)(t).name,":").concat(JSON.stringify(n)),(function(){return i._loader(t,n)}));case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)}))),function(e,t){return v.apply(this,arguments)})},{key:"getPlaylist",value:(f=(0,i.Z)(o().mark((function e(t){var n,r,i,a,s,l,c=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c.length>1&&void 0!==c[1]&&c[1],a=c.length>2&&void 0!==c[2]?c[2]:{},e.next=4,this.query(gi,{uri:t,offset:null!==(n=a.offset)&&void 0!==n?n:0,limit:null!==(r=a.limit)&&void 0!==r?r:0});case 4:return s=e.sent,Li((l=Ai(this._username,null!==(i=null==s?void 0:s.data.playlistUnion)&&void 0!==i?i:null)).metadata),e.abrupt("return",l);case 8:case"end":return e.stop()}}),e,this)}))),function(e){return f.apply(this,arguments)})},{key:"getMetadata",value:(p=(0,i.Z)(o().mark((function e(t){var n,r,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.query(hi,{uri:t,offset:0,limit:100});case 2:return r=e.sent,Li(i=Pi(this._username,null!==(n=null==r?void 0:r.data.playlistUnion)&&void 0!==n?n:null)),e.abrupt("return",i);case 6:case"end":return e.stop()}}),e,this)}))),function(e){return p.apply(this,arguments)})},{key:"getContents",value:(m=(0,i.Z)(o().mark((function e(t,n){var r,i,a,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.query(yi,{uri:t,offset:null!==(r=null==n?void 0:n.offset)&&void 0!==r?r:0,limit:null!==(i=null==n?void 0:n.limit)&&void 0!==i?i:50});case 2:return s=e.sent,e.abrupt("return",Ti(null!==(a=null==s?void 0:s.data.playlistUnion)&&void 0!==a?a:null));case 4:case"end":return e.stop()}}),e,this)}))),function(e,t){return m.apply(this,arguments)})},{key:"getEvents",value:function(){return this._events}},{key:"add",value:(d=(0,i.Z)(o().mark((function e(t,n,r){var i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=n.map((function(e){return{uri:e}})),!this._events.emitOperationSync(ii.If.ADD,t,i)){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,e.next=6,this._loader(Fi,{uris:n,playlistUri:t,newPosition:Mi(r)});case 6:this.emitUpdate(t),this._events.emitOperationComplete(ii.If.ADD,t,null,i),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),this._events.emitOperationComplete(ii.If.ADD,t,e.t0 instanceof Error?e.t0:new Error("Unknown error object"),i);case 13:case"end":return e.stop()}}),e,this,[[3,10]])}))),function(e,t,n){return d.apply(this,arguments)})},{key:"move",value:(u=(0,i.Z)(o().mark((function e(t,n,r){var i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=n.map((function(e){return{id:e}})),!this._events.emitOperationSync(ii.If.MOVE,t,i)){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,e.next=6,this._loader(Zi,{playlistUri:t,uids:n,newPosition:Mi(r)});case 6:this.emitUpdate(t),this._events.emitOperationComplete(ii.If.MOVE,t,null,i),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),this._events.emitOperationComplete(ii.If.MOVE,t,e.t0 instanceof Error?e.t0:new Error("Unknown error object"),i);case 13:case"end":return e.stop()}}),e,this,[[3,10]])}))),function(e,t,n){return u.apply(this,arguments)})},{key:"remove",value:(c=(0,i.Z)(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._events.emitOperationSync(ii.If.REMOVE,t,n)){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this._loader(Ui,{playlistUri:t,uids:n.map((function(e){return e.id}))});case 5:this.emitUpdate(t),this._events.emitOperationComplete(ii.If.REMOVE,t,null,n),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),this._events.emitOperationComplete(ii.If.REMOVE,t,e.t0 instanceof Error?e.t0:new Error("Unknown error object"),n);case 12:case"end":return e.stop()}}),e,this,[[2,9]])}))),function(e,t){return c.apply(this,arguments)})},{key:"uploadImage",value:(l=(0,i.Z)(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,Di.I)(this._builder,t));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return l.apply(this,arguments)})},{key:"updateDetails",value:(s=(0,i.Z)(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._events.emitOperationSync(ii.If.UPDATE,t)){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,(0,ai.b)(this._builder,t,n);case 5:this.emitUpdate(t),this._events.emitOperationComplete(ii.If.UPDATE,t),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),this._events.emitOperationComplete(ii.If.UPDATE,t,e.t0 instanceof Error?e.t0:new Error("Unknown error object"));case 12:case"end":return e.stop()}}),e,this,[[2,9]])}))),function(e,t){return s.apply(this,arguments)})},{key:"setCollaborativeState",value:(a=(0,i.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("Setting collaboration state is not possible with the WebAPI.");case 1:case"end":return e.stop()}}),e)}))),function(){return a.apply(this,arguments)})},{key:"resolvePlaylistFormatURI",value:(r=(0,i.Z)(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,Ri.J)(this._builder,t));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"getRecommendedTracks",value:(n=(0,i.Z)(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,oi.A)(this._builder,t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"resync",value:(t=(0,i.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),function(){return t.apply(this,arguments)})}]),e}(),ji=n(10276),Vi=n(24641),Hi=n(8688),Gi=n(45724);function Wi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function zi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Wi(Object(n),!0).forEach((function(t){(0,E.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ki={basePermissionLevel:"UNKNOWN",memberPermissions:{}},Yi=function(){function e(t){(0,O.Z)(this,e),(0,E.Z)(this,"_cache",new We.tL),this._builder=t,this._events=new Vi.Ti}var t,n,a,s,l,c,u,d;return(0,C.Z)(e,[{key:"getCapabilities",value:function(){return{}}},{key:"getEvents",value:function(){return this._events}},{key:"getMemberPermissions",value:(d=(0,i.Z)(o().mark((function e(t){var n,r,i=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,Gi.v8)(t),e.next=3,this._cache.create("metadata:".concat(n),(function(){return i._builder.build().withHost(L.KH).withMethod("GET").withPath("/playlist/".concat(n,"/permission/members")).withEndpointIdentifier("/playlist/{playlistId}/permission/members").withoutMarket().send()}));case 3:return r=e.sent,e.abrupt("return",r.body||Ki);case 5:case"end":return e.stop()}}),e,this)}))),function(e){return d.apply(this,arguments)})},{key:"getPermissionGrant",value:(u=(0,i.Z)(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,ji.Re)(this._builder,t,n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)}))),function(e,t){return u.apply(this,arguments)})},{key:"claimPermissions",value:(c=(0,i.Z)(o().mark((function e(t,n){var r,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={operation:Vi.Qd.CLAIM_PERMISSION,uri:t,token:n},this._events.emitOperationSync(r),e.prev=2,e.next=5,(0,ji.jw)(this._builder,t,n);case 5:return i=e.sent,this._events.emitOperationComplete(r),e.abrupt("return",i);case 10:throw e.prev=10,e.t0=e.catch(2),this._events.emitOperationComplete(r,e.t0),e.t0;case 14:case"end":return e.stop()}}),e,this,[[2,10]])}))),function(e,t){return c.apply(this,arguments)})},{key:"getMembers",value:(l=(0,i.Z)(o().mark((function e(t){var n,i,a,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMemberPermissions(t);case 2:return n=e.sent,i=n.memberPermissions,a=n.basePermissionLevel,s=Object.entries(i).map((function(e){var t=(0,r.Z)(e,2),n=t[0];return{permissionLevel:t[1].permissionLevel,songsAdded:0,user:(0,Hi.V3)({id:n,uri:n,display_name:n})}})),e.abrupt("return",{members:s,basePermissionLevel:a});case 7:case"end":return e.stop()}}),e,this)}))),function(e){return l.apply(this,arguments)})},{key:"subscribeToMembers",value:function(e,t){return this.getMembers(e).then((function(e){t(null,e)})).catch((function(e){t(e)})),function(){}}},{key:"removeMember",value:(s=(0,i.Z)(o().mark((function e(t,n){var r,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(0,Gi.v8)(t),i={operation:Vi.Qd.REMOVE_MEMBER,uri:t,username:n},this._events.emitOperationSync(i),e.prev=3,e.next=6,this._builder.build().withHost(L.KH).withMethod("DELETE").withPath("/playlist/".concat(r,"/permission/member/user/").concat(encodeURIComponent(n))).withEndpointIdentifier("/playlist/{id}/permission/member/user/{username}").withJsonContentType().withoutMarket().send();case 6:this._events.emitOperationComplete(i),e.next=13;break;case 9:throw e.prev=9,e.t0=e.catch(3),this._events.emitOperationComplete(i,e.t0),e.t0;case 13:case"end":return e.stop()}}),e,this,[[3,9]])}))),function(e,t){return s.apply(this,arguments)})},{key:"setMemberPermission",value:(a=(0,i.Z)(o().mark((function e(t,n,r){var i,a,s,l;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=(0,Gi.v8)(t),a={operation:Vi.Qd.SET_MEMBER_PERMISSION,uri:t,permissionLevel:r},this._events.emitOperationSync(a),e.prev=3,e.next=6,this.getMemberPermissions(t);case 6:return s=e.sent,l=s.memberPermissions,e.next=10,this._builder.build().withHost(L.KH).withMethod("POST").withPath("/playlist/".concat(i,"/permission/member/user/").concat(encodeURIComponent(n))).withEndpointIdentifier("/playlist/{id}/permission/member/user/{username}").withJsonContentType().withBody(zi(zi({},l[n]),{},{permissionLevel:r})).withoutMarket().send();case 10:this._events.emitOperationComplete(a),e.next=17;break;case 13:throw e.prev=13,e.t0=e.catch(3),this._events.emitOperationComplete(a,e.t0),e.t0;case 17:case"end":return e.stop()}}),e,this,[[3,13]])}))),function(e,t,n){return a.apply(this,arguments)})},{key:"getBasePermission",value:(n=(0,i.Z)(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,ji.Du)(this._builder,t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"setBasePermission",value:(t=(0,i.Z)(o().mark((function e(t,n){var r,i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(0,Gi.v8)(t),i={operation:Vi.Qd.SET_BASE_PERMISSION,uri:t,permissionLevel:n},this._events.emitOperationSync(i),e.prev=3,e.next=6,(0,ji.Du)(this._builder,t);case 6:return a=e.sent,e.next=9,this._builder.build().withHost(L.KH).withMethod("POST").withPath("/playlist/".concat(r,"/permission/base")).withEndpointIdentifier("/playlist/{id}/permission/base").withJsonContentType().withBody(zi(zi({},a),{},{permissionLevel:n})).withoutMarket().send();case 9:this._events.emitOperationComplete(i),e.next=16;break;case 12:throw e.prev=12,e.t0=e.catch(3),this._events.emitOperationComplete(i,e.t0),e.t0;case 16:case"end":return e.stop()}}),e,this,[[3,12]])}))),function(e,n){return t.apply(this,arguments)})}]),e}(),qi=n(23564);function Qi(e){return void 0===e?{}:e.reduce((function(e,t){return e[t.key]=t.value,e}),{})}function Ji(e){return void 0===e||""===e.format?null:{type:e.format,attributes:Qi(e.formatAttributes)}}function Xi(e,t,n,r){return $i.apply(this,arguments)}function $i(){return($i=(0,i.Z)(o().mark((function e(t,n,r,i){var a,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.create("formatListData:".concat(r),(function(){return n.build().withHost(L.fe).withMethod("GET").withPath("/playlist/".concat(r,"/metadata")).withEndpointIdentifier("/playlist/${id}/metadata").withoutMarket().send()}));case 2:a=e.sent,s=qi.hA.fromJSON(a.body),i.formatListData=Ji(s.attributes);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ea(e,t,n,r,i,a){return ta.apply(this,arguments)}function ta(){return(ta=(0,i.Z)(o().mark((function e(t,n,r,i,a,s){var l,c,u,d;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.create("formatListItemData:".concat(r,":").concat(a,":").concat(s),(function(){return n.build().withHost(L.fe).withMethod("GET").withPath("/playlist/".concat(r)).withEndpointIdentifier("/playlist/${id}").withoutMarket().withQueryParameters({from:a,length:s}).send()}));case 2:if(c=e.sent,u=qi.hA.fromJSON(c.body),void 0!==(d=null===(l=u.contents)||void 0===l?void 0:l.items)){e.next=7;break}return e.abrupt("return");case 7:i.items.forEach((function(e,t){var n;null!==e&&(e.formatListAttributes=Qi(null===(n=d[t].attributes)||void 0===n?void 0:n.formatAttributes))}));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var na,ra,ia=n(58012),aa=function(){function e(t,n,r){(0,O.Z)(this,e),(0,E.Z)(this,"_cache",new We.tL),(0,E.Z)(this,"_formatListDataCache",new We.Ct(18e5)),this._builder=t,this._transport=n,this._username=r,this._events=mi(this._transport)}var t,n,r,a,s,l,c,u,d,m,p,f;return(0,C.Z)(e,[{key:"emitUpdate",value:function(e){this._events.emit(ii.XL.UPDATE,{uri:e})}},{key:"getCapabilities",value:function(){return{canSort:!1,canFilter:!1,canModifyOffline:!1,canMoveMultipleItems:!1,canFetchAllTracks:!1,canDecorateAddedBy:!1,canToggleCollaborative:!1,canHandlePermissions:!1,hasUidsGeneratedFromIndicies:!0}}},{key:"getPlaylist",value:(f=(0,i.Z)(o().mark((function e(t){var n,r,i,a,s,l,c,u,d,m,p=this,f=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=f.length>1&&void 0!==f[1]?f[1]:{},r=f.length>2&&void 0!==f[2]?f[2]:{},i=(0,Gi.v8)(t),a=r.offset,s=void 0===a?0:a,l=!!r.limit,c=l?r.limit:100,e.prev=6,e.next=9,this._cache.create("playlist:".concat(i),(function(){return p._builder.build().withHost(L.H).withMethod("GET").withPath("/playlists/".concat(i)).withEndpointIdentifier("/playlists/{id}").withQueryParameters({fields:"collaborative,description,followers(total),images,name,owner(display_name,id,images,uri),public,tracks".concat(l?"":"(items(track.type,track.duration_ms),total)",",uri"),additional_types:"track,episode",offset:s,limit:c}).send()}));case 9:if(u=e.sent,d=(0,Hi.zY)(this._username,u.body),!0!==n.decorateFormatListData){e.next=14;break}return e.next=14,Xi(this._formatListDataCache,this._builder,i,d);case 14:return Li(d),m={totalLength:0,offset:0,limit:0,items:[]},r.limit&&r.limit>0&&(m=(0,Hi.gM)(u.body.tracks)),e.abrupt("return",{metadata:d,contents:m});case 20:if(e.prev=20,e.t0=e.catch(6),404!==(null===e.t0||void 0===e.t0?void 0:e.t0.status)){e.next=32;break}return e.prev=23,e.next=26,(0,ji.Du)(this._builder,t);case 26:e.next=32;break;case 28:if(e.prev=28,e.t1=e.catch(23),403!==(null===e.t1||void 0===e.t1?void 0:e.t1.status)){e.next=32;break}return e.abrupt("return",(0,ia.h)(t));case 32:throw e.t0;case 33:case"end":return e.stop()}}),e,this,[[6,20],[23,28]])}))),function(e){return f.apply(this,arguments)})},{key:"getMetadata",value:(p=(0,i.Z)(o().mark((function e(t){var n,r,i=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>1&&void 0!==i[1]?i[1]:{},e.next=3,this.getPlaylist(t,n,{limit:0,offset:0});case 3:return r=e.sent,e.abrupt("return",r.metadata);case 5:case"end":return e.stop()}}),e,this)}))),function(e){return p.apply(this,arguments)})},{key:"getContents",value:(m=(0,i.Z)(o().mark((function e(t){var n,r,i,a,s,l,c,u,d=this,m=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=m.length>1&&void 0!==m[1]?m[1]:{},r=n.offset,i=void 0===r?0:r,a=n.limit,s=void 0===a?100:a,l=(0,Gi.v8)(t),e.next=5,this._cache.create("contents:".concat(l),(function(){return d._builder.build().withHost(L.H).withMethod("GET").withPath("/playlists/".concat(l,"/tracks")).withEndpointIdentifier("/playlists/{id}/tracks").withQueryParameters({offset:i,limit:s,additional_types:"track,episode"}).send()}));case 5:if(c=e.sent,u=(0,Hi.gM)(c.body),!0!==n.decorateFormatListData){e.next=10;break}return e.next=10,ea(this._cache,this._builder,l,u,i,s);case 10:return e.abrupt("return",u);case 11:case"end":return e.stop()}}),e,this)}))),function(e){return m.apply(this,arguments)})},{key:"getEvents",value:function(){return this._events}},{key:"add",value:(d=(0,i.Z)(o().mark((function e(t,n,r){var i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._events.emitOperationSync(ii.If.ADD,t,n.map((function(e){return{uri:e}})))){e.next=2;break}return e.abrupt("return");case 2:return i=(0,Gi.v8)(t),e.prev=3,e.next=6,this._builder.build().withHost(L.H).withMethod("POST").withPath("/playlists/".concat(i,"/tracks")).withEndpointIdentifier("/playlists/{id}/tracks").withJsonContentType().withBody({uris:n,position:(0,Gi.VO)(r)}).withoutMarket().send();case 6:this.emitUpdate(t),this._events.emitOperationComplete(ii.If.ADD,t,null,n.map((function(e){return{uri:e}}))),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),this._events.emitOperationComplete(ii.If.ADD,t,e.t0 instanceof Error?e.t0:new Error("Unknown error object"),n.map((function(e){return{uri:e}})));case 13:case"end":return e.stop()}}),e,this,[[3,10]])}))),function(e,t,n){return d.apply(this,arguments)})},{key:"move",value:(u=(0,i.Z)(o().mark((function e(t,n,r){var i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._events.emitOperationSync(ii.If.MOVE,t,n.map((function(e){return{id:e}})))){e.next=2;break}return e.abrupt("return");case 2:if(1===n.length){e.next=4;break}throw new Error("Exactly one id needs to be supplied for the web implementation.");case 4:return i=(0,Gi.v8)(t),e.prev=5,e.next=8,this._builder.build().withHost(L.H).withMethod("PUT").withPath("/playlists/".concat(i,"/tracks")).withEndpointIdentifier("/playlists/{id}/tracks").withJsonContentType().withBody({range_start:(0,Gi.p1)(n[0]),range_length:1,insert_before:(0,Gi.VO)(r)}).withoutMarket().send();case 8:this.emitUpdate(t),this._events.emitOperationComplete(ii.If.MOVE,t,null,n.map((function(e){return{id:e}}))),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(5),this._events.emitOperationComplete(ii.If.MOVE,t,e.t0 instanceof Error?e.t0:new Error("Unknown error object"),n.map((function(e){return{id:e}})));case 15:case"end":return e.stop()}}),e,this,[[5,12]])}))),function(e,t,n){return u.apply(this,arguments)})},{key:"remove",value:(c=(0,i.Z)(o().mark((function e(t,n){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._events.emitOperationSync(ii.If.REMOVE,t,n)){e.next=2;break}return e.abrupt("return");case 2:return r=(0,Gi.v8)(t),e.prev=3,e.next=6,this._builder.build().withHost(L.H).withMethod("DELETE").withPath("/playlists/".concat(r,"/tracks")).withEndpointIdentifier("/playlists/{id}/tracks").withJsonContentType().withBody({tracks:n.map((function(e){return{uri:e.uri,positions:[(0,Gi.p1)(e.id)]}}))}).withoutMarket().send();case 6:this.emitUpdate(t),this._events.emitOperationComplete(ii.If.REMOVE,t,null,n),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),this._events.emitOperationComplete(ii.If.REMOVE,t,e.t0 instanceof Error?e.t0:new Error("Unknown error object"),n);case 13:case"end":return e.stop()}}),e,this,[[3,10]])}))),function(e,t){return c.apply(this,arguments)})},{key:"uploadImage",value:(l=(0,i.Z)(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,Di.I)(this._builder,t));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return l.apply(this,arguments)})},{key:"updateDetails",value:(s=(0,i.Z)(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._events.emitOperationSync(ii.If.UPDATE,t)){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,(0,ai.b)(this._builder,t,n);case 5:this.emitUpdate(t),this._events.emitOperationComplete(ii.If.UPDATE,t),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),this._events.emitOperationComplete(ii.If.UPDATE,t,e.t0 instanceof Error?e.t0:new Error("Unknown error object"));case 12:case"end":return e.stop()}}),e,this,[[2,9]])}))),function(e,t){return s.apply(this,arguments)})},{key:"setCollaborativeState",value:(a=(0,i.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("Setting collaboration state is not possible with the WebAPI.");case 1:case"end":return e.stop()}}),e)}))),function(){return a.apply(this,arguments)})},{key:"resolvePlaylistFormatURI",value:(r=(0,i.Z)(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,Ri.J)(this._builder,t));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"getRecommendedTracks",value:(n=(0,i.Z)(o().mark((function e(t,n,r){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,oi.A)(this._builder,t,n,r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)}))),function(e,t,r){return n.apply(this,arguments)})},{key:"resync",value:(t=(0,i.Z)(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,Gi.v8)(t),e.next=3,this._cache.delete("metadata:".concat(n));case 3:return e.next=5,this._cache.delete("content:".concat(n));case 5:this.emitUpdate(t);case 6:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),e}(),oa=(n(39575),n(82472),n(48675),n(92990),n(18927),n(33105),n(35035),n(74345),n(7174),n(32846),n(44731),n(77209),n(96319),n(58867),n(37789),n(33739),n(29368),n(14483),n(12056),n(3462),n(30678),n(27462),n(33824),n(55021),n(12974),n(15016),n(37380),n(1118),n(17727),n(5735),n(83753),n(9659)),sa=n(10695),la=n(90782),ca=n(86650),ua=(n(75505),n(87714),n(82801),n(1174),n(86063));function da(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,W.Z)(e);if(t){var i=(0,W.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,G.Z)(this,n)}}var ma=new RegExp(String.raw(na||(na=(0,R.Z)(["hm://playlist/v2/user/.+/rootlist"])))),pa=new RegExp(String.raw(ra||(ra=(0,R.Z)(["hm://playlist/v2/playlist/.+"]))));function fa(e){for(var t=window.atob(e),n=new Uint8Array(t.length),r=0;r<t.length;++r)n[r]=t.charCodeAt(r);return n}function va(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return void 0!==e.ops.find((function(e){var t,r=null===(t=e.updateListAttributes)||void 0===t?void 0:t.newAttributes;return void 0!==r&&n.some((function(e){return!r.noValue.includes(e)}))}))}var ga=function(e){(0,H.Z)(s,e);var t,n,r,a=da(s);function s(e,t){var n;return(0,O.Z)(this,s),(n=a.call(this))._transport=e,n._contains=t,n}return(0,C.Z)(s,[{key:"subscribeToUpdates",value:function(){this._transport.matchMessages(ma,this.onRootlistMessage.bind(this),p.DEALER_PLUGIN_NAME),this._transport.matchMessages(pa,this.onPlaylistMessage.bind(this),p.DEALER_PLUGIN_NAME)}},{key:"unsubscribeFromUpdates",value:function(){this._transport.unmatchMessages(ma,this.onRootlistMessage.bind(this),p.DEALER_PLUGIN_NAME),this._transport.unmatchMessages(pa,this.onPlaylistMessage.bind(this),p.DEALER_PLUGIN_NAME)}},{key:"onRootlistMessage",value:(r=(0,i.Z)(o().mark((function e(t){var n,r,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==(r=null==t||null===(n=t.payloads)||void 0===n?void 0:n[0])){e.next=3;break}return e.abrupt("return");case 3:i=qi.pS.bu.decode(fa(r)),this.emitSync(ca.Yt.UPDATE,{revision:i.parentRevision,newRevision:i.newRevision}),this.onContainsItems(this._aggregator.getBatch());case 6:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"onPlaylistMessage",value:(n=(0,i.Z)(o().mark((function e(t){var n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==(r=null==t||null===(n=t.payloads)||void 0===n?void 0:n[0])){e.next=3;break}return e.abrupt("return");case 3:va(qi.pS.mn.decode(fa(r)),qi._c.LIST_NAME,qi._c.LIST_COLLABORATIVE)&&this.emit(ca.Yt.UPDATE,null);case 5:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"onContainsItems",value:(t=(0,i.Z)(o().mark((function e(t){var n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.size>0)){e.next=6;break}return n=Array.from(t.keys()),e.next=4,this._contains(n);case 4:r=e.sent,this.emitUpdateItems(n,r);case 6:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),s}(ua.w),ha=n(85323);function ya(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ka(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ya(Object(n),!0).forEach((function(t){(0,E.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ya(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ea(e,t){return ba.apply(this,arguments)}function ba(){return ba=(0,i.Z)(o().mark((function e(t,n){var r,i,a=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]?a[2]:null,e.next=3,t.build().withHost(L.fe).withMethod("GET").withPath("/user/".concat(encodeURIComponent(n),"/rootlist")).withEndpointIdentifier("/user/{username}/rootlist").withoutMarket().withQueryParameters(ka({decorate:"revision,length,attributes,timestamp,owner"},null!==r?{revision:(0,Gi.oJ)(r)}:{bustCache:Date.now()})).send();case 3:return i=e.sent,e.abrupt("return",qi.hA.fromJSON(i.body));case 5:case"end":return e.stop()}}),e)}))),ba.apply(this,arguments)}function _a(e,t,n,r){return Sa.apply(this,arguments)}function Sa(){return(Sa=(0,i.Z)(o().mark((function e(t,n,r,i){var a,s,l;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=qi.ow.toJSON({baseRevision:r,deltas:[i],wantResultingRevisions:!1,wantSyncResult:!1,nonces:[]}),e.next=3,t.build().withMethod("POST").withHost(L.fe).withPath("/user/".concat(encodeURIComponent(n),"/rootlist/changes")).withEndpointIdentifier("/user/{username}/rootlist/changes").withoutMarket().withJsonContentType().withBody(a).send();case 3:return s=e.sent,l=qi.hA.fromJSON(s.body),e.abrupt("return",l.revision);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var wa={revision:new Uint8Array,length:0,attributes:void 0,contents:void 0,diff:void 0,syncResult:void 0,resultingRevisions:[],multipleHeads:!1,upToDate:!1,nonces:[],timestamp:"",ownerUsername:"",abuseReportingEnabled:!1,capabilities:void 0},Na={type:"folder",id:"",uid:null,uri:"",addedAt:null,name:"",items:[],hash:"",rawItemCount:0},Oa=function(){function e(t,n,r,i){var a=this;(0,O.Z)(this,e),(0,E.Z)(this,"_cache",null),(0,E.Z)(this,"_decorationCache",new We.Ct(3e5)),(0,E.Z)(this,"_fetchContentsPromise",null),(0,E.Z)(this,"_applyDeltaPromise",null),this._builder=t,this._username=r,this._isAnonymous=i,this._events=new ga(n,this.contains.bind(this)),this._events.addListener(ca.Yt.UPDATE,(function(e){null!==e.data&&null!==a._cache?a.fetchContents(e.data.newRevision):a._cache=null}))}var t,n,r,a,s,l,c,u,d,m,p,f,v,g,h,y,k;return(0,C.Z)(e,[{key:"getCapabilities",value:function(){return{canSort:!1,canFilter:!1,canModifyOffline:!1}}},{key:"getUsername",value:function(){if(null===this._username)throw new Error("RootlistAPI is not available for anonymous users!");return this._username}},{key:"fetchContents",value:(k=(0,i.Z)(o().mark((function e(){var t,n,r=this,i=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=i.length>0&&void 0!==i[0]?i[0]:null,!this._fetchContentsPromise){e.next=5;break}return e.next=4,this._fetchContentsPromise;case 4:return e.abrupt("return",e.sent);case 5:if(!this._isAnonymous){e.next=7;break}return e.abrupt("return",Promise.resolve({data:wa,tree:Na}));case 7:if(n=this.getUsername(),!(null===this._cache||null!==t&&(0,Gi.jJ)(t)>(0,Gi.jJ)(this._cache.data.revision))){e.next=13;break}return this._fetchContentsPromise=new Promise((function(e,i){Ea(r._builder,n,t).then((function(t){var r=new sa.cm(n).build(t);e({data:t,tree:r})})).catch(i)})).finally((function(){r._fetchContentsPromise=null})),e.next=12,this._fetchContentsPromise;case 12:this._cache=e.sent;case 13:return e.abrupt("return",this._cache);case 14:case"end":return e.stop()}}),e,this)}))),function(){return k.apply(this,arguments)})},{key:"applyDelta",value:(y=(0,i.Z)(o().mark((function e(t){var n=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._cache){e.next=2;break}throw new Error("Refusing to apply delta without base revision!");case 2:if(null===this._applyDeltaPromise){e.next=4;break}throw new Error("Refusing to apply multiple deltas at the same time!");case 4:return this._applyDeltaPromise=_a(this._builder,this.getUsername(),this._cache.data.revision,t).then(function(){var e=(0,i.Z)(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.fetchContents(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).finally((function(){n._applyDeltaPromise=null})),e.abrupt("return",this._applyDeltaPromise);case 6:case"end":return e.stop()}}),e,this)}))),function(e){return y.apply(this,arguments)})},{key:"waitForPendingDelta",value:(h=(0,i.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._applyDeltaPromise){e.next=3;break}return e.next=3,this._applyDeltaPromise;case 3:case"end":return e.stop()}}),e,this)}))),function(){return h.apply(this,arguments)})},{key:"getRootNode",value:(g=(0,i.Z)(o().mark((function e(){var t,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetchContents();case 2:return t=e.sent,n=t.tree,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)}))),function(){return g.apply(this,arguments)})},{key:"getFolderNode",value:(v=(0,i.Z)(o().mark((function e(t){var n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.folderUri){e.next=2;break}throw new Error("Folder URI not provided!");case 2:return e.next=4,this.getRootNode();case 4:if(n=e.sent,null!==(r=(0,sa.r_)(n,t.folderUri))){e.next=8;break}throw new Error("Folder not found!");case 8:return e.abrupt("return",r);case 9:case"end":return e.stop()}}),e,this)}))),function(e){return v.apply(this,arguments)})},{key:"emitUpdate",value:function(){this._events.emit(ca.Yt.UPDATE,null)}},{key:"getEvents",value:function(){return this._events}},{key:"getMetadata",value:(f=(0,i.Z)(o().mark((function e(){var t,n,r,i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.waitForPendingDelta();case 2:return e.next=4,this.getRootNode();case 4:for(t=e.sent,n=(0,N.Z)(t.items),r=0,i=0;n.length>0;)a=n[0],(0,oa.lU)(a)?n.push.apply(n,(0,N.Z)(a.items)):((0,oa.no)(a)&&a.isOwnedBySelf&&r++,i++),n.shift();return e.abrupt("return",{ownedPlaylistCount:r,playlistCount:i});case 10:case"end":return e.stop()}}),e,this)}))),function(){return f.apply(this,arguments)})},{key:"getContents",value:(p=(0,i.Z)(o().mark((function e(t){var n,r,i,a,s,l;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.waitForPendingDelta();case 2:return e.next=4,null!=t&&t.folderUri?this.getFolderNode(t):this.getRootNode();case 4:if(r=e.sent,null!=t&&t.flatten?(a=(0,sa.fK)(r),i=ka(ka({},a),{},{totalItemCount:a.items.length})):i=ka(ka({},r),{},{totalItemCount:r.items.length}),s=null!==(n=null==t?void 0:t.offset)&&void 0!==n?n:0,l=null!=t&&t.limit?s+t.limit:void 0,i.items=i.items.slice(s,l),null==t||!t.decorateImagesAndOwner){e.next=12;break}return e.next=12,(0,ha.H)(this._builder,this._decorationCache,(0,sa.qr)(i));case 12:return e.abrupt("return",i);case 13:case"end":return e.stop()}}),e,this)}))),function(e){return p.apply(this,arguments)})},{key:"renameFolder",value:(m=(0,i.Z)(o().mark((function e(t,n){var r,i,a,s,l;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetchContents();case 2:return r=e.sent,i=r.data,e.next=6,this.getFolderNode({folderUri:t.uri});case 6:return a=e.sent,s=(0,Gi.p1)(t.id),l=new la.D(i.length).remove(s).add(s,["spotify:start-group:".concat(a.hash,":").concat((0,Gi.fH)(n))]).build(),e.next=11,this.applyDelta(l);case 11:this.emitUpdate();case 12:case"end":return e.stop()}}),e,this)}))),function(e,t){return m.apply(this,arguments)})},{key:"createFolder",value:(d=(0,i.Z)(o().mark((function e(t,n){var r,i,a,s,l;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetchContents();case 2:return r=e.sent,i=r.data,a=(0,Gi.qd)(8),s=(0,Gi.VO)(n,i.length),l=new la.D(i.length).add(s,["spotify:start-group:".concat(a,":").concat((0,Gi.fH)(t)),"spotify:end-group:".concat(a)]).build(),e.next=9,this.applyDelta(l);case 9:this.emitUpdate();case 10:case"end":return e.stop()}}),e,this)}))),function(e,t){return d.apply(this,arguments)})},{key:"moveFolder",value:(u=(0,i.Z)(o().mark((function e(t,n){var r,i,a,s,l,c,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetchContents();case 2:return r=e.sent,i=r.data,e.next=6,this.getFolderNode({folderUri:t.uri});case 6:if(a=e.sent,s=(0,Gi.p1)(t.id),l=(0,Gi.VO)(n,i.length),c=a.rawItemCount,!(l>=s&&l<s+c)){e.next=12;break}throw new Error("Refusing to move folder inside itself!");case 12:if((0,sa.UC)(i,s)&&(0,sa.BW)(i,s+c-1)){e.next=14;break}throw new Error("Verification of group markers failed!");case 14:return u=new la.D(i.length).move(s,l,c).build(),e.next=17,this.applyDelta(u);case 17:this.emitUpdate();case 18:case"end":return e.stop()}}),e,this)}))),function(e,t){return u.apply(this,arguments)})},{key:"removeFolder",value:(c=(0,i.Z)(o().mark((function e(t){var n,r,i,a,s,l;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetchContents();case 2:return n=e.sent,r=n.data,e.next=6,this.getFolderNode({folderUri:t});case 6:if(i=e.sent,a=(0,Gi.p1)(i.id),s=i.rawItemCount,(0,sa.UC)(r,a)&&(0,sa.BW)(r,a+s-1)){e.next=11;break}throw new Error("Verification of group markers failed!");case 11:return l=new la.D(r.length).remove(a,s).build(),e.next=14,this.applyDelta(l);case 14:this.emitUpdate();case 15:case"end":return e.stop()}}),e,this)}))),function(e){return c.apply(this,arguments)})},{key:"createPlaylist",value:(l=(0,i.Z)(o().mark((function e(t,n){var r,i,a,s,l,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._events.emitOperationSync(ca.aY.CREATE_PLAYLIST,[])){e.next=2;break}return e.abrupt("return","");case 2:return e.prev=2,e.next=5,this.fetchContents();case 5:return r=e.sent,i=r.data,a=new la.D(i.length).updateListAttributes({newAttributes:{values:{name:t}}}).build(),e.next=10,this._builder.build().withMethod("POST").withHost(L.fe).withPath("/playlist").withEndpointIdentifier("/playlist").withoutMarket().withJsonContentType().withBody({ops:a.ops}).send();case 10:return s=e.sent,l=qi.B3.fromJSON(s.body),c=l.uri,e.next=14,this.add([c],n);case 14:return this._events.emitOperationComplete(ca.aY.CREATE_PLAYLIST,[c]),e.abrupt("return",c);case 18:throw e.prev=18,e.t0=e.catch(2),this._events.emitOperationComplete(ca.aY.CREATE_PLAYLIST,[],e.t0 instanceof Error?e.t0:new Error("Unknown error object")),e.t0;case 22:case"end":return e.stop()}}),e,this,[[2,18]])}))),function(e,t){return l.apply(this,arguments)})},{key:"add",value:(s=(0,i.Z)(o().mark((function e(t,n){var r,i,a,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._events.emitOperationSync(ca.aY.ADD,t)){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.fetchContents();case 5:return r=e.sent,i=r.data,a=(0,Gi.VO)(n,i.length),s=new la.D(i.length).add(a,t).build(),e.next=11,this.applyDelta(s);case 11:this.emitUpdate(),this._events.emitOperationComplete(ca.aY.ADD,t),e.next=19;break;case 15:throw e.prev=15,e.t0=e.catch(2),this._events.emitOperationComplete(ca.aY.ADD,t,e.t0 instanceof Error?e.t0:new Error("Unknown error object")),e.t0;case 19:case"end":return e.stop()}}),e,this,[[2,15]])}))),function(e,t){return s.apply(this,arguments)})},{key:"move",value:(a=(0,i.Z)(o().mark((function e(t,n){var r,i,a,s,l;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetchContents();case 2:if(r=e.sent,i=r.data,a=(0,Gi.p1)(t),(s=(0,Gi.VO)(n,i.length))!==a&&s!==a+1){e.next=8;break}return e.abrupt("return");case 8:if(!(0,sa.UC)(i,a)&&!(0,sa.BW)(i,a)){e.next=10;break}throw new Error("Refusing to move folder marker by itself!");case 10:return l=new la.D(i.length).move(a,s).build(),e.next=13,this.applyDelta(l);case 13:this.emitUpdate();case 14:case"end":return e.stop()}}),e,this)}))),function(e,t){return a.apply(this,arguments)})},{key:"remove",value:(r=(0,i.Z)(o().mark((function e(t){var n,r,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._events.emitOperationSync(ca.aY.REMOVE,t)){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.fetchContents();case 5:return n=e.sent,r=n.data,i=new la.D(r.length).removeURIs(t).build(),e.next=10,this.applyDelta(i);case 10:this.emitUpdate(),this._events.emitOperationComplete(ca.aY.REMOVE,t),e.next=18;break;case 14:throw e.prev=14,e.t0=e.catch(2),this._events.emitOperationComplete(ca.aY.REMOVE,t,e.t0 instanceof Error?e.t0:new Error("Unknown error object")),e.t0;case 18:case"end":return e.stop()}}),e,this,[[2,14]])}))),function(e){return r.apply(this,arguments)})},{key:"contains",value:(n=(0,i.Z)(o().mark((function e(t){var n,r,i,a,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.waitForPendingDelta();case 2:return e.next=4,this.fetchContents();case 4:return r=e.sent,i=r.data,a=(null===(n=i.contents)||void 0===n?void 0:n.items)||[],s=new Set(a.map((function(e){return e.uri}))),e.abrupt("return",t.map((function(e){return s.has(e)})));case 9:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"containsSync",value:function(e){var t,n,r=null===(t=this._cache)||void 0===t||null===(n=t.data.contents)||void 0===n?void 0:n.items;return r?void 0!==r.find((function(t){return t.uri===e})):void 0}},{key:"setPublishedState",value:(t=(0,i.Z)(o().mark((function e(t,n){var r,i,a,s,l;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.waitForPendingDelta();case 2:return e.next=4,this.fetchContents();case 4:return i=e.sent,a=i.data,s=null===(r=a.contents)||void 0===r?void 0:r.items.findIndex((function(e){return e.uri===t})),l=new la.D(a.length).updateItemAttributes({newAttributes:{values:{public:n}},index:s}).build(),e.next=10,this.applyDelta(l);case 10:this.emitUpdate();case 11:case"end":return e.stop()}}),e,this)}))),function(e,n){return t.apply(this,arguments)})}]),e}(),Ca=(n(2707),n(40561),n(27852),n(11268)),Ta=Spicetify.GraphQL.Definitions["fetchArtistForRecentlyPlayed"]={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"fetchArtistForRecentlyPlayed"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uri"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"artistUnion"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uri"},value:{kind:"Variable",name:{kind:"Name",value:"uri"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Artist"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"profile"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"visuals"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"avatarImage"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}}]}}]}}]}}]}}]},Ia=Spicetify.GraphQL.Definitions["fetchAlbumForRecentlyPlayed"]={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"fetchAlbumForRecentlyPlayed"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uri"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"albumUnion"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uri"},value:{kind:"Variable",name:{kind:"Name",value:"uri"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Album"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"artists"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"profile"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]}}]}}]}}]}}]},Aa=Spicetify.GraphQL.Definitions["fetchTrackForRecentlyPlayed"]={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"fetchTrackForRecentlyPlayed"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uri"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"trackUnion"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uri"},value:{kind:"Variable",name:{kind:"Name",value:"uri"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Track"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"albumOfTrack"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"artists"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"profile"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"contentRating"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"label"}}]}}]}}]}}]}}]},Pa=Spicetify.GraphQL.Definitions["fetchEpisodeOrChapterForRecentlyPlayed"]={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"fetchEpisodeOrChapterForRecentlyPlayed"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uri"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"episodeUnionV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uri"},value:{kind:"Variable",name:{kind:"Name",value:"uri"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Episode"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"podcastV2"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Podcast"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"publisher"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]}}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Chapter"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"audiobookV2"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Audiobook"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"authors"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]}}]}}]}}]}}]}}]},Da=Spicetify.GraphQL.Definitions["fetchShowOrAudiobookForRecentlyPlayed"]={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"fetchShowOrAudiobookForRecentlyPlayed"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uri"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"podcastUnionV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uri"},value:{kind:"Variable",name:{kind:"Name",value:"uri"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Podcast"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"publisher"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Audiobook"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"authors"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]}}]}}]},Ra=Spicetify.GraphQL.Definitions["fetchPlaylistForRecentlyPlayed"]={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"fetchPlaylistForRecentlyPlayed"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uri"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"playlistUnion"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uri"},value:{kind:"Variable",name:{kind:"Name",value:"uri"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Playlist"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"images"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"description"}},{kind:"Field",name:{kind:"Name",value:"owner"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"username"}},{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]}}]}}]};function xa(e,t,n){return La.apply(this,arguments)}function La(){return(La=(0,i.Z)(o().mark((function e(t,n,r){var i,a,s,l;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(Ta,{uri:n});case 2:if(s=e.sent,"Artist"===(null==(l=null==s?void 0:s.data.artistUnion)?void 0:l.__typename)){e.next=6;break}throw new Error("Error fetching artist entity for URI ".concat(n));case 6:return e.abrupt("return",{type:Ca.hn.ARTIST,uri:n,name:l.profile.name,images:null!==(i=null===(a=l.visuals.avatarImage)||void 0===a?void 0:a.sources.map((function(e){return{url:e.url,width:e.width,height:e.height}})))&&void 0!==i?i:[],timestampMs:r});case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Fa(e,t,n){return Ua.apply(this,arguments)}function Ua(){return(Ua=(0,i.Z)(o().mark((function e(t,n,r){var i,a,s,l;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(Ia,{uri:n});case 2:if(s=e.sent,"Album"===(null==(l=null==s?void 0:s.data.albumUnion)?void 0:l.__typename)){e.next=6;break}throw new Error("Error fetching album entity for URI ".concat(n));case 6:return e.abrupt("return",{type:Ca.hn.ALBUM,uri:n,name:l.name,images:null!==(i=null===(a=l.coverArt)||void 0===a?void 0:a.sources.map((function(e){return{url:e.url,width:e.width,height:e.height}})))&&void 0!==i?i:[],artists:l.artists.items.map((function(e){return{uri:e.uri,name:e.profile.name}})),timestampMs:r});case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Za(e,t,n){return Ma.apply(this,arguments)}function Ma(){return(Ma=(0,i.Z)(o().mark((function e(t,n,r){var i,a,s,l,c,u,d;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(Aa,{uri:n});case 2:if(u=e.sent,"Track"===(null==(d=null==u?void 0:u.data.trackUnion)?void 0:d.__typename)){e.next=6;break}throw new Error("Error fetching show entity for URI ".concat(n));case 6:return e.abrupt("return",{type:Ca.hn.TRACK,uri:n,name:d.name,images:null!==(i=null===(a=d.albumOfTrack)||void 0===a||null===(s=a.coverArt)||void 0===s?void 0:s.sources.map((function(e){return{url:e.url,width:e.width,height:e.height}})))&&void 0!==i?i:[],artists:d.artists.items.map((function(e){return{uri:e.uri,name:e.profile.name}})),isExplicit:(null===(l=d.contentRating)||void 0===l?void 0:l.label)===Ei.KS.Explicit,isMOGEFRestricted:(null===(c=d.contentRating)||void 0===c?void 0:c.label)===Ei.KS.NineteenPlus,timestampMs:r});case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ba(e,t,n){return ja.apply(this,arguments)}function ja(){return(ja=(0,i.Z)(o().mark((function e(t,n,r){var i,a,s,l,c,u,d,m,p,f;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(Da,{uri:n});case 2:if(i=e.sent,"Podcast"!==(null==(a=null==i?void 0:i.data.podcastUnionV2)?void 0:a.__typename)){e.next=8;break}return e.abrupt("return",{type:Ca.hn.SHOW,uri:n,name:a.name,images:null!==(s=null===(l=a.coverArt)||void 0===l?void 0:l.sources.map((function(e){return{url:e.url,width:e.width,height:e.height}})))&&void 0!==s?s:[],publisher:null!==(c=null===(u=a.publisher)||void 0===u?void 0:u.name)&&void 0!==c?c:"",timestampMs:r});case 8:if("Audiobook"!==(null==a?void 0:a.__typename)){e.next=10;break}return e.abrupt("return",{type:Ca.hn.AUDIOBOOK,uri:n,name:a.name,images:null!==(d=null===(m=a.coverArt)||void 0===m?void 0:m.sources.map((function(e){return{url:e.url,width:e.width,height:e.height}})))&&void 0!==d?d:[],authors:null!==(p=null===(f=a.authors)||void 0===f?void 0:f.map((function(e){var t;return null!==(t=null==e?void 0:e.name)&&void 0!==t?t:""})))&&void 0!==p?p:[],timestampMs:r});case 10:throw new Error("Error fetching show entity for URI ".concat(n));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Va(e,t,n){return Ha.apply(this,arguments)}function Ha(){return Ha=(0,i.Z)(o().mark((function e(t,n,r){var i,a,s,l,c,u,d,m,p,f,v,g;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(Pa,{uri:n});case 2:if(i=e.sent,"Episode"!==(null==(a=null==i?void 0:i.data.episodeUnionV2)?void 0:a.__typename)){e.next=11;break}if("Podcast"===(d=a.podcastV2.data).__typename){e.next=8;break}throw new Error("Error fetching show entity for URI ".concat(n));case 8:return e.abrupt("return",{type:Ca.hn.SHOW,uri:d.uri,name:d.name,images:null!==(s=null===(l=d.coverArt)||void 0===l?void 0:l.sources.map((function(e){return{url:e.url,width:e.width,height:e.height}})))&&void 0!==s?s:[],publisher:null!==(c=null===(u=d.publisher)||void 0===u?void 0:u.name)&&void 0!==c?c:"",timestampMs:r});case 11:if("Chapter"!==(null==a?void 0:a.__typename)){e.next=16;break}if("Audiobook"===(g=a.audiobookV2.data).__typename){e.next=15;break}throw new Error("Error fetching show entity for URI ".concat(n));case 15:return e.abrupt("return",{type:Ca.hn.AUDIOBOOK,uri:g.uri,name:g.name,images:null!==(m=null===(p=g.coverArt)||void 0===p?void 0:p.sources.map((function(e){return{url:e.url,width:e.width,height:e.height}})))&&void 0!==m?m:[],authors:null!==(f=null===(v=g.authors)||void 0===v?void 0:v.map((function(e){var t;return null!==(t=null==e?void 0:e.name)&&void 0!==t?t:""})))&&void 0!==f?f:[],timestampMs:r});case 16:throw new Error("Error fetching show entity for URI ".concat(n));case 17:case"end":return e.stop()}}),e)}))),Ha.apply(this,arguments)}function Ga(e,t,n){return Wa.apply(this,arguments)}function Wa(){return(Wa=(0,i.Z)(o().mark((function e(t,n,r){var i,a,s,l,c,u,d,m,p,f;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(Ra,{uri:n});case 2:if(p=e.sent,"Playlist"===(null==(f=null==p?void 0:p.data.playlistUnion)?void 0:f.__typename)){e.next=6;break}throw new Error("Error fetching playlist entity for URI ".concat(n));case 6:return e.abrupt("return",{type:Ca.hn.PLAYLIST,uri:n,name:f.name,images:null!==(i=f.images.items[0].sources.map((function(e){return{url:e.url,width:e.width,height:e.height}})))&&void 0!==i?i:[],description:null!==(a=f.description)&&void 0!==a?a:"",owner:{uri:null!==(s=null===(l=f.owner)||void 0===l?void 0:l.uri)&&void 0!==s?s:"",displayName:null!==(c=null!==(u=null===(d=f.owner)||void 0===d?void 0:d.name)&&void 0!==u?u:null===(m=f.owner)||void 0===m?void 0:m.username)&&void 0!==c?c:""},timestampMs:r});case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function za(e,t,n){return Ka.apply(this,arguments)}function Ka(){return(Ka=(0,i.Z)(o().mark((function e(t,n,r){var i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==(i=d().from(n))&&i.type===d().Type.RADIO&&void 0!==i.args&&0!==i.args.length){e.next=3;break}throw new Error("Invalid radio URI ".concat(n));case 3:return e.abrupt("return",Ya(t,d().stationURI(i.args).toURI(),r));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ya(e,t,n){return qa.apply(this,arguments)}function qa(){return(qa=(0,i.Z)(o().mark((function e(t,n,i){var a,s,l,c,u,m,p,f,v;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==(s=d().from(n))&&s.type===d().Type.STATION&&2===(null===(a=s.args)||void 0===a?void 0:a.length)){e.next=3;break}throw new Error("Invalid station URI ".concat(n));case 3:c=(0,r.Z)(s.args,2),u=c[0],m=c[1],e.t0=u,e.next=e.t0===d().Type.ARTIST?7:e.t0===d().Type.ALBUM?9:e.t0===d().Type.PLAYLIST?11:13;break;case 7:return l=function(){return xa(t,d().artistURI(m).toURI(),i)},e.abrupt("break",14);case 9:return l=function(){return Fa(t,d().albumURI(m).toURI(),i)},e.abrupt("break",14);case 11:return l=function(){return Ga(t,d().playlistV2URI(m).toURI(),i)},e.abrupt("break",14);case 13:throw new Error("Unsupported station type ".concat(u));case 14:return e.next=16,l();case 16:return p=e.sent,f=p.name,v=p.images,e.abrupt("return",{type:Ca.hn.RADIO,uri:n,name:f,images:v,timestampMs:i});case 20:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Qa(e,t,n){return Ja.apply(this,arguments)}function Ja(){return(Ja=(0,i.Z)(o().mark((function e(t,n,r){var i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!d().isCollection(n)){e.next=2;break}return e.abrupt("return",{type:n.endsWith("your-episodes")?Ca.hn.YOUR_EPISODES:Ca.hn.LIKED_SONGS,uri:n,timestampMs:r});case 2:i=d().from(n),e.t0=null==i?void 0:i.type,e.next=e.t0===d().Type.ARTIST?6:e.t0===d().Type.ALBUM?7:e.t0===d().Type.SHOW?8:e.t0===d().Type.TRACK?9:e.t0===d().Type.EPISODE?10:e.t0===d().Type.PLAYLIST||e.t0===d().Type.PLAYLIST_V2?11:e.t0===d().Type.RADIO?12:e.t0===d().Type.STATION?13:14;break;case 6:return e.abrupt("return",xa(t,n,r));case 7:return e.abrupt("return",Fa(t,n,r));case 8:return e.abrupt("return",Ba(t,n,r));case 9:return e.abrupt("return",Za(t,n,r));case 10:return e.abrupt("return",Va(t,n,r));case 11:return e.abrupt("return",Ga(t,n,r));case 12:return e.abrupt("return",za(t,n,r));case 13:return e.abrupt("return",Ya(t,n,r));case 14:return e.abrupt("return",null);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Xa=n(23384);function $a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function eo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$a(Object(n),!0).forEach((function(t){(0,E.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function to(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,W.Z)(e);if(t){var i=(0,W.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,G.Z)(this,n)}}function no(e,t){return ro.apply(this,arguments)}function ro(){return(ro=(0,i.Z)(o().mark((function e(t,n){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.build().withMethod("GET").withHost(L.No).withPath("/user/".concat(encodeURIComponent(n),"/recently-played")).withQueryParameters({format:"json",offset:0,limit:50,filter:"default,collection-new-episodes"}).withEndpointIdentifier("/user/{userId}/recently-played").send();case 2:return r=e.sent,e.abrupt("return",r.body);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function io(e){return ao.apply(this,arguments)}function ao(){return(ao=(0,i.Z)(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.build().withMethod("GET").withHost(L.H).withPath("/views/recently-played").withQueryParameters({offset:0,limit:50,types:"artist,album,show,playlist,station,collection,track"}).withEndpointIdentifier("/views/recently-played").send();case 2:return n=e.sent,e.abrupt("return",n.body);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function oo(e,t,n){return so.apply(this,arguments)}function so(){return so=(0,i.Z)(o().mark((function e(t,n,a){var s,l,c,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([no(t,a),io(t)]);case 2:return s=e.sent,l=(0,r.Z)(s,2),c=l[0],u=l[1],e.next=8,Promise.all(c.playContexts.map(function(){var e=(0,i.Z)(o().mark((function e(t){var r,i,a,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.uri,i=t.lastPlayedTime,a=d().from(r),void 0!==(s=u.content.items.find((function(e){var t;return null!==(t=null==a?void 0:a.isSameIdentity(e.uri))&&void 0!==t&&t})))){e.next=5;break}return e.abrupt("return",Qa(n,r,i));case 5:e.t0=s.type,e.next="artist"===e.t0?8:"album"===e.t0?9:"show"===e.t0?10:"playlist"===e.t0?11:"station"===e.t0?12:"link"===e.t0?13:16;break;case 8:return e.abrupt("return",{type:Ca.hn.ARTIST,uri:s.uri,name:s.name,images:s.images,timestampMs:i});case 9:return e.abrupt("return",{type:Ca.hn.ALBUM,uri:s.uri,name:s.name,images:s.images,timestampMs:i,artists:s.artists});case 10:return e.abrupt("return",{type:Ca.hn.SHOW,uri:s.uri,name:s.name,images:s.images,timestampMs:i,publisher:s.publisher});case 11:return e.abrupt("return",{type:Ca.hn.PLAYLIST,uri:s.uri,name:s.name,images:s.images,timestampMs:i,description:s.description,owner:{uri:s.owner.uri,displayName:s.owner.display_name?s.owner.display_name:s.owner.id}});case 12:return e.abrupt("return",{type:Ca.hn.RADIO,uri:s.uri,name:s.name,images:s.images,timestampMs:i});case 13:if(!d().isCollection(r)){e.next=15;break}return e.abrupt("return",{type:r.endsWith("your-episodes")?Ca.hn.YOUR_EPISODES:Ca.hn.LIKED_SONGS,uri:s.uri,timestampMs:i});case 15:case 16:return e.abrupt("return",null);case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 8:return e.abrupt("return",e.sent.filter((function(e){return null!==e})));case 9:case"end":return e.stop()}}),e)}))),so.apply(this,arguments)}function lo(e,t){return Array.from(e.concat(null!=t?t:[]).reduce((function(e,t){var n=t.uri;d().isPlaylistV1(n)&&(n=d().playlistV2URI(d().from(n).getBase62Id()).toURI());var r=e.get(n);return(void 0===r||r.timestampMs<t.timestampMs)&&e.set(n,t),e}),new Map).values()).sort((function(e,t){return t.timestampMs-e.timestampMs}))}var co=function(e){(0,H.Z)(s,e);var t,n,a=to(s);function s(e,t,n,r){var i;return(0,O.Z)(this,s),i=a.call(this),(0,E.Z)((0,si.Z)(i),"_localContexts",[]),(0,E.Z)((0,si.Z)(i),"_remoteContexts",null),(0,E.Z)((0,si.Z)(i),"_inFlightCache",new We.tL),(0,E.Z)((0,si.Z)(i),"_listeners",0),(0,E.Z)((0,si.Z)(i),"_shouldRefresh",!1),(0,E.Z)((0,si.Z)(i),"_lastContextURI",null),i._request=t,i._builder=n,i._username=r,i.onAddListener(Ca.$f.UPDATE,(function(){i._listeners++})),i.onRemoveListener(Ca.$f.UPDATE,(function(){i._listeners--})),window.addEventListener("visibilitychange",(function(){document.hidden||(0!==i._listeners?i.refresh():i._shouldRefresh=!0)})),window.addEventListener("online",(function(){navigator.onLine&&(0!==i._listeners?i.refresh():i._shouldRefresh=!0)})),e.getEvents().addListener(Ie.rg.UPDATE,(function(e){var t=e.data;i.onPlayerStateUpdate(t)})),i}return(0,C.Z)(s,[{key:"onPlayerStateUpdate",value:(n=(0,i.Z)(o().mark((function e(t){var n,a,s,l,c,u,d,m,p,f,v,g=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==(s=null!==(n=null==t?void 0:t.context.uri)&&void 0!==n?n:null)&&s!==this._lastContextURI){e.next=3;break}return e.abrupt("return");case 3:if(this._lastContextURI=s,-1===(l=this._localContexts.findIndex((function(e){return e.uri===s})))){e.next=10;break}c=this._localContexts.splice(l,1),u=(0,r.Z)(c,1),d=u[0],this._localContexts.unshift(eo(eo({},d),{},{timestampMs:Date.now()})),e.next=16;break;case 10:return e.next=12,this._inFlightCache.create(s,(0,i.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qa(g._request,s,Date.now());case 2:return e.t0=e.sent,e.abrupt("return",[e.t0]);case 4:case"end":return e.stop()}}),e)}))));case 12:m=e.sent,p=(0,r.Z)(m,1),(f=p[0])&&this._localContexts.unshift(f);case 16:v=lo(this._localContexts,null!==(a=this._remoteContexts)&&void 0!==a?a:[]),this.emit(Ca.$f.UPDATE,v);case 18:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"refresh",value:(t=(0,i.Z)(o().mark((function e(){var t,n,r,i=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._username){e.next=2;break}return e.abrupt("return");case 2:return t=this._username,e.next=5,this._inFlightCache.create(s.REMOTE_CONTEXTS_CACHE_KEY,(function(){return oo(i._builder,i._request,t)}));case 5:n=e.sent,this._remoteContexts=n.filter(Xa.K),r=lo(this._localContexts,this._remoteContexts),this.emit(Ca.$f.UPDATE,r);case 9:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"getContexts",value:function(){var e;return(null===this._remoteContexts||this._shouldRefresh)&&(this._shouldRefresh=!1,this.refresh()),0===this._localContexts.length&&null===this._remoteContexts?null:lo(this._localContexts,null!==(e=this._remoteContexts)&&void 0!==e?e:[])}}]),s}(Ca.sw);(0,E.Z)(co,"REMOTE_CONTEXTS_CACHE_KEY","remote-contexts");var uo=n(83910),mo=n(10897),po=n(33220),fo=n(95957),vo=n(18978),go=n(31979),ho=(0,po.hh)(fo.H).addMiddleware(uo.a).addMiddleware(mo.d).addMiddleware(vo.Q).addMiddleware(go.Y),yo=n(67691),ko=Spicetify.GraphQL.Definitions["queryShowAccessInfo"]={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"queryShowAccessInfo"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uri"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"podcastUnionV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uri"},value:{kind:"Variable",name:{kind:"Name",value:"uri"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Podcast"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"accessExplanation"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UpsellAccessExplanation"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"actionText"}},{kind:"Field",name:{kind:"Name",value:"body"}},{kind:"Field",name:{kind:"Name",value:"title"}},{kind:"Field",name:{kind:"Name",value:"url"}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"BasicAccessExplanation"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"actionText"}},{kind:"Field",name:{kind:"Name",value:"body"}},{kind:"Field",name:{kind:"Name",value:"title"}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MultiPassAccessExplanation"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"body"}},{kind:"Field",name:{kind:"Name",value:"title"}},{kind:"Field",name:{kind:"Name",value:"soaPartners"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"soaPartners"}}]}}]}}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Audiobook"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"accessExplanation"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UpsellAccessExplanation"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"actionText"}},{kind:"Field",name:{kind:"Name",value:"body"}},{kind:"Field",name:{kind:"Name",value:"title"}},{kind:"Field",name:{kind:"Name",value:"url"}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"BasicAccessExplanation"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"actionText"}},{kind:"Field",name:{kind:"Name",value:"body"}},{kind:"Field",name:{kind:"Name",value:"title"}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MultiPassAccessExplanation"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"body"}},{kind:"Field",name:{kind:"Name",value:"title"}},{kind:"Field",name:{kind:"Name",value:"soaPartners"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"soaPartners"}}]}}]}}]}}]}}]}}]}}].concat((0,N.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"soaPartners"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"SOAPartner"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"displayName"}},{kind:"Field",name:{kind:"Name",value:"linkUrl"}},{kind:"Field",name:{kind:"Name",value:"logoUrl"}}]}}]))},Eo=function(){var e=(0,i.Z)(o().mark((function e(t,n){var r,i,a,s,l,c,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(ko,{uri:n});case 2:if("Audiobook"===(null==(s=e.sent)||null===(r=s.data)||void 0===r?void 0:r.podcastUnionV2.__typename)||"Podcast"===(null==s||null===(i=s.data)||void 0===i?void 0:i.podcastUnionV2.__typename)){e.next=5;break}return e.abrupt("return",{});case 5:l=null==s||null===(a=s.data)||void 0===a?void 0:a.podcastUnionV2.accessExplanation,e.t0=null==l?void 0:l.__typename,e.next="UpsellAccessExplanation"===e.t0?9:"BasicAccessExplanation"===e.t0?10:"MultiPassAccessExplanation"===e.t0?11:14;break;case 9:return e.abrupt("return",{upsellLink:{title:(null==l?void 0:l.title)||"",body:(null==l?void 0:l.body)||"",cta:(null==l?void 0:l.actionText)||"",url:(null==l?void 0:l.url)||""}});case 10:return e.abrupt("return",{basic:{title:(null==l?void 0:l.title)||"",body:(null==l?void 0:l.body)||"",cta:(null==l?void 0:l.actionText)||""}});case 11:return u=[],null==l||null===(c=l.soaPartners)||void 0===c||c.forEach((function(e){e&&u.push({displayName:e.displayName||"",linkUrl:e.linkUrl||"",logoUrl:e.logoUrl||""})})),e.abrupt("return",{multiPass:{title:(null==l?void 0:l.title)||"",body:(null==l?void 0:l.body)||"",soaPartners:u}});case 14:return e.abrupt("return",{});case 15:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),bo=n(2678),_o=n(69415),So=Spicetify.GraphQL.Definitions["queryShowMetadataV2"]={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"queryShowMetadataV2"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uri"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"podcastUnionV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uri"},value:{kind:"Variable",name:{kind:"Name",value:"uri"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Podcast"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"podcastMetadataV2"}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Audiobook"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"audiobookMetadataV2"}}]}}]}}]}}].concat((0,N.Z)(bo.Rr.definitions),(0,N.Z)(pi.rD.definitions),(0,N.Z)(pi.rA.definitions),(0,N.Z)(bo.n0.definitions),(0,N.Z)(_o.Zl.definitions),(0,N.Z)(pi.TS.definitions),(0,N.Z)(bo.Kg.definitions),(0,N.Z)(bo.Vn.definitions))},wo=function(){var e=(0,i.Z)(o().mark((function e(t,n){var r,i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(So,{uri:n});case 2:if("RestrictedContent"!==(null==(a=e.sent)?void 0:a.data.podcastUnionV2.__typename)){e.next=5;break}throw new Error(xt.xr.RestrictedContent);case 5:if("Podcast"!==(null==a||null===(r=a.data.podcastUnionV2)||void 0===r?void 0:r.__typename)&&"Audiobook"!==(null==a||null===(i=a.data.podcastUnionV2)||void 0===i?void 0:i.__typename)){e.next=7;break}return e.abrupt("return",a.data.podcastUnionV2);case 7:throw new Error(xt.xr.Generic);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),No=Spicetify.GraphQL.Definitions["queryBookChapters"]={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"queryBookChapters"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uri"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"podcastUnionV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uri"},value:{kind:"Variable",name:{kind:"Name",value:"uri"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Audiobook"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"chapters"},arguments:[{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"chapterPage"}}]}}]}}]}}]}}].concat((0,N.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"chapterPage"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ChapterPage"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"pagingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nextOffset"}}]}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"contextChapter"}}]}}]}}]),(0,N.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"contextChapter"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ContextChapter"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uid"}},{kind:"Field",name:{kind:"Name",value:"chapter"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"audiobookChapter"}}]}}]}}]),(0,N.Z)(bo.Vn.definitions),(0,N.Z)(pi.rD.definitions),(0,N.Z)(pi.rA.definitions),(0,N.Z)(pi.TS.definitions))},Oo=function(){var e=(0,i.Z)(o().mark((function e(t,n,r,i){var a,s,l;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(No,{uri:n,offset:r,limit:i});case 2:if("Audiobook"!==(null==(l=e.sent)||null===(a=l.data)||void 0===a||null===(s=a.podcastUnionV2)||void 0===s?void 0:s.__typename)){e.next=5;break}return e.abrupt("return",l.data.podcastUnionV2.chapters);case 5:throw new Error("Error while requesting the chapters");case 6:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}(),Co=Spicetify.GraphQL.Definitions["getEpisodeOrChapter"]={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"getEpisodeOrChapter"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uri"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"episodeUnionV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uri"},value:{kind:"Variable",name:{kind:"Name",value:"uri"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Episode"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"podcastEpisode"}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Chapter"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"audiobookChapter"}}]}}]}}]}}].concat((0,N.Z)(bo.n0.definitions),(0,N.Z)(pi.rD.definitions),(0,N.Z)(pi.rA.definitions),(0,N.Z)(_o.Zl.definitions),(0,N.Z)(pi.TS.definitions),(0,N.Z)(bo.Vn.definitions))},To=function(){var e=(0,i.Z)(o().mark((function e(t,n){var r,i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(Co,{uri:n});case 2:if("Episode"!==(null==(a=e.sent)||null===(r=a.data.episodeUnionV2)||void 0===r?void 0:r.__typename)&&"Chapter"!==(null==a||null===(i=a.data.episodeUnionV2)||void 0===i?void 0:i.__typename)){e.next=5;break}return e.abrupt("return",a.data.episodeUnionV2);case 5:throw new Error("Error while requesting the episode or chapter");case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Io=Spicetify.GraphQL.Definitions["queryPodcastEpisodes"]={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"queryPodcastEpisodes"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uri"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"podcastUnionV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uri"},value:{kind:"Variable",name:{kind:"Name",value:"uri"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Podcast"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"episodes"},arguments:[{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"podcastEpisodePage"}}]}}]}}]}}]}}].concat((0,N.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"podcastEpisodePage"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"EpisodePage"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"pagingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nextOffset"}}]}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"contextPodcastEpisode"}}]}}]}}]),(0,N.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"contextPodcastEpisode"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ContextEpisode"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uid"}},{kind:"Field",name:{kind:"Name",value:"episode"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"podcastEpisode"}}]}}]}}]),(0,N.Z)(bo.n0.definitions),(0,N.Z)(pi.rD.definitions),(0,N.Z)(pi.rA.definitions),(0,N.Z)(_o.Zl.definitions),(0,N.Z)(pi.TS.definitions))},Ao=function(){var e=(0,i.Z)(o().mark((function e(t,n,r,i){var a,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(Io,{uri:n,offset:r,limit:i});case 2:if("Podcast"!==(null==(s=e.sent)||null===(a=s.data.podcastUnionV2)||void 0===a?void 0:a.__typename)){e.next=5;break}return e.abrupt("return",s.data.podcastUnionV2.episodes);case 5:throw new Error("Error while requesting the show episodes");case 6:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}(),Po=n(9983),Do=function(){function e(t,n){(0,O.Z)(this,e),(0,E.Z)(this,"capabilities",{canSort:!1,canFilter:!1,canGetDefaultSort:!1}),this._request=t,this._isAnonymous=n}var t,n,r,a,s,l;return(0,C.Z)(e,[{key:"getMetadata",value:(l=(0,i.Z)(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wo(this._request,t);case 2:return n=e.sent,e.abrupt("return",(0,yo.rB)(n,this._isAnonymous));case 4:case"end":return e.stop()}}),e,this)}))),function(e){return l.apply(this,arguments)})},{key:"getBookContents",value:(s=(0,i.Z)(o().mark((function e(t,n){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Oo(this._request,t,n.offset,n.limit);case 2:return r=e.sent,e.abrupt("return",(0,yo.ld)(r,this._isAnonymous));case 4:case"end":return e.stop()}}),e,this)}))),function(e,t){return s.apply(this,arguments)})},{key:"getContents",value:(a=(0,i.Z)(o().mark((function e(t,n){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ao(this._request,t,n.offset,n.limit);case 2:return r=e.sent,e.abrupt("return",(0,yo.om)(r));case 4:case"end":return e.stop()}}),e,this)}))),function(e,t){return a.apply(this,arguments)})},{key:"getEpisodeOrChapter",value:(r=(0,i.Z)(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,To(this._request,t);case 2:return n=e.sent,e.abrupt("return",(0,yo.sV)(n,this._isAnonymous));case 4:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"getPlayerSort",value:function(){return""}},{key:"getPlayerFilter",value:function(){return""}},{key:"getAccessInfo",value:(n=(0,i.Z)(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Eo(this._request,t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"checkoutBook",value:(t=(0,i.Z)(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,Po.Q)(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),function(e){return t.apply(this,arguments)})}]),e}(),Ro=n(66587),xo=function(){function e(){(0,O.Z)(this,e)}var t,n,r;return(0,C.Z)(e,[{key:"getCapabilities",value:function(){return{isSupported:!1}}},{key:"setVocalVolume",value:(r=(0,i.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),function(){return r.apply(this,arguments)})},{key:"setStatus",value:(n=(0,i.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),function(){return n.apply(this,arguments)})},{key:"getStatus",value:(t=(0,i.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ro.q.DISABLED);case 1:case"end":return e.stop()}}),e)}))),function(){return t.apply(this,arguments)})}]),e}(),Lo=n(76715),Fo=n(74785),Uo=n(11281),Zo=n(12996),Mo=n(87717);var Bo=function(){function e(){(0,O.Z)(this,e),(0,E.Z)(this,"name","allow-offline-requests"),this.onBeforeProcessRequest=this.onBeforeProcessRequest.bind(this)}return(0,C.Z)(e,[{key:"onBeforeProcessRequest",value:function(e){var t,n,r=e.data;null!==(t=r.options)&&void 0!==t&&null!==(n=t.metadata)&&void 0!==n&&n.noRequestTransform||navigator.onLine||(r.options=(0,Mo.F)(r.options,{allowOffline:!0,authorize:!1}))}},{key:"attach",value:function(e,t){t.on(p.PluginEvent.TRANSPORT_BEFORE_PROCESS_REQUEST,this.onBeforeProcessRequest)}},{key:"detach",value:function(e,t){t.removeListener(p.PluginEvent.TRANSPORT_BEFORE_PROCESS_REQUEST,this.onBeforeProcessRequest)}}]),e}();function jo(){return new Bo}n(15306),n(23157);var Vo=n(16592),Ho="content-access",Go=function(){function e(t){var n=this;(0,O.Z)(this,e),(0,E.Z)(this,"name",Ho),(0,E.Z)(this,"cat",null),(0,E.Z)(this,"catPromise",null),this.transport=t,this.enabled="1"===this._getCookie("sp_has_cart"),this.api={enable:function(){return n.enable()},isEnabled:function(){return n.isEnabled()}},this.enable=this.enable.bind(this),this._handleOnAuthenticated=this._handleOnAuthenticated.bind(this),this._ensureCat=this._ensureCat.bind(this),this._processRequest=this._processRequest.bind(this),this._getCat=this._getCat.bind(this)}return(0,C.Z)(e,[{key:"enable",value:function(){this.enabled||(this.enabled=!0,this._ensureCat())}},{key:"isEnabled",value:function(){return this.enabled}},{key:"_handleOnAuthenticated",value:function(){this.enabled&&this._ensureCat()}},{key:"_ensureCat",value:function(){this.cat||this._getCat()}},{key:"_processRequest",value:function(t){var n=t.data,r=n.uri;this.enabled&&((!this.cat||this.cat&&this.cat.expiresAtMs-6e4<Date.now())&&this._getCat(),this.cat&&e._include(r)&&(n.options||(n.options={}),n.options.headers||(n.options.headers={}),n.options.headers["content-access-token"]=this.cat.contentAccessToken))}},{key:"_getCat",value:function(){var e=this;!this.catPromise&&this.transport.isAuthenticated()&&(this.catPromise=Gt.b.getInstance().build().withHost("https://shelter.spotify.com").withPath("/v1/token").withoutMarket().withoutAuthorization().withEndpointIdentifier("shelter.spotify.com/v1/token").withCredentials().send().then((function(t){200===t.status&&(e.cat=t.body,e.catPromise=null)})).catch((function(){})))}},{key:"attach",value:function(e,t){t.on(p.PluginEvent.TRANSPORT_BEFORE_PROCESS_REQUEST,this._processRequest),e.on(Vo.j.AUTHENTICATED,this._handleOnAuthenticated)}},{key:"detach",value:function(e,t){t.removeListener(p.PluginEvent.TRANSPORT_BEFORE_PROCESS_REQUEST,this._processRequest),e.removeListener(Vo.j.AUTHENTICATED,this._handleOnAuthenticated)}},{key:"_hasCookie",value:function(e){return new RegExp("(?:^|;\\s*)".concat(decodeURIComponent(e).replace(/[-.+*]/g,"\\$&"),"\\s*\\=")).test(document.cookie)}},{key:"_getCookie",value:function(e){return e&&this._hasCookie(e)?decodeURIComponent(document.cookie.replace(new RegExp("(?:^|.*;\\s*)".concat(decodeURIComponent(e).replace(/[-.+*]/g,"\\$&"),"\\s*\\=\\s*((?:[^;](?!;))*[^;]?).*")),"$1")):null}}],[{key:"_include",value:function(e){return e.indexOf("@webgate")>-1&&!e.startsWith("@webgate/gabo")||e.indexOf("@webapi")>-1||e.startsWith("https://api.spotify.com/")||e.startsWith("https://api-partner.spotify.com/")||e.indexOf("spclient.wg.spotify.com")>-1}}]),e}();function Wo(e){return new Go(e)}function zo(e,t){var n,r,i,a,o,s,l,c,u=(0,Zo.f)(p.createBaseTransport,(0,Uo.w)(),e,t.transportOptions);return t.useDealer&&u.addPlugin(Lo.dv,{WebSocket}),u.addPlugin(Wo),u.addPlugin(jo),u.addPlugin(Fo.Mb,(s=se().parse(window.navigator.userAgent),l=s.os,c=s.platform,{clientInfo:{clientID:"65b708073fc0480ea92a077233ca87bd",clientVersion:"1.1.93.896.g3ae3b4f3",os:null!==(n=l.name)&&void 0!==n?n:"unknown",osVersion:null!==(r=l.version)&&void 0!==r?r:"unknown",deviceBrand:null!==(i=c.vendor)&&void 0!==i?i:"unknown",deviceModel:null!==(a=null!==(o=c.model)&&void 0!==o?o:c.type)&&void 0!==a?a:"unknown"}})),u.on(p.TransportEvent.CONNECTED,(function(){u.isAuthenticated()||u.authenticate()})),u.on(p.TransportEvent.DISCONNECTED,(function(){u.connect()})),u.connect(),u}var Ko=n(71641),Yo=n(6024);function qo(e){return Qo.apply(this,arguments)}function Qo(){return(Qo=(0,i.Z)(o().mark((function e(t){var n,r,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Yo.n5.getMe(t);case 2:return r=e.sent,i=r.body,e.abrupt("return",{type:Ae.p.USER,uri:i.uri,username:i.id,displayName:i.display_name||null,images:i.images.map((function(e){return{url:e.url,width:e.width||void 0,height:e.height||void 0}})),optInTrialPremiumOnlyMarket:Boolean(null===(n=i.policies)||void 0===n?void 0:n.opt_in_trial_premium_only_market)});case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Jo,Xo=function(){function e(t,n){(0,O.Z)(this,e),(0,E.Z)(this,"_inFlightCache",new We.tL),this._builder=t,this._isAnonymous=n}var t,n;return(0,C.Z)(e,[{key:"getUser",value:(n=(0,i.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isAnonymous){e.next=2;break}return e.abrupt("return",null);case 2:return e.abrupt("return",qo(this._builder));case 3:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"getProductState",value:(t=(0,i.Z)(o().mark((function e(){var t,n,r=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isAnonymous){e.next=2;break}return e.abrupt("return",null);case 2:return e.next=4,this._inFlightCache.create("getProductState",(function(){return Yo.n5.getProductState(r._builder)}));case 4:return t=e.sent,n=t.body,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}]),e}(),$o=n(30282);function es(e,t){var n=e.getEvents(),r=t.getEvents(),i=null,a=function(t){t.data.uri===i&&e.refreshCurrentContext()};n.addListener(Ie.rg.UPDATE,(function(e){var t,n=e.data,o=null!==(t=null==n?void 0:n.context.uri)&&void 0!==t?t:null;null!==i&&null!==o&&i!==o&&(r.removeListener(ii.XL.UPDATE,a,{uri:i}),i=null),null===i&&null!==o&&d().isPlaylistV1OrV2(o)&&(i=o,r.addListener(ii.XL.UPDATE,a,{uri:i}))}))}function ts(){switch((0,ae.L)()){case g.U.Windows:return"windows";case g.U.macOS:return"osx";case g.U.Linux:return"linux";case g.U.ChromeOS:return"chromeos";case g.U.Other:default:return"other"}}!function(e){e.ALWAYS="always",e.OVERLAY="overlay"}(Jo||(Jo={}));var ns=function(){return{os_name:ts(),os_settings:{scroller_style:Jo.ALWAYS,double_click_interval_ms:1/0},app_platform:"WebPlayer",client_name:"web-player",client_version_triple:"0.0.0",client_version_quadruple:"0.0.0.0",client_version_quintuple:"0.0.0.0-unknown",client_capabilities:{can_autostart:!1,can_restart:!1,can_show_track_notifications:!1,can_show_system_media_controls:!1,can_minimize_or_exit_on_close:!1},event_sender_installation_id_hex:"",is_developer_mode:!1}};function rs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function is(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rs(Object(n),!0).forEach((function(t){(0,E.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rs(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var as="web_player";function os(e,t){return is(is({},e),{},{market:e.isAnonymous?document.body.dataset.market:"from_token",locale:t,valid:!0})}function ss(e){return null===e?new pn:new ln(e)}function ls(e){return cs.apply(this,arguments)}function cs(){return cs=(0,i.Z)(o().mark((function e(t){var n,r,i,a,s,l,c,u,d,m,p,f,v,h,y,k,E,N,O,C,T,I,P,R,x,L,F,U,Z,M,j,H,G,W,z,K,Y,q,Q,X,$,ee,te,oe,se,ce,ue,pe,fe,ve,ge,he,ye,ke,Ee,be,_e,Se,Ne,Oe,Ce,Te,Ie;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="65b708073fc0480ea92a077233ca87bd",r="1.1.93.896.g3ae3b4f3",i=ns(),e.next=5,wt();case 5:return a=e.sent,s=a.translations,l=a.locale,c=(0,me.Z)("config"),u=os(c,l),d=new Qt(as),m=d.getTokenProvider(),p=zo(m,{useDealer:!c.isAnonymous}),f=(0,me.Z)("config"),v=f.correlationId,h=de(p,n,v),y=(0,me.Z)("features"),k=(0,me.Z)("seo"),E=(0,b.lX)(),N=new ri,O=Ct(),C=_.VK.fromJSON((0,me.K)("remote-configuration")),T=new ho({timeout:1e4,clientId:"web-player",transport:p,eventSender:h,initialConfiguration:C}),(0,ie.d)(p,u,s,r,i.app_platform),I=new Xo(Gt.b.getInstance(),c.isAnonymous),e.next=26,I.getUser();case 26:return P=e.sent,R=(null==P?void 0:P.username)||null,e.t0=_.VK,e.next=31,T.resolve({username:R});case 31:return e.t1=e.sent,e.t2=O,x=e.t0.merge.call(e.t0,e.t1,e.t2),L=new ei.K(null!=R?R:"anonymous"),F=(0,fn.PQ)(Gt.b.getInstance()),U=(0,fn.QM)(F),Z=new J(L),M=function(e){var t=document.createElement(e);return Z.isSupported()&&x.getValue(Vt.Ro)&&Z.connectAudioProcessor(t),t},j=Et(p,{isAnonymous:c.isAnonymous,type:t===g.W.PWA?"desktopInstall":"desktop",createPlayer:M}),H=bt(j,U,{clientId:n}),G=_t(j),W=new le,z=x.getValue(Vt.Vi)?new Nr(F,p,c.isAnonymous):x.getValue(Vt.OQ)?new gr(F,p,c.isAnonymous):new Xr(Gt.b.getInstance(),p,c.isAnonymous),K=new V,Y=new $r,q=new Tt,Q=new Oa(Gt.b.getInstance(),p,R,c.isAnonymous),X=x.getValue(Vt.SZ)?new Bi(Gt.b.getInstance(),F,p,R):new aa(Gt.b.getInstance(),p,R),$=new Yi(Gt.b.getInstance()),ee=new At.l(Gt.b.getInstance(),F,H,c.isAnonymous),te=new Do(F,c.isAnonymous),oe=new Ft(X,te),se=new D,ce=new ne,ue=new re.$(Gt.b.getInstance()),pe=new It,fe=new Ut,ve=new co(H,F,Gt.b.getInstance(),R),ge=x.getValue(Vt.t$),he=ss(j.harmony),ye=new A(sessionStorage,"ACTION_STORE_KEY",H,z),ke=new Ht(j.harmony,x),Ee=new w.t(Gt.b.getInstance(),U,H),be=new xo,_e=new Ko.z(S.R.getUBILogger({eventSender:h,disableAutoBackgroundMonitoring:!0,playContextUriProvider:{getPlayContextUri:function(){var e,t;return null!==(e=null===(t=H.getState())||void 0===t?void 0:t.context.uri)&&void 0!==e?e:null}},playbackIdProvider:{getPlaybackId:function(){var e,t;return null!==(e=null===(t=H.getState())||void 0===t?void 0:t.playbackId)&&void 0!==e?e:null}}}),null!==P),Se=new B(Gt.b.getInstance(),p,R),Ne=(0,me.Z)("config",{recaptchaWebPlayerFraudSiteKey:null,optimizeId:null,gtmId:null,locale:"en"}),Oe=Ne.recaptchaWebPlayerFraudSiteKey,Ce=Oe?new Rt(Oe):new Pt.U,Te=(0,$o.R)(t,E,h,H),Ie=(0,Bt.J)(Gt.b.getInstance(),H,window,!1),es(H,X),e.abrupt("return",{version:r,container:t,operatingSystem:(0,ae.L)(),isDeveloperMode:!1,isVideoSupported:we(),enableCastConnect:ge,getServiceWorkerMessenger:Zt,getSession:function(){return u},getTransport:function(){return p},getEventSender:function(){return h},getTranslations:function(){return s},getFeatureFlags:function(){return y},getSEOExperiments:function(){return k},getHistory:function(){return E},getAdManagers:function(){return Te},getRemoteConfiguration:function(){return x},getActionStoreAPI:function(){return ye},getAuthorizationAPI:function(){return d},getClipboardAPI:function(){return se},getConnectAPI:function(){return he},getControlMessageAPI:function(){return K},getFacebookAPI:function(){return ce},getFollowAPI:function(){return ue},getGraphQLLoader:function(){return F},getLibraryAPI:function(){return z},getLocalFilesAPI:function(){return Y},getOfflineAPI:function(){return N},getPlatformData:function(){return i},getPlayerAPI:function(){return H},getPlaybackAPI:function(){return G},getPlayHistoryAPI:function(){return q},getPlaylistAPI:function(){return X},getPlaylistPermissionsAPI:function(){return $},getPrivateSessionAPI:function(){return pe},getRadioStationAPI:function(){return ee},getRecaptchaLoggerAPI:function(){return Ce},getRecentlyPlayedAPI:function(){return ve},getReportAPI:function(){return oe},getRootlistAPI:function(){return Q},getSegmentsAPI:function(){return fe},getShowAPI:function(){return te},getUpdateAPI:function(){return W},getUserAPI:function(){return I},getVideoAPI:function(){return ke},getEnhanceAPI:function(){return Ee},getSingAlongAPI:function(){return be},getUBILogger:function(){return _e},getCollectionPlatformAPI:function(){return Se},getLocalStorageAPI:function(){return L},getEqualizerAPI:function(){return Z},getSoundtrapAPI:function(){return Ie}});case 73:case"end":return e.stop()}}),e)}))),cs.apply(this,arguments)}function us(){return ds.apply(this,arguments)}function ds(){return ds=(0,i.Z)(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((t=(0,v.ZO)())!==g.W.Desktop){e.next=3;break}return e.abrupt("return",(0,k.J)(t));case 3:return e.abrupt("return",ls(t));case 4:case"end":return e.stop()}}),e)}))),ds.apply(this,arguments)}function ms(){var e;if("undefined"==typeof window)return!1;if(void 0!==window.orientation)switch(window.orientation){case 0:case 180:e=window.screen.width;break;default:e=window.screen.height}else{var t=window.screen.orientation&&window.screen.orientation.type||window.screen.msOrientation||"";if(0===t.indexOf("portrait"))e=window.screen.width;else{if(0!==t.indexOf("landscape"))return!1;e=window.screen.height}}return e<=432}var ps=function(){var e;return"1"===(null!==(e=(0,Ot.vQ)("client-web_one-trust"))&&void 0!==e?e:"1")};function fs(e){return e.container===g.W.Desktop}var vs=n(49207),gs=n(42374),hs=function(){function e(t){(0,O.Z)(this,e),this.spotifyTransport=t}var t;return(0,C.Z)(e,[{key:"getDialog",value:(t=(0,i.Z)(o().mark((function e(t){var n,r,i,a,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gs.Y(this.spotifyTransport,t);case 2:return n=e.sent,r=this.getColorRGB(n.body.color),i=r.r,a=r.g,s=r.b,e.abrupt("return",{backgroundColor:"rgb(".concat(i,", ").concat(a,", ").concat(s,")"),providerUrl:n.body.provider_url});case 5:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"getColorRGB",value:function(e){return{r:e>>>16&255,g:e>>>8&255,b:e>>>0&255}}}]),e}(),ys=function(e,t){var n=[];return{storeAction:function(r){n=r(n),e.setItem(t,JSON.stringify(n))},pullAction:function(){var r=e.getItem(t);if(e.removeItem(t),n=[],r)try{return JSON.parse(r)}catch(e){return null}return null}}},ks=n(22349),Es=n(27937),bs=n(92709),_s=n(12788);const Ss=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;e.documentElement.classList.add("no-focus-outline"),e.addEventListener("keydown",(function(t){"Tab"===t.key&&e.documentElement.classList.remove("no-focus-outline")}),!0),e.addEventListener("mousedown",(function(){e.documentElement.classList.add("no-focus-outline")}),!0)};var ws=n(82131),Ns=n(96848);function Os(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Cs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Os(Object(n),!0).forEach((function(t){(0,E.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Os(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ts(){Ns.BrowserMetrics.getPageLoadTime().then((function(e){(0,ks.sQ)({metric_type:Ns.MetricTypes.TIMER,what:"time-to-page-load-nanoseconds",value:(0,Ns.asNanoseconds)(Ns.Time.fromMillis(e).asNanos()),tags:{pathname:(0,ks.Xo)(window.location)}})})).catch((function(){})),Ns.BrowserMetrics.getTimeToFirstPaint().then((function(e){(0,ks.sQ)({metric_type:Ns.MetricTypes.TIMER,what:"time-to-first-paint-nanoseconds",value:(0,Ns.asNanoseconds)(Ns.Time.fromMillis(e).asNanos()),tags:{pathname:(0,ks.Xo)(window.location)}})})).catch((function(){})),Ns.BrowserMetrics.getTimeToFirstContentfulPaint().then((function(e){(0,ks.sQ)({metric_type:Ns.MetricTypes.TIMER,what:"time-to-first-contentful-paint-nanoseconds",value:(0,Ns.asNanoseconds)(Ns.Time.fromMillis(e).asNanos()),tags:{pathname:(0,ks.Xo)(window.location)}})})).catch((function(){}));var e=function(e){(0,ks.sQ)(Ns.BrowserMetrics.getWebVitalsMetric(Cs(Cs({},e),{},{label:e.name}),{pathname:(0,ks.Xo)(window.location)}))};(0,ws.Tb)(e),(0,ws.kz)(e),(0,ws.Tx)(e)}var Is,As="PWA_INSTALL_COMPLETED",Ps="PWA_DISPLAY_MODE_CHANGED",Ds=function(){return{type:Ps}},Rs=n(7867);!function(e){e.RTL="rtl",e.LTR="ltr"}(Is||(Is={}));var xs,Ls=function(e){document.documentElement.setAttribute("dir",e)};!function(e){e.SET_RTL_MODE="SET_RTL_MODE"}(xs||(xs={}));var Fs=function(e){var t,n=function(e){var t;return null!==(t=Rs.k1[e])&&void 0!==t&&t.isRTL?Is.RTL:Is.LTR}(e);return function(e){e===Is.RTL?Ls(Is.RTL):Ls(Is.LTR)}(n),t=n===Is.RTL,{type:xs.SET_RTL_MODE,isRTL:t}},Us=n(75484),Zs=n(88767),Ms=n(86706),Bs=n(51615),js=n(46457),Vs=n(68929),Hs=n(91447),Gs=n(56383),Ws=n(22179);function zs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ks(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zs(Object(n),!0).forEach((function(t){(0,E.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zs(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ys=function(e){return{type:"INIT_PICTURE_IN_PICTURE",isReady:e}};function qs(e,t){if("INIT_PICTURE_IN_PICTURE"===t.type)return e.isReady===t.isReady&&(0,Ws.yN)("Try to mount / unmount multiple `PictureInPictureUpdater` components!"),Ks(Ks({},e),{},{isReady:t.isReady});switch(e.isReady||(0,Ws.yN)("Trying to dispatch PiP action without a `PictureInPictureUpdater` being mounted!"),t.type){case"OPEN_PICTURE_IN_PICTURE":return Ks(Ks({},e),{},{isVisible:!0});case"CLOSE_PICTURE_IN_PICTURE":return Ks(Ks({},e),{},{isVisible:!1})}return e}var Qs=(0,s.createContext)(null),Js=function(e){var t=e.children,n={isEnabled:!!document.pictureInPictureEnabled&&!navigator.webdriver&&(0,v.ZO)()!==g.W.Desktop&&!(0,Gs.G)(),isReady:!1,isVisible:!1},i=(0,s.useReducer)(qs,n),a=(0,r.Z)(i,2),o=a[0],l=a[1];return s.createElement(Qs.Provider,{value:[o,l]},t)};function Xs(){var e=(0,s.useContext)(Qs);if(null===e)throw new Error("Trying to use 'PictureInPictureContext' without 'PictureInPictureStore'!");return e}var $s=n(39270),el=n(8341),tl=n(49104),nl=640;function rl(e,t){return il.apply(this,arguments)}function il(){return(il=(0,i.Z)(o().mark((function e(t,n){var r,i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.context,i=t.video,(a=new Image).crossOrigin="anonymous",a.src=n,e.next=6,a.decode();case 6:return r.drawImage(a,0,0,nl,nl),e.next=9,i.play();case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function al(e,t){return ol.apply(this,arguments)}function ol(){return(ol=(0,i.Z)(o().mark((function e(t,n){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.video,e.prev=1,e.next=4,r.requestPictureInPicture();case 4:r.addEventListener("leavepictureinpicture",n,{once:!0}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),(0,Ws.H)(e.t0);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})))).apply(this,arguments)}var sl=function(e){var t,n,r=null!==(t=null==e?void 0:e.hasContext)&&void 0!==t&&t,i=null!==(n=null==e?void 0:e.isPaused)&&void 0!==n&&n;document.pictureInPictureElement&&(!r||i?document.pictureInPictureElement.pause():document.pictureInPictureElement.play())};function ll(e){var t,n,r,i=null!==(t=null==e||null===(n=e.item)||void 0===n?void 0:n.images)&&void 0!==t?t:[];return null!==(r=(0,tl.o)(i,{desiredSize:nl}))&&void 0!==r?r:null}var cl=function(){var e=Xs(),t=(0,r.Z)(e,2),n=t[0],a=t[1],l=n.isVisible,c=(0,el.Y)((function(e){return e}),(function(e,t){var n,r;return(null==e?void 0:e.hasContext)===(null==t?void 0:t.hasContext)&&(null==e?void 0:e.isPaused)===(null==t?void 0:t.isPaused)&&(null==e||null===(n=e.item)||void 0===n?void 0:n.uri)===(null==t||null===(r=t.item)||void 0===r?void 0:r.uri)})),u=(0,$s.O)(),d=(0,s.useRef)(c),m=(0,s.useRef)(null),p=(0,s.useRef)(!1);d.current=c;var f=function(){var e;return m.current=null!==(e=m.current)&&void 0!==e?e:function(){var e=document.createElement("canvas");e.width=nl,e.height=nl;var t=e.getContext("2d"),n=document.createElement("video");return n.srcObject=e.captureStream(),n.muted=!0,{context:t,video:n}}(),m.current};return(0,s.useEffect)((function(){return a(Ys(!0)),function(){a(Ys(!1))}}),[a]),(0,s.useEffect)((function(){var e=function(){},t=function(){var t=(0,i.Z)(o().mark((function t(){var n,r,i;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=f(),r=document.pictureInPictureElement===n.video,null!==(i=ll(c))){t.next=6;break}return e(),t.abrupt("return");case 6:return t.next=8,rl(n,i);case 8:if(r){t.next=11;break}return t.next=11,al(n,(function(){p.current||a({type:"CLOSE_PICTURE_IN_PICTURE"}),p.current=!1}));case 11:sl(c);case 12:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),n=function(e,t){var n,r,i,a,o=null!==(n=null==e?void 0:e.hasContext)&&void 0!==n&&n,s=(null==e||null===(r=e.item)||void 0===r?void 0:r.type)===Ae.p.EPISODE&&"audio"!==(null==e?void 0:e.item.mediaType),l=null===(i=null===(a=t.activeDevice)||void 0===a?void 0:a.isLocal)||void 0===i||i;return!!o&&!!l&&!s}(c,u);n&&l?t():e()}),[l,c,u,a]),null},ul=n(1447),dl=n(50114),ml=function(e){var t=e.children,n=e.queryClient;return s.createElement(Zs.QueryClientProvider,{client:n},t)},pl=n(91691),fl=n(57128),vl=n(96206);const gl="main-appShell-container",hl="main-appShell-sideBar",yl="main-appShell-navItems",kl="main-appShell-mainContent",El="main-appShell-topBar",bl="main-appShell-cards",_l="main-appShell-cardsHeader",Sl="main-appShell-cardsWrapper",wl="main-appShell-card",Nl="main-appShell-playbackBar";var Ol=s.memo((function(){return s.createElement("div",{className:gl},s.createElement("div",{className:hl},s.createElement("svg",{className:yl,width:"232",height:"704",viewBox:"0 0 232 704",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s.createElement("path",{fill:"#000",d:"M0 0h227v704H0z"}),s.createElement("path",{d:"M29.887 130.123A8.47 8.47 0 0032.5 124a8.5 8.5 0 10-8.5 8.5 8.454 8.454 0 005.125-1.73l4.401 5.153.76-.649-4.399-5.151zM24 131.5c-4.136 0-7.5-3.364-7.5-7.5s3.364-7.5 7.5-7.5 7.5 3.364 7.5 7.5-3.364 7.5-7.5 7.5zM29.16 158.597l-.913.406 7.797 17.513.914-.406-7.798-17.513zM18.5 176.5h1v-18h-1v18zm6 0h1v-18h-1v18z",fill:"#757575"}),s.createElement("path",{fill:"#404040",d:"M53 162h122v11H53zM64 258h95v11H64z"}),s.createElement("path",{fill:"#fff",d:"M16 248h32v32H16z"}),s.createElement("path",{d:"M38 263h-5v-5h-2v5h-5v2h5v5h2v-5h5v-2z",fill:"#000"}),s.createElement("path",{fill:"url(#paint0_linear)",d:"M16 292h32v32H16z"}),s.createElement("path",{d:"M37.797 302.727a4.057 4.057 0 00-5.488-.253.558.558 0 01-.31.112.531.531 0 01-.31-.112 4.054 4.054 0 00-5.488.253 4.05 4.05 0 00-1.194 2.883c0 1.089.424 2.113 1.168 2.855l4.462 5.223a1.791 1.791 0 002.726 0l4.435-5.195a4.052 4.052 0 001.195-2.883 4.057 4.057 0 00-1.196-2.883z",fill:"#fff"}),s.createElement("path",{fill:"#404040",d:"M64 303h79v11H64z"}),s.createElement("path",{fill:"#404040",d:"M16 353h142v11H16zM16 395h53v11H16zM16 437h98v11H16zM16 479h143v11H16zM16 521h97v11H16z",opacity:"0.6"}),s.createElement("path",{fill:"#404040",d:"M16 218h71v11H16z"}),s.createElement("path",{d:"M25.501 73.078L34 77.984V91h-6v-7h-5v7h-6V78.024l8.501-4.946zm-.002-1.156L16 77.449V92h8v-7h3v7h8V77.407l-9.501-5.485z",fill:"#616161"}),s.createElement("path",{fill:"#404040",d:"M53 78h122v11H53zM53 120h122v11H53z"}),s.createElement("defs",null,s.createElement("linearGradient",{id:"paint0_linear",x1:"0",y1:"308",x2:"32",y2:"340",gradientUnits:"userSpaceOnUse"},s.createElement("stop",{stopColor:"#450AF5"}),s.createElement("stop",{offset:"1",stopColor:"#C4EFD9"}))))),s.createElement("div",{className:kl},s.createElement("div",{className:El},s.createElement("svg",{width:"125",height:"95",viewBox:"0 0 125 95",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s.createElement("rect",{x:"0",y:"31",width:"125",height:"32",rx:"16",fill:"#282828"}),s.createElement("path",{d:"M992 59c6.627 0 12-5.373 12-12s-5.373-12-12-12-12 5.373-12 12 5.373 12 12 12z",fill:"#404040"}),s.createElement("path",{fill:"#404040",d:"M1014 42h66v11h-66z"}))),s.createElement("div",null,s.createElement("div",{className:bl},s.createElement("div",{className:_l},s.createElement("svg",{width:"257",height:"23",viewBox:"0 0 257 23",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s.createElement("path",{fill:"#404040",d:"M0 0h257v23H0z"})),s.createElement("svg",{width:"72",height:"11",viewBox:"0 0 72 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s.createElement("path",{fill:"#404040",d:"M0 0h72v11H0z"}))),s.createElement("div",{className:Sl},s.createElement("svg",{className:wl,width:"164",height:"232",viewBox:"0 0 164 232",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s.createElement("rect",{width:"164",height:"232",rx:"8",fill:"#282828"}),s.createElement("path",{fill:"#404040",d:"M16 16h132v132H16zM16 166h122v11H16zM16 182h72v11H16zM16 206h94v6H16z"})),s.createElement("svg",{className:wl,width:"164",height:"232",viewBox:"0 0 164 232",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s.createElement("rect",{width:"164",height:"232",rx:"8",fill:"#282828"}),s.createElement("path",{fill:"#404040",d:"M16 16h132v132H16zM16 166h122v11H16zM16 182h72v11H16zM16 206h94v6H16z"})),s.createElement("svg",{className:wl,width:"164",height:"232",viewBox:"0 0 164 232",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s.createElement("rect",{width:"164",height:"232",rx:"8",fill:"#282828"}),s.createElement("path",{fill:"#404040",d:"M16 16h132v132H16zM16 166h122v11H16zM16 182h72v11H16zM16 206h94v6H16z"})),s.createElement("svg",{className:wl,width:"164",height:"232",viewBox:"0 0 164 232",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s.createElement("rect",{width:"164",height:"232",rx:"8",fill:"#282828"}),s.createElement("path",{fill:"#404040",d:"M16 16h132v132H16zM16 166h122v11H16zM16 182h72v11H16zM16 206h94v6H16z"})),s.createElement("svg",{className:wl,width:"164",height:"232",viewBox:"0 0 164 232",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s.createElement("rect",{width:"164",height:"232",rx:"8",fill:"#282828"}),s.createElement("path",{fill:"#404040",d:"M16 16h132v132H16zM16 166h122v11H16zM16 182h72v11H16zM16 206h94v6H16z"})),s.createElement("svg",{className:wl,width:"164",height:"232",viewBox:"0 0 164 232",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s.createElement("rect",{width:"164",height:"232",rx:"8",fill:"#282828"}),s.createElement("path",{fill:"#404040",d:"M16 16h132v132H16zM16 166h122v11H16zM16 182h72v11H16zM16 206h94v6H16z"})))),s.createElement("div",{className:bl},s.createElement("div",{className:_l},s.createElement("svg",{width:"257",height:"23",viewBox:"0 0 257 23",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s.createElement("path",{fill:"#404040",d:"M0 0h257v23H0z"})),s.createElement("svg",{width:"72",height:"11",viewBox:"0 0 72 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s.createElement("path",{fill:"#404040",d:"M0 0h72v11H0z"}))),s.createElement("div",{className:Sl},s.createElement("svg",{className:wl,width:"164",height:"232",viewBox:"0 0 164 232",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s.createElement("rect",{width:"164",height:"232",rx:"8",fill:"#282828"}),s.createElement("path",{fill:"#404040",d:"M16 16h132v132H16zM16 166h122v11H16zM16 182h72v11H16zM16 206h94v6H16z"})),s.createElement("svg",{className:wl,width:"164",height:"232",viewBox:"0 0 164 232",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s.createElement("rect",{width:"164",height:"232",rx:"8",fill:"#282828"}),s.createElement("path",{fill:"#404040",d:"M16 16h132v132H16zM16 166h122v11H16zM16 182h72v11H16zM16 206h94v6H16z"})),s.createElement("svg",{className:wl,width:"164",height:"232",viewBox:"0 0 164 232",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s.createElement("rect",{width:"164",height:"232",rx:"8",fill:"#282828"}),s.createElement("path",{fill:"#404040",d:"M16 16h132v132H16zM16 166h122v11H16zM16 182h72v11H16zM16 206h94v6H16z"})),s.createElement("svg",{className:wl,width:"164",height:"232",viewBox:"0 0 164 232",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s.createElement("rect",{width:"164",height:"232",rx:"8",fill:"#282828"}),s.createElement("path",{fill:"#404040",d:"M16 16h132v132H16zM16 166h122v11H16zM16 182h72v11H16zM16 206h94v6H16z"})),s.createElement("svg",{className:wl,width:"164",height:"232",viewBox:"0 0 164 232",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s.createElement("rect",{width:"164",height:"232",rx:"8",fill:"#282828"}),s.createElement("path",{fill:"#404040",d:"M16 16h132v132H16zM16 166h122v11H16zM16 182h72v11H16zM16 206h94v6H16z"})),s.createElement("svg",{className:wl,width:"164",height:"232",viewBox:"0 0 164 232",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s.createElement("rect",{width:"164",height:"232",rx:"8",fill:"#282828"}),s.createElement("path",{fill:"#404040",d:"M16 16h132v132H16zM16 166h122v11H16zM16 182h72v11H16zM16 206h94v6H16z"})))),s.createElement("div",{className:bl},s.createElement("div",{className:_l},s.createElement("svg",{width:"257",height:"23",viewBox:"0 0 257 23",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s.createElement("path",{fill:"#404040",d:"M0 0h257v23H0z"})),s.createElement("svg",{width:"72",height:"11",viewBox:"0 0 72 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s.createElement("path",{fill:"#404040",d:"M0 0h72v11H0z"}))),s.createElement("div",{className:Sl},s.createElement("svg",{className:wl,width:"164",height:"232",viewBox:"0 0 164 232",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s.createElement("rect",{width:"164",height:"232",rx:"8",fill:"#282828"}),s.createElement("path",{fill:"#404040",d:"M16 16h132v132H16zM16 166h122v11H16zM16 182h72v11H16zM16 206h94v6H16z"})),s.createElement("svg",{className:wl,width:"164",height:"232",viewBox:"0 0 164 232",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s.createElement("rect",{width:"164",height:"232",rx:"8",fill:"#282828"}),s.createElement("path",{fill:"#404040",d:"M16 16h132v132H16zM16 166h122v11H16zM16 182h72v11H16zM16 206h94v6H16z"})),s.createElement("svg",{className:wl,width:"164",height:"232",viewBox:"0 0 164 232",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s.createElement("rect",{width:"164",height:"232",rx:"8",fill:"#282828"}),s.createElement("path",{fill:"#404040",d:"M16 16h132v132H16zM16 166h122v11H16zM16 182h72v11H16zM16 206h94v6H16z"})),s.createElement("svg",{className:wl,width:"164",height:"232",viewBox:"0 0 164 232",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s.createElement("rect",{width:"164",height:"232",rx:"8",fill:"#282828"}),s.createElement("path",{fill:"#404040",d:"M16 16h132v132H16zM16 166h122v11H16zM16 182h72v11H16zM16 206h94v6H16z"})),s.createElement("svg",{className:wl,width:"164",height:"232",viewBox:"0 0 164 232",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s.createElement("rect",{width:"164",height:"232",rx:"8",fill:"#282828"}),s.createElement("path",{fill:"#404040",d:"M16 16h132v132H16zM16 166h122v11H16zM16 182h72v11H16zM16 206h94v6H16z"})),s.createElement("svg",{className:wl,width:"164",height:"232",viewBox:"0 0 164 232",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s.createElement("rect",{width:"164",height:"232",rx:"8",fill:"#282828"}),s.createElement("path",{fill:"#404040",d:"M16 16h132v132H16zM16 166h122v11H16zM16 182h72v11H16zM16 206h94v6H16z"})))))),s.createElement("div",{className:Nl},s.createElement("div",null,s.createElement("svg",{width:"175",height:"40",viewBox:"0 0 175 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s.createElement("path",{fill:"#404040",d:"M53 5h122v11H53zM53 23h101v11H53zM0 0h40v40H0z"}))),s.createElement("div",null,s.createElement("svg",{width:"216",height:"48",viewBox:"0 0 216 48",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s.createElement("path",{d:"M12.5 22.8l.7-.8c-1.1-1.3-2.7-2-4.3-2v1c1.3 0 2.6.6 3.5 1.6l.1.2zm7.5 4.7c-1.2 0-2.3-.5-3.2-1.3l-.6.8c1 1 2.4 1.5 3.8 1.5V30l3.5-2-3.5-2v1.5zm0-6V23l3.5-2-3.5-2v1.5c-1.6 0-3.2.7-4.2 2l-3.4 3.9c-.9 1-2.2 1.6-3.5 1.6v1c1.6 0 3.2-.7 4.2-2l3.4-3.9c.9-1 2.2-1.6 3.5-1.6zM61 18.5l-8 4.619V19h-2v10h2v-4.119l8 4.619v-11zM163 20v4.119l-8-4.619v11l8-4.619V30h2V20h-2zM197.5 21h4.5v1.5l3.5-2-3.5-2V20h-4.5c-2.5 0-4.5 2-4.5 4.5 0 .6.1 1.2.4 1.8l.9-.5c-.2-.4-.3-.8-.3-1.3 0-1.9 1.6-3.5 3.5-3.5zm9.1 1.7l-.9.5c.2.4.3.8.3 1.3 0 1.9-1.6 3.5-3.5 3.5H198v-1.5l-3.5 2 3.5 2V29h4.5c2.5 0 4.5-2 4.5-4.5 0-.6-.1-1.2-.4-1.8z",fill:"#fff"}),s.createElement("circle",{cx:"108",cy:"24",r:"20",fill:"#fff"}),s.createElement("path",{d:"M100 16h16v16h-16V16z",fill:"#fff"}),s.createElement("path",{d:"M104.018 30l10.392-6-10.392-6v12z",fill:"#000"}))),s.createElement("div",null,s.createElement("svg",{width:"99",height:"16",viewBox:"0 0 99 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s.createElement("path",{d:"M1 2v5l4.33-2.5L1 2zm0 12h14v-1H1v1zm0-4h14V9H1v1zm7-5v1h7V5H8zM92.945 1.379l-.652.763A7.968 7.968 0 0194.863 8a7.972 7.972 0 01-2.57 5.858l.651.763a8.966 8.966 0 00.001-13.242zm-2.272 2.66l-.651.763a4.484 4.484 0 01-.001 6.397l.651.763a5.48 5.48 0 001.691-3.961c0-1.557-.65-2.962-1.69-3.962zM80 5v6h2.804L88 14V2l-5.196 3H80zm7-1.268v8.536L83.072 10H81V6h2.072L87 3.732zM40 2.5v8c0 .55.45 1 1 1h5v-1h-5v-8h5v-1h-5c-.55 0-1 .45-1 1zM43 14c0 .275.225.5.5.5H46v-1h-2.5c-.275 0-.5.225-.5.5zM55 1.5h-6c-.55 0-1 .45-1 1v11c0 .55.45 1 1 1h6c.55 0 1-.45 1-1v-11c0-.55-.45-1-1-1zm0 12h-6v-11h6v11zm-3-8A.75.75 0 1052 4a.75.75 0 000 1.5zm0 6a2 2 0 100-4 2 2 0 000 4zm0-3c.551 0 1 .449 1 1 0 .551-.449 1-1 1-.551 0-1-.449-1-1 0-.551.449-1 1-1z",fill:"#fff"})))))})),Cl=n(94184),Tl=n.n(Cl),Il=n(34011),Al=n(84465);const Pl="KIbfbFDao0SHpZsKoKZD",Dl="d9NYld_3PtPNHuwXcw3i";var Rl=function(){return window.location.reload()},xl=s.memo((function(e){var t=e.headingMessage,n=e.message,r=e.onDismissDialog,i=void 0===r?Rl:r,a=e.isOpen,o=void 0!==a&&a,l=e.buttonLabel;return s.createElement(Al.Z,{isOpen:o,shouldCloseOnEsc:!1,shouldCloseOnOverlayClick:!1,contentLabel:t},s.createElement("div",{className:Tl()(Pl,"encore-light-theme")},s.createElement("h1",{className:Dl},t),s.createElement("p",null,n),s.createElement(Il.D,{onClick:i},l)))})),Ll=s.memo((function(){return s.createElement(s.Fragment,null,s.createElement(xl,{isOpen:!0,headingMessage:vl.ag.get("error-dialog.generic.header"),message:vl.ag.get("error-dialog.generic.body"),buttonLabel:vl.ag.get("fatal-error.button-label")}),s.createElement(Ol,null))})),Fl=n(70296),Ul=(n(69600),n(86081));function Zl(e){var t;return null!==(t=null==e?void 0:e.map((function(e){var t=e.url,n=e.width,r=e.height;return{src:t,sizes:"".concat(n,"x").concat(r)}})))&&void 0!==t?t:[]}function Ml(e){window.navigator.mediaSession&&(window.navigator.mediaSession.metadata=function(e){return(0,Te.G_)(e)?new window.MediaMetadata({title:e.name,artist:e.artists.map((function(e){return e.name})).join(vl.ag.getSeparator()),album:e.album.name,artwork:Zl(e.images)}):(0,Te.iw)(e)?new window.MediaMetadata({title:e.name,artist:"",album:e.show.name,artwork:Zl(e.images)}):(0,Te.G7)(e)?new window.MediaMetadata({title:e.name,artist:"",album:e.book.name,artwork:Zl(e.images)}):(0,Te.k6)(e)?new window.MediaMetadata({title:vl.ag.get("ad-formats.advertisement"),artist:"",album:"",artwork:Zl(e.images)}):(0,Te.RB)(e)||void 0===e?new window.MediaMetadata({title:"",artist:"",album:"",artwork:[]}):(0,Pe.U)(e)}(e))}var Bl=function(){return(0,Ul.G)(Ie.rg.UPDATE,(function(e){var t,n=e.data;return Ml(null!==(t=null==n?void 0:n.item)&&void 0!==t?t:void 0)})),null},jl=function(){return(0,v.wW)()?null:s.createElement(Bl,null)},Vl=n(38471),Hl=n(48591),Gl=n(7088),Wl=(n(4129),n(78011),n(83510),n(71002)),zl=n(89611);function Kl(){Kl=function(e,t){return new n(e,void 0,t)};var e=RegExp.prototype,t=new WeakMap;function n(e,r,i){var a=new RegExp(e,r);return t.set(a,i||t.get(e)),(0,zl.Z)(a,n.prototype)}function r(e,n){var r=t.get(n);return Object.keys(r).reduce((function(t,n){return t[n]=e[r[n]],t}),Object.create(null))}return(0,H.Z)(n,RegExp),n.prototype.exec=function(t){var n=e.exec.call(this,t);return n&&(n.groups=r(n,this)),n},n.prototype[Symbol.replace]=function(n,i){if("string"==typeof i){var a=t.get(this);return e[Symbol.replace].call(this,n,i.replace(/\$<([^>]+)>/g,(function(e,t){return"$"+a[t]})))}if("function"==typeof i){var o=this;return e[Symbol.replace].call(this,n,(function(){var e=arguments;return"object"!=(0,Wl.Z)(e[e.length-1])&&(e=[].slice.call(e)).push(r(e,o)),i.apply(this,e)}))}return e[Symbol.replace].call(this,n,i)},Kl.apply(this,arguments)}function Yl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t="https://open.spotify.com",n="".concat(t).concat(e),r=null,i=/^\/\w+\/([a-zA-Z0-9]+)[/\w+]*/.exec(e);i&&(r=i[1]);var a=e,o=e,s=e.match(/^\/search\/(.*)\/(.*)/);return/^\/genre\//.test(e)||/^\/view\//.test(e)?o="/browse/genres":"/"===e?(o="/browse",a="/browse/featured"):"/browse/charts"===e?o="/charts":"/collection/tracks"===e?o="/collection/songs":"/search"===e?o="/search":s?(o="podcasts"===s[2]?"/search/shows":"/search/".concat(s[2]),a="/search/".concat(s[2])):e.match(Kl(/\/search\/(.*)/,{query:1}))?(o="/search",a="/search/results"):"/download"===e?o="/upsell":"/queue"===e?o="/nowplaying/queue":/^\/artist\/[a-zA-Z0-9]+\/related/.test(e)?(a=d().artistURI(r).toString(),o="/artist/related"):/^\/artist\/[a-zA-Z0-9]+\/about/.test(e)?(a=d().artistURI(r).toString(),o="/artist/about"):/^\/artist\/[a-zA-Z0-9]+\/concerts/.test(e)?(a=d().artistURI(r).toString(),o="/artist/concerts"):d().isArtist(n)?(a=d().artistURI(r).toString(),o="/artist"):d().isPlaylistV1OrV2(n)?(a=d().playlistV2URI(r).toString(),o="/playlist"):d().isAlbum(n)?(a=d().albumURI(r).toString(),o="/album"):d().isEpisode(n)?(a=d().episodeURI(r).toString(),o="/episode"):d().isShow(n)?(a=d().showURI(r).toString(),o="/shows"):d().isProfile(n)?(a=d().profileURI(r).toString(),o="/profile"):d().isTrack(n)&&(a=d().trackURI(r).toString(),o="/track"),{viewUri:a,mappedPageId:o}}var ql=function(){return"undefined"==typeof window||void 0===window.gtag||void 0===window.google_tag_manager},Ql=function(e,t,n){ql()||window.gtag("event",t,{event_category:e,event_label:n})},Jl=(n(64765),n(70108)),Xl=function(e){return e.ui.nowPlayingCover.forcedExpandedState},$l="#login";function ec(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function tc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ec(Object(n),!0).forEach((function(t){(0,E.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ec(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function nc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,W.Z)(e);if(t){var i=(0,W.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,G.Z)(this,n)}}var rc=function(e){(0,H.Z)(n,e);var t=nc(n);function n(e){var r;(0,O.Z)(this,n);var i=(r=t.call(this,e)).props,a=i.eventSender,o=i.location,s=i.isAnonymous;return a.send(ac(o.pathname,s)),r}return(0,C.Z)(n,[{key:"shouldComponentUpdate",value:function(e){var t,n=e.eventSender,r=e.history,i=e.location,a=e.isAnonymous,o=this.props.location,s=i.hash===$l||o.hash===$l;return(0,Vl.J)(i,o)||"REPLACE"===r.action||s||(t=i.pathname,ql()||window.gtag("pageview",{pathname:t}),n.send(function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Yl(e),r=n.viewUri,i={page:n.mappedPageId,type:"exit",view_uri:r};return t?(0,Gl.t)(i):(0,Hl.v)(i)}(o.pathname,a)),n.send(ac(i.pathname,a))),!1}},{key:"render",value:function(){return null}}]),n}(s.Component);const ic=(0,Ms.$j)((function(e,t){return tc(tc({},t),{},{isAnonymous:e.session.isAnonymous})}))((0,Bs.EN)(rc));function ac(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Yl(e),r=n.viewUri,i=n.mappedPageId,a={page:i,type:"enter",view_uri:r};return t?(0,Gl.t)(a):(0,Hl.v)(a)}var oc=n(24172),sc=function(e){var t=e.apiInstance;return(0,Ul.G)(Ie.rg.ACTION,(function(e){e.data.action!==Ie.zr.PLAY&&e.data.action!==Ie.zr.RESUME||t.log(e.data.action)})),null},lc=n(23267),cc=n(11680),uc=n(91250),dc=n(97181),mc=n(25216),pc=n(22586),fc=n(71801),vc=function(e){var t=e.instance,n=e.children;return s.createElement(fc.e.Provider,{value:t},n)},gc=n(50266),hc=n(44314),yc=n(37324),kc=function(e){var t=e.instance,n=e.children;return s.createElement(yc.z.Provider,{value:t},n)},Ec=n(96335),bc=n(26721),_c=function(e){var t=e.instance,n=e.children;return s.createElement(bc.i.Provider,{value:t},n)},Sc=n(92794),wc=n(14644),Nc=n(8475),Oc=function(e){var t=e.instance,n=e.children;return s.createElement(Nc.G.Provider,{value:t},n)},Cc=n(86543),Tc=n(67448),Ic=function(e){var t=e.instance,n=e.children;return s.createElement(Tc.J.Provider,{value:t},n)},Ac=(0,s.createContext)(null),Pc=function(e){var t=e.instance,n=e.children;return s.createElement(Ac.Provider,{value:t},n)},Dc=function(){var e=(0,s.useContext)(Ac);if(null===e)throw new Error("useVideoAPI must be used within a VideoAPIProvider");return e},Rc=n(28099),xc=function(e){var t=e.instance,n=e.children;return s.createElement(Rc.K.Provider,{value:t},n)},Lc=n(62718),Fc=function(e){var t=e.instance,n=e.children;return s.createElement(Lc.h.Provider,{value:t},n)},Uc=n(45342),Zc=function(e){var t=e.instance,n=e.children;return s.createElement(Uc.H.Provider,{value:t},n)},Mc=n(45788),Bc=n(14927),jc=n(73665),Vc=function(e){var t=e.instance,n=e.children;return s.createElement(jc.n.Provider,{value:t},n)},Hc=n(26527),Gc=function(e){var t=e.instance,n=e.children;return s.createElement(Hc.C.Provider,{value:t},n)},Wc=n(23716),zc=function(e){var t=e.instance,n=e.children;return s.createElement(Wc.E.Provider,{value:t},n)},Kc=n(72138),Yc=n(65998),qc=function(e){var t=e.instance,n=e.children;return s.createElement(Yc.C.Provider,{value:t},n)},Qc=n(27999),Jc=n(55799),Xc=n(15852),$c=(0,s.createContext)(null);var eu,tu=function(e){var t=e.instance,n=e.children;return s.createElement($c.Provider,{value:t},n)},nu=function(e){var t=e.children,n=e.providers;if(void 0===t)throw new Error("MultiProvider requires children!");return n.reduce((function(e,t){return s.cloneElement(t,void 0,e)}),s.createElement(s.Fragment,null,t))},ru=n(8271),iu=function(e){var t=e.instance,n=e.children;return s.createElement(ru.X2.Provider,{value:t},n)},au=function(e){var t=e.platform,n=e.children,r=[s.createElement(iu,{instance:t}),s.createElement(uc.Hr,{instance:t.getActionStoreAPI()}),s.createElement(xc,{instance:t.getAuthorizationAPI()}),s.createElement(dc.dD,{instance:t.getClipboardAPI()}),s.createElement(Fc,{instance:t.getConnectAPI()}),s.createElement(f.J$,{instance:t.getControlMessageAPI()}),s.createElement(vc,{instance:t.getFacebookAPI()}),s.createElement(gc.R,{instance:t.getFollowAPI()}),s.createElement(fn.$C,{request:t.getGraphQLLoader()}),s.createElement(Zc,{instance:t.getLibraryAPI()}),s.createElement(Mc.h,{instance:t.getLocalFilesAPI()}),s.createElement(Vc,{instance:t.getOfflineAPI()}),s.createElement(hc.u,{platformData:t.getPlatformData()}),s.createElement(zc,{instance:t.getPlayerAPI()}),s.createElement(Gc,{instance:t.getPlaybackAPI()}),s.createElement(Ec.Ef,{instance:t.getPlayHistoryAPI()}),s.createElement(Kc.ry,{instance:t.getPlaylistAPI()}),s.createElement(_c,{instance:t.getPrivateSessionAPI()}),s.createElement(Sc.Ap,{instance:t.getRadioStationAPI()}),s.createElement(qc,{instance:t.getRecentlyPlayedAPI()}),s.createElement(wc.P,{configuration:t.getRemoteConfiguration()}),s.createElement(Oc,{instance:t.getReportAPI()}),s.createElement(Kc.xY,{instance:t.getRootlistAPI()}),s.createElement(Cc.s,{instance:t.getSegmentsAPI()}),s.createElement(Qc.E0,{instance:t.getShowAPI()}),s.createElement(kc,{instance:t.getUpdateAPI()}),s.createElement(tu,{instance:t.getUserAPI()}),s.createElement(Pc,{instance:t.getVideoAPI()}),s.createElement(cc.O,{instance:t.getEnhanceAPI()}),s.createElement(Kc.NC,{instance:t.getPlaylistPermissionsAPI()}),s.createElement(Jc.E,{instance:t.getSingAlongAPI()}),s.createElement(Xc.aH,{instance:t.getUBILogger()}),s.createElement(Xc.d0,{value:null}),s.createElement(mc.$,{instance:t.getCollectionPlatformAPI()}),s.createElement(Bc.os,{instance:t.getLocalStorageAPI()}),s.createElement(pc.x,{instance:t.getEqualizerAPI()}),s.createElement(Ic,{instance:t.getSoundtrapAPI()})];return s.createElement(nu,{providers:r},n)},ou=n(6158),su=n(87462),lu=n(45987),cu=n(11886);function uu(e){var t=e.isPremiumUser,n=e.history,r=e.logNavigation,i=e.showDialog,a=function(e){var t=e.location.search;return!!t&&"1"===new URLSearchParams(t).get(eu.LOGGING_CATEGORY)}(n);a&&(r(a),function(e){if(e&&e.location){var t=e.location,n=t.pathname,r=t.search,i=new URLSearchParams(r);i.delete(eu.LOGGING_CATEGORY),e.push({pathname:n,search:i.toString()})}}(n),a&&!t&&i())}!function(e){e.LOGGING_CATEGORY="l2l",e.LOGGING_CATEGORY_MWP="l2l-mwp"}(eu||(eu={}));n(26833);var du,mu,pu=n(82789),fu="sp_s2l";!function(e){e.LOGGING_CATEGORY="s2l",e.LOGGING_CATEGORY_MWP="s2l-mwp"}(du||(du={})),function(e){e.A="a",e.B="b",e.C="c"}(mu||(mu={}));var vu=function(e){var t=e.os,n=void 0===t?"":t,r=e.country,i=void 0===r?"":r;return(0,pu.x)({category:"in_app_message",action:"display",label:"download",destination_url:"open.spotify.com",os:n,country:i,context:window.location.search})};function gu(e){if(e&&e.location){var t=e.location,n=t.pathname,r=t.search,i=new URLSearchParams(r);i.delete(du.LOGGING_CATEGORY),e.replace({pathname:n,search:i.toString()})}}function hu(e){var t=e.history,n=e.logDialog,r=e.showDialog,i=function(e){var t=null==e?void 0:e.location.search;if(t){var n=new URLSearchParams(t).get(du.LOGGING_CATEGORY);return-1!==Object.values(mu).indexOf(n)?n:void 0}}(t);i&&(i===mu.B?(n(),gu(t),r()):i===mu.C?(gu(t),yu(!1)):gu(t))}function yu(e){var t=encodeURIComponent(JSON.stringify({seen:e})),n=ku();null!==n&&n.seen===e||(0,Ot.pC)({name:fu,days:30,domain:".spotify.com",value:t})}function ku(){var e=(0,Ot.vQ)(fu);return e?JSON.parse(decodeURIComponent(e)):null}var Eu=n(32667),bu=n(73753),_u=n(86025),Su=n(5322),wu=n(67870),Nu=n(29255);const Ou="main-keyboardShortcutsHelpModal-container",Cu="gPDYH11Cr1B2ZtS9z0P8",Tu="IIQWD0tGOaagAN9uP_4h",Iu="LdrQgiV3Kav0IR6Oqsej";var Au=s.memo((function(){var e=(0,Ms.I0)(),t=(0,Ms.v9)(Nu.Gg).user,n=(0,Ms.v9)((function(e){return e.ui.blockUserDialog})),r=n.name,a=n.uri,l=n.isOpen,c=(0,s.useCallback)((0,i.Z)(o().mark((function n(){return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t&&a){n.next=2;break}return n.abrupt("return");case 2:return n.prev=2,n.next=5,(0,Su.blockUser)(Gt.b.getInstance(),{currentUserUri:null==t?void 0:t.uri,uri:a});case 5:e((0,Us.HC)()),e((0,wu.aW)()),n.next=13;break;case 9:throw n.prev=9,n.t0=n.catch(2),e((0,Us.HC)()),n.t0;case 13:case"end":return n.stop()}}),n,null,[[2,9]])}))),[e,t,a]),u=(0,s.useCallback)((function(){e((0,Us.HC)())}),[e]),d=(0,s.useCallback)((function(){e((0,Us.HC)())}),[e]);return s.createElement(Al.Z,{animated:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,onRequestClose:d,contentLabel:vl.ag.get("block-user.dialog.title",r),isOpen:l},s.createElement("div",{className:Ou},s.createElement(Eu.D,{as:"h2",variant:"cello",className:Cu},vl.ag.get("block-user.dialog.title",r)),s.createElement(Eu.D,{as:"p",variant:"mesto",className:Tu,paddingBottom:bu.g4V},vl.ag.get("block-user.dialog.description",r)),s.createElement("div",{className:Tl()("encore-light-theme",Iu)},s.createElement(_u.oM,{buttonSize:_u.oM.md,onClick:u},vl.ag.get("block-user.dialog.cancel")),s.createElement(Il.D,{onClick:c,buttonSize:Il.D.md},vl.ag.get("block-user.dialog.block")))))})),Pu=n(28776),Du=function(e){var t=e.fill,n=e.width,r=e.height;return s.createElement("svg",{width:n,height:r,viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg"},s.createElement("title",null,vl.ag.get("close")),s.createElement("path",{d:"M31.098 29.794L16.955 15.65 31.097 1.51 29.683.093 15.54 14.237 1.4.094-.016 1.508 14.126 15.65-.016 29.795l1.414 1.414L15.54 17.065l14.144 14.143",fill:t,fillRule:"evenodd"}))};Du.defaultProps={fill:"#fff",width:32,height:32};const Ru=Du;var xu,Lu,Fu="macOS"===(0,ae.y)(),Uu=(0,v.ZO)()===g.W.Desktop;!function(e){e.OPEN_HELP="OPEN_HELP",e.RAISE_VOLUME="RAISE_VOLUME",e.LOWER_VOLUME="LOWER_VOLUME",e.SKIP_PREVIOUS="SKIP_PREVIOUS",e.SKIP_NEXT="SKIP_NEXT",e.TOGGLE_PLAY="TOGGLE_PLAY",e.SHUFFLE="SHUFFLE",e.REPEAT="REPEAT",e.SEEK_BACKWARD="SEEK_BACKWARD",e.SEEK_FORWARD="SEEK_FORWARD",e.GO_TO_NOW_PLAYING="GO_TO_NOW_PLAYING",e.GO_TO_HOME="GO_TO_HOME",e.GO_TO_PLAYLISTS="GO_TO_PLAYLISTS",e.GO_TO_ARTISTS="GO_TO_ARTISTS",e.GO_TO_ALBUMS="GO_TO_ALBUMS",e.GO_TO_PODCASTS="GO_TO_PODCASTS",e.GO_TO_LIKED_SONGS="GO_TO_LIKED_SONGS",e.GO_TO_MADE_FOR_YOU="GO_TO_MADE_FOR_YOU",e.GO_TO_CHARTS="GO_TO_CHARTS",e.GO_TO_SEARCH="GO_TO_SEARCH",e.GO_TO_PREFERENCES="GO_TO_PREFERENCES",e.CREATE_NEW_PLAYLIST="CREATE_NEW_PLAYLIST",e.CREATE_NEW_FOLDER="CREATE_NEW_FOLDER",e.SELECT_ALL="SELECT_ALL",e.FILTER="FILTER",e.GO_FORWARDS="GO_FORWARDS",e.GO_BACKWARDS="GO_BACKWARDS",e.LIKE_DISLIKE_SONG="LIKE_DISLIKE_SONG",e.GO_TO_NEW_RELEASES="GO_TO_NEW_RELEASES",e.GO_TO_QUEUE="GO_TO_QUEUE",e.LOG_OUT="LOG_OUT",e.OPEN_CONTEXT_MENU="OPEN_CONTEXT_MENU",e.NAVIGATION_BAR_DECREASE_WIDTH="NAVIGATION_BAR_DECREASE_WIDTH",e.NAVIGATION_BAR_INCREASE_WIDTH="NAVIGATION_BAR_INCREASE_WIDTH",e.BUDDY_FEED_DECREASE_WIDTH="BUDDY_FEED_DECREASE_WIDTH",e.BUDDY_FEED_INCREASE_WIDTH="BUDDY_FEED_INCREASE_WIDTH",e.OPEN_SEARCH_MODAL="OPEN_SEARCH_MODAL"}(Lu||(Lu={}));var Zu=(xu={},(0,E.Z)(xu,Lu.OPEN_SEARCH_MODAL,["mod+k"]),(0,E.Z)(xu,Lu.OPEN_HELP,["mod+/","?"]),(0,E.Z)(xu,Lu.CREATE_NEW_PLAYLIST,[Uu?"mod+n":"alt+shift+p"]),(0,E.Z)(xu,Lu.LIKE_DISLIKE_SONG,["alt+shift+b"]),(0,E.Z)(xu,Lu.LOG_OUT,["alt+shift+f6"]),(0,E.Z)(xu,Lu.CREATE_NEW_FOLDER,[Uu?"mod+shift+n":"mod+alt+shift+p"]),(0,E.Z)(xu,Lu.SELECT_ALL,["mod+a"]),(0,E.Z)(xu,Lu.FILTER,["mod+f"]),(0,E.Z)(xu,Lu.TOGGLE_PLAY,["space"]),(0,E.Z)(xu,Lu.SEEK_BACKWARD,[Fu?"mod+shift+left":"shift+left"]),(0,E.Z)(xu,Lu.SEEK_FORWARD,[Fu?"mod+shift+right":"shift+right"]),(0,E.Z)(xu,Lu.SHUFFLE,[Uu?"mod+s":"alt+s"]),(0,E.Z)(xu,Lu.REPEAT,[Uu?"mod+r":"alt+r"]),(0,E.Z)(xu,Lu.RAISE_VOLUME,[Uu?"mod+up":"alt+up"]),(0,E.Z)(xu,Lu.LOWER_VOLUME,[Uu?"mod+down":"alt+down"]),(0,E.Z)(xu,Lu.SKIP_PREVIOUS,[Uu?"mod+left":"alt+left"]),(0,E.Z)(xu,Lu.SKIP_NEXT,[Uu?"mod+right":"alt+right"]),(0,E.Z)(xu,Lu.GO_TO_PLAYLISTS,["alt+shift+1"]),(0,E.Z)(xu,Lu.GO_TO_PODCASTS,["alt+shift+2"]),(0,E.Z)(xu,Lu.GO_TO_ARTISTS,["alt+shift+3"]),(0,E.Z)(xu,Lu.GO_TO_ALBUMS,["alt+shift+4"]),(0,E.Z)(xu,Lu.GO_TO_HOME,["alt+shift+h"]),(0,E.Z)(xu,Lu.GO_TO_PREFERENCES,["mod+,"]),(0,E.Z)(xu,Lu.GO_BACKWARDS,Uu?["mod+alt+left","alt+left"]:["mod+left"]),(0,E.Z)(xu,Lu.GO_FORWARDS,Uu?["mod+alt+right","alt+right"]:["mod+right"]),(0,E.Z)(xu,Lu.GO_TO_SEARCH,[Uu?"mod+l":"mod+shift+l"]),(0,E.Z)(xu,Lu.GO_TO_NOW_PLAYING,["alt+shift+j"]),(0,E.Z)(xu,Lu.GO_TO_LIKED_SONGS,["alt+shift+s"]),(0,E.Z)(xu,Lu.GO_TO_MADE_FOR_YOU,["alt+shift+m"]),(0,E.Z)(xu,Lu.GO_TO_NEW_RELEASES,["alt+shift+n"]),(0,E.Z)(xu,Lu.GO_TO_CHARTS,["alt+shift+c"]),(0,E.Z)(xu,Lu.GO_TO_QUEUE,["alt+shift+q"]),(0,E.Z)(xu,Lu.OPEN_CONTEXT_MENU,["alt+j"]),(0,E.Z)(xu,Lu.NAVIGATION_BAR_DECREASE_WIDTH,["alt+shift+left"]),(0,E.Z)(xu,Lu.NAVIGATION_BAR_INCREASE_WIDTH,["alt+shift+right"]),(0,E.Z)(xu,Lu.BUDDY_FEED_DECREASE_WIDTH,["alt+shift+up"]),(0,E.Z)(xu,Lu.BUDDY_FEED_INCREASE_WIDTH,["alt+shift+down"]),xu),Mu={basic:[{action:Lu.CREATE_NEW_PLAYLIST,get description(){return vl.ag.get("playlist.new-header")}},{action:Lu.CREATE_NEW_FOLDER,get description(){return vl.ag.get("keyboard.shortcuts.description.createNewFolder")}},{action:Lu.OPEN_CONTEXT_MENU,get description(){return vl.ag.get("keyboard.shortcuts.description.openContextMenu")}},{action:Lu.OPEN_SEARCH_MODAL,get description(){return vl.ag.get("keyboard.shortcuts.description.openSearchModal")}}].concat((0,N.Z)(Uu?[{action:Lu.SELECT_ALL,get description(){return vl.ag.get("keyboard.shortcuts.description.selectAll")}},{action:Lu.FILTER,get description(){return vl.ag.get("filter")}}]:[]),[{action:Lu.LOG_OUT,get description(){return vl.ag.get("user.log-out")}}]),playback:[{action:Lu.TOGGLE_PLAY,get description(){return vl.ag.get("keyboard.shortcuts.description.togglePlay")}},{action:Lu.LIKE_DISLIKE_SONG,get description(){return vl.ag.get("keyboard.shortcuts.description.likeDislikeSong")}},{action:Lu.SHUFFLE,get description(){return vl.ag.get("keyboard.shortcuts.description.shuffle")}},{action:Lu.REPEAT,get description(){return vl.ag.get("keyboard.shortcuts.description.repeat")}},{action:Lu.SKIP_PREVIOUS,get description(){return vl.ag.get("keyboard.shortcuts.description.skipPrev")}},{action:Lu.SKIP_NEXT,get description(){return vl.ag.get("keyboard.shortcuts.description.skipNext")}},{action:Lu.SEEK_BACKWARD,get description(){return vl.ag.get("keyboard.shortcuts.description.seekBackward")}},{action:Lu.SEEK_FORWARD,get description(){return vl.ag.get("keyboard.shortcuts.description.seekForward")}},{action:Lu.RAISE_VOLUME,get description(){return vl.ag.get("keyboard.shortcuts.description.raiseVolume")}},{action:Lu.LOWER_VOLUME,get description(){return vl.ag.get("keyboard.shortcuts.description.lowerVolume")}}],navigation:[{action:Lu.GO_TO_HOME,get description(){return vl.ag.get("keyboard.shortcuts.description.home")}},{action:Lu.GO_BACKWARDS,get description(){return vl.ag.get("keyboard.shortcuts.description.goBackwards")}},{action:Lu.GO_FORWARDS,get description(){return vl.ag.get("keyboard.shortcuts.description.goForwards")}}].concat((0,N.Z)(Uu?[{action:Lu.GO_TO_PREFERENCES,get description(){return vl.ag.get("keyboard.shortcuts.description.goToPreferences")}}]:[]),[{action:Lu.GO_TO_NOW_PLAYING,get description(){return vl.ag.get("keyboard.shortcuts.description.currentlyPlaying")}},{action:Lu.GO_TO_SEARCH,get description(){return vl.ag.get("keyboard.shortcuts.description.search")}},{action:Lu.GO_TO_LIKED_SONGS,get description(){return vl.ag.get("keyboard.shortcuts.description.likedSongs")}},{action:Lu.GO_TO_QUEUE,get description(){return vl.ag.get("playback-control.queue")}},{action:Lu.GO_TO_PLAYLISTS,get description(){return vl.ag.get("keyboard.shortcuts.description.yourPlaylists")}},{action:Lu.GO_TO_PODCASTS,get description(){return vl.ag.get("keyboard.shortcuts.description.yourPodcasts")}},{action:Lu.GO_TO_ARTISTS,get description(){return vl.ag.get("keyboard.shortcuts.description.yourArtists")}},{action:Lu.GO_TO_ALBUMS,get description(){return vl.ag.get("keyboard.shortcuts.description.yourAlbums")}},{action:Lu.GO_TO_MADE_FOR_YOU,get description(){return vl.ag.get("keyboard.shortcuts.description.madeForYour")}},{action:Lu.GO_TO_NEW_RELEASES,get description(){return vl.ag.get("new_releases")}},{action:Lu.GO_TO_CHARTS,get description(){return vl.ag.get("keyboard.shortcuts.description.charts")}}]),layout:[{action:Lu.NAVIGATION_BAR_DECREASE_WIDTH,get description(){return vl.ag.get("keyboard.shortcuts.layout.navigationBarDecreaseWidth")}},{action:Lu.NAVIGATION_BAR_INCREASE_WIDTH,get description(){return vl.ag.get("keyboard.shortcuts.layout.navigationBarIncreaseWidth")}},{action:Lu.BUDDY_FEED_DECREASE_WIDTH,get description(){return vl.ag.get("keyboard.shortcuts.layout.friendFeedDecreaseWidth")}},{action:Lu.BUDDY_FEED_INCREASE_WIDTH,get description(){return vl.ag.get("keyboard.shortcuts.layout.friendFeedIncreaseWidth")}}]};const Bu="main-keyboardShortcutsHelpModal-container",ju="main-keyboardShortcutsHelpModal-header",Vu="main-keyboardShortcutsHelpModal-closeBtn",Hu="main-keyboardShortcutsHelpModal-sectionsContainer",Gu="main-keyboardShortcutsHelpModal-sections",Wu="main-keyboardShortcutsHelpModal-sectionHeading",zu="main-keyboardShortcutsHelpModal-sectionItem",Ku="main-keyboardShortcutsHelpModal-sectionItemName",Yu="main-keyboardShortcutsHelpModal-key";var qu=s.memo((function(e){var t=e.children;return s.createElement(Eu.D,{as:"kbd",variant:"ballad",className:Yu},function(e){switch(e){case"mod":return"macOS"===se().getParser(window.navigator.userAgent).getOSName()?"⌘":"Ctrl";case"command":return"⌘";case"alt":return"macOS"===se().getParser(window.navigator.userAgent).getOSName()?"⌥":"Alt";case"shift":case"ctrl":case"space":return e[0].toUpperCase()+e.slice(1);case"up":return"↑";case"right":return"→";case"down":return"↓";case"left":return"←";default:return e.toUpperCase()}}(t))})),Qu=function(e){var t=e.combinations;return s.createElement(s.Fragment,null,t.map((function(e,n){var r=e.split("+");return s.createElement(s.Fragment,{key:e},r.map((function(e){return s.createElement(qu,{key:e},e)})),n<t.length-1&&s.createElement(Eu.D,{variant:"ballad"}," ",vl.ag.get("keyboard.shortcuts.or")," "))})))},Ju=n(42441),Xu=n.n(Ju),$u=n(4383),ed=n(16468);function td(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function nd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?td(Object(n),!0).forEach((function(t){(0,E.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):td(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function rd(){var e=(0,Wc.g)();return nd(nd({},(0,el.Y)((function(e){var t,n,r,i,a,o;return{shuffle:null!==(t=null==e?void 0:e.shuffle)&&void 0!==t&&t,repeat:null!==(n=null==e?void 0:e.repeat)&&void 0!==n?n:Te.zq.REPEAT_NONE,speed:null!==(r=null==e?void 0:e.speed)&&void 0!==r?r:0,canToggleShuffle:null!==(i=null==e?void 0:e.restrictions.canToggleShuffle)&&void 0!==i&&i,canToggleRepeatContext:null!==(a=null==e?void 0:e.restrictions.canToggleRepeatContext)&&void 0!==a&&a,canToggleRepeatTrack:null!==(o=null==e?void 0:e.restrictions.canToggleRepeatTrack)&&void 0!==o&&o}}),ed.V)),{},{canChangeSpeed:e.getCapabilities().canChangeSpeed,setShuffle:e.setShuffle.bind(e),setRepeat:e.setRepeat.bind(e),setSpeed:e.setSpeed.bind(e)})}function id(){var e=(0,Wc.g)(),t=function(e){return e===Ae.p.TRACK?5e3:e===Ae.p.EPISODE?15e3:0}((0,el.Y)((function(e){var t;return null==e||null===(t=e.item)||void 0===t?void 0:t.type})));return{seekBackward:(0,s.useCallback)((function(){return 0!==t&&e.seekBackward(t),t}),[e,t]),seekForward:(0,s.useCallback)((function(){return 0!==t&&e.seekForward(t),t}),[e,t]),seekOffsetMs:t}}var ad=n(63282),od=function(e){return function(t){var n,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=!1;return function(){for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];n=o,i||(r||e.apply(e,o),i=!0,window.setTimeout((function(){i=!1,r&&e.apply(e,n)}),t))}}};function sd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ld(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sd(Object(n),!0).forEach((function(t){(0,E.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sd(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function cd(e,t){switch(t.type){case"OPEN":return ld(ld({},e),{},{isOpen:!0});case"CLOSE":return ld(ld({},e),{},{isOpen:!1});default:(0,Pe.U)(t)}}var ud=(0,s.createContext)(void 0),dd=function(e){var t=e.children,n=(0,s.useReducer)(cd,{isOpen:!1});return s.createElement(ud.Provider,{value:n},t)},md=function(){var e=(0,s.useContext)(ud);if(!e)throw new Error("useSearchModalDispatch must be used within SearchModalProvider");return(0,r.Z)(e,2)[1]},pd=n(52983),fd=function(e){return function(t){if(!t.repeat){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];e.apply(void 0,[t].concat(r))}}},vd=s.memo((function(){var e=(0,Ms.I0)(),t=(0,Ms.v9)((function(e){return e.ui.keyboardShortcutsHelpModal.isOpen})),n=(0,s.useCallback)((function(){e((0,Us.fW)(!1))}),[e]);return function(){var e=(0,Bs.k6)(),t=(0,Ms.I0)(),n=(0,Ms.oR)(),a=(0,Wc.g)(),l=(0,Hc.f)(),c=(0,ad.K)().createPlaylist,u=rd(),m=u.shuffle,p=u.setShuffle,f=u.setRepeat,v=u.repeat,g=(0,el.Y)((function(e){var t,n,r;return{contextURI:null!==(t=null==e?void 0:e.context.uri)&&void 0!==t?t:null,playingURI:null!==(n=null==e||null===(r=e.item)||void 0===r?void 0:r.uri)&&void 0!==n?n:"",isPaused:null==e?void 0:e.isPaused,canPause:null==e?void 0:e.restrictions.canPause,canResume:null==e?void 0:e.restrictions.canResume}}),ed.V),h=g.contextURI,y=g.playingURI,k=g.isPaused,E=g.canPause,b=g.canResume,_=id(),S=_.seekBackward,w=_.seekForward,N=(0,Ms.v9)((function(e){return e.platform.isDesktop})),O=(0,$u.Z)(y),C=(0,r.Z)(O,2),T=C[0],I=C[1],A=(0,Kc.lh)().createFolder,P=md();(0,s.useEffect)((function(){return Xu().bind(Zu.OPEN_SEARCH_MODAL,fd((function(e){P({type:"OPEN"}),e.preventDefault&&e.preventDefault()}))),function(){Xu().unbind(Zu.OPEN_SEARCH_MODAL)}}),[P]),(0,s.useEffect)((function(){return Xu().bind(Zu.OPEN_HELP,fd((function(){t(Us.fW(!n.getState().ui.keyboardShortcutsHelpModal.isOpen))}))),function(){Xu().unbind(Zu.OPEN_HELP)}}),[t,n]),(0,s.useEffect)((function(){return Xu().bind(Zu.TOGGLE_PLAY,fd((function(e){k&&b?a.resume():!k&&E&&a.pause(),e.preventDefault&&e.preventDefault()}))),function(){Xu().unbind(Zu.TOGGLE_PLAY)}}),[E,b,k,a]),(0,s.useEffect)((function(){return Xu().bind(Zu.LOG_OUT,fd((function(){t((0,pd.Tz)())}))),function(){Xu().unbind(Zu.LOG_OUT)}}),[t]),(0,s.useEffect)((function(){return Xu().bind(Zu.OPEN_CONTEXT_MENU,fd((function(){var e,t,n=null===(e=document.activeElement)||void 0===e?void 0:e.getBoundingClientRect();if(n){var r=new MouseEvent("contextmenu",{bubbles:!0,clientX:n.x+n.width/2,clientY:n.y+n.height});null===(t=document.activeElement)||void 0===t||t.dispatchEvent(r)}}))),function(){Xu().unbind(Zu.OPEN_CONTEXT_MENU)}}),[t]),(0,s.useEffect)((function(){return N&&Xu().bind(Zu.GO_BACKWARDS,fd((function(){e.goBack()}))),function(){Xu().unbind(Zu.GO_BACKWARDS)}}),[e,N]),(0,s.useEffect)((function(){return N&&Xu().bind(Zu.GO_FORWARDS,fd((function(){e.goForward()}))),function(){Xu().unbind(Zu.GO_FORWARDS)}}),[e,N]),(0,s.useEffect)((function(){return Xu().bind(Zu.GO_TO_HOME,fd((function(){e.push("/")}))),function(){Xu().unbind(Zu.GO_TO_HOME)}}),[t,e]),(0,s.useEffect)((function(){return Xu().bind(Zu.GO_TO_PLAYLISTS,fd((function(){e.push("/collection/playlists")}))),function(){Xu().unbind(Zu.GO_TO_PLAYLISTS)}}),[t,e]),(0,s.useEffect)((function(){return Xu().bind(Zu.GO_TO_PODCASTS,fd((function(){e.push("/collection/podcasts")}))),function(){Xu().unbind(Zu.GO_TO_PODCASTS)}}),[t,e]),(0,s.useEffect)((function(){return Xu().bind(Zu.GO_TO_ARTISTS,fd((function(){e.push("/collection/artists")}))),function(){Xu().unbind(Zu.GO_TO_ARTISTS)}}),[t,e]),(0,s.useEffect)((function(){return Xu().bind(Zu.GO_TO_ALBUMS,fd((function(){e.push("/collection/albums")}))),function(){Xu().unbind(Zu.GO_TO_ALBUMS)}}),[t,e]),(0,s.useEffect)((function(){return Xu().bind(Zu.GO_TO_LIKED_SONGS,fd((function(){e.push("/collection/tracks")}))),function(){Xu().unbind(Zu.GO_TO_LIKED_SONGS)}}),[t,e]),(0,s.useEffect)((function(){return Xu().bind(Zu.GO_TO_NOW_PLAYING,fd((function(){if(null!==h){var t=d().from(h).toURLPath(!0);e.push(t)}}))),function(){Xu().unbind(Zu.GO_TO_NOW_PLAYING)}}),[t,e,h]),(0,s.useEffect)((function(){return Xu().bind(Zu.GO_TO_CHARTS,fd((function(){e.push("/genre/browse-charts-tab")}))),function(){Xu().unbind(Zu.GO_TO_CHARTS)}}),[t,e]),(0,s.useEffect)((function(){return Xu().bind(Zu.GO_TO_SEARCH,fd((function(){e.push("/search")}))),function(){Xu().unbind(Zu.GO_TO_SEARCH)}}),[t,e]),(0,s.useEffect)((function(){return Xu().bind(Zu.GO_TO_MADE_FOR_YOU,fd((function(){e.push("/genre/made-for-x-hub")}))),function(){Xu().unbind(Zu.GO_TO_MADE_FOR_YOU)}}),[t,e]),(0,s.useEffect)((function(){return Xu().bind(Zu.GO_TO_NEW_RELEASES,fd((function(){e.push("/genre/new-releases-page")}))),function(){Xu().unbind(Zu.GO_TO_NEW_RELEASES)}}),[t,e]),(0,s.useEffect)((function(){return Xu().bind(Zu.GO_TO_QUEUE,fd((function(){e.push("/queue")}))),function(){Xu().unbind(Zu.GO_TO_QUEUE)}}),[t,e]),(0,s.useEffect)((function(){return Xu().bind(Zu.LIKE_DISLIKE_SONG,fd((function(){I(!T)}))),function(){Xu().unbind(Zu.LIKE_DISLIKE_SONG)}}),[t,y,T,I]),(0,s.useEffect)((function(){return N||Xu().bind(Zu.CREATE_NEW_PLAYLIST,fd((0,i.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c();case 2:case"end":return e.stop()}}),e)}))))),function(){Xu().unbind(Zu.CREATE_NEW_PLAYLIST)}}),[t,N,c]),(0,s.useEffect)((function(){return N||Xu().bind(Zu.CREATE_NEW_FOLDER,fd((function(){A(vl.ag.get("playlist.default_folder_name"),{before:"start"})}))),function(){Xu().unbind(Zu.CREATE_NEW_FOLDER)}}),[A,t,N]),(0,s.useEffect)((function(){return N||Xu().bind(Zu.SKIP_NEXT,fd((function(){a.skipToNext()}))),function(){Xu().unbind(Zu.SKIP_NEXT)}}),[N,a]),(0,s.useEffect)((function(){return N||Xu().bind(Zu.SKIP_PREVIOUS,fd((function(){a.skipToPrevious()}))),function(){Xu().unbind(Zu.SKIP_PREVIOUS)}}),[N,a]),(0,s.useEffect)((function(){return N||Xu().bind(Zu.RAISE_VOLUME,od((function(){l.raiseVolume()}))(100)),function(){Xu().unbind(Zu.RAISE_VOLUME)}}),[N,l,n]),(0,s.useEffect)((function(){return N||Xu().bind(Zu.LOWER_VOLUME,od((function(){l.lowerVolume()}))(100)),function(){Xu().unbind(Zu.LOWER_VOLUME)}}),[N,l,n]),(0,s.useEffect)((function(){return N||Xu().bind(Zu.SEEK_BACKWARD,od((function(){S()}))(100)),function(){Xu().unbind(Zu.SEEK_BACKWARD)}}),[t,N,n,a,S]),(0,s.useEffect)((function(){return N||Xu().bind(Zu.SEEK_FORWARD,od((function(){w()}))(100)),function(){Xu().unbind(Zu.SEEK_FORWARD)}}),[t,N,n,a,w]),(0,s.useEffect)((function(){return N||Xu().bind(Zu.SHUFFLE,fd((function(){p(!m)}))),function(){Xu().unbind(Zu.SHUFFLE)}}),[t,N,n,m,p]),(0,s.useEffect)((function(){return N||Xu().bind(Zu.REPEAT,fd((function(){f((v+1)%3)}))),function(){Xu().unbind(Zu.REPEAT)}}),[t,N,n,v,f])}(),s.createElement(Al.Z,{isOpen:t,onRequestClose:n,contentLabel:vl.ag.get("keyboard.shortcuts.help.heading")},s.createElement("div",{className:Bu},s.createElement("div",{className:ju},s.createElement(Eu.D,{as:"h1",variant:"alto"},vl.ag.get("keyboard.shortcuts.help.heading")),s.createElement("button",{"aria-label":vl.ag.get("close"),className:Vu,onClick:n},s.createElement(Ru,{width:18,height:18,fill:"currentColor"})),s.createElement(Eu.D,{variant:"ballad",as:"p"},vl.ag.get("keyboard.shortcuts.help.subheading.press")," ",s.createElement(Qu,{combinations:Zu.OPEN_HELP})," ",vl.ag.get("keyboard.shortcuts.help.subheading.toToggle"))),s.createElement("div",{className:Hu},s.createElement("div",{className:Gu,tabIndex:0},s.createElement(Eu.D,{as:"h2",className:Wu,variant:"canon"},vl.ag.get("keyboard.shortcuts.section.basic")),s.createElement("ul",null,Mu.basic.map((function(e){return s.createElement("li",{className:zu,key:e.action},s.createElement(Eu.D,{variant:"ballad",className:Ku},e.description),s.createElement(Qu,{combinations:Zu[e.action]}))}))),s.createElement(Eu.D,{as:"h2",className:Wu,variant:"canon"},vl.ag.get("keyboard.shortcuts.section.playback")),s.createElement("ul",null,Mu.playback.map((function(e){return s.createElement("li",{className:zu,key:e.action},s.createElement(Eu.D,{variant:"ballad",className:Ku},e.description),s.createElement(Qu,{combinations:Zu[e.action]}))}))),s.createElement(Eu.D,{as:"h2",className:Wu,variant:"canon"},vl.ag.get("keyboard.shortcuts.section.navigation")),s.createElement("ul",null,Mu.navigation.map((function(e){return s.createElement("li",{className:zu,key:e.action},s.createElement(Eu.D,{variant:"ballad",className:Ku},e.description),s.createElement(Qu,{combinations:Zu[e.action]}))}))),s.createElement(Eu.D,{as:"h2",className:Wu,variant:"canon"},vl.ag.get("keyboard.shortcuts.section.layout")),s.createElement("ul",null,Mu.layout.map((function(e){return s.createElement("li",{className:zu,key:e.action},s.createElement(Eu.D,{variant:"ballad",className:Ku},e.description),s.createElement(Qu,{combinations:Zu[e.action]}))})))))))})),gd=n(78e3),hd=n(97194),yd="SHOW_BILLBOARD_AD_VIEW",kd="HIDE_BILLBOARD_AD_VIEW",Ed="MINIMIZE_BILLBOARD_AD_VIEW",bd="CLICK_BILLBOARD_AD_VIEW",_d="IMAGE_LOADED_BILLBOARD_AD_VIEW",Sd="ERROR_BILLBOARD_AD_VIEW",wd="MANAGER_MINIMIZE_BILLBOARD_AD_VIEW",Nd="FINISH_BILLBOARD_AD_VIEW",Od=function(e){return{type:yd,data:e}},Cd=function(){return{type:Nd}},Td=function(){return{type:kd}},Id=function(e){var t,n=null!==(t=null==e?void 0:e.item)&&void 0!==t?t:void 0;return(0,Te.k6)(n)},Ad=function(e){var t,n=null!==(t=null==e?void 0:e.item)&&void 0!==t?t:void 0;return(0,Te.k6)(n)&&"video"===n.mediaType},Pd=function(e){var t,n=null!==(t=null==e?void 0:e.item)&&void 0!==t?t:void 0;return(0,Te.k6)(n)&&"audio"===n.mediaType},Dd=n(5965);function Rd(e){return Ad(e)}var xd="prod",Ld="web-modal",Fd={pattern:"app:start",type:"CLIENT_EVENT"},Ud=null;function Zd(){return Ud}var Md=function(e,t){return function(n){return function(r){return function(i){var a,o=r(i),s=n.getState(),l=n.dispatch,c="";function u(e){e&&l((0,Dd.gq)(e))}if((0,Nu.Gg)(s).isAnonymous)return o;switch(i.type){case Us.V5.INITIALISE_QUICKSILVER:!function(e){(Ud=(0,gd.Of)((0,hd.k)().toPublic(),{actions:["DISMISS","URL","EXTERNAL_URL"],app:{platform:"WebPlayer",clientId:"65b708073fc0480ea92a077233ca87bd"},enableLogs:!1,formats:[Ld],locale:vl.ag.getLocale(),env:xd,triggerTypes:["URI","CLIENT_EVENT"]})).start(),Ud.on(gd.FP.CONNECTED,(function(){e((0,Dd.Gt)())}))}(l);break;case Dd.Hp.TRIGGER_APP_START_IN_APP_MESSAGE:Ud&&!Rd(t.getState())&&Ud.requestMessage({appUri:"spotify:home",trigger:Fd}).then(u);break;case Us.V5.UPDATE_UI_HISTORY_STATE:c="/"===(a=e.location.pathname)?"spotify:home":/^\/collection/.test(a)?"spotify:collection":/^\/artist/.test(a)?a.replace("/artist/","spotify:artist:"):/^\/album/.test(a)?a.replace("/album/","spotify:album:"):/^\/playlist/.test(a)?a.replace("/playlist/","spotify:playlist:"):/^\/genre/.test(a)?a.replace("/genre/","spotify:genre:"):/^\/search/.test(a)?"spotify:search":"",Ud&&!Rd(t.getState())&&c&&Ud.requestMessage({appUri:c,trigger:{pattern:c,type:"URI"}}).then(u);break;case yd:l((0,Dd.b8)());break;case Dd.Hp.PREVIEW_IN_APP_MESSAGE:Ud&&i.creativeId&&Ud.previewMessage({appUri:i.appUri||"spotify:home",creativeId:i.creativeId}).then(u);break;case Dd.Hp.SET_IN_APP_MESSAGING_ENV:Ud&&Ud.setEnv(i.env);break;case pd.y:Ud&&Ud.stop()}return o}}}},Bd=n(87577);function jd(e,t){if(e)if(/^spotify:/.test(e)){var n=d().from(e).toURLPath(!0);t.push(n)}else{var r=document.createElement("a");r.href=e,r.target="_blank",r.click()}}function Vd(e,t,n,r){if(e&&""===e.innerHTML){var i=function(e,t,n){var r=Zd();if(r){var i=r.createIframe(e,n);return i.setAttribute("data-testid","inAppMessageIframe"),i.style.borderRadius="5px",i.style.margin="auto",i.style.opacity="0",i.style.transition="opacity 150ms linear",i.addEventListener("load",(function(){var e=i.contentWindow,n=i.contentDocument;e&&function(e){e&&e.focus()}(e),n&&(Ss(n),function(e,t){var n=e.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'),r=n[0],i=n[n.length-1];e.addEventListener("keydown",(function(e){"Tab"===e.key&&e.target===i&&(e.preventDefault(),r.focus()),e.shiftKey&&"Tab"===e.key&&i.focus(),"Escape"!==e.key&&27!==e.keyCode||t()}),!0)}(n,t)),i.style.opacity="1"})),i}return null}(t,n,r);i&&e.appendChild(i)}}function Hd(e,t){var n=(0,Ms.I0)(),r=(0,Bs.k6)(),i=(0,s.useCallback)((function(){n((0,Dd.b8)())}),[n]);(0,s.useEffect)((function(){var n=t.current;return Vd(n,e,i,function(e,t){return function(n){switch(n.action){default:return void e();case"URL":var r=n.url;return jd(void 0===r?"":r,t),void e();case"EXTERNAL_URL":var i=n.url;return void jd(void 0===i?"":i,t)}}}(i,r)),function(){!function(e){e&&(e.innerHTML="")}(n)}}),[e,i,n,t,r])}function Gd(e){var t=e.message,n=(0,s.useRef)(null);return Hd(t,n),s.createElement("div",{"":"inAppMessageContainer",ref:n})}function Wd(){return s.createElement(s.Suspense,{fallback:null},s.createElement(zd,null))}function zd(){var e,t=(0,Bd.W6)(vs.yi),n=(e=(0,Ms.I0)(),{message:(0,Ms.v9)((function(e){var t;return null===(t=e.inAppMessaging)||void 0===t?void 0:t.message})),dismissMessage:(0,s.useCallback)((function(){e((0,Dd.b8)())}),[e])}),r=n.message,i=n.dismissMessage,a=!!r&&r.format===Ld;return t?s.createElement(Al.Z,{animated:!0,contentLabel:"In-App Message Modal",isOpen:a,onRequestClose:i,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!1},a&&!!r&&s.createElement(Gd,{message:r})):null}function Kd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Yd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Kd(Object(n),!0).forEach((function(t){(0,E.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kd(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var qd={env:xd,message:null,showPreviewTool:!1},Qd=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qd,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Dd.Hp.SHOW_IN_APP_MESSAGE:return Yd(Yd({},e),{},{message:t.message});case Dd.Hp.DISMISS_IN_APP_MESSAGE:return Yd(Yd({},e),{},{message:null});case Dd.Hp.SET_IN_APP_MESSAGING_ENV:return Yd(Yd({},e),{},{env:t.env});case Dd.Hp.SHOW_PREVIEW_TOOL:return Yd(Yd({},e),{},{showPreviewTool:t.show});default:return e}},Jd=(n(83650),n(74410)),Xd=n(10917);const $d="tJeH2W2to1A7d9tWBRoi",em="oNjdJbGQ9ypf7KR0nYJW",tm="ibrRlYShsgThsh8VNS8Q",nm="Yl9jzsnP8e_5i9me3h7H",rm="vxBybZOmHdDF_nmLE4sa";var im=s.memo((function(){var e=(0,Ms.I0)(),t=(0,Ms.v9)((function(e){return e.aboutRecs})).isOpen,n=(0,s.useCallback)((function(){e((0,Xd.oT)())}),[e]),r=bu.tGJ.substr(1),i="https://about-recommendations.spotify.com/?bg=".concat(r,"&hideHeader=true");return s.createElement(Al.Z,{animated:!0,isOpen:t,onRequestClose:n,contentLabel:vl.ag.get("context-menu.about-recommendations")},s.createElement("div",{className:$d},s.createElement(Eu.D,{as:"h1",variant:"alto",semanticColor:"textBase",className:em},vl.ag.get("context-menu.about-recommendations")),s.createElement("div",{className:tm},s.createElement("iframe",{className:nm,title:vl.ag.get("context-menu.about-recommendations"),src:i})),s.createElement("button",{"aria-label":vl.ag.get("close_button_action"),className:rm,onClick:n},s.createElement(Jd.k,{iconSize:24}))))})),am=(0,s.lazy)((0,i.Z)(o().mark((function e(){var t,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.e(7994).then(n.bind(n,45169));case 2:return t=e.sent,r=t.AboutSpotifyModal,e.abrupt("return",{default:r});case 5:case"end":return e.stop()}}),e)})))),om=(0,s.lazy)((0,i.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.e(7994).then(n.bind(n,57919));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))));function sm(){return s.createElement(s.Suspense,{fallback:null},s.createElement(am,null),s.createElement(om,null))}var lm=n(58393),cm=n(24261),um=n(79177),dm=n(68067),mm=n(31722),pm=n(3018),fm=n(66206),vm=n(87972);const gm="main-trackCreditsModal-container",hm="main-trackCreditsModal-header",ym="main-trackCreditsModal-closeBtn",km="main-trackCreditsModal-mainSection",Em="main-trackCreditsModal-originalCredits",bm="main-trackCreditsModal-sectionTitle",_m="main-trackCreditsModal-creditsGroup",Sm="main-trackCreditsModal-creditsEntry",wm="main-trackCreditsModal-clickableCreditsEntry",Nm="main-trackCreditsModal-sourceNames",Om="main-trackCreditsModal-additionalCredits";var Cm=s.memo((function(){var e=(0,Ms.I0)(),t=(0,Ms.v9)((function(e){return e.ui.trackCreditsModal})),n=t.isOpen,r=t.trackUri,i=r.split(":"),a=i[i.length-1],o=(0,vm.J)(Yo.pH.V,[a]),l=o.data,c=o.error,u=o.loading,d=(0,s.useCallback)((function(){e((0,Us.Pd)(!1,""))}),[e]),m=(0,ru.s4)(),p=(0,Ms.v9)(Nu.Gg).isAnonymous,f=(0,Xc.fU)(fm.createTrackCreditsEventFactory,{data:{uri:r}}),v=f.spec,g=f.logger;return s.createElement(Al.Z,{contentLabel:vl.ag.get("track-credits.label"),isOpen:n,onRequestClose:d},!u&&!c&&l&&s.createElement("div",{className:gm},s.createElement("div",{className:hm},s.createElement(Eu.D,{as:"h1",variant:"alto"},vl.ag.get("track-credits.label")),s.createElement("button",{"aria-label":vl.ag.get("close"),className:ym,onClick:d},s.createElement(Ru,{width:18,height:18,fill:"white"}))),s.createElement("div",{className:km,onScroll:p?function(){return m.send((0,pm.W)({track_uri:r}))}:function(){return m.send((0,mm.d)({track_uri:r}))}},s.createElement("div",{className:Em},s.createElement(Eu.D,{as:"h2",className:bm,variant:"cello"},l.body.trackTitle),l.body.roleCredits.map((function(e){var t=v.creditSectionFactory({identifier:e.roleTitle});return s.createElement("div",{key:e.roleTitle,className:_m},s.createElement(Eu.D,{as:"p",variant:"mestoBold"},function(e){switch(e){case"Performers":return vl.ag.get("track-credits.performers");case"Writers":return vl.ag.get("track-credits.writers");case"Producers":return vl.ag.get("track-credits.producers");default:return"Role title"}}(e.roleTitle)),e.artists.length>0?e.artists.map((function(n){var i=n.name,a=n.externalUrl;return a?s.createElement("a",{key:i,href:a,draggable:!1,rel:"noopener noreferrer",onClick:function(){var n=t.artistNameFactory({identifier:i}).hitNavigateToExternalUri({destination:a});g.logInteraction(n),p?m.send((0,dm.d)({track_uri:r,clickable_text:i,role:e.roleTitle,external_url:a})):m.send((0,um.x)({track_uri:r,clickable_text:i,role:e.roleTitle,external_url:a}))},target:"_blank",className:wm},i):s.createElement(Eu.D,{key:i,className:Sm,variant:"mesto",semanticColor:"textSubdued"},i)})):"-")})),s.createElement(Eu.D,{as:"p",variant:"mesto"},vl.ag.get("track-credits.source"),":"," ",l.body.sourceNames.join(vl.ag.getSeparator()))),l.body.extendedCredits&&l.body.extendedCredits.length>0&&s.createElement("div",{className:Om},s.createElement(Eu.D,{as:"h3",className:bm,variant:"balladBold"},vl.ag.get("track-credits.additional-credits")),l.body.extendedCredits.map((function(e){return s.createElement("div",{key:e.roleTitle,className:_m},s.createElement(Eu.D,{as:"p",variant:"mestoBold"},function(e){switch(e){case"assistant recording engineer":return vl.ag.get("track-credits.assistant-recording-engineer");case"engineer":return vl.ag.get("track-credits.engineer");case"assistant engineer":return vl.ag.get("track-credits.assistant-engineer");case"trumpet":return vl.ag.get("track-credits.trumpet");case"guitar":return vl.ag.get("track-credits.guitar");case"composer and lyricist":return vl.ag.get("track-credits.composer-and-lyricist");case"associated performer":return vl.ag.get("track-credits.associated-performer");case"background vocals":return vl.ag.get("track-credits.background-vocals");case"bass":return vl.ag.get("track-credits.bass");case"co-producer":return vl.ag.get("track-credits.co-producer");case"additional engineer":return vl.ag.get("track-credits.additional-engineer");case"masterer":return vl.ag.get("track-credits.masterer");case"mixer":return vl.ag.get("track-credits.mixer");case"recording engineer":return vl.ag.get("track-credits.recording-engineer");case"accordion":return vl.ag.get("track-credits.accordion");case"piano":return vl.ag.get("track-credits.piano");case"organ":return vl.ag.get("track-credits.organ");case"background vocal":return vl.ag.get("track-credits.background-vocal");case"recorded by":return vl.ag.get("track-credits.recorded-by");case"mixing engineer":return vl.ag.get("track-credits.mixing-engineer");case"editor":return vl.ag.get("track-credits.editor");case"fiddle":return vl.ag.get("track-credits.fiddle");case"additional vocals":return vl.ag.get("track-credits.additional-vocals");case"violin":return vl.ag.get("track-credits.violin");case"viola":return vl.ag.get("track-credits.viola");case"percussion":return vl.ag.get("track-credits.percussion");case"mastering engineer":return vl.ag.get("track-credits.mastering-engineer");case"composer":return vl.ag.get("track-credits.composer");case"additional keyboards":return vl.ag.get("track-credits.additional-keyboards");case"mix engineer":return vl.ag.get("track-credits.mix-engineer");case"mandolin":return vl.ag.get("track-credits.mandolin");case"acoustic guitar":return vl.ag.get("track-credits.acoustic-guitar");case"keyboards":return vl.ag.get("track-credits.keyboards");case"synthesizer":return vl.ag.get("track-credits.synthesizer");case"drum programmer":return vl.ag.get("track-credits.drum-programmer");case"programmer":return vl.ag.get("track-credits.programmer");case"assistant mixer":return vl.ag.get("track-credits.assistant-mixer");case"assistant mixing engineer":return vl.ag.get("track-credits.assistant-mixing-engineer");case"digital editor":return vl.ag.get("track-credits.digital-editor");case"drums":return vl.ag.get("track-credits.drums");case"drum programming":return vl.ag.get("track-credits.drum-programming");case"conga":return vl.ag.get("track-credits.conga");case"samples":return vl.ag.get("track-credits.samples");case"audio recording engineer":return vl.ag.get("track-credits.audio-recording-engineer");case"audio additional mix engineer":return vl.ag.get("track-credits.audio-additional-mix-engineer");case"recording":return vl.ag.get("track-credits.recording");case"assistant producer":return vl.ag.get("track-credits.assistant-producer");case"writer":return vl.ag.get("track-credits.writer");case"strings":return vl.ag.get("track-credits.strings");case"music publisher":return vl.ag.get("track-credits.music-publisher");case"programming":return vl.ag.get("track-credits.programming");case"music production":return vl.ag.get("track-credits.music-production");case"background vocalist":return vl.ag.get("track-credits.background-vocalist");case"producer":return vl.ag.get("track-credits.producer");case"vocal":return vl.ag.get("track-credits.vocal");case"songwriter":return vl.ag.get("track-credits.songwriter");case"lyricist":return vl.ag.get("track-credits.lyricist");case"additional mixer":return vl.ag.get("track-credits.additional-mixer");case"upright bass":return vl.ag.get("track-credits.upright-bass");case"clapping":return vl.ag.get("track-credits.clapping");case"electric bass":return vl.ag.get("track-credits.electric-bass");case"horn arranger":return vl.ag.get("track-credits.horn-arranger");case"flugelhorn":return vl.ag.get("track-credits.flugelhorn");case"second engineer":return vl.ag.get("track-credits.second-engineer");case"rhythm guitar":return vl.ag.get("track-credits.rhythm-guitar");case"bass guitar":return vl.ag.get("track-credits.bass-guitar");case"electric guitar":return vl.ag.get("track-credits.electric-guitar");case"dobro":return vl.ag.get("track-credits.dobro");case"instruments":return vl.ag.get("track-credits.instruments");case"vocal ensemble":return vl.ag.get("track-credits.vocal-ensemble");case"recording arranger":return vl.ag.get("track-credits.recording-arranger");case"arranger":return vl.ag.get("track-credits.arranger");case"steel guitar":return vl.ag.get("track-credits.steel-guitar");case"executive producer":return vl.ag.get("track-credits.executive-producer");case"additional production":return vl.ag.get("track-credits.additional-production");case"designer":return vl.ag.get("track-credits.designer");case"assistant mix engineer":return vl.ag.get("track-credits.assistant-mix-engineer");case"studio musician":return vl.ag.get("track-credits.studio-musician");case"voice performer":return vl.ag.get("track-credits.voice-performer");case"orchestra":return vl.ag.get("track-credits.orchestra");case"chamber ensemble":return vl.ag.get("track-credits.chamber-ensemble");case"additional percussion":return vl.ag.get("track-credits.additional-percussion");case"cajon":return vl.ag.get("track-credits.cajon");case"miscellaneous production":return vl.ag.get("track-credits.miscellaneous-production");case"backing vocals":return vl.ag.get("track-credits.backing-vocals");case"pedal steel":return vl.ag.get("track-credits.pedal-steel");case"additional producer":return vl.ag.get("track-credits.additional-producer");case"keyboard arrangements":return vl.ag.get("track-credits.keyboards-arrangements");case"saxophone":return vl.ag.get("track-credits.saxophone");case"sound engineer":return vl.ag.get("track-credits.sound-engineer");case"assistant remix engineer":return vl.ag.get("track-credits.assistant-remix-engineer");case"double bass":return vl.ag.get("track-credits.double-bass");case"co-writer":return vl.ag.get("track-credits.co-writer");case"pro tools":return vl.ag.get("track-credits.pro-tools");case"tape realization":return vl.ag.get("track-credits.tape-realization");case"ambient sounds":return vl.ag.get("track-credits.ambient-sounds");case"sound effects":return vl.ag.get("track-credits.sound-effects");case"harp":return vl.ag.get("track-credits.harp");case"cymbals":return vl.ag.get("track-credits.cymbals");case"vocal engineer":return vl.ag.get("track-credits.vocal-engineer");case"mellotron":return vl.ag.get("track-credits.mellotron");case"recorder":return vl.ag.get("track-credits.recorder");case"main artist":return vl.ag.get("track-credits.main-artist");case"production":return vl.ag.get("track-credits.production");case"artist":return vl.ag.get("track-credits.artist");case"vocals":return vl.ag.get("track-credits.vocals");case"featuring":return vl.ag.get("track-credits.featuring");case"featured artist":return vl.ag.get("track-credits.featured-artist");case"work arranger":return vl.ag.get("track-credits.work-arranger");case"mixing engineers":return vl.ag.get("track-credits.mixing-engineers");case"re-mixer":return vl.ag.get("track-credits.re-mixer");case"recording producer":return vl.ag.get("track-credits.recording-producer");case"co-mixer":return vl.ag.get("track-credits.co-mixer");case"bells":return vl.ag.get("track-credits.bells");case"pro tools editing":return vl.ag.get("track-credits.pro-tools-editing");case"vibraphone":return vl.ag.get("track-credits.vibraphone");case"additional recording":return vl.ag.get("track-credits.additional-recording");case"vocal producer":return vl.ag.get("track-credits.vocal-producer");case"sitar":return vl.ag.get("track-credits.sitar");case"cello":return vl.ag.get("track-credits.cello");case"flute":return vl.ag.get("track-credits.flute");case"horn":return vl.ag.get("track-credits.horn");case"brass band":return vl.ag.get("track-credits.brass-band");case"programming and keyboards":return vl.ag.get("track-credits.programming-and-keyboards");case"all instruments":return vl.ag.get("track-credits.all-instruments");case"programmed and arranged by":return vl.ag.get("track-credits.programmed-and-arranged-by");case"additional programmer":return vl.ag.get("track-credits.additional-programmer");case"recording and mixing":return vl.ag.get("track-credits.recording-and-mixing");case"engineer and mixer":return vl.ag.get("track-credits.engineer-and-mixer");case"vocal arranger":return vl.ag.get("track-credits.vocal-arranger");case"income participant":return vl.ag.get("track-credits.income-participant");default:return"Role title"}}(e.roleTitle.toLowerCase())),e.artists.map((function(t){return s.createElement("a",{key:t.name,href:t.url,draggable:!1,rel:"noopener noreferrer",onClick:function(){p?m.send((0,cm.Y)({track_uri:r,clickable_text:t.name,role:e.roleTitle,external_url:t.url})):m.send((0,lm.v)({track_uri:r,clickable_text:t.name,role:e.roleTitle,external_url:t.url}))},target:"_blank",className:wm},t.name)})))})),s.createElement(Eu.D,{as:"p",variant:"mesto",className:Nm,semanticColor:"textSubdued"},vl.ag.get("track-credits.source"),":"," ",s.createElement("a",{draggable:!1,rel:"noopener noreferrer",target:"_blank",href:"https://soundbetter.com"},"SoundBetter"))))))}));function Tm(){var e=(0,Bd.W6)(vs.Mm),t=(0,Ms.I0)();return(0,s.useEffect)((function(){e&&t((0,Dd.q1)("dev"))}),[e,t]),null}function Im(){var e=(0,Bd.W6)(vs.rG),t=(0,Ms.I0)();return(0,s.useEffect)((function(){t((0,Dd.Yk)(e))}),[e,t]),null}function Am(){return s.createElement(s.Suspense,{fallback:null},s.createElement(Tm,null),s.createElement(Im,null))}var Pm=n(6060),Dm=n(4236),Rm=n(23401),xm=n(60289),Lm=n(64578),Fm=n(93659),Um=n(82767),Zm=n(20246),Mm=n(30005),Bm=n(21691);const jm="main-playlistEditDetailsModal-container",Vm="main-playlistEditDetailsModal-content",Hm="main-playlistEditDetailsModal-header",Gm="main-playlistEditDetailsModal-closeBtn",Wm="main-playlistEditDetailsModal-albumCover",zm="main-playlistEditDetailsModal-imageLoadingContainer",Km="main-playlistEditDetailsModal-imageChangeButton",Ym="main-playlistEditDetailsModal-imageDropDownContainer",qm="main-playlistEditDetailsModal-imageDropDownButton",Qm="main-playlistEditDetailsModal-textElement",Jm="main-playlistEditDetailsModal-textElementError",Xm="main-playlistEditDetailsModal-textElementInfo",$m="main-playlistEditDetailsModal-title",ep="main-playlistEditDetailsModal-textElementLabel",tp="main-playlistEditDetailsModal-description",np="main-playlistEditDetailsModal-titleInput",rp="main-playlistEditDetailsModal-titleInputWithPadding",ip="main-playlistEditDetailsModal-descriptionTextarea",ap="main-playlistEditDetailsModal-save",op="main-playlistEditDetailsModal-disclaimer",sp="main-playlistEditDetailsModal-characterCounter",lp="main-playlistEditDetailsModal-titleCharacterCounter",cp="main-playlistEditDetailsModal-descriptionCharacterCounter",up="main-playlistEditDetailsModal-insertLinkButton";var dp=function(e){var t=e.openImagePicker,n=e.onRemoveImage;return s.createElement("div",{className:Ym},s.createElement(Zm.y,{menu:s.createElement(Mm.v,null,s.createElement(Bm.s,{role:"menuitem",onClick:t},vl.ag.get("playlist.edit-details.change-photo")),s.createElement(Bm.s,{role:"menuitem",onClick:n},vl.ag.get("playlist.edit-details.remove-photo")))},s.createElement("button",{className:qm,type:"button"},s.createElement(Um.N,{iconSize:16}),s.createElement("span",{className:"hidden-visually"},vl.ag.get("edit_photo")))))},mp=n(42886),pp=function(e){var t=e.onClick;return s.createElement("button",{title:"Insert link",className:up,onClick:t},s.createElement(mp.v,{iconSize:16}))},fp=n(29646),vp=n.n(fp);var gp,hp=function(e){var t=e.className,n=e.usedCharacters,r=e.maxCharacters,i=e.isVisible,a=void 0===i||i,o=function(e){var t,n;return e<=20?(t="assertive",n=!0):e<=60?(t="polite",n=!1):e<=70?(t="polite",n=!0):(t="off",n=!0),{ariaLive:t,ariaAtomic:n}}(r-n),l=o.ariaLive,c=o.ariaAtomic;return s.createElement("span",{className:Tl()(sp,t,(0,E.Z)({},"hidden-visually",!a)),"aria-label":vl.ag.get("character-counter"),"aria-live":l,"aria-atomic":c},"".concat(n,"/").concat(r))},yp=(0,s.forwardRef)((function(e,t){var n=e.autoFocus,i=e.handleOnChange,a=e.playlistDescription,o=e.maxNumCharacters,l=void 0===o?300:o,c=(0,s.useMemo)((function(){return"text-input-".concat((0,Gi.qd)(8))}),[]),u=l-20,d=(0,s.useState)(!1),m=(0,r.Z)(d,2),p=m[0],f=m[1],v=vp()(a).length;return(0,s.useEffect)((function(){var e;n&&"function"!=typeof t&&(null==t||null===(e=t.current)||void 0===e||e.select())}),[n,t]),s.createElement("div",{className:tp},s.createElement(Eu.D,{htmlFor:c,as:"label",variant:"finaleBold",className:ep},vl.ag.get("playlist.edit-details.description-label")),s.createElement("textarea",{ref:t,"":"playlist-edit-details-description-input",autoFocus:n,className:Tl()(Qm,ip,(0,E.Z)({},Xm,p)),onChange:function(e){var t=i(vp()(e.target.value).slice(0,l).join(""));f(!!t)},placeholder:vl.ag.get("playlist.edit-details.description-placeholder"),value:a}),s.createElement(hp,{className:cp,maxCharacters:l,usedCharacters:v,isVisible:v>=u}))}));!function(e){e.CONTAINS_NEW_LINE="CONTAINS_NEW_LINE",e.CONTAINS_HTML="CONTAINS_HTML",e.SAVE_WARNING="SAVE_WARNING",e.OFFLINE_WARNING="OFFLINE_WARNING",e.FILE_TOO_BIG="FILE_TOO_BIG",e.IMAGE_TOO_SMALL="IMAGE_TOO_SMALL",e.IMAGE_FILE_UPLOAD_FAILED="IMAGE_FILE_UPLOAD_FAILED",e.NAME_REQUIRED="NAME_REQUIRED",e.UPDATE_DETAILS_FAILED="UPDATE_DETAILS_FAILED",e.IMAGE_INVALID_JPG="IMAGE_INVALID_JPG"}(gp||(gp={}));var kp={type:"info",code:gp.CONTAINS_NEW_LINE,get message(){return vl.ag.get("playlist.edit-details.error.description-breaks")}},Ep={type:"info",code:gp.CONTAINS_HTML,get message(){return vl.ag.get("playlist.edit-details.error.invalid-html")}},bp={type:"info",code:gp.SAVE_WARNING,get message(){return vl.ag.get("playlist.edit-details.error.unsaved-changes")}},_p={type:"info",code:gp.OFFLINE_WARNING,get message(){return vl.ag.get("playlist.edit-details.error.no-internet")}},Sp={type:"error",code:gp.FILE_TOO_BIG,get message(){return vl.ag.get("playlist.edit-details.error.file-size-exceeded",10)}},wp={type:"error",code:gp.IMAGE_TOO_SMALL,get message(){return vl.ag.get("playlist.edit-details.error.too-small",300,300)}},Np={type:"error",code:gp.IMAGE_FILE_UPLOAD_FAILED,get message(){return vl.ag.get("playlist.edit-details.error.file-upload-failed")}},Op={type:"error",code:gp.NAME_REQUIRED,get message(){return vl.ag.get("playlist.edit-details.error.missing-name")}},Cp={type:"error",code:gp.UPDATE_DETAILS_FAILED,get message(){return vl.ag.get("playlist.edit-details.error.failed-to-save")}},Tp=function(e){var t,n=e.autoFocus,i=e.handleOnChange,a=e.maxNumCharacters,o=void 0===a?100:a,l=e.playlistName,c=e.onSubmit,u=(0,s.useState)(!1),d=(0,r.Z)(u,2),m=d[0],p=d[1],f=(0,s.useMemo)((function(){return"text-input-".concat((0,Gi.qd)(8))}),[]),v=o-10,g=vp()(l).length,h=g>=v,y=(0,s.useRef)(null);return(0,s.useEffect)((function(){var e;n&&(null===(e=y.current)||void 0===e||e.select())}),[n]),s.createElement("div",{className:$m},s.createElement(Eu.D,{as:"label",htmlFor:f,variant:"finaleBold",className:ep},vl.ag.get("playlist.edit-details.name-label")),s.createElement("input",{"":"playlist-edit-details-name-input",id:f,autoFocus:n,ref:y,type:"text",className:Tl()(Qm,np,(t={},(0,E.Z)(t,rp,h),(0,E.Z)(t,Jm,m),t)),onKeyDown:function(e){"Enter"===e.key&&c()},onChange:function(e){var t=i(vp()(e.target.value).slice(0,o).join(""));p(!!t)},placeholder:vl.ag.get("playlist.edit-details.name-placeholder"),value:l}),s.createElement(hp,{isVisible:h,maxCharacters:o,usedCharacters:g,className:lp}))};function Ip(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ap(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ip(Object(n),!0).forEach((function(t){(0,E.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ip(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Pp={name:"",description:"",image:void 0,loading:!1,message:null,hasWarnedAboutUnsavedChanges:!1};function Dp(e){return{type:"setPlaylistDescription",data:e}}function Rp(e){return{type:"setImageData",data:e}}function xp(e){return{type:"setImageToken",data:e}}function Lp(e){return{type:"setLoading",data:e}}function Fp(e){return{type:"reset",data:e}}function Up(e){return{type:"setHasWarnedAboutUnsavedChanges",data:e}}function Zp(e){return{type:"setMessage",data:e}}function Mp(e,t){switch(t.type){case"setImageData":return Ap(Ap({},e),{},{loading:!1,image:{width:xm.eM.SMALL,height:xm.eM.SMALL,url:t.data}});case"removeImage":return Ap(Ap({},e),{},{loading:!1,imageToken:null,image:void 0});case"setImageToken":return Ap(Ap({},e),{},{imageToken:t.data});case"setPlaylistName":return Ap(Ap({},e),{},{name:t.data});case"setPlaylistDescription":return Ap(Ap({},e),{},{description:t.data});case"setLoading":return Ap(Ap({},e),{},{loading:t.data,message:null});case"setHasWarnedAboutUnsavedChanges":return Ap(Ap({},e),{},{hasWarnedAboutUnsavedChanges:t.data});case"setMessage":return Ap(Ap({},e),{},{loading:!1,message:t.data});case"reset":return Ap(Ap({},Pp),{},{name:t.data.name,description:t.data.description,image:t.data.image});default:return e}}var Bp=/[\b\f\n\r\t\v\0]/,jp=/<[bi]/i,Vp=function(e){var t=e.isOpen,n=e.isImagePickerOpen,a=e.focusedElement,l=e.name,c=e.description,u=e.image,m=e.uri,p=e.onClose;c=function(e){var t=document.createElement("textarea");return t.innerHTML=e,t.value}(c);var f=(0,Kc.Yv)(m),v=f.uploadImage,g=f.updateDetails,h=function(e){var t=e.name,n=e.description,i=e.image,a=(0,s.useReducer)(Mp,Ap(Ap({},Pp),{},{name:t,description:n,image:i})),o=(0,r.Z)(a,2);return[o[0],o[1]]}({name:l,description:c,image:u}),y=(0,r.Z)(h,2),k=y[0],E=y[1],b=(0,Fm.Hs)(),_=(0,r.Z)(b,2),S=_[0],w=_[1],N=!(0,Dm.k)(),O=(0,s.useRef)(null),C=(0,Ms.v9)((function(e){var t;return"1"===(null===(t=e.session.productState)||void 0===t?void 0:t["playlist-annotations-markup"])}));(0,s.useEffect)((function(){E(Zp(N?_p:null))}),[N,E]),(0,s.useEffect)((function(){n&&w()}),[n,w]);var T=(0,s.useCallback)((function(){E({type:"removeImage"})}),[E]),I=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=null===k.imageToken,n=k.imageToken,r=l!==k.name||c!==k.description||n||t;!r||k.hasWarnedAboutUnsavedChanges||e?(E(Fp({name:l,description:c,image:u})),p()):(E(Zp(bp)),E(Up(!0)))};function A(){return(A=(0,i.Z)(o().mark((function e(t){var n,r,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:if(n=t.imageFile,r=t.imageDataUrl,E(Zp(null)),E(Rp(r)),!n){e.next=16;break}return e.prev=6,i=v(n),E(xp(i)),e.next=11,i;case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(6),E(Zp(Np));case 16:case"end":return e.stop()}}),e,null,[[6,13]])})))).apply(this,arguments)}function P(){return D.apply(this,arguments)}function D(){return(D=(0,i.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!k.loading){e.next=2;break}return e.abrupt("return");case 2:if(0!==k.name.length){e.next=5;break}return E(Zp(Op)),e.abrupt("return");case 5:return E(Lp(!0)),e.prev=6,e.next=9,R();case 9:E(Lp(!1)),!0,I(true),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(6),E(Zp(Cp));case 17:case"end":return e.stop()}}),e,null,[[6,14]])})))).apply(this,arguments)}function R(){return x.apply(this,arguments)}function x(){return(x=(0,i.Z)(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t={description:k.description,name:k.name},!k.imageToken){e.next=7;break}return e.next=4,k.imageToken;case 4:t.imageUploadToken=e.sent,e.next=8;break;case 7:null===k.imageToken&&(t.imageUploadToken=k.imageToken);case 8:return e.next=10,g(t);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return s.createElement(Al.Z,{isOpen:t,onRequestClose:function(){I()},contentLabel:vl.ag.get("playlist.edit-details.title")},s.createElement("div",{"":"playlist-edit-details-modal",className:jm},s.createElement("div",{className:Hm},s.createElement(Eu.D,{as:"h1",variant:"canon"},vl.ag.get("playlist.edit-details.title")),s.createElement("button",{className:Gm,onClick:function(){I()}},s.createElement(Jd.k,{iconSize:16,"aria-label":vl.ag.get("close")}))),k.message&&s.createElement(Lm.X,{isErrorMessage:"error"===k.message.type,message:k.message.message}),C?s.createElement(pp,{onClick:function(){if(O.current){var e=O.current,t=e.selectionStart,n=e.selectionEnd,r=k.description.substring(t,n),i=r,a=!!d().from(i);!i.startsWith("http://")&&!i.startsWith("https://")&&!a&&(i="https://".concat(i)),E(Dp([k.description.substring(0,t),'<a href="'.concat(i,'">').concat(r,"</a>"),k.description.substring(n)].join("")))}}}):null,s.createElement("div",{className:Vm},s.createElement(Fm.uL,{isOpen:S,minImageWidth:300,minImageHeight:300,maxFileSizeMB:10,onChange:function(e){return A.apply(this,arguments)},onError:function(e){e===Fm.Hy.FILE_TOO_BIG?E(Zp(Sp)):e===Fm.Hy.IMAGE_TOO_SMALL&&E(Zp(wp))}}),s.createElement("div",{className:Wm},s.createElement(xm.Oe,{loading:"eager",name:k.name,images:k.image?[k.image]:[],placeholderType:"playlist"}),s.createElement("div",{className:Km},s.createElement(Rm.F,{overlay:!!k.image,onClick:w})),s.createElement(dp,{onRemoveImage:T,openImagePicker:w}),!!k.imageToken&&k.loading&&s.createElement("div",{className:zm},s.createElement(Pm.T,null))),s.createElement(Tp,{autoFocus:a===oc.w.TITLE,handleOnChange:function(e){return E({type:"setPlaylistName",data:e}),0===e.length?(E(Zp(Op)),Op):(E(Zp(null)),null)},playlistName:k.name,onSubmit:P}),s.createElement(yp,{ref:O,autoFocus:a===oc.w.DESCRIPTION,handleOnChange:function(e){var t=e;return jp.test(t)?(E(Zp(Ep)),Ep):Bp.test(t)?(t=(e||"").replace(Bp,""),E(Zp(kp)),kp):(E(Dp(t)),null)},playlistDescription:k.description}),s.createElement("div",{className:ap},s.createElement(Il.D,{colorSet:"invertedLight",onClick:P,disabled:k.loading,"":"playlist-edit-details-save-button"},vl.ag.get("save"))),s.createElement(Eu.D,{as:"p",variant:"finaleBold",className:op},vl.ag.get("image-upload.legal-disclaimer")))))},Hp=function(){var e=(0,Bd.W6)(vs.G8),t=(0,s.useContext)(oc._U),n=t.isOpen,r=t.isImagePickerOpen,i=t.playlistDetails,a=t.focusedElement,o=(0,s.useContext)(oc.zy),l=(0,s.useCallback)((function(){o({type:"close"})}),[o]),c=i.name,u=i.description,d=i.uri,m=i.image;return e&&n?s.createElement(Vp,{isOpen:n,isImagePickerOpen:r,onClose:l,focusedElement:a,uri:d,name:c,description:u,image:m}):null},Gp=n(52208),Wp=n(98871),zp=n(62504);function Kp(e){e.forEach((function(e){document.documentElement.classList.add(e)}))}function Yp(e){var t;(t=document.documentElement.classList).remove.apply(t,(0,N.Z)(e))}var qp={BROWSER_EDGE:"spotify__browser--is-edge",BROWSER_SAFARI:"spotify__browser--is-safari",OS_MACOS:"spotify__os--is-macos",OS_WINDOWS:"spotify__os--is-windows",OS_LINUX:"spotify__os--is-linux",OS_CHROMEOS:"spotify__os--is-chromeos",CONTAINER_DESKTOP:"spotify__container--is-desktop",CONTAINER_PWA:"spotify__container--is-pwa",CONTAINER_WEB:"spotify__container--is-web"};function Qp(e,t){Yp(Object.values(qp));var n=[];"Microsoft Edge"===se().parse(window.navigator.userAgent).browser.name?n.push(qp.BROWSER_EDGE):(0,Gs.G)()&&n.push(qp.BROWSER_SAFARI),t===g.U.macOS?n.push(qp.OS_MACOS):t===g.U.Windows?n.push(qp.OS_WINDOWS):t===g.U.Linux?n.push(qp.OS_LINUX):t===g.U.ChromeOS&&n.push(qp.OS_CHROMEOS),e===g.W.Desktop?n.push(qp.CONTAINER_DESKTOP):e===g.W.PWA?n.push(qp.CONTAINER_PWA):e===g.W.Web&&n.push(qp.CONTAINER_WEB),Kp(n)}function Jp(e){return e===g.U.macOS&&window.outerHeight===window.screen.height&&window.outerWidth===window.screen.width}var Xp=function(){var e=(0,Bs.k6)(),t=(0,Ms.I0)(),n=(0,Ms.v9)((function(e){return e.ui.history.canGoBack})),r=(0,Ms.v9)((function(e){return e.ui.history.canGoForward})),a=(0,ad.K)().createPlaylist,s=(0,Gp.e)(),l=s.openURL,c=s.openURLWithSessionTransfer;return(0,f.eY)(f.O4.CREATE_NEW_PLAYLIST,(0,i.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a();case 2:case"end":return e.stop()}}),e)})))),(0,f.eY)(f.O4.BROWSE_BACKWARD,(function(){n&&e.goBack()})),(0,f.eY)(f.O4.BROWSE_FORWARD,(function(){r&&e.goForward()})),(0,f.eY)(f.O4.LOGOUT,(function(){t((0,pd.Tz)())})),(0,f.eY)(f.O4.SHOW_ABOUT,(function(){t((0,Wp.GV)())})),(0,f.eY)(f.O4.SHOW_PREFERENCES,(function(){e.push("/preferences")})),(0,f.eY)(f.O4.SHOW_SEARCH,(function(){/\/search(\/.*|)$/.test(e.location.pathname)||e.push("/search")})),(0,f.eY)(f.O4.SHOW_ACCOUNT,(function(){c("https://spotify.com/account/overview/")})),(0,f.eY)(f.O4.SHOW_COMMUNITY,(function(){c("https://community.spotify.com/")})),(0,f.eY)(f.O4.SHOW_HELP,(function(){c("https://support.spotify.com/")})),(0,f.eY)(f.O4.SHOW_LICENSES,(function(){t((0,zp.qd)())})),(0,f.eY)(f.O4.SHOW_LICENSING_INFORMATION,(function(){l("https://www.spotify.com/int/legal/licensing-info/")})),(0,f.eY)(f.O4.SHOW_SCTA_INFORMATION,(function(){l("https://www.spotify.com/int/legal/specified-commercial-transactions")})),(0,f.eY)(f.O4.ENTER_FULLSCREEN,(function(){t((0,Us.rM)())})),(0,f.eY)(f.O4.LEAVE_FULLSCREEN,(function(){t((0,Us.Xo)())})),(0,f.eY)(f.O4.SET_PLATFORM_EMULATION_AUTO,(function(){Qp((0,v.ZO)(),(0,ae.L)())})),(0,f.eY)(f.O4.SET_PLATFORM_EMULATION_MACOS,(function(){Qp((0,v.ZO)(),g.U.macOS)})),(0,f.eY)(f.O4.SET_PLATFORM_EMULATION_WINDOWS,(function(){Qp((0,v.ZO)(),g.U.Windows)})),(0,f.eY)(f.O4.SET_PLATFORM_EMULATION_LINUX,(function(){Qp((0,v.ZO)(),g.U.Linux)})),null},$p=n(26625),ef=(n(53180),n(45474)),tf=function(e){e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen&&e.webkitRequestFullscreen()},nf=function(){document.fullscreenElement&&document.exitFullscreen?document.exitFullscreen():document.mozFullScreen&&document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitIsFullScreen&&document.webkitExitFullscreen&&document.webkitExitFullscreen()},rf=function(){return!!(document.fullscreenElement||document.webkitIsFullScreen||document.mozFullScreen)},af=n(76303),of=n(56802),sf=s.createContext(null),lf=function(e){var t=e.children,n=(0,s.useRef)(null);return s.createElement(sf.Provider,{value:n},t)},cf=n(39106),uf=n(52759),df=n(88757),mf=n(5229);const pf="main-playbackBarRemainingTime-container";var ff=function(e){var t=e.position,n=e.duration,i=e.isPreview,a=e.semanticColor,o=void 0===a?"textSubdued":a,l=e.isFullscreenMode,c=void 0!==l&&l,u=(0,mf.z)(Dt.JP,!1),d=(0,r.Z)(u,2),m=d[0],p=d[1],f=(0,s.useCallback)((function(){i||p(!m)}),[m,p,i]);return s.createElement(Eu.D,{as:"div","":"playback-duration","data-test-position":t,variant:c?"ballad":"finale",className:pf,onClick:f,semanticColor:o},m?"-".concat((0,tl.m)(n-t)):(0,tl.m)(n))},vf=n(28230),gf=[{name:"Anakin",vars:{"--bg-color":"","--fg-color":"transparent","--is-active-fg-color":"transparent","--progress-bar-height":"7px","--core-color":"white","--edge-glow-color":"rgb(55, 132, 214)","--blur-glow-color":"#2e77d0","--blur-radius":"16px","--spread-radius":"8px","--saber-hilt-url":"url(".concat((0,vf.g)("images/sw_saber_anakin.png"),")"),"--saber-hilt-overlap":"5px"}},{name:"Luke",vars:{"--bg-color":"","--fg-color":"transparent","--is-active-fg-color":"transparent","--progress-bar-height":"9px","--core-color":"white","--edge-glow-color":"rgb(135, 220, 90)","--blur-glow-color":"#1ed760","--blur-radius":"16px","--spread-radius":"4px","--saber-hilt-url":"url(".concat((0,vf.g)("images/sw_saber_luke.png"),")"),"--saber-hilt-overlap":"5px"}},{name:"Vader",vars:{"--bg-color":"","--fg-color":"transparent","--is-active-fg-color":"transparent","--progress-bar-height":"10px","--core-color":"white","--edge-glow-color":"rgb(229, 17, 21)","--blur-glow-color":"#cd1a2b","--blur-radius":"20px","--spread-radius":"14px","--saber-hilt-url":"url(".concat((0,vf.g)("images/sw_saber_vader.png"),")"),"--saber-hilt-overlap":"6px"}},{name:"Rey",vars:{"--bg-color":"","--fg-color":"transparent","--is-active-fg-color":"transparent","--progress-bar-height":"8px","--core-color":"white","--edge-glow-color":"rgb(249, 164, 11)","--blur-glow-color":"rgb(253, 175, 33)","--blur-radius":"20px","--spread-radius":"5px","--saber-hilt-url":"url(".concat((0,vf.g)("images/sw_saber_rey.png"),")"),"--saber-hilt-overlap":"3px"}},{name:"Leia",vars:{"--bg-color":"","--fg-color":"transparent","--is-active-fg-color":"transparent","--progress-bar-height":"9px","--core-color":"white","--edge-glow-color":"rgb(55, 132, 214)","--blur-glow-color":"#2e77d0","--blur-radius":"16px","--spread-radius":"8px","--saber-hilt-url":"url(".concat((0,vf.g)("images/sw_saber_leia.png"),")"),"--saber-hilt-overlap":"2px"}},{name:"Mace",vars:{"--bg-color":"","--fg-color":"transparent","--is-active-fg-color":"transparent","--progress-bar-height":"9px","--core-color":"white","--edge-glow-color":"rgb(90, 22, 167)","--blur-glow-color":"rgb(172, 57, 193)","--blur-radius":"20px","--spread-radius":"8px","--saber-hilt-url":"url(".concat((0,vf.g)("images/sw_saber_mace.png"),")"),"--saber-hilt-overlap":"1px"}},{name:"Ahsoka",vars:{"--bg-color":"","--fg-color":"transparent","--is-active-fg-color":"transparent","--progress-bar-height":"6px","--core-color":"white","--edge-glow-color":"rgb(255,255,255)","--blur-glow-color":"rgb(255,255,255)","--blur-radius":"20px","--spread-radius":"5px","--saber-hilt-url":"url(".concat((0,vf.g)("images/sw_saber_ahsoka1.png"),")"),"--saber-hilt-overlap":"-9px","--saber-hilt-width":"100px","--saber-hilt-height":"36px"}}],hf=["spotify:playlist:37i9dQZF1DXaUaRhCgtpCo","spotify:playlist:69BOXIItwwyxTgdz6flzvU"],yf=["official_star_wars","kirbysayshi","hansencc"],kf=/Star Wars/i,Ef="THX1138",bf=Ef.length;function _f(e){var t,n,i,a,o,l,c,u,d=e.onChange,m=function(e){var t=(0,s.useState)(0),n=(0,r.Z)(t,2),i=n[0],a=n[1];return{next:function(){a((i+1)%gf.length)},config:e?gf[i]:null}}((t=(0,s.useState)([]),n=(0,r.Z)(t,2),i=n[0],a=n[1],o=(0,s.useState)(!1),l=(0,r.Z)(o,2),c=l[0],u=l[1],(0,s.useEffect)((function(){var e=function(e){for(i.push(e.key);i.length>bf;)i.shift();i.join("")===Ef&&u(!c),a((0,N.Z)(i))};return window.addEventListener("keypress",e),function(){window.removeEventListener("keypress",e)}}),[i,c]),(0,el.Y)((function(e){var t,n,r,i,a,o=null!==(t=null==e?void 0:e.context.uri)&&void 0!==t?t:"",s=null!==(n=null==e||null===(r=e.context)||void 0===r||null===(i=r.metadata)||void 0===i?void 0:i.context_owner)&&void 0!==n?n:"",l=null!==(a=null==e?void 0:e.item)&&void 0!==a?a:void 0;return!!hf.includes(o)||!!yf.includes(s)||!!(0,Te.G_)(l)&&(kf.test(l.name)||kf.test(l.album.name))}))||c)),p=m.next,f=m.config,v=(0,s.useRef)(d);return v.current=d,(0,s.useEffect)((function(){var e;v.current(null!==(e=null==f?void 0:f.vars)&&void 0!==e?e:null)}),[f]),f?s.createElement("div",{className:"saber-hilt"},s.createElement("button",{"":"saber-hilt-button","aria-label":vl.ag.get("playback-control.a11y.lightsaber-hilt-button",null==f?void 0:f.name),className:"saber-hilt__btn",style:f.vars,onClick:p})):null}var Sf=function(e){var t,n,i,a,o=e.isPreview,l=e.isFullscreenMode,c=void 0!==l&&l,u=(0,s.useState)(null),d=(0,r.Z)(u,2),m=d[0],p=d[1],f=(0,of.o)(),v=(0,Wc.g)(),g=(0,el.Y)((function(e){return e}),(function(e,t){var n,r;return(null==e?void 0:e.duration)===(null==t?void 0:t.duration)&&(null==e?void 0:e.hasContext)===(null==t?void 0:t.hasContext)&&(null==e||null===(n=e.restrictions)||void 0===n?void 0:n.canSeek)===(null==t||null===(r=t.restrictions)||void 0===r?void 0:r.canSeek)})),h=id(),y=h.seekBackward,k=h.seekForward,E=h.seekOffsetMs,b=null!==(t=null==g?void 0:g.duration)&&void 0!==t?t:0,_=null!==(n=null==g?void 0:g.hasContext)&&void 0!==n&&n,S=null!==(i=null==g||null===(a=g.restrictions)||void 0===a?void 0:a.canSeek)&&void 0!==i&&i,w=(0,uf.z)(500),N=(0,r.Z)(w,2),O=N[0],C=N[1],T=(0,s.useState)(null),I=(0,r.Z)(T,2),A=I[0],P=I[1],D=null!==A?A:O,R=function(e){P(e*b)},x=(0,tl.m)(D),L=(0,tl.m)(b),F=(0,Ms.v9)((function(e){var t,n;return!(null==e||null===(t=e.ui)||void 0===t||null===(n=t.fullscreenMode)||void 0===n||!n.isOpen)})),U=(0,df.t)();return c!==F?null:s.createElement("div",{className:"playback-bar"},s.createElement(Eu.D,{"":"playback-position",as:"div",variant:c?"ballad":"finale",className:"playback-bar__progress-time-elapsed",semanticColor:c?"textBase":"textSubdued"},x),_?s.createElement(_f,{onChange:function(e){p(e)}}):null,s.createElement(cf.ko,{labelText:vl.ag.get("playback-control.a11y.seek-slider-button"),value:Math.floor(D/1e3),max:Math.floor(b/1e3),step:Math.floor(E/1e3),"aria-valuetext":vl.ag.get("download.progress-global",x,L),isInteractive:_,onDragStart:R,onDragMove:R,onDragEnd:function(e){P(null),f({intent:"seek",type:"click"}),S&&(C(e*b),v.seekTo(e*b))},onStepBackward:function(){if(S){var e=y();C(Math.max(0,Math.min(b,O-e)))}},onStepForward:function(){if(S){var e=k();C(Math.max(0,Math.min(b,O+e)))}},saberConfig:m,isPlayingStrangerThings:U,"":"playback-progressbar"}),s.createElement(ff,{position:D,duration:b,isPreview:o,semanticColor:c?"textBase":"textSubdued",isFullscreenMode:c}))},wf=n(24697),Nf=n(92386),Of=n(82749),Cf=n(83692);const Tf="main-playPauseButton-button";var If=function(e){var t=e.iconSize,n=void 0===t?16:t,r=e.onClick,i=(0,Wc.g)(),a=(0,of.o)(),o=(0,el.Y)((function(e){return{hasContext:null==e?void 0:e.hasContext,isPaused:null==e?void 0:e.isPaused,canPause:null==e?void 0:e.restrictions.canPause,canResume:null==e?void 0:e.restrictions.canResume}}),ed.V),l=o.hasContext,c=o.isPaused,u=o.canPause,d=o.canResume,m=(0,wf.y1)((function(){a({type:"click",intent:c?"play":"pause"}),c&&d?(null==r||r("resume"),i.resume()):!c&&u&&(null==r||r("pause"),i.pause())}),100,{leading:!0,trailing:!1}),p=c?vl.ag.get("playback-control.play"):vl.ag.get("playback-control.pause"),f=(0,E.Z)({},"--button-size","".concat(2*n,"px")),v=!l||(c?!d:!u);return s.createElement(Cf.w,{label:p},s.createElement("button",{style:f,className:Tf,onClick:m,disabled:v,"aria-label":p,"":"control-button-playpause"},c?s.createElement(Nf.J,{iconSize:n}):s.createElement(Of.k,{iconSize:n})))},Af=n(59988),Pf=n(31729);const Df="main-repeatButton-button",Rf="main-repeatButton-active";var xf;function Lf(e,t,n){return t&&n?(e+1)%3:t?(e+1)%2:n?1===e?2:(e+2)%4:Te.zq.REPEAT_NONE}var Ff=(xf={},(0,E.Z)(xf,Te.zq.REPEAT_NONE,{get label(){return vl.ag.get("playback-control.disable-repeat")},intent:"repeat-off",ariaChecked:"false"}),(0,E.Z)(xf,Te.zq.REPEAT_CONTEXT,{get label(){return vl.ag.get("playback-control.enable-repeat")},intent:"repeat-all",ariaChecked:"true"}),(0,E.Z)(xf,Te.zq.REPEAT_TRACK,{get label(){return vl.ag.get("playback-control.enable-repeat-one")},intent:"repeat-single",ariaChecked:"mixed"}),xf),Uf=function(e){var t=e.iconSize,n=void 0===t?16:t,i=e.onClick,a=(0,of.o)(),o=rd(),l=o.setRepeat,c=o.repeat,u=(0,el.Y)((function(e){var t,n;return[null!==(t=null==e?void 0:e.restrictions.canToggleRepeatContext)&&void 0!==t&&t,null!==(n=null==e?void 0:e.restrictions.canToggleRepeatTrack)&&void 0!==n&&n]})),d=(0,r.Z)(u,2),m=d[0],p=d[1],f=!m&&!p,v=(0,E.Z)({},"--button-size","".concat(2*n,"px")),g=Ff[Lf(c,m,p)].label;return s.createElement(Cf.w,{label:g},s.createElement("button",{style:v,className:Tl()(Df,(0,E.Z)({},Rf,c!==Te.zq.REPEAT_NONE)),onClick:function(){var e=Lf(c,m,p);a({type:"click",intent:Ff[e].intent}),null==i||i(e),l(e)},disabled:f,role:"checkbox","aria-checked":Ff[c].ariaChecked,"aria-label":g,"":"control-button-repeat"},c===Te.zq.REPEAT_TRACK?s.createElement(Af.H,{iconSize:n}):s.createElement(Pf.K,{iconSize:n})))},Zf=n(58572);const Mf="MRfNcNMd_djj3KOg_VOB";var Bf=function(e){var t=e.iconSize,n=void 0===t?16:t,r=e.onClick,i=(0,of.o)(),a=(0,Wc.g)(),o=(0,el.Y)((function(e){var t;return null!==(t=null==e?void 0:e.restrictions.canSeek)&&void 0!==t&&t})),l=(0,E.Z)({},"--button-size","".concat(2*n,"px"));return s.createElement(Cf.w,{label:vl.ag.get("playback-control.skip-backward-15")},s.createElement("button",{style:l,className:Tl()(Mf),onClick:function(){i({type:"click",intent:"skip-back-15"}),null==r||r(-15e3),a.seekBackward(15e3)},disabled:!o,"aria-label":vl.ag.get("playback-control.skip-backward-15"),"":"control-button-seek-back-15"},s.createElement(Zf.v,{iconSize:n})))},jf=n(11776);const Vf="XGCdw_LcXQHrxmvpxjwi";var Hf=function(e){var t=e.iconSize,n=void 0===t?16:t,r=e.onClick,i=(0,of.o)(),a=(0,Wc.g)(),o=(0,el.Y)((function(e){var t;return null!==(t=null==e?void 0:e.restrictions.canSeek)&&void 0!==t&&t})),l=(0,E.Z)({},"--button-size","".concat(2*n,"px"));return s.createElement(Cf.w,{label:vl.ag.get("playback-control.skip-forward-15")},s.createElement("button",{style:l,className:Tl()(Vf),onClick:function(){i({type:"click",intent:"skip-forward-15"}),null==r||r(15e3),a.seekForward(15e3)},disabled:!o,"aria-label":vl.ag.get("playback-control.skip-forward-15"),"":"control-button-seek-forward-15"},s.createElement(jf.v,{iconSize:n})))},Gf=n(56483),Wf=n(63138);const zf="main-shuffleButton-button",Kf="main-shuffleButton-active";var Yf=function(e){var t=e.iconSize,n=void 0===t?16:t,r=e.onClick,i=(0,of.o)(),a=rd(),o=a.shuffle,l=a.setShuffle,c=a.canToggleShuffle,u=o?vl.ag.get("playback-control.disable-shuffle"):vl.ag.get("playback-control.enable-shuffle"),d=(0,E.Z)({},"--button-size","".concat(2*n,"px"));return s.createElement(Wf.v,{placement:"top",arrow:"bottom",title:vl.ag.get("pick-and-shuffle.upsell.title.shuffle-button")},s.createElement(Cf.w,{label:u},s.createElement("button",{style:d,className:Tl()(zf,(0,E.Z)({},Kf,o)),onClick:function(){var e=!o;i({type:"click",intent:"shuffle"}),null==r||r(e),l(e)},disabled:!c,role:"switch","aria-checked":o?"true":"false","aria-label":u,"":"control-button-shuffle"},s.createElement(Gf.z,{iconSize:n}))))},qf=n(95404);const Qf="main-skipBackButton-button";var Jf=function(e){var t=e.iconSize,n=void 0===t?16:t,r=e.onClick,i=(0,Wc.g)(),a=(0,of.o)(),o=(0,el.Y)((function(e){var t;return null!==(t=(null==e?void 0:e.restrictions.canSkipPrevious)||(null==e?void 0:e.restrictions.canSeek))&&void 0!==t&&t})),l=(0,wf.y1)((function(){a({type:"click",intent:"previous"}),null==r||r(),i.skipToPrevious()}),100,{leading:!0,trailing:!1}),c=(0,E.Z)({},"--button-size","".concat(2*n,"px"));return s.createElement(Cf.w,{label:vl.ag.get("playback-control.skip-back")},s.createElement("button",{style:c,className:Tl()(Qf),onClick:l,disabled:!o,"aria-label":vl.ag.get("playback-control.skip-back"),"":"control-button-skip-back"},s.createElement(qf.y,{iconSize:n})))},Xf=n(91611);const $f="main-skipForwardButton-button";var ev=function(e){var t=e.iconSize,n=void 0===t?16:t,r=e.onClick,i=(0,Wc.g)(),a=(0,of.o)(),o=(0,el.Y)((function(e){var t;return null!==(t=null==e?void 0:e.restrictions.canSkipNext)&&void 0!==t?t:null})),l=(0,wf.y1)((function(){a({type:"click",intent:"next"}),null==r||r(),i.skipToNext()}),100,{leading:!0,trailing:!1}),c=(0,E.Z)({},"--button-size","".concat(2*n,"px"));return s.createElement(Cf.w,{label:vl.ag.get("playback-control.skip-forward")},s.createElement("button",{style:c,className:Tl()($f),onClick:l,disabled:!o,"aria-label":vl.ag.get("playback-control.skip-forward"),"":"control-button-skip-forward"},s.createElement(Xf.W,{iconSize:n})))},tv=n(32626),nv=n(89609),rv=n(58409),iv=n(29912),av=n(87055),ov=n(82797),sv=n(92534),lv=n(27320),cv=n(56401),uv=n(9806),dv=n(23985),mv=function(e){var t=e.speed,n=e.iconSize,r=void 0===n?20:n,i=nv.V;switch(t){case.5:i=rv.gb;break;case.8:i=iv.x;break;case 1:i=nv.V;break;case 1.2:i=av.GB;break;case 1.5:i=ov._5;break;case 1.8:i=sv.s;break;case 2:i=lv._;break;case 2.5:i=cv.B;break;case 3:i=uv.N;break;case 3.5:i=dv.s;break;default:console.error("Got unfamiliar playback speed, falling back to 1.")}return s.createElement(s.Fragment,null,s.createElement(i,{style:{marginTop:"9%"},iconSize:r}),s.createElement("span",{className:"hidden-visually"},"".concat(t,"x")))},pv=n(36652),fv=[.5,.8,1,1.2,1.5,1.8,2,2.5,3,3.5],vv=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=fv.slice().sort((function(t,n){return Math.abs(t-e)-Math.abs(n-e)})),n=(0,r.Z)(t,1),i=n[0];return i},gv=function(e){var t=e.selectedSpeed,n=e.setSelectedSpeed,r=(0,of.o)();return s.createElement(Mm.v,{getInitialFocusElement:function(e){return null==e?void 0:e.querySelector('[aria-checked="true"]')}},s.createElement(pv.F,null,vl.ag.get("playback-control.playback-speed")),fv.map((function(e){return s.createElement(Bm.s,{key:e,onClick:function(){n(e),r({type:"click",intent:"choose-speed",itemIdSuffix:"option-".concat(e,"x")})},"":"playback-speed-option-".concat(e),role:"menuitemradio","aria-label":vl.ag.get("playback-control.playback-speed-button-a11y",e),"aria-checked":e===t},"".concat(e,"x"))})))};const hv="Ww5ppB6W74laf1c0H_pR";var yv=function(e){var t=e.iconSize,n=void 0===t?20:t,i=e.onClick,a=function(){var e=rd(),t=e.speed,n=e.setSpeed,i=e.canChangeSpeed,a=(0,mf.z)("playbackSpeed",1),o=(0,r.Z)(a,2),l=o[0],c=o[1],u=(0,s.useMemo)((function(){return vv(null!=l?l:1)}),[l]);return{speed:(0,s.useMemo)((function(){return Boolean(t)?vv(t):u}),[t,u]),setSpeed:(0,s.useCallback)((function(e){c(e),n(e)}),[c,n]),canChangeSpeed:i}}(),o=a.speed,l=a.setSpeed,c=a.canChangeSpeed,u=(0,of.o)(),d=(0,$s.O)().connectionStatus===Xt.TK.NOT_CONNECTED,m=(0,E.Z)({},"--button-size","".concat(2*n,"px"));return c?s.createElement(tv.xV,{renderInline:!0,placement:"top-start",menu:s.createElement(gv,{selectedSpeed:o,setSelectedSpeed:function(e){null==i||i(e),l(e)}})},(function(e,t,r){return s.createElement(Cf.w,{label:vl.ag.get("playback-control.change-playback-speed")},s.createElement("button",{style:m,ref:r,className:hv,onClick:function(e){t(e),u({type:"click",intent:"choose-speed"})},"aria-label":vl.ag.get("playback-control.change-playback-speed"),disabled:!d,"":"control-button-playback-speed"},s.createElement(mv,{speed:o,iconSize:n})))})):null},kv=function(){var e=(0,Bd.W6)(Vt.sT,{loadingValue:!1}),t=(0,el.Y)((function(e){return e}),(function(e,t){var n,r;return(null==e?void 0:e.hasContext)===(null==t?void 0:t.hasContext)&&(null==e||null===(n=e.item)||void 0===n?void 0:n.uri)===(null==t||null===(r=t.item)||void 0===r?void 0:r.uri)})),n=(0,Qc.zZ)(),a=(0,s.useState)(!1),l=(0,r.Z)(a,2),c=l[0],u=l[1];return(0,s.useEffect)((function(){var r,a=function(){var e=(0,i.Z)(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.getEpisodeOrChapter(t);case 2:"Made on Spotify"===e.sent.description?u(!0):u(!1);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();e&&"episode"===(null==t||null===(r=t.item)||void 0===r?void 0:r.type)&&a(t.item.uri)}),[e,t,n]),c};function Ev(){var e=(0,el.Y)((function(e){var t;return null!==(t=null==e?void 0:e.item)&&void 0!==t?t:void 0}),(function(e,t){return(null==e?void 0:e.uri)===(null==t?void 0:t.uri)}));return(0,Te.iw)(e)||(0,Te.G7)(e)?"audio"===e.mediaType||"mixed"===e.mediaType:!!(0,Te.k6)(e)&&e.isPodcastAd}var bv=n(95389);var _v=n(92949),Sv=n(21864),wv=n(69023),Nv=n(96314),Ov=["volume","iconSize"];function Cv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Tv=function(e){var t=e.volume,n=void 0===t?1:t,r=e.iconSize,i=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Cv(Object(n),!0).forEach((function(t){(0,E.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cv(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({iconSize:void 0===r?16:r,role:"presentation"},(0,lu.Z)(e,Ov));return 0===n?s.createElement(_v.D,(0,su.Z)({"aria-label":vl.ag.get("playback-control.a11y.volume-off")},i)):n<1/3?s.createElement(Sv.J,(0,su.Z)({"aria-label":vl.ag.get("playback-control.a11y.volume-low")},i)):n<2/3?s.createElement(wv.k,(0,su.Z)({"aria-label":vl.ag.get("playback-control.a11y.volume-medium")},i)):s.createElement(Nv.d,(0,su.Z)({"aria-label":vl.ag.get("playback-control.a11y.volume-high")},i))};function Iv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Av(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Iv(Object(n),!0).forEach((function(t){(0,E.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Iv(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Pv,Dv,Rv=function(e){var t=e.iconSize,n=void 0===t?16:t,a=e.onVolumeBarClick,l=e.onVolumeBarDrag,c=e.onToggleMuteClick,u=function(){var e=(0,Hc.f)(),t=(0,s.useState)(-1),n=(0,r.Z)(t,2),a=n[0],l=n[1];return(0,s.useEffect)((function(){var t=!0,n=function(){var n=(0,i.Z)(o().mark((function n(){var r;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.getVolume();case 2:r=n.sent,t&&l(r);case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return n(),function(){t=!1}}),[e]),(0,bv._)(ve.r.VOLUME,(function(e){return l(e.data.volume)})),{volume:a,setVolume:(0,s.useCallback)((function(t){l(t),e.setVolume(t)}),[e]),raiseVolume:(0,s.useCallback)((function(){return e.raiseVolume()}),[e]),lowerVolume:(0,s.useCallback)((function(){return e.lowerVolume()}),[e])}}(),d=u.volume,m=u.setVolume,p=u.raiseVolume,f=u.lowerVolume,v=-1!==d,g=Math.min(1,Math.max(0,d)),h=(0,s.useState)({isDragging:!1,isHoveringButton:!1,toggleVolumeLevel:null,dragPosition:0,shouldDragValueBeUsed:!1}),y=(0,r.Z)(h,2),k=y[0],E=y[1],b=k.shouldDragValueBeUsed,_=k.dragPosition,S=k.isHoveringButton,w=k.toggleVolumeLevel,N=k.isDragging,O=b?_:g;v||(O=1);var C=(0,wf.y1)((function(e){var t=Math.min(1,Math.max(0,e));m(t)}),25,{maxWait:50,leading:!0}),T=0===d?vl.ag.get("playback-control.unmute"):vl.ag.get("playback-control.mute");return s.createElement("div",{className:Tl()("volume-bar",{"volume-bar--disabled":!v}),"":"volume-bar",dir:"ltr",onWheel:function(e){var t;if(v){var n=Math.abs(e.deltaY)>Math.abs(e.deltaX)?e.deltaY:e.deltaX,r=Math.max(-120,Math.min(120,(null==e||null===(t=e.nativeEvent)||void 0===t?void 0:t.wheelDelta)||n))/1200,i=Math.max(0,Math.min(1,O+r));m(i)}}},s.createElement(Cf.w,{label:T},s.createElement("button",{className:"volume-bar__icon-button control-button",onClick:function(){0===O?(null==c||c(!0),C(null!=w?w:.7)):(E((function(e){return Av(Av({},e),{},{toggleVolumeLevel:O})})),null==c||c(!1),C(0))},disabled:!v,"aria-label":0===d?vl.ag.get("playback-control.unmute"):vl.ag.get("playback-control.mute"),onMouseEnter:function(){E((function(e){return Av(Av({},e),{},{isHoveringButton:!0})}))},onMouseLeave:function(){E((function(e){return Av(Av({},e),{},{isHoveringButton:!1})}))},"aria-describedby":"volume-icon","":"volume-bar-toggle-mute-button"},s.createElement(Tv,{id:"volume-icon",iconSize:n,volume:O}))),s.createElement(cf.ko,{labelText:vl.ag.get("playback-control.a11y.volume-slider-button"),value:O,max:1,step:.1,onDragStart:function(e){E((function(t){return Av(Av({},t),{},{isDragging:!0,dragPosition:e,shouldDragValueBeUsed:!0})}))},onDragMove:function(e){E((function(t){return Av(Av({},t),{},{dragPosition:e,shouldDragValueBeUsed:!0})})),N&&(null==l||l(e),C(e))},onDragEnd:function(e){E((function(e){return Av(Av({},e),{},{shouldDragValueBeUsed:!1,dragPosition:0,isDragging:!1})})),null==a||a(e),C(e)},onStepBackward:f,onStepForward:p,forceActiveStyles:S}))},xv=n(35533),Lv=n(40283);!function(e){e.none="none",e.mini="mini",e.cinema="cinema",e.fullscreen="fullscreen"}(Pv||(Pv={})),function(e){e.SET_VIDEO_MODE="SET_VIDEO_MODE",e.SET_HIDDEN_BY_USER="SET_HIDDEN_BY_USER"}(Dv||(Dv={}));var Fv=function(e){return{type:Dv.SET_VIDEO_MODE,mode:e}},Uv=function(e){return{type:Dv.SET_HIDDEN_BY_USER,hiddenByUser:e}},Zv=function(e){return e.ui.videoPlayer.hiddenByUser},Mv=function(e){return e.ui.videoPlayer.mode};const Bv="S9QTBMXznZ1toWJq0Bm2",jv="_PozM00FPle4bPU9Uquw",Vv="r6zw1NLBxpB2YWcQQkUn";var Hv=function(e){var t,n=e.children,r=e.active,i=void 0!==r&&r,a=e.label,o=e.onClick,l=e.noBackground,c=void 0!==l&&l;return s.createElement(Cf.w,{label:a},s.createElement("button",{className:Tl()(Bv,(t={},(0,E.Z)(t,Vv,i),(0,E.Z)(t,jv,c),t)),onClick:o,"aria-label":a},n))};const Gv="MBzbwWcyfbqSftBtnn3g";var Wv=function(e){var t=e.noBackground,n=e.iconSize,r=void 0===n?16:n,i=(0,Ms.I0)(),a=(0,Ms.v9)(Mv)===Pv.cinema;return(0,el.Y)(af.CM)?s.createElement("div",{className:Tl()((0,E.Z)({},Gv,a))},s.createElement(Hv,{noBackground:t,active:a,label:a?vl.ag.get("video-player.default-view"):vl.ag.get("video-player.cinema-mode"),onClick:function(){rf()&&nf(),i(Fv(a?Pv.mini:Pv.cinema))}},a?s.createElement(xv.o,{iconSize:r}):s.createElement(Lv.S,{iconSize:r}))):null},zv=n(26647),Kv=jt.d.SUBTITLE_LANGUAGES_CHANGED;var Yv=n(42922),qv="-x-cc",Qv=function(e){var t=e.languages,n=void 0===t?[]:t,i=e.activeLanguage,a=e.onSelectLanguage,o=e.onClose,l=(0,Bd.W6)(vs.tc);return s.createElement(Yv.ZP,{value:"subtitles"},s.createElement(Mm.v,{onClose:o,getInitialFocusElement:function(e){return e?e.querySelector('[aria-checked="true"]'):null}},s.createElement(pv.F,{divider:"after"},vl.ag.get("subtitles-picker.heading")),s.createElement(Bm.s,{onClick:function(){a(null)},"aria-checked":!i,role:"menuitemradio"},vl.ag.get("subtitles-picker.option_off")),n.map((function(e){return s.createElement(Bm.s,{key:e,onClick:function(){a(e)},role:"menuitemradio","aria-checked":"string"==typeof i&&e.toLowerCase()===i.toLowerCase()},function(e){var t=e.toLowerCase().split("-"),n=(0,r.Z)(t,1)[0],i="";switch(n){case"zh":i=vl.ag.get("subtitles-picker.option_zh");break;case"cs":i=vl.ag.get("subtitles-picker.option_cs");break;case"nl":i=vl.ag.get("subtitles-picker.option_nl");break;case"en":i=vl.ag.get("subtitles-picker.option_en");break;case"fi":i=vl.ag.get("subtitles-picker.option_fi");break;case"fr":i=vl.ag.get("subtitles-picker.option_fr");break;case"de":i=vl.ag.get("subtitles-picker.option_de");break;case"el":i=vl.ag.get("subtitles-picker.option_el");break;case"hu":i=vl.ag.get("subtitles-picker.option_hu");break;case"id":i=vl.ag.get("subtitles-picker.option_id");break;case"it":i=vl.ag.get("subtitles-picker.option_it");break;case"ja":i=vl.ag.get("subtitles-picker.option_ja");break;case"ms":i=vl.ag.get("subtitles-picker.option_ms");break;case"pl":i=vl.ag.get("subtitles-picker.option_pl");break;case"pt":i=vl.ag.get("subtitles-picker.option_pt");break;case"es":i=vl.ag.get("subtitles-picker.option_es");break;case"sv":i=vl.ag.get("subtitles-picker.option_sv");break;case"tr":i=vl.ag.get("subtitles-picker.option_tr");break;case"vi":i=vl.ag.get("subtitles-picker.option_vi");break;default:i=e}e.endsWith(qv)&&(i+=" [CC]");return i}(e)," ",l?"(".concat(vl.ag.get("subtitles-picker.autogenerated"),")"):null)}))))};var Jv=function(e){return s.createElement(s.Suspense,{fallback:null},s.createElement(Qv,e))},Xv=s.memo((function(e){var t=e.renderInline,n=void 0!==t&&t,a=e.noBackground,l=e.iconSize,c=void 0===l?16:l,u=function(){var e=Dc(),t=e.getCapabilities(),n=(0,s.useState)([]),a=(0,r.Z)(n,2),l=a[0],c=a[1],u=(0,s.useState)(null),d=(0,r.Z)(u,2),m=d[0],p=d[1];(0,s.useEffect)((function(){var t=function(){var t=(0,i.Z)(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=c,t.next=3,e.getSubtitleLanguages();case 3:t.t1=t.sent,(0,t.t0)(t.t1);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t();var n=e.getEvents(),r=function(e){var t=e.data;return c(t)};return n.addListener(Kv,r),function(){n.removeListener(Kv,r)}}),[e,c]),(0,s.useEffect)((function(){var t=function(){var t=(0,i.Z)(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=p,t.next=3,e.getPreferredSubtitleLanguage();case 3:t.t1=t.sent,(0,t.t0)(t.t1);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}),[e,p]);var f=function(){var t=(0,i.Z)(o().mark((function t(n){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setPreferredSubtitleLanguage(n),p(n);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return{isSupported:t.hasSubtitleSupport,availableLanguages:l,preferredLanguage:m,setPreferredLanguage:f}}(),d=u.isSupported,m=u.availableLanguages,p=u.preferredLanguage,f=u.setPreferredLanguage;return d&&0!==m.length?s.createElement(Zm.y,{renderInline:n,menu:s.createElement(Jv,{onSelectLanguage:f,languages:m,activeLanguage:p})},s.createElement(Hv,{noBackground:a,active:null!==p,label:vl.ag.get("subtitles-picker.heading")},s.createElement(zv.M,{iconSize:c}))):null})),$v=n(20452),eg=n(54215);const tg="ylcmjHXKpwmez5_bBVgt",ng="kChcaF3yz3SoL5dZPwEr",rg="tr1hDrJgoPSbMXlXU_sl",ig="mbUrqWP55sK6zhspiR72",ag="SVGHXIQcH9HYU7uGITw5",og="N5cWYDvyLrfnyMZuqQHo",sg="gIobRDHAxkAvUaF4_OOL",lg="FTi9QEhetf4Q4__5sb4S",cg="Gw7E7MkWci1ttQhb4EK0";var ug=s.memo((function(e){var t=e.iconSize,n=void 0===t?16:t;return s.createElement("button",{className:cg,onClick:function(){nf()},"aria-label":vl.ag.get("npv.exit-full-screen"),title:vl.ag.get("npv.exit-full-screen")},s.createElement(eg.Y,{iconSize:n}))})),dg=n(44065),mg=n(51871),pg=n(24237),fg=function(e){var t=e.item;return(0,Te.G_)(t)?s.createElement(pg.B,{uri:t.uri,size:dg.q.sm}):(0,Te.iw)(t)?s.createElement(mg.w,{uri:t.uri,size:dg.q.sm}):null},vg=function(e){var t=e.isVisible,n=e.onClick,r=e.item,i=kv(),a=Ev()&&!i;return s.createElement($v.i,{active:t,focusTrapOptions:{initialFocus:!1}},s.createElement("div",{className:Tl()(tg,(0,E.Z)({},ng,t)),onClick:n},s.createElement("div",{className:rg,"":"fullscreen-mode-controls"},s.createElement(Sf,{isPreview:!1,isFullscreenMode:!0}),s.createElement("div",{className:ig},s.createElement("div",{className:Tl()(ag,og)},r&&s.createElement(fg,{item:r})),s.createElement("div",{className:Tl()(ag,sg)},a&&s.createElement(yv,{iconSize:24}),!a&&s.createElement(Yf,{iconSize:24}),a&&s.createElement(Bf,{iconSize:24}),s.createElement(Jf,{iconSize:24}),s.createElement(If,{iconSize:32}),s.createElement(ev,{iconSize:24}),a&&s.createElement(Hf,{iconSize:24}),!a&&s.createElement(Uf,{iconSize:24})),s.createElement("div",{className:Tl()(ag,lg)},s.createElement(Xv,{iconSize:24,renderInline:!0,noBackground:!0}),s.createElement(Rv,{iconSize:16}),s.createElement(Wv,{noBackground:!0,iconSize:16}),s.createElement(ug,{iconSize:24}))))))},gg=n(5944),hg=Spicetify.GraphQL.Definitions["queryFullscreenMode"]={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"queryFullscreenMode"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"artistUri"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"artist"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uri"},value:{kind:"Variable",name:{kind:"Name",value:"artistUri"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"visuals"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"headerImage"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}}]}}]}}]}}]}}]}}]};function yg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function kg(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yg(Object(n),!0).forEach((function(t){(0,E.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yg(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Eg=function(){var e=(0,Ms.v9)(Nu.VG);return(0,el.Y)(af.CM)||e};function bg(e){var t,n,r,i,a,o,s,l,c,u,d;return(0,Te.G_)(e)?{uri:e.uri,name:e.name,creatorName:null===(t=e.artists[0])||void 0===t?void 0:t.name,coverArtImageUrl:null===(n=e.images)||void 0===n||null===(r=n[0])||void 0===r?void 0:r.url,duration:e.duration.milliseconds}:(0,Te.iw)(e)?{uri:e.uri,name:e.name,creatorName:e.show.name,coverArtImageUrl:null===(i=e.images)||void 0===i||null===(a=i[0])||void 0===a?void 0:a.url,duration:e.duration.milliseconds}:(0,Te.G7)(e)?{uri:e.uri,name:e.name,creatorName:e.book.name,coverArtImageUrl:null===(o=e.images)||void 0===o||null===(s=o[0])||void 0===s?void 0:s.url,duration:e.duration.milliseconds}:(0,Te.k6)(e)?{uri:e.uri,name:null!==(l=e.title)&&void 0!==l?l:"",creatorName:null!==(c=e.advertiser)&&void 0!==c?c:"",coverArtImageUrl:null===(u=e.images)||void 0===u||null===(d=u[0])||void 0===d?void 0:d.url,duration:e.duration.milliseconds}:(0,Te.RB)(e)||void 0===e?void 0:(0,Pe.U)(e)}function _g(){return(_g=(0,i.Z)(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(hg,{artistUri:n}).then((function(e){var t,n,r,i;return null==e||null===(t=e.data)||void 0===t||null===(n=t.artist)||void 0===n||null===(r=n.visuals.headerImage)||void 0===r||null===(i=r.sources[0])||void 0===i?void 0:i.url})).catch((function(){})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Sg=function(e){var t=(0,s.useContext)(fn.Ax).request,n=(0,s.useState)(void 0),i=(0,r.Z)(n,2),a=i[0],o=i[1];return(0,s.useEffect)((function(){var n=!0;return e&&function(e,t){return _g.apply(this,arguments)}(t,e).then((function(e){n&&o(e)})),function(){n=!1}}),[e,t]),a},wg=s.lazy((0,i.Z)(o().mark((function e(){var t,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.e(1814).then(n.bind(n,83490));case 2:return t=e.sent,r=t.ArtistNpv,e.abrupt("return",{default:r});case 5:case"end":return e.stop()}}),e)})))),Ng=s.memo((function(e){var t,n,i,a,o,l,c=e.videoRef,u=(0,Wc.g)(),d=(0,of.o)(),m=(0,el.Y)((function(e){return e}),(function(e,t){var n,r;return(0,ed.V)(null==e?void 0:e.restrictions,null==t?void 0:t.restrictions)&&(null==e||null===(n=e.item)||void 0===n?void 0:n.uri)===(null==t||null===(r=t.item)||void 0===r?void 0:r.uri)&&(null==e?void 0:e.isPaused)===(null==t?void 0:t.isPaused)})),p=null!==(t=null==m?void 0:m.item)&&void 0!==t?t:void 0,f=null!==(n=null==m?void 0:m.nextItems)&&void 0!==n?n:[],v=(0,Te.G_)(p)?null===(i=p.artists[0])||void 0===i?void 0:i.uri:void 0,g=null==p||null===(a=p.images)||void 0===a||null===(o=a[0])||void 0===o?void 0:o.url,h=(0,ef.b)(g),y=Sg(v);l=(0,Ms.I0)(),(0,s.useEffect)((function(){var e=function(){rf()||l((0,Us.oH)())};return window.addEventListener("fullscreenchange",e),window.addEventListener("webkitfullscreenchange",e),function(){window.removeEventListener("fullscreenchange",e),window.removeEventListener("webkitfullscreenchange",e)}}),[l]),(0,s.useEffect)((function(){var e=function(e){"Escape"===e.key&&nf()};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[l]);var k,E,b,_={contextName:null==(k=m)||null===(E=k.context.metadata)||void 0===E?void 0:E.context_description,contextUri:(null==k?void 0:k.context.uri)||void 0,position:null!==(b=(0,gg.k)(k))&&void 0!==b?b:void 0,timestamp:null==k?void 0:k.timestamp,isPaused:null==k?void 0:k.isPaused,canPause:null==k?void 0:k.restrictions.canPause,canResume:null==k?void 0:k.restrictions.canResume},S=_.position,w=_.contextName,N=_.contextUri,O=_.isPaused,C=_.canResume,T=_.canPause,I=_.timestamp,A=function(){var e=(0,s.useState)(!1),t=(0,r.Z)(e,2),n=t[0],i=t[1],a=(0,s.useRef)(null),o=(0,wf.y1)((function(){null!==a.current&&clearTimeout(a.current),a.current=setTimeout((function(){i(!1)}),2500),i(!0)}),100,{leading:!0});return(0,s.useEffect)((function(){return function(){null!==a.current&&clearTimeout(a.current)}}),[]),{isOverlayVisible:n,showOverlay:o}}(),P=A.isOverlayVisible,D=A.showOverlay,R=function(e){var t,n=bg(e);return(0,Te.G_)(e)||(0,Te.iw)(e)||(0,Te.G7)(e)||(0,Te.k6)(e)?kg(kg({},n),{},{duration:e.duration.milliseconds,mediaType:(t=e.mediaType,"video"===t||"mixed"===t?"video":"audio")}):(0,Te.RB)(e)||void 0===e?void 0:(0,Pe.U)(e)}(p),x=bg(f.length>0?f[0]:void 0),L=(0,af.CM)(m),F=(0,s.useCallback)((function(e){e.target===e.currentTarget&&(d({type:"click",intent:O?"play":"pause"}),O&&C?u.resume():!O&&T&&u.pause())}),[T,C,O,d,u]);return s.createElement(s.Suspense,{fallback:null},s.createElement("div",{onMouseMove:D,onFocus:D},s.createElement("div",{ref:c}),s.createElement(wg,{currentTrack:R,position:null!=S?S:0,timestamp:null!=I?I:0,nextTrack:x,backgroundColor:h,backgroundImageUrl:y,contextName:w,contextUri:N,playbackIsPaused:O,contextMetadataVisible:!L||P,trackMetadataVisible:!L||P,controlsVisible:!1,progressBarVisible:!L||P,CustomProgressBar:void 0,CustomPlaybackControls:s.createElement(vg,{isVisible:P,onClick:F,item:p})})))})),Og=s.memo((function(e){var t=e.videoRef,n=(0,s.useContext)(sf),r=Eg(),i=(0,Ms.I0)(),a=(0,Ms.v9)((function(e){return e.ui.fullscreenMode.isOpen}));return(0,s.useEffect)((function(){if(r){var e=rf();!a&&e&&nf()}else nf()}),[r,a,i]),s.createElement("div",{ref:n},r&&a?s.createElement(Ng,{videoRef:t}):null)})),Cg=n(26176),Tg="sp_pfhp",Ig="pfhp",Ag="2c2ccb58-8a92-4713-a1c0-8b43b3090b49",Pg=function(){var e,t,n=(0,Ot.vQ)(Tg),r=(e=new URLSearchParams(window.location.search),(t=e.get(Ig))&&(e.delete(Ig),window.history.replaceState(null,"","".concat(window.location.origin).concat(window.location.pathname).concat(e))),t);return r&&r!==n?((0,Ot.pC)({name:Tg,value:r,days:30}),r):n},Dg=function(){return"undefined"!=typeof window&&Pg()===Ag};const Rg="I0UigpTrBFkGuoWMpQcq",xg="jxzPm9gLS9LiyU5veW3H",Lg="bYPDBcU3uU79vGF1pQBg",Fg="pWvyF1E7_RN2INjZfCUd",Ug="E4UTzaVPMhPYyLm1z_eb",Zg="ReyA3uE3K7oEz7PTTnAn",Mg="vSC7et_G7LUWnvTARtHq",Bg="xFb8C_XRObIFocIOPuTj";var jg=(0,Ms.$j)((function(e){var t,n,r,i,a,o,s,l,c,u,d;return{isOpen:null!==(t=null===(n=e.ads.billboard)||void 0===n?void 0:n.isOpen)&&void 0!==t&&t,imageLoaded:null!==(r=null===(i=e.ads.billboard)||void 0===i?void 0:i.imageLoaded)&&void 0!==r&&r,isMinimized:null!==(a=null===(o=e.ads.billboard)||void 0===o?void 0:o.isMinimized)&&void 0!==a&&a,companionSrc:null===(s=e.ads.billboard)||void 0===s?void 0:s.data.companionSrc,disclaimer:null===(l=e.ads.billboard)||void 0===l?void 0:l.data.disclaimer,mediaSrc:null===(c=e.ads.billboard)||void 0===c?void 0:c.data.mediaSrc,clickUrl:null===(u=e.ads.billboard)||void 0===u?void 0:u.data.clickUrl,isPreview:null===(d=e.ads.billboard)||void 0===d?void 0:d.data.isPreview}}),(function(e){return{hide:function(){return e({type:Ed})},adClick:function(){return e({type:bd})},onImageLoaded:function(){return e({type:_d})},onError:function(){return e({type:Sd})}}}))((function(e){var t=e.companionSrc,n=e.clickUrl,r=e.mediaSrc,i=e.adClick,a=e.hide,o=e.isOpen,l=e.imageLoaded,c=e.onImageLoaded,u=e.onError,m=e.isMinimized,p=e.isPreview,f=function(){i(),a()},v=(0,Bs.k6)(),g=(0,el.Y)((function(e){return null==e?void 0:e.context.uri}));return(0,s.useEffect)((function(){if(o){if(p&&g){var e=d().from(g).toURLPath(!0);v.push(e)}!function(e,t,n){var r=new Image;r.addEventListener("load",t),r.addEventListener("error",n),r.src=e}(r,c,u)}}),[o,r,c,u,p,g,v]),o&&l?m?s.createElement("div",{"":"billboard-minimized",className:Zg},t&&s.createElement("a",{draggable:!1,className:Mg,href:n,onClick:i},s.createElement("img",{draggable:!1,className:Bg,alt:vl.ag.get("ad-formats.advertisement"),src:t}))):s.createElement(Al.Z,{isOpen:o,shouldCloseOnEsc:!1,onRequestClose:a,contentLabel:vl.ag.get("ad-formats.advertisement")},s.createElement("div",{id:"view-billboard-ad",className:Tl()(Rg,{ready:o})},s.createElement("a",{draggable:!1,tabIndex:-1,className:xg,href:n,onClick:f},vl.ag.get("ad-formats.advertisement")),s.createElement("button",{"aria-label":vl.ag.get("ad-formats.dismissAd"),className:Lg,onClick:a},s.createElement(Ru,{width:18,height:18,fill:"currentColor"})),s.createElement("a",{draggable:!1,"":"billboard-image-link",className:Fg,href:n,onClick:f},s.createElement("img",{draggable:!1,className:Ug,alt:vl.ag.get("ad-formats.advertisement"),src:r})))):null})),Vg="SET_LEADERBOARD_ELEMENT",Hg="NAVIGATION_CHANGE_LEADERBOARD_AD",Gg="SET_LEADERBOARD_ENABLED",Wg="SET_LEADERBOARD_DISABLED",zg=function(){return{type:Wg}};const Kg="main-leaderboardComponent-container";var Yg=function(){var e=(0,Ms.I0)(),t=(0,Ms.v9)((function(e){return e.ads.leaderboard.isEnabled})),n=(0,Bs.TH)();(0,s.useEffect)((function(){e({type:Hg})}),[e,n.pathname]);var r=(0,s.useCallback)((function(t){null!==t&&e({type:Vg,element:t})}),[e]);return t?s.createElement("div",null,s.createElement("div",{"":"test-ref-div",className:Kg,ref:r})):null},qg=n(73012),Qg=n(57825);const Jg="j1BMy6Uh7sBoeNA18Rrh",Xg="kJ6qsjZ2r2EltAvuLU9y",$g="M_OJ9bgwzRmQFzKC7xq8";n(31143);var eh=s.memo((function(){var e=(0,Ms.I0)(),t=(0,of.o)(),n=(0,Qg.l)().removeFolder,r=(0,Bs.k6)(),i=(0,Bs.TH)(),a=(0,Ms.v9)((function(e){return e.ui.deleteFolderDialog.uri})),o=(0,s.useCallback)((function(){e((0,Us.cq)())}),[e]),l=(0,s.useCallback)((function(){var e;a&&(t({targetUri:a,intent:"delete-folder",type:"click",itemIdSuffix:"delete"}),n(a),o(),null!==(e=d().from(a))&&void 0!==e&&e.toURLPath().endsWith(i.pathname)&&r.replace("/collection/playlists"))}),[a,r,i,t,n,o]);return s.createElement(Al.Z,{animated:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,overlayClassName:Xg,onRequestClose:o,contentLabel:vl.ag.get("folder.delete-header"),isOpen:!0,shouldFocusAfterRender:!1},s.createElement("div",{className:Jg},s.createElement(Eu.D,{as:"h2",variant:"cello",paddingBottom:qg.mGT},vl.ag.get("folder.delete-header")),s.createElement("div",{className:Tl()("encore-light-theme",$g)},s.createElement(_u.oM,{onClick:o,semanticColor:"textSubdued"},vl.ag.get("playlist.delete-cancel")),s.createElement(Il.D,{"aria-label":vl.ag.get("folder.delete-header"),autoFocus:!0,onClick:l},vl.ag.get("playlist.delete-confirm")))))}));const th="K8PtC1Way9XetxDGwCGx",nh="u0cnduRpYuYHinqEqsaU",rh="awGNDbf1c8TGBAFR0pv8";n(31143);var ih=s.memo((function(){var e=(0,Bs.k6)(),t=(0,Bs.TH)(),n=(0,Ms.I0)(),i=(0,of.o)(),a=(0,Ms.v9)((function(e){return e.ui.deletePlaylistDialog.uri})),o=(0,$u.Z)(a),l=(0,r.Z)(o,2)[1],c=(0,Kc.ET)(a),u=(0,s.useCallback)((function(){var r;i({targetUri:a,intent:"delete-playlist",type:"click",itemIdSuffix:"delete"}),l(!1),n((0,Us.me)()),(null===(r=d().from(a))||void 0===r?void 0:r.toURLPath(!0))===t.pathname&&e.replace("/collection/playlists")}),[i,a,l,e,t,n]),m=(0,s.useCallback)((function(){n((0,Us.me)())}),[n]);return c&&s.createElement(Al.Z,{animated:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,overlayClassName:nh,onRequestClose:m,contentLabel:vl.ag.get("playlist.delete",c.name),isOpen:!0,shouldFocusAfterRender:!1},s.createElement("div",{className:th},s.createElement(Eu.D,{as:"h2",variant:"cello",paddingBottom:qg.mGT},vl.ag.get("playlist.delete",c.name)),s.createElement("div",{className:Tl()("encore-light-theme",rh)},s.createElement(_u.oM,{onClick:m,semanticColor:"textSubdued"},vl.ag.get("playlist.delete-cancel")),s.createElement(Il.D,{"aria-label":vl.ag.get("playlist.delete",c.name),onClick:u,autoFocus:!0},vl.ag.get("playlist.delete-confirm")))))})),ah=n(1684),oh="MINIMIZE_VIDEO_AD_VIEW",sh="MAXIMIZE_VIDEO_AD_VIEW",lh="HIDE_VIDEO_AD_VIEW",ch="SHOW_VIDEO_AD_VIEW",uh="VTO_LOG_EVENT",dh="VTO_SET_INFO",mh="VTO_NAVIGATION_CHANGE",ph=function(){return{type:oh}},fh=function(){return{type:sh}},vh=function(e){return{type:uh,event:e}},gh=function(e){return{type:dh,info:e}};const hh="fFoN1cMJLIJo0k_vgNyw",yh="Lk23rM5uSl5mgEXroOPH",kh="f14LfcDx_wvogzdXzoq9",Eh="QMMTQfEw3AIHFf4dTRp3",bh="nPKDEvIoCzySBR24pZiN",_h="dqP_KBPyAygbxKtY3k3w";var Sh=function(e){var t,n=e.setOuterContainer,i=e.npbVideoAdRef,a=(0,Ms.I0)(),o=(0,el.Y)((function(e){var t;return null!==(t=null==e?void 0:e.item)&&void 0!==t?t:void 0}),(function(e,t){return(null==e?void 0:e.uri)===(null==t?void 0:t.uri)})),l=(0,Te.k6)(o)&&null!==(t=o.url)&&void 0!==t?t:void 0,c=(0,Ms.v9)((function(e){var t,n;return null==e||null===(t=e.ads)||void 0===t||null===(n=t.vto)||void 0===n?void 0:n.isMinimized})),u=(0,s.useRef)(),d=(0,Bs.TH)();(0,s.useEffect)((function(){u.current?a({type:mh}):u.current=!0}),[a,d.pathname]);var m=(0,s.useState)(null),p=(0,r.Z)(m,2),f=p[0],v=p[1];return(0,s.useEffect)((function(){return a(fh()),function(){a(ph())}}),[a]),(0,s.useEffect)((function(){c?setTimeout((function(){null!==f&&n(i.current)}),200):null!==f&&n(f)}),[a,n,i,c,f]),s.createElement(Al.Z,{animation:{modal:{},overlay:{base:Eh,beforeClose:_h,afterOpen:bh},closeTimeoutMs:300},isOpen:!c,parentSelector:function(){return document.querySelector(".Root__modal-slot")},shouldCloseOnEsc:!1,shouldCloseOnOverlayClick:!1,contentLabel:vl.ag.get("ad-formats.advertisement")},s.createElement("div",{className:hh},s.createElement("button",{"aria-label":vl.ag.get("ad-formats.dismissAd"),className:kh,onClick:function(){a(ph()),a(vh(ah.W9.COLLAPSED))}},s.createElement(Ru,{width:18,height:18,fill:"currentColor"})),s.createElement("a",{"":"video-takeover-link",href:l,onClick:function(){a(vh(ah.W9.CLICKED))},ref:function(e){return v(e)},className:yh})))},wh=function(e){var t=e.setOuterContainer,n=e.npbVideoAdRef;return(0,Ms.v9)((function(e){var t,n;return null==e||null===(t=e.ads)||void 0===t||null===(n=t.vto)||void 0===n?void 0:n.isHidden}))?null:s.createElement(Sh,{setOuterContainer:t,npbVideoAdRef:n})},Nh=function(e){var t,n=(t=(0,s.useState)((function(){var e=document.createElement("div");return e.classList.add("VideoPlayer__container"),e})),(0,r.Z)(t,1)[0]);if((0,s.useLayoutEffect)((function(){null!==e&&null!==n&&e.insertBefore(n,e.firstChild)}),[e,n]),n&&n.firstChild){var i=n.firstChild;return"".concat(i.videoWidth,"/").concat(i.videoHeight)}return"16/9"},Oh=function(){var e=(0,Ms.v9)(Mv),t=(0,s.useRef)(Pv.mini);return(0,s.useEffect)((function(){e!==Pv.mini&&e!==Pv.cinema||(t.current=e)}),[e]),t},Ch=n(26375);function Th(){var e=(0,Ms.I0)(),t=(0,Ms.v9)(Xl),n=(0,s.useCallback)((function(t){e((0,Us.EW)(t))}),[e]),i=(0,mf.z)(Dt.cr,Ch.NowPlayingCoverStateEnum.collapsed),a=(0,r.Z)(i,2),o=a[0],l=a[1];return{expandedState:t!==Ch.NowPlayingCoverStateEnum.none?t:o,setLocalStorageExpandedState:l,setTransientForcedExpandedState:n}}function Ih(e,t){(0,s.useLayoutEffect)((function(){t.current&&e(t.current)}),[t,e])}function Ah(){var e=(0,s.useState)(!1),t=(0,r.Z)(e,2),n=t[0],i=t[1],a=(0,s.useRef)(null),o=(0,wf.y1)((function(){a.current&&clearTimeout(a.current),a.current=setTimeout((function(){i(!1)}),1500),i(!0)}),100),l=(0,s.useCallback)((function(e){i(e),o.cancel()}),[o]);return(0,s.useEffect)((function(){return function(){a.current&&clearTimeout(a.current)}}),[]),{isControlsVisible:n,setIsControlsVisible:l,handleKeepViewVisible:o}}var Ph=n(59684);const Dh="aHe1QDDI5hmYWAKf4MoR",Rh="QOt96NwplKPuFi9evhHq";var xh=function(e){var t=e.visible,n=e.className,r=(0,Ms.I0)(),i=Eg(),a=(0,s.useContext)(sf);return s.createElement("div",{className:Tl()(Dh,n,(0,E.Z)({},Rh,t))},s.createElement(Xv,{renderInline:!0}),s.createElement(Wv,null),i&&s.createElement(Hv,{label:vl.ag.get("npv.full-screen"),onClick:function(){null!=a&&a.current&&(tf(a.current),r((0,Us.OC)()))}},s.createElement(Ph.i,{iconSize:16})),s.createElement(Hv,{label:vl.ag.get("close_button_action"),onClick:function(){r(Uv(!0))}},s.createElement(Jd.k,{iconSize:16})))};const Lh="kJKEEG391Pf_PLzwG2Vm",Fh="gVnOoWHXwLnTNK2RRIKg";var Uh=function(e){var t=e.cinemaModeRef,n=e.nowPlayingBarRef,r=e.setVideoContainer,i=e.hiddenByUser,a=(0,s.useRef)(null),o=(0,Ms.I0)(),l=Th().setTransientForcedExpandedState;Ih(r,a);var u=Ah(),d=u.isControlsVisible,m=u.setIsControlsVisible,p=u.handleKeepViewVisible;return(0,s.useEffect)((function(){var e=function(e){"Escape"===e.key&&o(Fv(Pv.mini))};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[o]),(0,s.useEffect)((function(){return l(Ch.NowPlayingCoverStateEnum.collapsed),function(){l(Ch.NowPlayingCoverStateEnum.none)}}),[l]),t.current?c.createPortal(s.createElement("div",{ref:a,hidden:i,className:Lh,onMouseLeave:function(){m(!1)},onMouseMove:p,onFocus:p,"":"video-player-cinema"},s.createElement($v.i,{containerElements:[t.current,n.current],active:!i}),s.createElement(xh,{visible:d,className:Fh})),t.current):(console.error("No container found for cinema video!"),null)},Zh=s.memo((function(e){var t=e.setVideoContainer,n=e.fullscreenModeRef,r=(0,s.useRef)(null);return Ih(t,r),n.current?c.createPortal(s.createElement("div",{"":"video-player-fullscreen",className:Tl()("VideoFullscreenMode")},s.createElement("div",{className:"VideoFullscreenMode__video-container",ref:r})),n.current):(console.error("No container found for fullscreen video!"),null)}));const Mh="320px",Bh="432px",jh="0px",Vh="0px",Hh="IHJo1TDFzY4mDw_ny8RQ";var Gh,Wh=n(32648);function zh(e){var t=e.videoContainerRef,n=e.corner,i=e.aspectRatio;if(t.current){var a=i.split("/"),o=(0,r.Z)(a,2),s=o[0],l=o[1],c=parseInt(s,10)/parseInt(l,10),u=function(e){var r=t.current;if(r){var i=getComputedStyle(r,null),a=parseInt(i.width,10),o=parseInt(i.height,10),s=parseInt(i.top,10),l=parseInt(i.right,10),u=parseInt(i.bottom,10),d=parseInt(i.left,10),m=e.movementX,p=e.movementY,f=a,v=Math.abs(m)>Math.abs(p),g=m<0,h=p<0,y=!g,k=!h;switch(n){case Gh.TOP_LEFT:if((s<=Dt.K1||d<=0)&&(h||g))return;f=v?a-m:(o-p)*c;break;case Gh.TOP_RIGHT:if((s<=Dt.K1||l<=0)&&(h||y))return;f=v?a+m:(o-p)*c;break;case Gh.BOTTOM_RIGHT:if((u<=0||l<=0)&&(k||y))return;f=v?a+m:(o+p)*c;break;case Gh.BOTTOM_LEFT:if((u<=0||d<=0)&&(k||g))return;f=v?a-m:(o+p)*c;break;default:(0,Pe.U)(n)}r.style.setProperty("--video-player-mini-width","".concat(f,"px"))}};!function(e,t){var n=t.current;if(n){var r=getComputedStyle(n),i=r.top,a=r.right,o=r.bottom,s=r.left;e===Gh.BOTTOM_LEFT?(n.style.bottom="revert",n.style.left="revert",n.style.top=i,n.style.right=a):e===Gh.TOP_RIGHT?(n.style.top="revert",n.style.right="revert",n.style.bottom=o,n.style.left=s):e===Gh.BOTTOM_RIGHT&&(n.style.bottom="revert",n.style.right="revert",n.style.top=i,n.style.left=s)}}(n,t),document.addEventListener("mousemove",u),document.addEventListener("mouseup",(function(){document.removeEventListener("mousemove",u),function(e){var t=e.current;if(t){var n=getComputedStyle(t),r=n.right,i=n.bottom,a=n.width,o=n.height;t.style.setProperty("--video-player-mini-bottom",i),t.style.setProperty("--video-player-mini-right",r),t.style.setProperty("--video-player-mini-width",a),t.style.setProperty("--video-player-mini-height",o),t.style.removeProperty("top"),t.style.removeProperty("right"),t.style.removeProperty("bottom"),t.style.removeProperty("left")}}(t)}),{once:!0})}}!function(e){e.TOP_RIGHT="TOP_RIGHT",e.TOP_LEFT="TOP_LEFT",e.BOTTOM_RIGHT="BOTTOM_RIGHT",e.BOTTOM_LEFT="BOTTOM_LEFT"}(Gh||(Gh={}));const Kh="ayK5x4g3ziBv1HBvVN4A",Yh="JsQlADdGP1mmaYQBRjAs",qh="RLkiXgkY1CMOMIqvBXHz",Qh="kxAklKmg1SJCkvHHZ_Hh",Jh="C25ijUb1EHOyPteh9a8K";var Xh=function(e){var t,n,r=e.corner,i=e.aspectRatio,a=e.videoContainerRef;return s.createElement("div",{className:Tl()(Kh,(t={},(0,E.Z)(t,Yh,r===Gh.TOP_LEFT),(0,E.Z)(t,qh,r===Gh.TOP_RIGHT),(0,E.Z)(t,Jh,r===Gh.BOTTOM_RIGHT),(0,E.Z)(t,Qh,r===Gh.BOTTOM_LEFT),t)),"":"CORNER_".concat(r),onMouseDown:(n=r,function(e){a.current&&(e.stopPropagation(),e.preventDefault(),zh({aspectRatio:i,videoContainerRef:a,corner:n}))})})};var $h=function(e){var t=e.hiddenByUser,n=e.setVideoContainer,i=e.savedPosition,a=e.setSavedPosition,o=e.aspectRatio,l=(0,s.useRef)(null),c=(0,s.useContext)(Wh.VX).scrollNodeRef;Ih(n,l),function(e){var t=e.aspectRatio,n=e.videoContainerRef,i=t.split("/"),a=(0,r.Z)(i,2),o=a[0],l=a[1],c=parseInt(o,10)/parseInt(l,10);(0,s.useLayoutEffect)((function(){var e=n.current;e&&e.style.setProperty("--video-player-mini-aspect-ratio",t)}),[t,n]),(0,s.useLayoutEffect)((function(){var e=n.current;if(e){var t=c>1,r=parseInt(Mh,10),i=parseInt(Bh,10);t?(e.style.setProperty("--video-player-mini-min-width",Mh),e.style.setProperty("--video-player-mini-min-height","".concat(r*(1/c),"px")),e.style.setProperty("--video-player-mini-width",Bh),e.style.setProperty("--video-player-mini-height","".concat(i*(1/c),"px"))):(e.style.setProperty("--video-player-mini-min-height",Mh),e.style.setProperty("--video-player-mini-min-width","".concat(r*c,"px")),e.style.setProperty("--video-player-mini-height",Bh),e.style.setProperty("--video-player-mini-width","".concat(i,"px")))}}),[c,n])}({aspectRatio:o,videoContainerRef:l}),function(e){var t=e.videoContainerRef,n=e.savedPosition,r=e.setSavedPosition,i=(0,s.useRef)(n);(0,s.useLayoutEffect)((function(){var e=t.current;if(e){var n=function(t,n){return e.style.setProperty(t,"".concat(n,"px"))},a=i.current,o=a.width,s=a.right,l=a.bottom;return n("--video-player-mini-width",o),n("--video-player-mini-right",s),n("--video-player-mini-bottom",l),function(){var t=getComputedStyle(e,null),n=function(e){return parseInt(t.getPropertyValue(e),10)};r({width:n("--video-player-mini-width"),right:n("--video-player-mini-right"),bottom:n("--video-player-mini-bottom")})}}}),[r,t])}({videoContainerRef:l,savedPosition:i,setSavedPosition:a});var u=(0,s.useRef)(!0);(0,s.useEffect)((function(){return u.current=!0,function(){u.current=!1}}));var d=Ah(),m=d.isControlsVisible,p=d.setIsControlsVisible,f=d.handleKeepViewVisible;return s.createElement("div",{ref:l,hidden:t,className:Hh,onMouseLeave:function(){p(!1)},onMouseDown:function(e){l.current&&c.current&&(e.stopPropagation(),e.preventDefault(),function(e){var t=e.videoContainerRef,n=e.scrollNodeRef,r=e.mouseDownX,i=e.mouseDownY;if(t.current&&n.current){var a=t.current.getBoundingClientRect(),o=n.current.getBoundingClientRect(),s=a.right-r,l=a.bottom-i;t.current.style.setProperty("--video-player-mini-width","".concat(a.width,"px")),t.current.style.setProperty("--video-player-mini-height","".concat(a.height,"px"));var c=function(e){if(t.current){var n=e.clientX,r=e.clientY,i=o.right-n-s,c=o.bottom-r-l;i=Math.min(Math.max(0,i),o.width-a.width),c=Math.min(Math.max(0,c),o.height-a.height-Dt.K1),t.current.style.setProperty("--video-player-mini-right","".concat(i,"px")),t.current.style.setProperty("--video-player-mini-bottom","".concat(c,"px"))}};document.addEventListener("mousemove",c),document.addEventListener("mouseup",(function(){document.removeEventListener("mousemove",c)}),{once:!0})}}({scrollNodeRef:c,videoContainerRef:l,mouseDownX:e.clientX,mouseDownY:e.clientY}))},onMouseMove:f,onFocus:f,"":"video-player-mini"},s.createElement(Xh,{corner:Gh.TOP_LEFT,videoContainerRef:l,aspectRatio:o}),s.createElement(Xh,{corner:Gh.TOP_RIGHT,videoContainerRef:l,aspectRatio:o}),s.createElement(Xh,{corner:Gh.BOTTOM_RIGHT,videoContainerRef:l,aspectRatio:o}),s.createElement(Xh,{corner:Gh.BOTTOM_LEFT,videoContainerRef:l,aspectRatio:o}),s.createElement(xh,{visible:m}))};const ey=function(e){var t=e.npbVideoAdRef,n=e.nowPlayingBarRef,i=e.cinemaModeRef,a=e.fullscreenModeRef,o=(0,Ms.I0)(),l=(0,s.useRef)(),c=(0,s.useState)(null),u=(0,r.Z)(c,2),d=u[0],m=u[1],p=(0,s.useState)({width:parseInt(Bh,10),bottom:parseInt(Vh,10),right:parseInt(jh,10)}),f=(0,r.Z)(p,2),v=f[0],g=f[1],h=(0,Ms.v9)((function(e){return e.platform.isDesktop})),y=(0,el.Y)((function(e){var t,n=null!==(t=null==e?void 0:e.item)&&void 0!==t?t:void 0;return{isPlayingVideo:(0,af.CM)(e),isPlayingAd:(0,Te.k6)(n),contextUri:null==e?void 0:e.context.uri}})),k=y.isPlayingVideo,E=y.isPlayingAd,b=y.contextUri,_=(0,Ms.v9)(Mv),S=(0,Ms.v9)(Zv),w=Nh(d);return function(){var e=(0,Ms.I0)(),t=(0,el.Y)(af.CM),n=(0,$s.O)().connectionStatus,r=n===Xt.TK.CONNECTED||n===Xt.TK.CONNECTING,i=Oh();(0,s.useEffect)((function(){t&&!r?rf()?e(Fv(Pv.fullscreen)):e(Fv(i.current)):e(Fv(Pv.none))}),[t,r,e,i])}(),function(){var e=(0,Ms.I0)(),t=(0,el.Y)(af.CM),n=Oh();(0,s.useEffect)((function(){var r=function(){t&&(rf()?e(Fv(Pv.fullscreen)):e(Fv(n.current)))};return window.addEventListener("fullscreenchange",r),window.addEventListener("webkitfullscreenchange",r),function(){window.removeEventListener("fullscreenchange",r),window.removeEventListener("webkitfullscreenchange",r)}}),[e,t,n])}(),(0,s.useEffect)((function(){k&&l.current!==b&&(o(Uv(!1)),l.current=b)}),[o,b,k]),h&&k&&E?s.createElement(wh,{npbVideoAdRef:t,setOuterContainer:m}):_===Pv.mini?s.createElement(dl.S,null,s.createElement($h,{savedPosition:v,setSavedPosition:g,aspectRatio:w,hiddenByUser:S,setVideoContainer:m})):_===Pv.cinema?s.createElement(dl.S,null,s.createElement(Uh,{hiddenByUser:S,cinemaModeRef:i,nowPlayingBarRef:n,setVideoContainer:m})):_===Pv.fullscreen?s.createElement(dl.S,null,s.createElement(Zh,{fullscreenModeRef:a,setVideoContainer:m})):null};var ty=n(61075);const ny={NotificationBubble:"main-notificationBubble-NotificationBubble",isError:"main-notificationBubble-isError",isNotice:"main-notificationBubble-isNotice",horizontal:"main-notificationBubble-horizontal",isCloseable:"main-notificationBubble-isCloseable",closeIcon:"main-notificationBubble-closeIcon",isClickable:"main-notificationBubble-isClickable",enter:"main-notificationBubble-enter",enterActive:"main-notificationBubble-enterActive",exit:"main-notificationBubble-exit",exitActive:"main-notificationBubble-exitActive",withPointer:"main-notificationBubble-withPointer",withTopRightPointer:"main-notificationBubble-withTopRightPointer",withTopLeftPointer:"main-notificationBubble-withTopLeftPointer",withSidePointer:"main-notificationBubble-withSidePointer"};var ry=function(e){var t,n=e.children,r=e.isHidden,i=e.isClickable,a=e.withPointer,o=e.withTopLeftPointer,l=e.withTopRightPointer,c=e.withSidePointer,u=e.horizontal,d=e.maxWidth,m=e.onClose,p=e.feedbackType,f=void 0===p?wu.nY.NOTICE:p;return s.createElement(ty.Z,{in:!r,classNames:ny,timeout:500,unmountOnExit:!0},s.createElement("div",{className:Tl()(ny.NotificationBubble,(t={},(0,E.Z)(t,ny.isClickable,i),(0,E.Z)(t,ny.withPointer,a),(0,E.Z)(t,ny.withTopLeftPointer,o),(0,E.Z)(t,ny.withTopRightPointer,l),(0,E.Z)(t,ny.withSidePointer,c),(0,E.Z)(t,ny.horizontal,u),(0,E.Z)(t,ny.isCloseable,m),(0,E.Z)(t,ny.isError,f===wu.nY.ERROR),(0,E.Z)(t,ny.isNotice,f===wu.nY.NOTICE),t)),style:{maxWidth:d?"".concat(d,"px"):""},role:"alert","aria-live":"polite"},n,m&&s.createElement(Jd.k,{onClick:m,iconSize:16,className:ny.closeIcon})))};const iy="main-notificationBubbleContainer-NotificationBubbleContainer";var ay=function(){var e=(0,Ms.v9)((function(e){return e.feedbackBubble})),t=e.message,n=e.feedbackType,r=e.isHidden;return s.createElement("div",{className:iy},s.createElement(ry,{isHidden:r,feedbackType:n},t))};function oy(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,W.Z)(e);if(t){var i=(0,W.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,G.Z)(this,n)}}var sy=function(e){(0,H.Z)(n,e);var t=oy(n);function n(){return(0,O.Z)(this,n),t.apply(this,arguments)}return(0,C.Z)(n,[{key:"handleRequestClose",value:function(){this.props.closeModal()}},{key:"render",value:function(){var e=this.props,t=e.isOpen,n=e.closeModal;return s.createElement(xl,{headingMessage:vl.ag.get("offline-error.device-limit-reached.header"),message:vl.ag.get("offline-error.device-limit-reached.message"),buttonLabel:vl.ag.get("close"),isOpen:t,onDismissDialog:n})}}]),n}(s.PureComponent);const ly=(0,Ms.$j)((function(e){return{isOpen:e.ui.offlineDeviceLimitReachedDialog.isOpen}}),(function(e){return{closeModal:function(){return e((0,Us.$1)())}}}))(sy);function cy(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,W.Z)(e);if(t){var i=(0,W.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,G.Z)(this,n)}}var uy=function(e){(0,H.Z)(n,e);var t=cy(n);function n(e){var r;return(0,O.Z)(this,n),(r=t.call(this,e)).handleRequestClose=r.handleRequestClose.bind((0,si.Z)(r)),r.browserName=se().getParser(window.navigator.userAgent).getBrowserName(),r}return(0,C.Z)(n,[{key:"handleRequestClose",value:function(){this.props.closeModal()}},{key:"render",value:function(){var e=this.props,t=e.isOpen,n=e.closeModal;return s.createElement(xl,{headingMessage:vl.ag.get("fatal-error.header"),onDismissDialog:n,buttonLabel:vl.ag.get("close"),message:vl.ag.get("browser_upgrade_notice",this.browserName),isOpen:t})}}]),n}(s.PureComponent);const dy=(0,Ms.$j)((function(e){return{isOpen:e.ui.playbackNotSupportedErrorDialog.isOpen}}),(function(e){return{closeModal:function(){return e((0,Us.PL)())}}}))(uy);var my=n(35758);const py="CMgJZD0JMx_Yz1tlE7hd";n(37268);var fy=n(89104);const vy="SVnAziPF2z_cgAGrp6He",gy="miG_SXrw265mkozdEHrJ",hy="RWLySPhsOTyK2EsAGUgx",yy="X_vuuyeQDD6IWI4aIE6k",ky="VdyeU78LKQdX8Dclnfxr",Ey="Z12I3N4OnNvzRSNKOeUn",by="IDHZCFcj1ynmYu6Sm5SR",_y="UmY163JiUcgJt2MKNyGW",Sy="SYKOtPBDhPSs6zGwbk6A";var wy,Ny,Oy=n(18864),Cy=(wy={},(0,E.Z)(wy,Oy.Uo.XSMALL,Ey),(0,E.Z)(wy,Oy.Uo.SMALL,Ey),(0,E.Z)(wy,Oy.Uo.MEDIUM,by),(0,E.Z)(wy,Oy.Uo.LARGE,_y),(0,E.Z)(wy,Oy.Uo.XLARGE,_y),wy),Ty=function(e){var t,n,r=e.image,i=e.title,a=e.description,o=e.primaryButton,l=e.secondaryButton,c=e.renderExtraInfo,u=e.style,d=e.className,m=e.size,p=void 0===m?Oy.Uo.SMALL:m,f="string"==typeof i?s.createElement("h2",{className:hy},i):s.createElement("div",{className:hy},i);return a&&(t="string"==typeof a?s.createElement("p",{className:yy},a):s.createElement("div",{className:yy},a)),l&&(n=s.createElement("div",{className:Sy},l)),s.createElement("div",{className:Tl()("".concat(vy," ").concat(Cy[p]),d),style:u,"":"dialog-root"},r&&s.createElement("div",{className:ky},s.createElement(fy.E,{loading:"lazy",src:r})),s.createElement("div",{className:gy},f,t,o,n,c&&c()))},Iy=n(74257);!function(e){e[e.SIGNUP=0]="SIGNUP",e[e.LOGIN=1]="LOGIN",e[e.DOWNLOAD=2]="DOWNLOAD"}(Ny||(Ny={}));var Ay=s.memo((function(e){var t=e.image,n=e.mediaType,r=e.backgroundColor,i=e.onSignupClick,a=e.onLoginClick,o=e.onDownloadClick,l=e.downloadLink,c=function(e){return function(t){switch(t.preventDefault(),e){case Ny.DOWNLOAD:o&&o(),window.open(l,"_top","noopener");break;case Ny.SIGNUP:i&&i(),(0,bs.L6)();break;case Ny.LOGIN:a&&a(),(0,bs.h$)()}}},u="audio"===n?vl.ag.get("fta.wall.start-listening"):vl.ag.get("fta.wall.start-watching"),d=s.createElement(Il.D,{onClick:c(Ny.SIGNUP)},vl.ag.get("mwp.cta.sign.up.free")),m=l?s.createElement(Iy.P,{"":"upsell-download-app-button",onClick:c(Ny.DOWNLOAD)},vl.ag.get("mwp.cta.download.app")):void 0,p=(0,Oy.jh)();return s.createElement(Ty,{image:t,title:u,primaryButton:d,secondaryButton:m,size:p,style:r?{backgroundColor:r}:{},renderExtraInfo:function(){return s.createElement("p",{className:py,onKeyDown:function(){return c(Ny.LOGIN)},role:"presentation"},vl.ag.get("already_have_account"),s.createElement(_u.oM,{onClick:c(Ny.LOGIN)},vl.ag.get("login")))}})})),Py=n(88503);const Dy="anllJYN1jeYGGE1iAJUJ",Ry="YQRQdqiQ_iT0eo0owsJL",xy="ftlV6Ixmq4wkKMg7hJ1v";var Ly,Fy=(Ly={},(0,E.Z)(Ly,Oy.Uo.SMALL,0),(0,E.Z)(Ly,Oy.Uo.MEDIUM,600),(0,E.Z)(Ly,Oy.Uo.LARGE,1024),Ly),Uy=function(e){var t,n=e.image,r=e.mediaType,i=e.backgroundColor,a=e.onClose,o=(0,of.o)(),l=function(e){return function(){o({intent:e,type:"click"})}},c=(0,Oy.Db)(Fy),u=c.ref,d=c.breakpoint;return(0,s.useEffect)((function(){var e=function(e){"Escape"===e.key&&(a(),o({intent:"close-upsell",type:"key-escape"}))};return o({intent:"open-upsell",type:"impression"}),window.addEventListener("keyup",e,!1),function(){return window.removeEventListener("keyup",e)}}),[o,a]),s.createElement(Oy.ZU.Provider,{value:d},s.createElement("div",{className:"dialog ".concat(xy),role:"presentation",ref:u,onClick:function(e){/dialog/.test(e.target.className)&&(o({intent:"close-upsell",type:"click",itemIdSuffix:"backdrop"}),a())}},s.createElement("div",{className:Dy,style:{backgroundColor:i}},s.createElement(Ay,{image:n,mediaType:r,onDownloadClick:l("download-app"),onLoginClick:l("login"),onSignupClick:l("signup"),downloadLink:(t=(0,Py.IM)(),t.searchParams.set("referrer","dwp"),t).toString()}),s.createElement("div",{className:Ry},s.createElement(_u.oM,{onClick:function(){o({intent:"close-upsell",type:"click",itemIdSuffix:"close-button"}),a()}},vl.ag.get("close"))))))},Zy=s.memo((function(e){var t=e.uri,n=(0,Ms.I0)(),i=(0,vf.g)("images/focused_stroy_play.png"),a=(0,my.p)(t,"#9BF0E1",i),o=(0,r.Z)(a,2),l=o[0],c=o[1];return s.createElement(Yv.ZP,{value:"signup-modal"},s.createElement(Uy,{image:l,mediaType:d().isShow(t)?"mixed":"audio",onClose:function(){n((0,Us.dE)())},backgroundColor:c}))})),My=n(84629),By=(n(65069),function(e){var t=e.className;return s.createElement("svg",{className:t,xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"none",viewBox:"0 0 16 16"},s.createElement("rect",{width:"14.933",height:"14.933",x:"0.533",y:"0.533",fill:"#E22134",rx:"7.467"}),s.createElement("path",{fill:"#fff",d:"M6.143 12V4.437h-1.28c-.15.79-.907 1.387-1.995 1.419v1.003h1.813V12h1.462zm5.092-5.13c0 .82-.65 1.343-1.386 1.343-.758 0-1.387-.512-1.387-1.344 0-.81.64-1.333 1.387-1.333.736 0 1.386.533 1.386 1.333zm-4 4.874c.384.245 1.12.416 1.75.416 2.56 0 3.893-1.61 3.893-4.341 0-2.4-1.397-3.542-2.997-3.542-1.611 0-2.859 1.088-2.859 2.635 0 1.59 1.227 2.539 2.603 2.539.853 0 1.514-.363 1.802-.843-.074 1.397-.96 2.261-2.453 2.261-.512 0-1.067-.16-1.355-.32l-.384 1.195z"}),s.createElement("rect",{width:"14.933",height:"14.933",x:"0.533",y:"0.533",stroke:"#fff",strokeWidth:"1.067",rx:"7.467"}))});function jy(e,t,n,r){if(n<=0||r<=0||r>1)return{height:-1,width:-1,parentHeight:e,parentWidth:t};var i=e*t,a=1/r*n,o=Math.sqrt(i/a);return{height:o,width:o*n,parentHeight:e,parentWidth:t}}const Vy="dzS9k6yn4XzF3jWcS3W2",Hy="ezHLQVkVclgu_n15ybG6",Gy="gQ3lUcmizympex29IHL7",Wy="VDUUJg30Ewzy9OP54arn";var zy,Ky;function Yy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qy(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yy(Object(n),!0).forEach((function(t){(0,E.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yy(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Qy=(zy={},(0,E.Z)(zy,Oy.Uo.SMALL,1),(0,E.Z)(zy,Oy.Uo.MEDIUM,.72),(0,E.Z)(zy,Oy.Uo.LARGE,1.82),zy),Jy=(Ky={},(0,E.Z)(Ky,Oy.Uo.SMALL,0),(0,E.Z)(Ky,Oy.Uo.MEDIUM,600),(0,E.Z)(Ky,Oy.Uo.LARGE,1024),Ky),Xy=function(e){var t=e.image,n=e.onConfirm,i=e.backgroundColor,a=function(e){return Object.keys(Jy).reverse().find((function(t){return e>=Jy[t]?t:null}))}(window.innerWidth),o=function(e,t){var n=(0,s.useState)((function(){return jy(window.innerHeight,window.innerWidth,e,t)})),i=(0,r.Z)(n,2),a=i[0],o=i[1],l=(0,s.useRef)(),c=(0,s.useCallback)((function(){o(jy(window.innerHeight,window.innerWidth,e,t))}),[e,t]);return(0,s.useEffect)((function(){return l.current||(o(jy(window.innerHeight,window.innerWidth,e,t)),window.addEventListener("resize",c),l.current=!0),function(){l.current&&(o(jy(window.innerHeight,window.innerWidth,e,t)),window.removeEventListener("resize",c),l.current=!1)}}),[e,t,c]),a}(Qy[a],.3333333333333333),l=i?{backgroundColor:i}:{},c=function(e,t,n,r){return e===Oy.Uo.SMALL?{width:"100vw",height:"100vh"}:e===Oy.Uo.MEDIUM&&r<750||e===Oy.Uo.LARGE&&r<520?{width:"inherit",height:"inherit"}:{width:"".concat(Math.ceil(t),"px"),height:"".concat(Math.ceil(n),"px")}}(a,o.width,o.height,o.parentHeight),u=s.createElement("span",null,s.createElement("span",{className:Hy},vl.ag.get("age.restriction.explicitContent")),s.createElement(By,{className:Gy})),d=s.createElement(Il.D,{colorSet:"invertedLight",onClick:n},vl.ag.get("age.restriction.continue"));return s.createElement(Ty,{className:Tl()(Vy,(0,E.Z)({},Wy,1===Qy[a])),style:qy(qy({},c),l),image:t,title:vl.ag.get("age.restriction.confirmAge"),description:u,primaryButton:d,size:a})};const $y="J2uBhFKAVeDnSUb6Diq_",ek="dlCbZFZLaxVOGbVUleiV";var tk=function(){var e=(0,Ms.I0)(),t=(0,Ms.v9)((function(e){var t=e.ageRestriction;return{image:"",backgroundColor:t.dialog.backgroundColor,providerUrl:t.dialog.providerUrl}})),n=t.image,r=t.backgroundColor,i=t.providerUrl;return s.createElement("div",{className:$y},s.createElement(Xy,{image:n,onConfirm:function(){window.location.assign(i)},backgroundColor:r}),s.createElement("div",{className:ek},s.createElement(_u.oM,{onClick:function(){e((0,My.QN)())}},vl.ag.get("close"))))},nk=function(){var e=(0,Ms.I0)(),t=(0,Ms.v9)((function(e){return e.ageRestriction.isOpen}));return s.createElement(Al.Z,{animated:!0,onRequestClose:function(){e((0,My.QN)())},contentLabel:vl.ag.get("age.restriction.confirmAge"),isOpen:t},s.createElement(tk,null))},rk=n(42038);const ik="main-duplicateTrackModal-container",ak="main-duplicateTrackModal-title",ok="main-duplicateTrackModal-description",sk="main-duplicateTrackModal-buttonContainer";function lk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ck(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lk(Object(n),!0).forEach((function(t){(0,E.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lk(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var uk=s.memo((function(){var e,t=(0,Ms.I0)(),n=(0,s.useContext)(Kc.ZF),r=(0,Ms.v9)((function(e){var t=e.duplicateTracks,n=!!t.uri;return ck(ck({},t),{},{onlyOneTrack:n,uris:n&&t.uri?[t.uri]:t.uris})})),i=r.isOpen,a=r.playlistName,o=r.playlistUri,l=r.uris,c=void 0===l?[]:l,u=r.onlyOneTrack,d=r.position,m=void 0===d?{after:"end"}:d,p=r.newUris,f=void 0===p?[]:p,v=null==f?void 0:f.length,g=!u&&v,h=(0,s.useCallback)((function(){g&&n.add(o,f,m),t((0,rk.o8)())}),[n,g,f,m,o,t]),y=(0,s.useCallback)((function(){n.add(o,c,m),t((0,rk.o8)())}),[n,c,m,o,t]),k=(0,s.useCallback)((function(){t((0,rk.o8)())}),[t]);return e=g?vl.ag.get("duplicate.tracks.someAlreadyAddedDescription",a):u?vl.ag.get("duplicate.tracks.oneAlreadyAdded",a):vl.ag.get("duplicate.tracks.allAlreadyAdded",a),s.createElement(Al.Z,{animated:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,onRequestClose:k,contentLabel:vl.ag.get("duplicate.tracks.alreadyAdded"),isOpen:i},s.createElement("div",{className:ik},s.createElement(Eu.D,{as:"h2",variant:"cello",className:ak},g?vl.ag.get("duplicate.tracks.someAlreadyAdded"):vl.ag.get("duplicate.tracks.alreadyAdded")),s.createElement(Eu.D,{as:"p",variant:"mesto",className:ok,paddingBottom:bu.g4V},e),s.createElement("div",{className:Tl()("encore-light-theme",sk)},s.createElement(_u.oM,{onClick:y},g?vl.ag.get("duplicate.tracks.addAll"):vl.ag.get("duplicate.tracks.addAnyway")),s.createElement(Il.D,{onClick:h},g?vl.ag.get("duplicate.tracks.addNewOnes"):vl.ag.get("duplicate.tracks.dontAdd")))))}));const dk="E8bksyAE59h3cZt95IM4",mk="Zle3lLUTTW6MD4o8MBTz",pk="PjuNmBpdlw6wIaIvFnlw";var fk,vk=(fk={},(0,E.Z)(fk,Oy.Uo.SMALL,0),(0,E.Z)(fk,Oy.Uo.MEDIUM,600),(0,E.Z)(fk,Oy.Uo.LARGE,1024),fk),gk=s.memo((function(){var e=(0,Ms.I0)(),t=function(){e((0,Us.iN)())},n=(0,Oy.Db)(vk),r=n.ref,i=n.breakpoint;return function(){var e=(0,Ms.I0)(),t=(0,Bs.k6)(),n=(0,Bs.TH)();(0,s.useEffect)((function(){var r=function(r){var i="spotify:",a=r.data;if(a&&"string"==typeof a&&0===a.indexOf("additional-credentials"))try{var o=JSON.parse(a.slice(a.indexOf("{")));if(e((0,Us.iN)()),e((0,Us.AW)()),e((0,Us.Rf)()),0===o.appStartPage.indexOf(i)){var s=o.appStartPage.replace(/:/g,"/").slice(i.length-1);t.push(s,n)}}catch(t){e((0,Us.iN)()),e((0,Us.lt)())}};return window.addEventListener("message",r),function(){return window.removeEventListener("message",r)}}))}(),(0,s.useEffect)((function(){var e=function(e){"Escape"===e.key&&t()};return window.addEventListener("keyup",e,!1),function(){return window.removeEventListener("keyup",e)}})),s.createElement(Oy.ZU.Provider,{value:i},s.createElement("div",{className:"dialog ".concat(pk),role:"presentation",ref:r,onClick:function(e){/dialog/.test(e.target.className)&&t()}},s.createElement("div",{className:dk},s.createElement(Ty,{image:(0,vf.g)("images/employee-podcasts-modal-art.png"),title:s.createElement("div",{className:mk},vl.ag.get("employee-podcasts.modal.title")),primaryButton:s.createElement(Il.D,{colorSet:"invertedLight",onClick:function(){var e=window.screenLeft||window.screenX,t=window.screenTop||window.screenY,n=(window.innerWidth||document.documentElement.clientWidth||screen.width)/2-300+e,r=(window.innerHeight||document.documentElement.clientHeight||screen.height)/2-325+t;window.open("https://shelter.spotify.com/login?platform=web-player","employeePodcastsAuth","toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=no, copyhistory=no, width=".concat(600,", height=").concat(650,", top=").concat(r,", left=").concat(n))}},vl.ag.get("employee-podcasts.modal.access.button")),size:i}))))})),hk=n(42619),yk=function(e){var t=e.children;return s.createElement(s.Suspense,{fallback:null},s.createElement(hk.b,null,t))},kk=n(94537);const Ek="WuHfzknUICVJtLZJU_30",bk="FL2TkYu6_lxeXmfUTwx4",_k="Q63kq6vgG3LPQAi93zXP",Sk="BLcZj2U0cGry7c3uk5qQ",wk="wCeOtCjqvDK0rflTnpuK",Nk="dz7vC5O_M9gcvqxCqOnc",Ok="zqGag8YfKcWwtZEqvghN";function Ck(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,W.Z)(e);if(t){var i=(0,W.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,G.Z)(this,n)}}var Tk=function(e){(0,H.Z)(n,e);var t=Ck(n);function n(){var e;(0,O.Z)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),(0,E.Z)((0,si.Z)(e),"handleEscape",(function(t){var n=t.key,r=e.props.onClose;"Escape"===n&&r()})),(0,E.Z)((0,si.Z)(e),"handleClick",(function(e){e.preventDefault(),window.location.reload(!0)})),(0,E.Z)((0,si.Z)(e),"createMarkupForMessage",(function(e){return{__html:e}})),e}return(0,C.Z)(n,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleEscape)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleEscape)}},{key:"render",value:function(){var e,t=this.props,n=t.allowHTML,r=t.isError,i=t.message,a=t.onClose,o=t.render,l=o?o():i;return s.createElement(kk.Z,null,(null!==i||null!==o)&&s.createElement(ty.Z,{classNames:"feedbackBar-animation",timeout:{enter:250,exit:200}},s.createElement("div",{className:Tl()(Ek,(e={},(0,E.Z)(e,bk,this.props.isError),(0,E.Z)(e,Sk,this.props.isNotice),(0,E.Z)(e,_k,this.props.isNotSupported),(0,E.Z)(e,wk,this.props.isCookie),e)),"aria-live":"polite"},s.createElement("div",{className:Nk},n?s.createElement("span",{dangerouslySetInnerHTML:this.createMarkupForMessage(i)}):l," ",r&&s.createElement("a",{draggable:!1,className:Ok,"aria-label":vl.ag.get("error.reload"),onClick:this.handleClick},vl.ag.get("error.reload"))),s.createElement(_u.oM,{buttonSize:"sm",iconOnly:Jd.k,onClick:a,"aria-label":"Close",semanticColor:"textBase"}))))}}]),n}(s.PureComponent);(0,E.Z)(Tk,"defaultProps",{render:null});const Ik=Tk,Ak="ABD0FGjBGqGZG33bP7Lc",Pk="iV_SwHyMafiGlMDhlcB5",Dk="gMEKhUL8rKx7DhSDUVk7",Rk="Z0v7BXnINL5FxFXjQIzE";var xk=s.memo((function(e){var t,n=e.playlistUri,i=(0,Ms.I0)(),a=(0,Bs.k6)(),o=(0,of.o)(),l=(0,$u.Z)(n),c=(0,r.Z)(l,2),u=c[0],d=c[1],m=(0,Ms.v9)(Nu.Gg).user,p=(0,Kc.ET)(n),f=(0,Kc.Yv)(n).removeMember,v=null==p||null===(t=p.permissions)||void 0===t?void 0:t.isPrivate,g=null==p?void 0:p.canAdd,h=(0,s.useCallback)((function(){null!=m&&m.id&&(o({intent:"playlisting",type:"click"}),u&&v&&d(!1),f(null==m?void 0:m.id),i((0,Us.mm)()),a.push("/collection/playlists"))}),[a,u,v,i,o,f,d,m]),y=(0,s.useCallback)((function(){i((0,Us.mm)())}),[i]),k=vl.ag.get("leave-playlist.dialog.leave"),E=vl.ag.get("leave-playlist.dialog.private-description");return v||(E=g?vl.ag.get("leave-playlist.dialog.public-contributor-description"):vl.ag.get("leave-playlist.dialog.public-listener-description")),s.createElement(Al.Z,{animated:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,onRequestClose:y,contentLabel:k,isOpen:!0},s.createElement("div",{className:Ak},s.createElement(Eu.D,{as:"h2",variant:"cello",className:Pk},vl.ag.get("leave-playlist.dialog.title")),s.createElement(Eu.D,{as:"p",variant:"mesto",className:Dk,paddingBottom:bu.g4V},E),s.createElement("div",{className:Tl()("encore-light-theme",Rk)},s.createElement(_u.oM,{onClick:y},vl.ag.get("leave-playlist.dialog.cancel")),s.createElement(Il.D,{onClick:h},k))))})),Lk=s.memo((function(){var e=(0,Ms.v9)((function(e){return e.ui.leavePlaylistDialog})),t=e.isOpen,n=e.playlistUri;return n&&t?s.createElement(xk,{playlistUri:n}):null})),Fk=n(58679),Uk=function(e){return s.createElement("img",(0,su.Z)({alt:"Zara Larsson",src:(0,vf.g)("images/zara-larsson-singles.png")},e))},Zk=function(e){var t=e.color,n=void 0===t?qg.Snx:t,r=e.height,i=void 0===r?"30":r;return s.createElement("svg",{width:"114",role:"img",height:i,viewBox:"0 0 114 30",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s.createElement("title",{id:"spotify-premium-logo-icon"},"Spotify logo"),s.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M37.7835 10.7851C37.7835 10.6921 37.86 10.6156 37.9545 10.6156L40.1039 10.6246C41.8485 10.6246 42.849 11.4421 42.849 12.9076C42.849 14.2486 41.745 15.1501 40.1039 15.1501L37.9545 15.1411C37.86 15.1411 37.7835 15.0646 37.7835 14.9701V10.7851ZM40.296 8.11502L35.232 8.10602C35.1375 8.10602 35.061 8.18252 35.061 8.27552V21.8085C35.061 21.903 35.1375 21.9795 35.232 21.9795H37.614C37.707 21.9795 37.7835 21.903 37.7835 21.8085V17.631L40.026 17.64C43.4175 17.64 45.6105 15.759 45.6105 12.81C45.6105 9.95852 43.524 8.11502 40.296 8.11502Z",fill:n}),s.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M58.4025 13.4759C59.9115 13.4759 60.6195 14.6519 60.7964 15.8174H55.956C56.217 14.3879 57.1605 13.4759 58.4025 13.4759ZM58.4218 11.217C55.4805 11.217 53.262 13.5765 53.262 16.704V16.743C53.262 19.911 55.5375 22.2105 58.6725 22.2105C60.264 22.2105 61.599 21.6705 62.6473 20.604C62.718 20.5305 62.8723 20.355 62.9775 20.2335C63.039 20.163 63.0315 20.058 62.961 19.995L61.5795 18.7695C61.5165 18.714 61.4235 18.714 61.362 18.7695C61.212 18.9075 60.957 19.14 60.93 19.161C60.24 19.7115 59.553 19.953 58.7115 19.953C57.2985 19.953 56.268 19.098 55.98 17.7075H63.4305L63.4485 17.4975C63.4663 17.28 63.4831 17.079 63.4831 16.878C63.4831 14.061 61.9185 11.217 58.4218 11.217Z",fill:n}),s.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M76.7895 11.217C75.414 11.217 74.289 11.76 73.3575 12.876C72.7245 11.8035 71.6474 11.217 70.296 11.217C68.8529 11.217 67.968 11.9145 67.356 12.645V11.5995C67.356 11.5065 67.2795 11.43 67.1865 11.43H64.8435C64.749 11.43 64.6724 11.5065 64.6724 11.5995V21.8085C64.6724 21.903 64.749 21.9795 64.8435 21.9795H67.1865C67.2795 21.9795 67.356 21.903 67.356 21.8085V16.0665C67.356 14.622 68.1465 13.6875 69.3675 13.6875C70.5719 13.6875 71.2635 14.5275 71.2635 15.99V21.8085C71.2635 21.903 71.34 21.9795 71.433 21.9795H73.776C73.8705 21.9795 73.9469 21.903 73.9469 21.8085V16.047C73.9469 14.5695 74.6985 13.6875 75.9585 13.6875C77.5245 13.6875 77.8529 14.9505 77.8529 16.0095V21.8085C77.8529 21.903 77.9295 21.9795 78.024 21.9795H80.367C80.4615 21.9795 80.5365 21.903 80.5365 21.8085V15.294C80.5365 12.741 79.1355 11.217 76.7895 11.217Z",fill:n}),s.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M93.0376 17.361C93.0376 18.795 92.2021 19.7205 90.9106 19.7205C89.6131 19.7205 88.8991 18.897 88.8991 17.4V11.5995C88.8991 11.5065 88.8226 11.43 88.7279 11.43H86.3849C86.2921 11.43 86.2156 11.5065 86.2156 11.5995V18.096C86.2156 20.622 87.6736 22.191 90.0211 22.191C91.2421 22.191 92.2321 21.7155 93.0376 20.7405V21.8085C93.0376 21.903 93.1141 21.9795 93.2071 21.9795H95.5501C95.6446 21.9795 95.7211 21.903 95.7211 21.8085V11.5995C95.7211 11.5065 95.6446 11.43 95.5501 11.43H93.2071C93.1141 11.43 93.0376 11.5065 93.0376 11.5995V17.361Z",fill:n}),s.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M109.308 11.217C107.934 11.217 106.808 11.76 105.876 12.876C105.243 11.8035 104.166 11.217 102.815 11.217C101.373 11.217 100.487 11.9145 99.876 12.6435V11.5995C99.876 11.5065 99.7995 11.43 99.705 11.43H97.362C97.269 11.43 97.1925 11.5065 97.1925 11.5995V21.8085C97.1925 21.903 97.269 21.9795 97.362 21.9795H99.705C99.7995 21.9795 99.876 21.903 99.876 21.8085V16.0665C99.876 14.622 100.665 13.6875 101.888 13.6875C103.092 13.6875 103.782 14.5275 103.782 15.99V21.8085C103.782 21.903 103.859 21.9795 103.953 21.9795H106.296C106.389 21.9795 106.466 21.903 106.466 21.8085V16.047C106.466 14.5695 107.217 13.6875 108.477 13.6875C110.045 13.6875 110.373 14.9505 110.373 16.0095V21.8085C110.373 21.903 110.45 21.9795 110.543 21.9795H112.886C112.98 21.9795 113.057 21.903 113.057 21.8085V15.294C113.057 12.741 111.656 11.217 109.308 11.217Z",fill:n}),s.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M52.7354 11.232H52.4204C51.0464 11.2425 49.9229 11.919 49.1909 13.167V11.5995C49.1909 11.5065 49.1144 11.43 49.0199 11.43H46.6769C46.5824 11.43 46.5074 11.5065 46.5074 11.5995V21.8085C46.5074 21.903 46.5824 21.9795 46.6769 21.9795H49.0199C49.1144 21.9795 49.1909 21.903 49.1909 21.8085V17.922C49.1909 15.5085 50.3533 14.106 52.3859 14.0565L52.3889 14.055H52.7354C52.8119 14.055 52.8734 13.9935 52.8734 13.9155V11.3715C52.8734 11.295 52.8119 11.232 52.7354 11.232Z",fill:n}),s.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M84.5339 11.4975H82.2195C82.1265 11.4975 82.05 11.574 82.05 11.667V21.768C82.05 21.8625 82.1265 21.9375 82.2195 21.9375H84.5339C84.6285 21.9375 84.7035 21.8625 84.7035 21.768V11.667C84.7035 11.574 84.6285 11.4975 84.5339 11.4975Z",fill:n}),s.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M83.388 6.8985C82.4715 6.8985 81.7275 7.641 81.7275 8.5575C81.7275 9.4755 82.4715 10.2195 83.388 10.2195C84.306 10.2195 85.0485 9.4755 85.0485 8.5575C85.0485 7.641 84.306 6.8985 83.388 6.8985Z",fill:n}),s.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M23.8725 13.2975C19.038 10.4265 11.0625 10.1625 6.44685 11.5635C5.7045 11.7885 4.9215 11.37 4.6965 10.629C4.4715 9.88648 4.89 9.10348 5.6325 8.87848C10.9305 7.26898 19.7385 7.58098 25.305 10.884C25.9723 11.28 26.19 12.141 25.7955 12.807C25.3995 13.473 24.5385 13.6935 23.8725 13.2975ZM23.715 17.55C23.376 18.1005 22.656 18.273 22.1055 17.9355C18.075 15.4575 11.9279 14.7405 7.15953 16.188C6.54003 16.374 5.88753 16.026 5.70003 15.408C5.51253 14.79 5.86203 14.1375 6.48003 13.95C11.9279 12.297 18.7005 13.098 23.3295 15.9435C23.88 16.281 24.0525 17.001 23.715 17.55ZM21.8789 21.6345C21.609 22.077 21.0345 22.215 20.5935 21.9465C17.0715 19.794 12.6375 19.3065 7.41602 20.5005C6.91352 20.616 6.41102 20.2995 6.29702 19.797C6.18152 19.293 6.49502 18.792 7.00052 18.678C12.714 17.3715 17.6159 17.934 21.5685 20.349C22.0095 20.619 22.149 21.195 21.8789 21.6345ZM15 0C6.7155 0 0 6.7155 0 15C0 23.2845 6.7155 30 15 30C23.2845 30 30 23.2845 30 15C30 6.7155 23.2845 0 15 0Z",fill:n}))},Mk=n(13947);const Bk="m7yI2BjDd8Jfq4bwU_IT",jk="A0uXWh53dpxhad3t59v_",Vk="jN93nx_3NxRM0qYmOmjB",Hk="x_mFp6qsLw0AgSON4gdy",Gk="aS3WvPBqyZdP1S28pn6r",Wk="FvaVPD0bBm4QOZEKRYOm",zk="nRjGqzP1Yyg9utpJtFEG",Kk="lljaf1wMpxMQY1AVr1sf",Yk="Mhj98HFd0jXE916R2Ggz",qk="TicfIwifH276e2046RzG",Qk="ONMHZOOfFwfCPGr5rKNp",Jk="ZQ94gWpWwDhhvQ7bRv9S",Xk="DNkhD0rW2qSWeBj4HBIZ";var $k=s.memo((function(){var e=(0,Ms.I0)(),t=(0,Ms.v9)((function(e){return e.ui.loginToListenDialog.isOpen})),n=(0,of.o)();n({intent:"navigate",type:"view"});var r=(0,s.useCallback)((function(){n({intent:"close",type:"click"}),e((0,Us.pW)())}),[e,n]),i=(0,s.useCallback)((function(t){n({intent:"upgrade-to-premium",type:"click"}),e((0,Us.pW)()),t?window.open(Mk.Np,"_blank"):window.open(Mk.li,"_blank")}),[e,n]);return s.createElement(Fk.F,{property:vs.jL,renderOldExperience:function(){return s.createElement(Al.Z,{animated:!0,isOpen:t,className:zk,overlayClassName:Kk,contentLabel:vl.ag.get("mwp.d2p.modal.title"),onRequestClose:r},s.createElement("div",{className:Bk},s.createElement("div",{className:Wk},s.createElement(Uk,{className:jk})),s.createElement("div",{className:"".concat(Wk)},s.createElement("div",{className:Vk},s.createElement(Zk,{color:"var(--spice-text)",height:"23"})),s.createElement(Eu.D,{as:"h1",variant:"alto"},vl.ag.get("mwp.d2p.modal.title")),s.createElement(Eu.D,{as:"p",variant:"ballad"},vl.ag.get("mwp.d2p.modal.description")),s.createElement(Il.D,{onClick:i.bind(null,!0),className:"".concat(Hk)},vl.ag.get("mwp.d2p.modal.cta")),s.createElement(_u.oM,{onClick:r,className:"".concat(Hk," ").concat(Gk)},vl.ag.get("mwp.d2p.modal.dismiss")))))},renderNewExperience:function(){return s.createElement(Al.Z,{animated:!0,isOpen:t,className:zk,overlayClassName:Kk,contentLabel:vl.ag.get("mwp.d2p.modal.title"),onRequestClose:r},s.createElement("div",{className:"".concat(Bk," ").concat(Yk)},s.createElement("div",{className:"".concat(Wk," ").concat(Xk)},s.createElement("img",{alt:vl.ag.get("midyear.cta"),src:(0,vf.g)("images/mid-year.png")})),s.createElement("div",{className:"".concat(Wk)},s.createElement(Eu.D,{as:"h1",variant:"alto"},vl.ag.get("midyear.title")),s.createElement(Eu.D,{as:"p",variant:"ballad"},vl.ag.get("midyear.intro")),s.createElement(Il.D,{onClick:i,className:"".concat(Hk," ").concat(qk)},vl.ag.get("midyear.cta")),s.createElement(_u.oM,{onClick:r,className:"".concat(Hk," ").concat(Gk," ").concat(Qk)},vl.ag.get("mwp.d2p.modal.dismiss")),s.createElement(Eu.D,{as:"p",className:Jk,variant:"finale",dangerouslySetInnerHTML:{__html:vl.ag.get("midyear.terms",{help_link:"https://www.spotify.com/legal/premium-promotional-offer-terms/"})}}))))}})})),eE=s.memo((function(){return s.createElement(s.Suspense,{fallback:null},s.createElement($k,null))})),tE=n(69054),nE=n(63663),rE=n(44295),iE=n(58622),aE=n(52726),oE=n(10316),sE=n(82694),lE=n(75793),cE=n(88013),uE=n(98773),dE=n(52419),mE=n(86419),pE=n(39961),fE=n(34435),vE=n(16554),gE=n(12324);function hE(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(e){if((0,gE.lK)(e)){var r=e.querySelector('[tabindex="0"]');t===pE.N.UP&&(0,gE.Bu)(r,yE(e,r,pE.N.UP,n)),t===pE.N.DOWN&&(0,gE.Bu)(r,yE(e,r,pE.N.DOWN,n))}}else console.error("No list element found. Canceling moving focus")}function yE(e,t,n,r){var i=t.closest('li[role="listitem"]');if(!i)return t;var a,o=i,s=t,l=Array.from(e.querySelectorAll('li[role="listitem"]')),c=l.indexOf(i);if(c<0)return t;if(n===pE.N.UP){var u,d;if(document.activeElement===e)return o=l[l.length-1],null!==(d=s=null===(u=o)||void 0===u?void 0:u.querySelector("a[href], button"))&&void 0!==d?d:t;var m=c-1;do{var p;o=l[m],r&&!o&&(m=l.length-1,o=l[m]),s=null===(p=o)||void 0===p?void 0:p.querySelector("a[href], button"),m-=1}while(!s&&(!r&&m>=0||r&&c!==m))}else if(n===pE.N.DOWN){var f,v;if(document.activeElement===e)return o=l[0],null!==(v=s=null===(f=o)||void 0===f?void 0:f.querySelector("a[href], button"))&&void 0!==v?v:t;var g=c+1;do{var h;o=l[g],r&&!o&&(o=l[g=0]),s=null===(h=o)||void 0===h?void 0:h.querySelector("a[href], button"),g+=1}while(a=void 0,a=!r&&g<=l.length,!s&&(a||r&&c!==g))}return s||t}var kE=["getInitialFocusElement","onKeyDown","children","circular"],EE=function(e){var t=e.getInitialFocusElement,n=e.onKeyDown,r=e.children,i=e.circular,a=void 0===i||i,o=(0,lu.Z)(e,kE),l=(0,s.useRef)(null);(0,vE.H)(),(0,fE.K)({ref:l,getFocusElement:t,onFocus:function(e){(0,gE.Bu)(null,e,{preventScroll:!0})}});var c=(0,s.useCallback)((function(e){var t;null!==(t=l.current)&&void 0!==t&&t.contains(e.target)&&("ArrowUp"!==e.key&&"ArrowDown"!==e.key||(e.preventDefault(),document.documentElement.classList.remove("no-focus-outline")),"ArrowUp"===e.key&&hE(l.current,pE.N.UP,a),"ArrowDown"===e.key&&hE(l.current,pE.N.DOWN,a),null==n||n(e))}),[n,a]);return s.createElement("ul",(0,su.Z)({role:"list",ref:l,onKeyDown:c,tabIndex:0},o),r)},bE=n(26712),_E=["children","innerRef"],SE=function(e){var t=e.children,n=e.innerRef,r=(0,lu.Z)(e,_E),i=(0,s.useRef)(null),a=null!=n?n:i;return(0,bE.O)(a),s.createElement("li",(0,su.Z)({ref:a,role:"listitem"},r),t)},wE=n(63373),NE=n(99013),OE=n(43701),CE=n(37415),TE=(n(33161),n(9653),n(47921)),IE=n(18261),AE=n(84242),PE=n(60775),DE=n(38260),RE=s.memo((function(e){var t=e.uri,n=e.id,r=e.onRename,i=e.onCreateCallback,a=(0,PE.T)(t).spec;return s.createElement(Yv.ZP,{value:"folder"},s.createElement(Mm.v,null,s.createElement(DE.fW,{uri:t,spec:a,onRename:r}),s.createElement(DE.WQ,{uri:t,divider:"after"}),s.createElement(DE.uj,{afterId:n,onCreateCallback:i}),s.createElement(DE.K_,{afterId:n,onCreateCallback:i})))})),xE=n(57784),LE=n(20534);const FE="main-rootlist-rootlist",UE="main-rootlist-rootlistContent",ZE="main-rootlist-rootlistDividerContainer",ME="main-rootlist-rootlistDivider",BE="main-rootlist-rootlistDividerGradient",jE="main-rootlist-rootlistPlaylistsScrollNode",VE="main-rootlist-dropIndicator",HE="main-rootlist-textWrapper",GE="main-rootlist-expandArrow",WE="main-rootlist-expandArrowActive",zE="main-rootlist-rootlistItem",KE="main-rootlist-rootlistItemOverlay",YE="main-rootlist-rootlistItemLink",qE="main-rootlist-rootlistItemLinkActive",QE="xbsDt2_VfIDs0cQOXvgf",JE="ZcKzjCkYGeMizcSAP8UX",XE="daCBcwvAGyqpyuBNaWTY",$E="main-rootlist-statusIcons";var eb;!function(e){e[e.None=0]="None",e[e.Before=1]="Before",e[e.After=2]="After"}(eb||(eb={}));var tb=s.memo((function(e){var t=e.uri,n=e.indentation,r=e.name,i=e.allowedDropTypes,a=e.onDrop,o=e.onDragOverItem,l=e.onDelete,c=e.onContextMenu,u=e.onTouchStart,m=e.onTouchEnd,p=e.expandFolder,v=e.children,g=e.spec,h=(0,Bs.k6)().push,y=(0,s.useRef)(null),k=(0,s.useRef)(0),E=(0,xE.O1)([t],r),b=(0,s.useRef)(eb.None),_=(0,Xc.$P)();(0,s.useEffect)((function(){return function(){return window.clearTimeout(k.current)}}),[]);var S=(0,s.useCallback)((function(){var e;null!==(e=y.current)&&void 0!==e&&e.contains(document.activeElement)&&l()}),[l]);(0,f.eY)(f.O4.DELETE,S);var w=(0,s.useCallback)((function(e,t){return e.find((function(e){return null==t?void 0:t.includes(e)}))}),[]),O=(0,s.useCallback)((function(){y.current&&(y.current.classList.remove(QE),window.clearTimeout(k.current),k.current=0,b.current=eb.None)}),[]),C=(0,s.useCallback)((function(e){if(y.current){var r=w(Array.from(e.dataTransfer.types),[xE.aN[d().Type.PLAYLIST],xE.aN[d().Type.FOLDER]]),a=w(Array.from(e.dataTransfer.types),i),s=y.current.getBoundingClientRect(),l=s.top,c=s.height,u=e.clientY<l+c/2,m=!!r&&(!d().isFolder(t)||e.clientY<l+c/4);if(r)if(m){var f=u?eb.Before:eb.After;b.current!==f&&o(u?l:l+c,n,!0),b.current=f}else o(u?l:l+c,n,!1);a&&(m?y.current.classList.remove(QE):y.current.classList.add(QE),0===k.current&&(d().isFolder(t)&&p?k.current=window.setTimeout((function(){p()}),1e3):k.current=window.setTimeout((function(){var e=d().from(t).toURLPath(!0);h(e),_.logInteraction(g.dragUiNavigate({destination:e}))}),1e3)))}}),[w,i,t,o,n,p,h,_,g]);return s.createElement(LE.Z,{as:"div",types:[].concat((0,N.Z)(i),[xE.aN[d().Type.PLAYLIST],xE.aN[d().Type.FOLDER]]),onDrop:a,onDragLeave:O},s.createElement(SE,{innerRef:y,className:Tl()(zE),style:{"--indentation":n},draggable:!0,onDragStart:E,onDragOver:C,onContextMenu:c,onTouchStart:u,onTouchEnd:m,"":"rootlist-item"},v))})),nb=n(43031),rb=s.memo((function(e){var t=e.name,n=e.onRename,r=(0,s.useRef)(null),i=(0,s.useCallback)((function(e){e.target.select()}),[]),a=(0,s.useCallback)((function(e){"Enter"===e.key?n(e.target.value):"Escape"===e.key&&n(null)}),[n]),o=(0,s.useCallback)((function(e){n(e.target.value)}),[n]);(0,s.useEffect)((function(){r.current&&r.current.focus()}),[]);var l=(0,s.useCallback)((function(e){e.preventDefault(),e.stopPropagation()}),[]);return s.createElement("input",{ref:r,type:"text","":"rename-input",className:XE,defaultValue:t,onFocus:i,onBlur:o,onKeyDown:a,draggable:!0,onDragStart:l})})),ib=s.memo((function(e){var t=e.uri,n=e.name,r=e.isRenaming,i=e.onRename,a=e.onDoubleClick,o=e.onKeyDown,l=e.children,c=e.spec,u=(0,Bs.k6)(),m=(0,s.useRef)(null),p="/".concat(d().from(t).toURLPath()),f=(0,Xc.$P)(),v=(0,s.useCallback)((function(){f.logInteraction(c.hitUiNavigate({destination:p}))}),[p,f,c]);return r?s.createElement(rb,{name:n,onRename:i}):s.createElement(s.Fragment,null,s.createElement("div",{"aria-hidden":"true",className:KE,onDoubleClick:a,onClick:function(){var e;u.push(p,{preventMoveFocus:!0,referrer:"playlists_sidebar"}),null===(e=m.current)||void 0===e||e.focus(),v()}}),s.createElement(nb.O,{innerRef:m,referrer:"playlists_sidebar",className:Tl()("standalone-ellipsis-one-line",YE),activeClassName:qE,to:p,onDoubleClick:a,onKeyDown:o,tabIndex:-1,onClick:v},s.createElement(Eu.D,{className:HE,dir:"auto"},l)))})),ab=s.memo((function(e){var t=e.folder,n=e.indentation,i=e.resolveItem,a=e.onDragOverItem,o=e.isExpanded,l=e.onToggleExpandedClick,c=e.index,u=e.spec,m=(0,ad.K)(),p=m.createPlaylistFromAlbum,f=m.createPlaylistFromTracks,v=(0,Qg.l)(),g=v.addPlaylists,h=v.movePlaylists,y=v.renameFolder,k=v.moveFolder,b=(0,Ms.v9)((function(e){return e.platform.isDesktop})),_=(0,s.useState)(!1),S=(0,r.Z)(_,2),w=S[0],O=S[1],C=(0,Ms.I0)(),T=(0,Xc.$P)(),I=(0,s.useMemo)((function(){return u.rootlistItemFactory({position:c,uri:t.uri})}),[t.uri,c,u]),A=(0,Ms.v9)((function(e){return e.ui.textDirection.isRTL})),P=(0,s.useCallback)((function(e,n){var r=i(n.all[0]),a=e.target.getBoundingClientRect(),o=a.top,s=a.height,l=e.clientY<o+s/4;if(r)(0,oa.lU)(r)?k(r,l?{before:t.id}:{after:t.id}):h(r.id,l?{before:t.id}:{after:t.id}),T.logInteraction(u.dragSort());else{var c=n[xE.aN[d().Type.PLAYLIST]],m=n[xE.aN[d().Type.TRACK]],v=n[xE.aN[d().Type.EPISODE]],y=n[xE.aN[d().Type.ALBUM]];if(null!=c&&c.length)g(c,l?{before:t.id}:{after:t.id}),T.logInteraction(u.dragLike({itemToBeLiked:c[0]}));else{var E=I.dragCreatePlaylist();null!=y&&y.length?(p(y[0],t.id),T.logInteraction(E)):(null!=m&&m.length||null!=v&&v.length)&&(f([].concat((0,N.Z)(m||[]),(0,N.Z)(v||[])),t.id),T.logInteraction(E))}}}),[i,T,u,k,t.id,h,g,I,p,f]),D=(0,s.useCallback)((function(){O(!0)}),[]),R=(0,s.useCallback)((function(e){e&&e!==name&&y(t,e),O(!1)}),[y,t]),x=(0,s.useCallback)((function(){o(t.uri)||l(t.uri)}),[t.uri,o,l]),L=(0,s.useCallback)((function(){o(t.uri)&&l(t.uri)}),[t.uri,o,l]),F=(0,s.useCallback)((function(){o(t.uri)?T.logInteraction(I.toggleFolderButtonFactory().hitUiHide()):T.logInteraction(I.toggleFolderButtonFactory().hitUiReveal()),l(t.uri)}),[t.uri,o,T,l,I]),U=(0,s.useCallback)((function(){C((0,Us.Q2)(t.uri))}),[C,t.uri]),Z=(0,AE.n)({uri:t.uri},{featureIdentifier:"playlist",referrerIdentifier:"playlists_sidebar"}),M=Z.togglePlay,B=Z.isActive,j=Z.isPlaying,V=(0,s.useCallback)((function(){b&&(B?j?T.logInteraction(I.doubleHitPause({itemToBePaused:t.uri})):T.logInteraction(I.doubleHitResume({itemToBeResumed:t.uri})):T.logInteraction(I.doubleHitPlay({itemToBePlayed:t.uri})),M())}),[t.uri,B,j,T,I,b,M]),H=(0,s.useCallback)((function(e){e.repeat||("Backspace"!==e.key&&"Delete"!==e.key||U(),"Enter"===e.key&&V(),"ArrowRight"===e.key&&(A?L():x()),"ArrowLeft"===e.key&&(A?x():L()))}),[U,L,x,A,V]),G=(0,s.useCallback)((function(){T.logInteraction(I.secondaryHitUiReveal())}),[T,I]),W=(0,s.useMemo)((function(){return[xE.aN[d().Type.PLAYLIST],xE.aN[d().Type.FOLDER],xE.aN[d().Type.TRACK],xE.aN[d().Type.ALBUM],xE.aN[d().Type.EPISODE]]}),[]),z="spotify:folder:".concat(d().from(t.uri).getBase62Id());return s.createElement(Yv.ZP,{value:"row",index:c},s.createElement(IE._,{menu:s.createElement(RE,{uri:t.uri,id:t.id,onRename:D,onCreateCallback:x}),onShow:G},s.createElement(tb,{uri:t.uri,indentation:n,name:t.name,allowedDropTypes:W,onDrop:P,onDragOverItem:a,onDelete:U,expandFolder:x,spec:I},s.createElement(ib,{uri:z,name:t.name,isRenaming:w,onRename:R,onKeyDown:H,onDoubleClick:V,spec:I},t.name),s.createElement(_u.oM,{"aria-label":vl.ag.get("sidebar.expand_folder"),iconOnly:TE.i,buttonSize:"sm",condensedAll:!0,onClick:F,tabIndex:-1,className:Tl()(GE,(0,E.Z)({},WE,o(t.uri)))}))))})),ob=n(70902),sb=n(49790),lb=n(69846),cb=n(23915),ub=n(79249),db=n(21366),mb=s.memo((function(e){var t,n,r,i=e.uri,a=e.id,o=e.onRename,l=(0,Sc.tv)().getCapabilities().canGetStation,c=(0,Kc.ET)(i),u=!(null==c||null===(t=c.permissions)||void 0===t||!t.isPrivate),d=(0,lb.U)(i).isEnhanced,m=(0,PE.T)(i).spec;return c&&s.createElement(Yv.ZP,{value:"playlist"},s.createElement(Mm.v,null,s.createElement(DE.x9,{spec:m,uris:[i]}),l&&s.createElement(DE.Jh,{spec:m,uri:i,displayText:vl.ag.get("contextmenu.go-to-playlist-radio")}),c.isOwnedBySelf&&s.createElement(DE.jj,{spec:m,divider:"before",uri:i,isCollaborative:c.isCollaborative}),!u&&s.createElement(DE.gh,{spec:m,divider:c.isOwnedBySelf?"after":"both",uri:i,isPublished:c.isPublished,isCollaborative:c.isCollaborative}),c.isOwnedBySelf&&s.createElement(DE.fc,{spec:m,uri:i,name:c.name,description:c.description,image:c.images[0]}),!c.isOwnedBySelf&&s.createElement(s.Fragment,null,s.createElement(DE.tz,{spec:m,uri:i}),s.createElement(DE.Zb,{uri:i})),c.isOwnedBySelf&&s.createElement(s.Fragment,null,s.createElement(DE.AM,{spec:m,uri:i,isEmpty:0===c.totalLength,name:c.name,displayText:vl.ag.get("contextmenu.create-similar-playlist")}),s.createElement(DE.R2,{spec:m,uri:i}),s.createElement(DE.fW,{uri:i,spec:m,onRename:o})),!d&&s.createElement(DE.bs,{spec:m,uri:i,divider:"before"}),s.createElement(DE.uj,{afterId:a}),s.createElement(DE.K_,{afterId:a}),(null===(n=c.permissions)||void 0===n?void 0:n.canAdministratePermissions)&&s.createElement(s.Fragment,null,s.createElement(DE.DY,{spec:m,divider:"before",uri:i,isPrivate:u}),!d&&s.createElement(cb.z,{uri:i})),(null===(r=c.permissions)||void 0===r?void 0:r.canCancelMembership)&&s.createElement(ub.H,{spec:m,divider:"before",uri:i}),(c.isOwnedBySelf&&c.hasSpotifyTracks||d)&&s.createElement(sb.g,{spec:m,uri:i}),s.createElement(DE.Iy,{spec:m,uri:i}),(c.isOwnedBySelf||!u)&&s.createElement(db.q,{divider:"before"},s.createElement(DE.Jx,{spec:m,uri:i,displayText:vl.ag.get("contextmenu.share.copy-playlist-link"),isPrivatePlaylist:u}),s.createElement(DE.W2,{spec:m,uri:i}))))})),pb=n(20963);const fb="CCeu9OfWSwIAJqA49n84",vb="NdVm10_yLWkkgq87jOMk";var gb=s.memo((function(e){var t=e.onClick,n=e.size,i=void 0===n?32:n,a=e.className,o=(0,s.useState)(!1),l=(0,r.Z)(o,2),c=l[0],u=l[1],d={"--button-size":"".concat(i,"px")};return s.createElement("button",{className:Tl()(fb,a,(0,E.Z)({},vb,c)),style:d,"aria-label":c?vl.ag.get("pause"):vl.ag.get("playing"),onClick:t,onMouseEnter:function(){return u(!0)},onMouseLeave:function(){return u(!1)}},c?s.createElement(Of.k,{iconSize:i}):s.createElement(Nv.d,{iconSize:i}))})),hb=s.memo((function(e){var t=e.indentation,n=e.onDragOverItem,i=e.resolveItem,a=e.playlistName,o=e.playlistUri,l=e.playlistId,c=e.canAdd,u=e.couldBePlayable,m=e.isCollaborative,p=e.index,f=e.spec,v=(0,s.useState)(a),g=(0,r.Z)(v,2),h=g[0],y=g[1],k=(0,s.useState)(!1),E=(0,r.Z)(k,2),b=E[0],_=E[1],S=(0,of.o)(),w=(0,Qg.l)(),O=w.addPlaylists,C=w.movePlaylists,T=w.moveFolder,I=(0,Kc.Yv)(o).updateDetails,A=(0,Ms.I0)(),P=(0,Xc.$P)(),D=(0,s.useMemo)((function(){return f.rootlistItemFactory({position:p,uri:o})}),[p,o,f]),R=(0,AE.n)({uri:o},{featureIdentifier:"playlist",referrerIdentifier:"playlists_sidebar"}),x=R.isPlaying,L=R.togglePlay,F=R.isActive;(0,s.useEffect)((function(){y(a)}),[a]);var U=(0,s.useCallback)((function(e,t){var n=[].concat((0,N.Z)(t[xE.aN[d().Type.ALBUM]]||[]),(0,N.Z)(t[xE.aN[d().Type.TRACK]]||[]),(0,N.Z)(t[xE.aN[d().Type.LOCAL]]||[]),(0,N.Z)(t[xE.aN[d().Type.EPISODE]]||[]));if(n.length>0)A((0,rk.jV)(o,n)),S({targetUri:o,intent:"add",type:"drop"}),P.logInteraction(D.dragAddToPlaylist({itemToBeAdded:n[0],playlist:o}));else{var r=t.all[0],a=i(r),s=e.target.getBoundingClientRect(),c=s.top,u=s.height,m=e.clientY<c+u/2;a?((0,oa.lU)(a)?T(a,m?{before:l}:{after:l}):C(a.id,m?{before:l}:{after:l}),P.logInteraction(f.dragSort())):(O(t.all,m?{before:l}:{after:l}),P.logInteraction(f.dragLike({itemToBeLiked:r})))}}),[A,o,S,P,D,i,f,T,l,C,O]),Z=(0,s.useCallback)((function(){var e=P.logInteraction(D.pauseButtonFactory().hitPause({itemToBePaused:o}));L({loggingParams:e})}),[P,o,D,L]),M=(0,s.useCallback)((function(){if(u){var e;e=F?x?D.doubleHitPause({itemToBePaused:o}):D.doubleHitResume({itemToBeResumed:o}):D.doubleHitPlay({itemToBePlayed:o});var t=P.logInteraction(e);L({loggingParams:t})}}),[u,F,x,P,o,D,L]),B=(0,s.useCallback)((function(){_(!0)}),[]),j=(0,s.useCallback)((function(e){e&&e!==a&&(y(e),I({name:e})),_(!1)}),[a,I]),V=(0,s.useCallback)((function(){A((0,Us.p_)(o))}),[A,o]),H=(0,s.useCallback)((function(e){e.repeat||("Backspace"!==e.key&&"Delete"!==e.key||(V(),P.logInteraction(D.keyStrokeDeletePlaylist({playlistToBeDeleted:o}))),"Enter"===e.key&&L())}),[V,P,o,D,L]),G=(0,s.useCallback)((function(){P.logInteraction(D.secondaryHitUiReveal())}),[P,D]),W=(0,s.useMemo)((function(){return c?[xE.aN[d().Type.ALBUM],xE.aN[d().Type.TRACK],xE.aN[d().Type.LOCAL],xE.aN[d().Type.EPISODE]]:[]}),[c]);return s.createElement(Yv.ZP,{value:"row",index:p},s.createElement(tv._P,{menu:s.createElement(mb,{uri:o,id:l,onRename:B}),onShow:G},s.createElement(tb,{uri:o,indentation:t,name:h,allowedDropTypes:W,onDrop:U,onDragOverItem:n,onDelete:V,spec:D},s.createElement(ib,{uri:o,name:h,isRenaming:b,onRename:j,onDoubleClick:M,onKeyDown:H,spec:D},h),s.createElement("div",{className:$E},x?s.createElement(gb,{className:JE,onClick:Z,size:12}):s.createElement(s.Fragment,null,s.createElement(pb.$,{uri:o,size:12}),m&&s.createElement(Cf.w,{label:vl.ag.get("sidebar.collaborative_playlist")},s.createElement("span",null,s.createElement(ob.R,{iconSize:12}))))))))})),yb=32,kb=function(){var e=(0,NE.C)(),t=(0,Kc.lh)().createFolder,n=(0,Xc.fU)(mE.createDesktopRootlistEventFactory,{}).spec,i=(0,s.useRef)(null),a=(0,s.useRef)(null),o=(0,mf.z)("expanded-folder",[]),l=(0,r.Z)(o,2),c=l[0],u=void 0===c?[]:c,m=l[1],p=(0,s.useCallback)((function(e){return u.includes(d().from(e).getBase62Id())}),[u]),v=(0,s.useMemo)((function(){if(!e)return[];return function e(t,n){return t.reduce((function(t,r){return((0,oa.lU)(r)||(0,oa.no)(r))&&r.name&&(t.push({rootlistItem:r,depth:n}),(0,oa.lU)(r)&&p(r.uri)&&(t=t.concat(e(r.items,n+1)))),t}),[])}(e.items,0)}),[e,p]),g=(0,s.useMemo)((function(){return v.reduce((function(e,t,n){return e[t.rootlistItem.uri]=n,e}),{})}),[v]);!function(e,t){var n=(0,s.useRef)(""),r=(0,Bs.TH)(),i=(0,s.useCallback)((function(t){if(e.current){var n=e.current,r=n.scrollTop,i=n.offsetHeight;if(t<r||t>r+i){var a=t-i/2;e.current.scrollTop=a}}}),[e]);(0,s.useEffect)((function(){var a;if(e.current){var o=null===(a=d().from(r.pathname))||void 0===a?void 0:a.toURI();if(o){var s=t[o];Number.isInteger(s)&&o!==n.current&&(i(s*yb),n.current=o)}}}),[t,r,i,e])}(a,g);var h=(0,s.useCallback)((function(){return t(vl.ag.get("playlist.default_folder_name"),{before:"start"})}),[t]);(0,f.eY)(f.O4.CREATE_NEW_FOLDER,h);var y=(0,s.useCallback)((function(e){i.current&&(e.currentTarget.contains(e.relatedTarget)||(i.current.style.display="none"))}),[]),k=(0,s.useCallback)((function(){i.current&&(i.current.style.display="none")}),[]),E=(0,s.useCallback)((function(e,t,n){if(i.current&&a.current)if(n){var r=a.current.getBoundingClientRect().top;i.current.style.display="block",i.current.style.top="".concat(e-r+a.current.scrollTop,"px"),i.current.style.setProperty("--indentation",t+1)}else i.current.style.display="none"}),[]),b=(0,s.useCallback)((function(e){var t=d().from(e).getBase62Id(),n=p(e),r=u.filter((function(e){return e!==t}));n||r.push(t),m(r)}),[u,p,m]),_=(0,s.useCallback)((function(t){for(var n=[e];n.length>0;){var r=n.pop();if(!r)return null;for(var i=0;i<r.items.length;i++){var a=r.items[i];if(a.uri===t)return a;(0,oa.lU)(a)&&n.push(a)}}return null}),[e]),S=(0,s.useCallback)((function(e,t){return v.slice(e,t+1).reduce((function(t,r,i){var a=r.rootlistItem,o=r.depth;return(0,oa.lU)(a)&&t.push(s.createElement(ab,{key:a.uid,folder:a,indentation:o,resolveItem:_,onDragOverItem:E,isExpanded:p,onToggleExpandedClick:b,index:e+i,spec:n})),(0,oa.no)(a)&&t.push(s.createElement(hb,{key:a.uid,indentation:o,resolveItem:_,onDragOverItem:E,playlistUri:a.uri,playlistId:a.id,playlistName:a.name,canAdd:a.canAdd,couldBePlayable:a.totalLength>0,isCollaborative:(0,OE.c)(a),index:e+i,spec:n})),t}),[])}),[v,E,b,p,_,n]);return e?s.createElement(CE.U,{className:jE,ref:function(e){e&&!a.current&&(a.current=e.osInstance().getElements().viewport)}},s.createElement(EE,{"":"rootlist",onDragLeave:y,onDrop:k,circular:!1},s.createElement(wE.V,{renderRows:S,nrRows:v.length,rowHeight:yb,scrollNodeRef:a})),s.createElement("div",{className:VE,ref:i})):null},Eb=function(e){var t=e.isAnonymous,n=e.children;return s.createElement(dl.S,{onError:function(e){return(0,Es.vK)(e,"RootlistContainer")}},s.createElement(Yv.ZP,{value:"rootlist"},s.createElement("div",{className:FE,"":"rootlist-container"},s.createElement("div",{className:UE},n,!t&&s.createElement(s.Fragment,null,s.createElement("div",{className:ZE},s.createElement("hr",{className:ME}),s.createElement("div",{className:BE})),s.createElement(kb,null))))))},bb=n(24859),_b=n(86418);const Sb="main-navBar-navBar",wb="main-navBar-banner",Nb="main-navBar-logo",Ob="main-navBar-entryPoints",Cb="main-navBar-downloadItem",Tb="main-navBar-navBarItem",Ib="main-navBar-premiumNavItem",Ab="main-navBar-navBarLinkActive",Pb="main-navBar-navBarLink",Db="main-navBar-premiumLink";var Rb,xb=s.memo((function(){return s.createElement("li",{className:Tl()(Tb,"InvalidDropTarget")},s.createElement(Yv.ZP,{value:"4/make-music"},s.createElement(nb.O,{to:"/make-music",referrer:"home",className:Tl()("link-subtle",Pb),activeClassName:Ab,isActive:function(e,t){return t.pathname.startsWith("/make-music")}},s.createElement(bb.l,{className:"make-music-icon"}),s.createElement(_b.$,{className:"make-music-active-icon"}),s.createElement(Eu.D,{variant:"mestoBold",className:"ellipsis-one-line"},vl.ag.get("web-player.soundtrap.navbar.make-music")))))})),Lb=n(80962);const Fb=(Rb={},(0,E.Z)(Rb,d().Type.TRACK,"text/x-spotify-tracks"),(0,E.Z)(Rb,d().Type.ALBUM,"text/x-spotify-albums"),(0,E.Z)(Rb,d().Type.ARTIST,"text/x-spotify-artists"),(0,E.Z)(Rb,d().Type.PLAYLIST,"text/x-spotify-playlists"),(0,E.Z)(Rb,d().Type.PLAYLIST_V2,"text/x-spotify-playlists"),(0,E.Z)(Rb,"FOLLOWED_PLAYLISTS","text/x-spotify-only-followed-playlists"),(0,E.Z)(Rb,d().Type.FOLDER,"text/x-spotify-folders"),(0,E.Z)(Rb,d().Type.PROFILE,"text/x-spotify-users"),(0,E.Z)(Rb,d().Type.SHOW,"text/x-spotify-shows"),(0,E.Z)(Rb,d().Type.EPISODE,"text/x-spotify-episodes"),(0,E.Z)(Rb,d().Type.LOCAL,"text/x-spotify-local-tracks"),(0,E.Z)(Rb,d().Type.LOCAL_ALBUM,"text/x-spotify-local-albums"),(0,E.Z)(Rb,d().Type.LOCAL_ARTIST,"text/x-spotify-local-artists"),(0,E.Z)(Rb,d().Type.COLLECTION_ALBUM,"text/x-spotify-collection-albums"),(0,E.Z)(Rb,d().Type.COLLECTION_ARTIST,"text/x-spotify-collection-artists"),Rb);var Ub=function(e){var t=e.uri,n=e.to,i=e.children,a=e.onDrop,o=e.onNavigate,l=(0,s.useState)(!1),c=(0,r.Z)(l,2),u=c[0],m=c[1],p=(0,s.useRef)(null),f=(0,Bs.k6)(),v=(0,Ms.I0)(),g=(0,$u.y)(),h=(0,s.useContext)(Lb.B),y=(0,Wc.g)(),k=function(e){var t=d().from(e),n=(0,Ms.v9)(Nu.n5);switch(null==t?void 0:t.type){case d().Type.PLAYLIST:case d().Type.PLAYLIST_V2:var r;if(d().isPlaylistV1(t)&&(r=t.username),n&&r===n)return[Fb[d().Type.TRACK],Fb[d().Type.LOCAL],Fb[d().Type.ALBUM]];break;case d().Type.COLLECTION:return[Fb[d().Type.TRACK],Fb[d().Type.ALBUM],Fb[d().Type.ARTIST],Fb[d().Type.PLAYLIST],Fb[d().Type.PLAYLIST_V2],Fb[d().Type.SHOW]];case d().Type.APPLICATION:if("queue"===t.id)return[Fb[d().Type.TRACK],Fb[d().Type.LOCAL],Fb[d().Type.EPISODE]];break;default:return[]}return[]}(t),E=!!k.length;return(0,s.useEffect)((function(){return u?p.current=window.setTimeout((function(){d().isTrack(t)||(null==o||o(),f.push(n||d().from(t).toURLPath(!0)))}),1e3):!u&&p.current&&clearTimeout(p.current),function(){p.current&&clearTimeout(p.current)}}),[u,f,t,n,o]),E?s.createElement(LE.Z,{types:k,onDrop:function(e){var n=d().from(t),r=Array.from(e.dataTransfer.types).find((function(e){return k.includes(e)})),i=r&&e.dataTransfer.getData(r),o=i&&i.split("\n")[0],s=d().from(o);if(s&&n)switch(null==a||a(s.toURI()),n.type){case d().Type.PLAYLIST:case d().Type.PLAYLIST_V2:v((0,rk.jV)(t,[s.toURI()]));break;case d().Type.COLLECTION:d().isAlbum(s)||d().isArtist(s)||d().isTrack(s)?g.add(s.toURI()):d().isPlaylistV1OrV2(s)?h.add([s.toURI()],{before:"start"}):d().isShow(s)&&g.add(s.toURI());break;case d().Type.APPLICATION:y.addToQueue([{uri:s.toURI(),uid:null}])}},onDragEnter:function(){m(!0)},onDragLeave:function(){m(!1)},targetUri:t},i):s.createElement("div",null,i)},Zb=n(67892),Mb=n(30169),Bb=n(91556),jb=n(41200),Vb="createPlaylist",Hb={getTitle:function(){return vl.ag.get("action-trigger.create-playlist")},getDescription:function(){return vl.ag.get("action-trigger.login-playlist")}},Gb=function(e){var t=e.children;return s.createElement(jb.P,{id:Vb,options:Hb},t)};const Wb="main-createPlaylistButton-button",zb="Jz6S0hp1vLCJM0pIKwow",Kb="main-createPlaylistButton-icon",Yb="main-createPlaylistButton-createPlaylistIcon",qb="Mvo56wLT_lMG_re9vA7W",Qb="main-createPlaylistButton-text";var Jb=s.memo((function(e){var t,n=e.spec,a=(0,Xc.$P)(),l=(0,of.o)(),c=(0,Dm.k)(),u=(0,s.useState)(!1),m=(0,r.Z)(u,2),p=m[0],f=m[1],v=(0,ad.K)(),g=v.createPlaylistFromAlbum,h=v.createPlaylistFromTracks,y=v.createPlaylist,k=(0,Ms.v9)(Nu.Gg).isAnonymous,b=(0,s.useContext)(Kc.ZF).getCapabilities().canModifyOffline,_=!c&&!b,S=(0,wf.y1)((0,i.Z)(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!_){e.next=2;break}return e.abrupt("return");case 2:return t=k?a.logInteraction(n.hitUiReveal()):a.logInteraction(n.hitCreatePlaylist()),l({targetUri:"",intent:"playlisting",type:"click",itemIdSuffix:"create-playlist"}),e.next=6,y(t.interactionId);case 6:case"end":return e.stop()}}),e)}))),2e3,{leading:!0,trailing:!1}),w=(0,s.useCallback)((function(e,t){k||a.logInteraction(n.dragCreatePlaylist());var r=t[Fb[d().Type.ALBUM]];r&&r[0]&&g(r[0],null);var i=[].concat((0,N.Z)(t[Fb[d().Type.TRACK]]||[]),(0,N.Z)(t[Fb[d().Type.LOCAL]]||[]),(0,N.Z)(t[Fb[d().Type.EPISODE]]||[]));i&&i[0]&&h(i,null)}),[g,h,k,a,n]),O=(0,s.useCallback)((function(){f(!0)}),[]),C=(0,s.useCallback)((function(){f(!1)}),[]),T=(0,s.useMemo)((function(){return c?[Fb[d().Type.ALBUM],Fb[d().Type.TRACK],Fb[d().Type.LOCAL],Fb[d().Type.EPISODE]]:[]}),[c]);return s.createElement(LE.Z,{types:T,onDrop:w,onDragEnter:O,onDragLeave:C},s.createElement(Gb,null,s.createElement("button",{type:"button",className:Tl()(Wb,(t={},(0,E.Z)(t,qb,p&&!_),(0,E.Z)(t,zb,_),t)),onClick:S,"":"create-playlist-button"},s.createElement("div",{className:Kb},s.createElement("div",{className:Yb},s.createElement(Bb.S,{iconSize:12,"aria-hidden":!0}))),s.createElement(Eu.D,{variant:"mestoBold",className:Tl()(Qb,"standalone-ellipsis-one-line")},vl.ag.get("sidebar.playlist_create")))))})),Xb=n(70577);function $b(){var e=(0,s.useState)({syncing:!1,percentage:0,totalItems:0,currentItem:0}),t=(0,r.Z)(e,2),n=t[0],i=t[1],a=ni.X.UPDATE_TOTAL_PROGRESS,o=(0,s.useCallback)((function(e){return i(e.data.progress)}),[]);return(0,Xb.z)(a,o),n}const e_="L3vU7A1LzZSa3DcQcnmK";var t_=function(){var e=$b(),t=e.syncing,n=e.currentItem,r=e.totalItems;return t?s.createElement(Eu.D,{as:"div",variant:"mesto",className:e_},vl.ag.get("download.progress-global","".concat(n),"".concat(r))):null};const n_="Ym_p2Bk1FWRtvgNjq2Ez",r_="PJuB4n2TjjZFBiWAW2zx";var i_=function(e){var t=e.percentage,n=e.ariaValueText;return s.createElement("div",{className:n_},s.createElement("div",(0,su.Z)({style:{transform:"translateX(-".concat(100-Math.round(t),"%)")},className:r_,role:"progressbar","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":Math.round(t)},n?(0,E.Z)({},"aria-valuetext",n):{})))};const a_="ewscCyNhoCkYK_f_8jkz";var o_=function(){var e=$b(),t=e.syncing,n=e.percentage;return t?s.createElement("div",{className:a_},s.createElement(i_,{percentage:n})):null},s_=n(45810),l_=n(98620);const c_="main-collectionLinkButton-collectionLinkButton",u_="main-collectionLinkButton-icon",d_="main-collectionLinkButton-collectionLinkText",m_="main-collectionLinkButton-selected",p_="main-collectionLinkButton-dragEnter",f_="Frn4juLXf6zInWBEFFzr",v_="main-rootlist-statusIcons";var g_=s.memo((function(e){var t,n,a=e.children,l=e.contextUri,c=e.href,u=e.name,d=e.onClick,m=e.onDrop,p=e.types,f=e.spec,v=(0,Bs.k6)(),g=(0,Xc.$P)(),h=(0,of.o)(),y=(0,s.useState)(!1),k=(0,r.Z)(y,2),b=k[0],_=k[1],S=(0,Ms.v9)(Nu.Gg).isAnonymous,w=!(null===(t=(0,Bs.$B)(c))||void 0===t||!t.isExact),N=(0,s.useCallback)(function(){var e=(0,i.Z)(o().mark((function e(t,n){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!S){e.next=2;break}return e.abrupt("return");case 2:r=p.flatMap((function(e){return n[Fb[e]]})),g.logInteraction(f.dragLike({itemToBeLiked:r[0]})),null==m||m(r);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[S,m,p,g,f]),O=(0,AE.n)({uri:l},{featureIdentifier:"your_library",referrerIdentifier:"your_library"}),C=O.isPlaying,T=O.isActive,I=O.togglePlay,A=(0,s.useCallback)((function(e){S&&f.hitUiReveal?g.logInteraction(f.hitUiReveal()):S||v.location.pathname!==c&&g.logInteraction(f.hitUiNavigate({destination:c})),null==d||d(e)}),[S,f,d,g,v,c]),P=(0,s.useCallback)((function(){I()}),[I]),D=(0,s.useCallback)((function(){_(!0)}),[]),R=(0,s.useCallback)((function(){_(!1)}),[]),x=(0,s.useCallback)((function(){if(!S){var e;e=C?f.doubleHitPause({itemToBePaused:l}):T?f.doubleHitResume({itemToBeResumed:l}):f.doubleHitPlay({itemToBePlayed:l});var t=g.logInteraction(e);I({loggingParams:t}),h({targetUri:l,intent:"play",type:"double-click"})}}),[S,C,T,g,I,h,l,f]);return s.createElement(LE.Z,{types:p.map((function(e){return Fb[e]})),onDrop:N,onDragEnter:D,onDragLeave:R},s.createElement(nb.O,{to:c,referrer:"your_library",onClick:A,onDoubleClick:x,className:Tl()(c_,(n={},(0,E.Z)(n,p_,b),(0,E.Z)(n,m_,w),n))},s.createElement("div",{className:u_},a),s.createElement(Eu.D,{variant:"mestoBold",className:Tl()("standalone-ellipsis-one-line",d_)},u),s.createElement("div",{className:v_},C?s.createElement(gb,{className:f_,onClick:P,size:16}):l&&s.createElement(pb.$,{uri:l,size:16}))))})),h_="likedSongs",y_={getTitle:function(){return vl.ag.get("action-trigger.liked-songs")},getDescription:function(){return vl.ag.get("action-trigger.login-liked-songs")}},k_=function(e){var t=e.children;return s.createElement(jb.P,{id:h_,options:y_},t)};const E_="main-likedSongsButton-likedSongsIcon";var b_=s.memo((function(e){var t=e.spec,n=(0,Ms.v9)(Nu.Gg),r=n.user,a=n.isAnonymous,l=(0,l_.I2)(null==r?void 0:r.id),c=(null==l?void 0:l.uri)||"",u="/collection/tracks",m=(0,Ms.I0)(),p=(0,$u.y)(),f=(0,s.useCallback)(function(){var e=(0,i.Z)(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(p){e.next=2;break}return e.abrupt("return");case 2:if(!(t.length>0)){e.next=5;break}return e.next=5,p.add.apply(p,(0,N.Z)(t));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[p]),v=(0,s.useCallback)((function(e){a&&(m((0,Jl.BH)(u)),e.preventDefault())}),[a,m,u]);return s.createElement(k_,null,s.createElement(g_,{contextUri:c,href:u,name:vl.ag.get("sidebar.liked_songs"),types:[d().Type.TRACK],onClick:v,onDrop:f,spec:t},s.createElement("div",{className:E_},s.createElement(s_.a,{iconSize:12,"aria-hidden":!0}))))})),__=(n(12643),n(4930));const S_="DSoUBE7jhRw1l0iHfa_L",w_="D12JPUGo1joM63bTTz55",N_="rXy2zJi9PhK94r5f4qA_";function O_(){return s.createElement(Yv.ZP,{value:"made-for-you"},s.createElement(nb.O,{to:"/genre/made-for-x-hub",referrer:"home",className:Tl()("link-subtle",S_),activeClassName:N_,isActive:function(e,t){return t.pathname.startsWith("/genre/made-for-x-hub")}},s.createElement("div",{className:w_},s.createElement(__.Y,{iconSize:12})),s.createElement(Eu.D,{variant:"mestoBold",className:"ellipsis-one-line"},vl.ag.get("browse.made-for-you"))))}const C_="120px",T_="232px",I_="384px";var A_=n(73727);function P_(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,W.Z)(e);if(t){var i=(0,W.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,G.Z)(this,n)}}var D_=function(e){(0,H.Z)(n,e);var t=P_(n);function n(){return(0,O.Z)(this,n),t.apply(this,arguments)}return(0,C.Z)(n,[{key:"render",value:function(){return s.createElement("svg",{className:"icon-pause",viewBox:"0 0 60 100"},s.createElement("path",{fill:"currentColor",d:"M0 8c0-5 3-8 8-8s9 3 9 8v84c0 5-4 8-9 8s-8-3-8-8V8zm43 0c0-5 3-8 8-8s8 3 8 8v84c0 5-3 8-8 8s-8-3-8-8V8z"},s.createElement("title",null,vl.ag.get("pause-button.label"))))}}]),n}(s.PureComponent);function R_(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,W.Z)(e);if(t){var i=(0,W.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,G.Z)(this,n)}}var x_=function(e){(0,H.Z)(n,e);var t=R_(n);function n(){return(0,O.Z)(this,n),t.apply(this,arguments)}return(0,C.Z)(n,[{key:"render",value:function(){return s.createElement("svg",{className:"icon-play",viewBox:"0 0 85 100"},s.createElement("path",{fill:"currentColor",d:"M81 44.6c5 3 5 7.8 0 10.8L9 98.7c-5 3-9 .7-9-5V6.3c0-5.7 4-8 9-5l72 43.3z"},s.createElement("title",null,vl.ag.get("play-button.label"))))}}]),n}(s.PureComponent),L_=n(95475);function F_(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,W.Z)(e);if(t){var i=(0,W.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,G.Z)(this,n)}}const U_=function(e){(0,H.Z)(n,e);var t=F_(n);function n(){return(0,O.Z)(this,n),t.apply(this,arguments)}return(0,C.Z)(n,[{key:"shouldComponentUpdate",value:function(){return!1}},{key:"render",value:function(){return s.createElement("div",{className:"icon"},s.createElement("svg",{width:"52",height:"52",viewBox:"0 0 52 52",xmlns:"http://www.w3.org/2000/svg"},s.createElement("title",null,"Add Song Icon"),s.createElement("path",{d:"M26 0C11.64 0 0 11.643 0 26c0 14.36 11.64 26 26 26s26-11.64 26-26S40.36 0 26 0zm0 50C12.767 50 2 39.234 2 26S12.767 2 26 2c13.234 0 24 10.766 24 24S39.234 50 26 50zm0-32c-4.418 0-8 3.582-8 8s3.582 8 8 8 8-3.582 8-8-3.58-8-8-8zm0 14c-3.308 0-6-2.69-6-6s2.692-6 6-6 6 2.69 6 6-2.69 6-6 6z",fill:"currentColor",fillRule:"evenodd"})))}}]),n}(s.Component);var Z_=n(84200),M_=n(549),B_=n(55508);function j_(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,W.Z)(e);if(t){var i=(0,W.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,G.Z)(this,n)}}var V_=function(e){(0,H.Z)(n,e);var t=j_(n);function n(){return(0,O.Z)(this,n),t.apply(this,arguments)}return(0,C.Z)(n,[{key:"shouldComponentUpdate",value:function(){return!1}},{key:"render",value:function(){return s.createElement("div",{className:"icon"},s.createElement("svg",{width:"80",height:"81",viewBox:"0 0 80 81",xmlns:"http://www.w3.org/2000/svg"},s.createElement("title",null,"Radio Icon"),s.createElement("path",{stroke:"null",fill:"currentColor",d:"M13.54 62.9C.84 48.03 2.6 25.6 17.47 12.9c1.02-.86 2.14-1.7 3.54-2.62l-1.95-2.95c-1.52 1-2.75 1.93-3.88 2.88C7.25 16.98 2.44 26.43 1.62 36.8c-.8 10.4 2.46 20.47 9.23 28.4 2.34 2.74 5.1 5.17 8.2 7.2L21 69.46c-2.82-1.86-5.33-4.07-7.46-6.56zm13.14-39.2c1.1-.94 2.27-1.75 3.52-2.45l-1.72-3.1c-1.46.8-2.83 1.76-4.1 2.84-5.04 4.3-8.1 10.3-8.62 16.92-.52 6.6 1.57 13.03 5.87 18.07 1.92 2.23 4.22 4.1 6.87 5.57l1.7-3.1c-2.26-1.26-4.23-2.87-5.87-4.8-7.62-8.9-6.56-22.36 2.36-29.98zm13.82 5.53c-5.86 0-10.63 4.77-10.63 10.64S34.64 50.5 40.5 50.5s10.64-4.77 10.64-10.63-4.77-10.64-10.64-10.64zm0 17.73c-3.9 0-7.1-3.2-7.1-7.1 0-3.9 3.2-7.08 7.1-7.08 3.9 0 7.1 3.18 7.1 7.1 0 3.9-3.2 7.08-7.1 7.08zm29.66-32.42c-2.34-2.74-5.1-5.17-8.2-7.22L60 10.28c2.83 1.86 5.34 4.07 7.46 6.56 6.15 7.2 9.13 16.37 8.4 25.8-.76 9.45-5.14 18.04-12.34 24.2-1 .86-2.14 1.7-3.53 2.6l1.94 2.96c1.5-.98 2.77-1.92 3.88-2.88 7.92-6.76 12.74-16.2 13.55-26.6.83-10.38-2.45-20.46-9.2-28.38zm-10.78 9.2c-1.92-2.23-4.23-4.1-6.87-5.57l-1.7 3.1c2.26 1.26 4.24 2.87 5.88 4.8 3.7 4.3 5.48 9.8 5.03 15.47-.44 5.67-3.06 10.82-7.38 14.5-1.08.93-2.27 1.76-3.5 2.45l1.7 3.1c1.46-.8 2.84-1.77 4.1-2.84 5.04-4.3 8.1-10.32 8.63-16.93.5-6.6-1.57-13.02-5.88-18.07z",fillRule:"evenodd"})))}}]),n}(s.Component);const H_=V_;function G_(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,W.Z)(e);if(t){var i=(0,W.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,G.Z)(this,n)}}var W_=function(e){(0,H.Z)(n,e);var t=G_(n);function n(){var e;(0,O.Z)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),(0,E.Z)((0,si.Z)(e),"findPlaceHolderForEntity",(function(e){return"album"===e?s.createElement(Z_.Z,null):"playlist"===e?s.createElement(B_.Z,null):"artist"===e?s.createElement(M_.Z,null):"user"===e?s.createElement(L_.i,null):"track"===e?s.createElement(U_,null):"radio"===e?s.createElement(H_,null):s.createElement(B_.Z,null)})),e}return(0,C.Z)(n,[{key:"render",value:function(){var e,t=this.findPlaceHolderForEntity(this.props.type),n=Tl()("cover-art-image",{"cover-art-image-rounded":this.props.type===d().Type.EPISODE});return s.createElement("div",null,t,s.createElement(fy.E,(0,su.Z)({testid:"cover-art-image",loading:this.props.loading,src:this.props.src,className:n},(e=this.props.src)?{style:{backgroundImage:"url(".concat(e,")")}}:{})))}}]),n}(s.Component);W_.defaultProps={loading:"lazy"};const z_=W_;function K_(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,W.Z)(e);if(t){var i=(0,W.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,G.Z)(this,n)}}var Y_=function(e){(0,H.Z)(n,e);var t=K_(n);function n(){var e;return(0,O.Z)(this,n),e=t.call(this),(0,E.Z)((0,si.Z)(e),"handleTouchStart",(function(){e.isPlaying()||(e.setState({isHoverDisabled:!0,isTouchInProgress:!0}),e.forceUpdate())})),(0,E.Z)((0,si.Z)(e),"handleMouseMove",(function(){e.state.isHoverDisabled&&!e.state.isTouchInProgress&&e.setState({isHoverDisabled:!1}),e.state.isTouchInProgress&&e.setState({isTouchInProgress:!1})})),e.state={isHoverDisabled:!1,isTouchInProgress:!1},e}return(0,C.Z)(n,[{key:"shouldComponentUpdate",value:function(e,t){return this.props.entityURI!==e.entityURI||this.props.contextURI!==e.contextURI||this.props.isPlaying!==e.isPlaying||this.props.isPlayable!==e.isPlayable||this.props.imgSrc!==e.imgSrc||this.state.isHoverDisabled!==t.isHoverDisabled}},{key:"isPlaying",value:function(){return this.props.isPlaying&&this.props.contextURI===this.props.entityURI}},{key:"render",value:function(){var e=this.isPlaying(),t="cover-art-playback".concat(e?" playing":""),n=!this.state.isHoverDisabled&&this.props.isPlayable&&s.createElement("button",{className:t,key:"button",onClick:this.props.onClickPlay,dir:"ltr"},e?s.createElement(D_,null):s.createElement(x_,null)),r=Tl()("cover-art shadow",this.props.className,{"cover-art--with-auto-height":0===this.props.height,linking:!!this.props.href,playing:e,actionable:this.props.isPlayable});return this.props.href?s.createElement(A_.rU,{className:r,to:this.props.href,onClick:this.props.onClick,onTouchStartCapture:this.handleTouchStart,onMouseMove:this.handleMouseMove,style:{width:this.props.width||"auto",height:this.props.height||"auto"},"aria-hidden":"true"},s.createElement(z_,{loading:this.props.loading,src:this.props.imgSrc,type:this.props.type}),this.props.children,n):s.createElement("div",{className:r,style:{width:this.props.width||"auto",height:this.props.height||"auto"},onClick:this.props.onClick,"aria-hidden":"true"},s.createElement(z_,{loading:this.props.loading,src:this.props.imgSrc,type:this.props.type}),this.props.children,n)}}]),n}(s.Component);Y_.defaultProps={onClick:function(){},width:0,height:0,isPlayable:!1,loading:"lazy"};const q_=Y_;var Q_=function(e){var t,n=e.item,r=e.size,i=e.maxSize,a=void 0===i?r:i,o=e.desiredLabel,l=void 0===o?"":o,c=e.className,u=(0,tl.o)(null!==(t=n.images)&&void 0!==t?t:void 0,{desiredSize:a,desiredLabel:l});return s.createElement("div",{className:c},s.createElement(q_,{loading:"eager",imgSrc:u,width:r,height:r}))},J_=n(22345),X_=n(25988),$_=n(88214),eS=function(e){var t,n,r,i,a,o,l=e.context,c=e.item;return(0,Te.G_)(c)||(0,Te.RB)(c)?s.createElement($_.$,{uid:null!==(t=c.uid)&&void 0!==t?t:"",uri:c.uri,albumUri:c.album.uri,artists:c.artists,contextUri:null!==(n=l.uri)&&void 0!==n?n:""}):(0,Te.iw)(c)?s.createElement(X_.k,{uri:c.uri,uid:null!==(r=c.uid)&&void 0!==r?r:"",contextUri:null!==(i=l.uri)&&void 0!==i?i:""}):(0,Te.G7)(c)?s.createElement(J_.r,{uri:c.uri,uid:null!==(a=c.uid)&&void 0!==a?a:"",contextUri:null!==(o=l.uri)&&void 0!==o?o:""}):null},tS=n(72131);function nS(e){return(0,Te.G_)(e)?vl.ag.get("playback-control.now-playing-label",e.name,e.artists.map((function(e){return e.name})).join(vl.ag.getSeparator())):(0,Te.iw)(e)?vl.ag.get("playback-control.now-playing-label",e.name,e.show.name):(0,Te.G7)(e)?vl.ag.get("playback-control.now-playing-label",e.name,e.book.name):(0,Te.k6)(e)?vl.ag.get("ad-formats.advertisement"):(0,Te.RB)(e)?vl.ag.get("queue.now-playing"):(0,Pe.U)(e)}var rS=(0,s.lazy)((function(){return n.e(3496).then(n.bind(n,83496))}));function iS(e,t,n){var r=e.uri,i=d().isTrack(r),a=r===tS.b,o="queue"===t.provider;(i||o||a)&&((0,Te.G_)(t)?r=t.album.uri:((0,Te.iw)(t)||(0,Te.G7)(t))&&(r=t.uri),a&&(r="spotify:collection:local-files"));var s,l,c,u,m=d().from(r);return null===m?{to:"#"}:(0,Te.G_)(t)||(0,Te.iw)(t)||(0,Te.G7)(t)?{to:m.toURLPath(!0),search:(u={uid:t.uid,uri:t.uri,page:null!==(s=null==n?void 0:n.pageIndex)&&void 0!==s?s:null,pageUri:null!==(l=null==n?void 0:n.pageURI)&&void 0!==l?l:null,index:null!==(c=null==n?void 0:n.itemIndex)&&void 0!==c?c:null,highlight:i?t.uri:null},Object.keys(u).filter((function(e){return null!==u[e]})).map((function(e){return"".concat(e,"=").concat(encodeURIComponent(u[e]))})).join("&"))}:{to:m.toURLPath(!0)}}var aS=function(e){var t=e.context,n=e.index,r=e.item,i=e.isVisible,a=e.children,o=e.referrer,l=e.onClick,c=nS(r),u=r.type,d=i?void 0:-1;if((0,Te.G_)(r)||(0,Te.iw)(r)||(0,Te.G7)(r)){var m=iS(t,r,n),p=m.to,f=m.search;return s.createElement(Zb.Z,{referrer:o,"":"context-link","data-context-item-type":u,style:{border:"none"},to:p,search:f,"aria-label":c,tabIndex:d,onClick:l},a)}return(0,Te.k6)(r)?s.createElement(s.Suspense,{fallback:s.createElement(s.Fragment,null,a)},s.createElement(rS,{item:r,"aria-label":c,tabIndex:d},a)):(0,Te.RB)(r)?s.createElement(s.Fragment,null,a):(0,Pe.U)(r)},oS=function(e){var t=e.uri,n=e.owner,r=e.children,i=(0,Ms.I0)(),a=(0,of.o)(),o=(0,Ms.v9)((function(e){var t;return null===(t=e.session.user)||void 0===t?void 0:t.id})),l=d().isPlaylistV1OrV2(t),c=(0,s.useCallback)((function(e,n){var r=[].concat((0,N.Z)(n[xE.aN[d().Type.ALBUM]]||[]),(0,N.Z)(n[xE.aN[d().Type.TRACK]]||[]),(0,N.Z)(n[xE.aN[d().Type.LOCAL]]||[]),(0,N.Z)(n[xE.aN[d().Type.EPISODE]]||[]));r.length>0&&(i((0,rk.jV)(t,r)),a({targetUri:t,intent:"add",type:"drop"}))}),[i,a,t]);return l&&n===o?s.createElement(LE.Z,{types:[xE.aN[d().Type.ALBUM],xE.aN[d().Type.TRACK],xE.aN[d().Type.EPISODE],xE.aN[d().Type.LOCAL]],onDrop:c,testId:"cover-drop-target"},r):s.createElement(s.Fragment,null,r)};function sS(e){if((0,Te.G_)(e)||(0,Te.RB)(e)){var t=e.name,n=e.artists.map((function(e){return e.name})).join(vl.ag.getSeparator());return n&&(t="".concat(t," • ").concat(n," ")),t}return(0,Te.iw)(e)?"".concat(e.name," • ").concat(e.show.name):(0,Te.G7)(e)||(0,Te.k6)(e)?(console.error(e.uri,"is not draggable"),""):(0,Pe.U)(e)}function lS(e){return(0,Te.G_)(e)||(0,Te.iw)(e)}function cS(e,t){var n,r,i,a;return null===e||null===t?e===t:e.context.uri===t.context.uri&&(null===(n=e.item)||void 0===n?void 0:n.uri)===(null===(r=t.item)||void 0===r?void 0:r.uri)&&(0,ed.V)(null===(i=e.item)||void 0===i?void 0:i.metadata,null===(a=t.item)||void 0===a?void 0:a.metadata)&&e.index.itemIndex===t.index.itemIndex&&e.index.pageIndex===t.index.pageIndex&&e.index.pageURI===t.index.pageURI}function uS(){var e=(0,el.Y)((function(e){return e}),cS);if(null===e)return null;var t=e.context,n=e.item,r=e.index;return null===n?null:{context:t,item:n,index:r}}var dS=parseInt(I_,10),mS=function(){var e,t=Th().expandedState,n=uS(),r=(0,xE.O1)();if(null===n)return null;var i=t===Ch.NowPlayingCoverStateEnum.expanded,a=n.context,o=n.item,l=n.index;return s.createElement(IE._,{menu:s.createElement(eS,{context:a,item:o})},s.createElement("div",{draggable:lS(o),onDragStart:function(e){r(e,[o.uri],sS(o))}},s.createElement(oS,{uri:a.uri,owner:null===(e=a.metadata)||void 0===e?void 0:e.context_owner},s.createElement(aS,{referrer:"now_playing_bar",context:a,item:o,index:l,isVisible:i},s.createElement(Q_,{item:o,maxSize:dS,desiredLabel:"xlarge"})))))};const pS="main-coverSlotExpanded-container",fS="main-coverSlotExpanded-enter",vS="main-coverSlotExpanded-enterActive",gS="main-coverSlotExpanded-exitActive";var hS=function(e){var t=e.children,n=e.renderActionButton,r=Th(),i=r.expandedState,a=r.setTransientForcedExpandedState,o=i===Ch.NowPlayingCoverStateEnum.expanded,l=(0,el.Y)((function(e){var t;return{hasContext:null==e?void 0:e.hasContext,isPlayingAd:(0,Te.k6)(null!==(t=null==e?void 0:e.item)&&void 0!==t?t:void 0)}})),c=l.hasContext,u=l.isPlayingAd;(0,s.useEffect)((function(){a(u?Ch.NowPlayingCoverStateEnum.expanded:Ch.NowPlayingCoverStateEnum.none)}),[u,a]);var d=o&&c;return s.createElement(ty.Z,{in:d,timeout:250,unmountOnExit:!0,classNames:{enter:fS,enterActive:vS,exitActive:gS}},s.createElement("div",{"":"CoverSlotExpanded__container",className:pS},t,n()))},yS=n(8434);const kS="main-coverSlotExpandedCollapseButton-collapseButton";var ES=function(){var e=Th().setLocalStorageExpandedState;return s.createElement(Cf.w,{label:vl.ag.get("npb.collapseCoverArt")},s.createElement("button",{className:Tl()("CoverSlotExpanded__actionButton",kS),onClick:function(){e(Ch.NowPlayingCoverStateEnum.collapsed)},"aria-label":vl.ag.get("npb.collapseCoverArt")},s.createElement(yS.C,{iconSize:16})))},bS="User clicked on Desktop Ads Now Playing Bar Hat CTA Button";var _S=["getClickEventPosterForEpisodeSponsorNowPlayingBarHat"],SS=(0,s.lazy)((function(){return n.e(8696).then(n.bind(n,38696))}));function wS(e){var t=e.getClickEventPosterForEpisodeSponsorNowPlayingBarHat,r=void 0===t?function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){var e=(0,i.Z)(o().mark((function e(){var t,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then(n.bind(n,21324));case 2:return t=e.sent,r=t.postEvent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return function(t){return t?function(t,n){return function(){var r=(0,i.Z)(o().mark((function r(){var i,a,s;return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e();case 2:return s=r.sent,r.next=5,s(t,"clicked",{playback_position:null!==(i=null===(a=n.getState())||void 0===a?void 0:a.positionAsOfTimestamp)&&void 0!==i?i:void 0,reason:bS});case 5:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}()}:void 0}}():t,a=(0,lu.Z)(e,_S),l=(0,Bd.W6)(vs.u8),c=(0,Ms.v9)((function(e){return e.platform})).isDesktop;return s.createElement(s.Suspense,{fallback:!0},l&&c?s.createElement(SS,(0,su.Z)({},a,{clickEventPosterForEpisodeSponsorNowPlayingBarHat:r(c)})):null)}var NS=n(1393);const OS="xaIJCzLBUjT3v2jC36P3",CS="NjzdxgK9pQx2Yj04CKzr";var TS=s.forwardRef((function(e,t){var n,i=(0,Ms.I0)(),a=(0,el.Y)((function(e){var t;return null!==(t=null==e?void 0:e.item)&&void 0!==t?t:void 0}),(function(e,t){return(null==e?void 0:e.uri)===(null==t?void 0:t.uri)})),o=(0,Te.k6)(a)&&null!==(n=a.url)&&void 0!==n?n:void 0,l=(0,s.useState)(!1),c=(0,r.Z)(l,2),u=c[0],d=c[1],m=(0,Ms.v9)((function(e){var t;return null===(t=e.ads.vto)||void 0===t?void 0:t.isMinimized}));return(0,s.useEffect)((function(){m?setTimeout((function(){d(!0)}),200):d(!1)}),[m]),s.createElement("a",{onClick:function(){i((0,NS.nX)())},hidden:!u,href:o,ref:t,className:Tl()(OS,(0,E.Z)({},CS,u))})}));const IS="nkfuv1hrhxglxpnokpv7";var AS=function(){var e=(0,Ms.I0)();return s.createElement("button",{className:Tl()("CoverSlotExpanded__actionButton",IS),onClick:function(){e(fh()),e(vh(ah.W9.EXPANDED))},"aria-label":vl.ag.get("npb.expandVideo")},s.createElement(yS.C,{iconSize:24}))},PS=n(55991);function DS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function RS(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?DS(Object(n),!0).forEach((function(t){(0,E.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DS(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function xS(e,t){switch(t.type){case"OPEN":return RS(RS({},e),{},{isOpen:!0});case"CLOSE":return RS(RS({},e),{},{isOpen:!1});default:(0,Pe.U)(t)}}var LS=(0,s.createContext)(void 0),FS=(0,s.createContext)((function(){})),US=function(e){var t=e.children,n=(0,s.useReducer)(xS,{isOpen:!1}),i=(0,r.Z)(n,2),a=i[0],o=i[1];return s.createElement(FS.Provider,{value:o},s.createElement(LS.Provider,{value:a},t))};function ZS(){var e=(0,s.useContext)(LS);if(void 0===e)throw new Error("useLanguageSelectionModalState must be used within a LanguageSelectionModalContextProvider");return e}function MS(){var e=(0,s.useContext)(FS);if(void 0===e)throw new Error("useLanguageSelectionModalDispatch must be used within a LanguageSelectionModalDispatchContextProvider");return e}const BS="Ka2HOvFsfXcLu7He0nTD";var jS=function(){var e,t=(0,Ms.v9)(Nu.Kd),n=null!==(e=Rs.k1[t])&&void 0!==e?e:Rs.k1.en,r=MS(),i=(0,s.useCallback)((function(){r({type:"OPEN"})}),[r]);return s.createElement("div",{className:BS},s.createElement(Iy.P,{iconLeading:PS.z,buttonSize:"sm",onClick:i,"":"language-selection-button"},n.displayName))},VS=(n(60285),n(85951));const HS="Gf_hXbIvfUvlnE_jnkw8";var GS=function(e){var t=e.children,n=e.locale,r=e.onClick;return s.createElement("button",{className:HS,onClick:function(e){r(e,n)},id:n,"":"language-option-".concat(n)},t)};const WS="QN6q7D8yep8_vpem9h9t";var zS=function(e){var t=e.style,n=e.children;return s.createElement("div",{className:WS,style:t},n)};const KS="zR8QNf_xkSN8l2nrr7qn",YS="XOuJWoOqDoKhvu3tpsf1",qS="VdanMHKK5Onw77cpKNJo",QS="biCYmK3d8L8l7A_xC_Ge",JS="uzrPPSY_Qq9u4Yos40TQ",XS="VtOVn196CnZ8321SwK5W";var $S=function(e){var t=e.onClose,n=e.children,r=(0,s.useRef)(null),i=ZS().isOpen;return s.createElement("div",{"":"language-selection-modal",className:Tl()(KS,"encore-dark-theme",(0,E.Z)({},YS,i)),onClick:function(e){e.target===r.current&&t()},role:"presentation",ref:r},n)},ew=function(e){var t=e.ariaDescribedBy,n=e.ariaLabelledBy,r=e.children,i=ZS().isOpen;return s.createElement("div",{className:qS,role:"dialog",hidden:!i,"aria-modal":!0,"aria-labelledby":n,"aria-describedby":t},r)},tw=function(e){var t=e.onClose;return s.createElement("button",{"":"close-button",className:XS,onClick:function(){t()}},s.createElement(Jd.k,{iconSize:16,"aria-label":vl.ag.get("close")}))};function nw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function rw(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nw(Object(n),!0).forEach((function(t){(0,E.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nw(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var iw=function(e){var t,n=e.languageSelectionModalRef,i=(0,s.useRef)(null),a=(0,s.useState)("0"),o=(0,r.Z)(a,2),l=o[0],u=o[1],d=MS(),m=(0,Ms.v9)(uE.P4),p=(0,s.useCallback)((function(){d({type:"CLOSE"})}),[d]),f=ZS().isOpen,v=(0,s.useCallback)((function(){i.current&&u("".concat(i.current.getBoundingClientRect().height,"px"))}),[u]),g=function(e,t){var n,r;e.preventDefault(),(null===(n=window)||void 0===n||null===(r=n.OptanonActiveGroups)||void 0===r?void 0:r.includes("f00"))&&(0,Ot.pC)({name:"sp_locale",value:t,days:365}),p();var i=new URL(window.location.href);window.location.href.includes("locale")&&i.searchParams.delete("locale"),window.location.href=i.href};if(t=p,(0,s.useEffect)((function(){var e=function(e){"Escape"===e.key&&t()};return window.addEventListener("keyup",e,!1),function(){return window.removeEventListener("keyup",e)}})),(0,VS.y)({refOrElement:i,observeOnly:"height",onResize:v}),!n.current||!m)return null;var h="language-selection-title",y="language-selection-subtitle",k={"--header-height":l};return(0,c.createPortal)(s.createElement($v.i,{active:f},s.createElement("div",null,s.createElement($S,{onClose:p},s.createElement(ew,{ariaLabelledBy:h,ariaDescribedBy:y},s.createElement("div",{className:QS,ref:i},s.createElement("div",{className:JS},s.createElement(Eu.D,{as:"h1",variant:"canon",semanticColor:"textBase",id:h,paddingBottom:bu.dly},vl.ag.get("i18n.language-selection.title")),s.createElement(Eu.D,{as:"p",variant:"ballad",semanticColor:"textBase",id:y,paddingBottom:bu.o78},vl.ag.get("i18n.language-selection.subtitle"))),s.createElement(tw,{onClose:p})),s.createElement(zS,{style:rw({},k)},Rs.ge.map((function(e){return s.createElement(GS,{key:e,onClick:g,locale:e},s.createElement(Eu.D,{semanticColor:"textBase"},Rs.k1[e].displayName),s.createElement(Eu.D,null,Rs.k1[e].displayNameEn))}))))))),n.current)},aw=n(94321);const ow="FsDuEneEUuVsyk7wv9MC";var sw=function(e){var t=e.isRussia;return s.createElement("div",{className:ow},s.createElement("a",{draggable:!1,href:Mk.z4,target:"_blank",rel:"noopener"},s.createElement(Eu.D,{variant:"finale"},vl.ag.get("cookies"))),s.createElement("a",{draggable:!1,href:Mk.lL,target:"_blank",rel:"noopener"},s.createElement(Eu.D,{variant:"finale"},vl.ag.get("privacy"))),t&&s.createElement("a",{draggable:!1,href:Mk.iz,target:"_blank",rel:"noopener"},s.createElement(Eu.D,{variant:"finale"},"Форма для Ваших обращений")))},lw=n(59440),cw=n(25896);const uw="KgjFD1C8GPOqiAMEI4Wl",dw="Yw9u5QqYvW1sY8hr729O",mw="UrxMTgMjpBSI1WOXf2wV";var pw=s.memo((function(e){var t=e.onClick,n=(0,of.o)(),r=(0,s.useCallback)((function(e){n({intent:"install-app",type:"click",targetUri:"/install-pwa"}),t(e)}),[n,t]);return s.createElement("button",{onClick:r,className:uw},s.createElement("div",{className:dw},s.createElement("svg",{viewBox:"0 0 64 64",xmlns:"http://www.w3.org/2000/svg"},s.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M50.9288482,28.3686995 C40.6139223,22.2429099 23.5996824,21.6796628 13.7528525,24.668235 C12.1712611,25.1477974 10.4991074,24.2551616 10.020312,22.674325 C9.54075242,21.0919599 10.4326187,19.4209426 12.0153564,18.9402338 C23.3188247,15.5091649 42.1091547,16.1717636 53.9838913,23.2207587 C55.4065211,24.0648651 55.8727065,25.9021053 55.0297516,27.3220687 C54.1860323,28.7439428 52.3476568,29.213188 50.9288482,28.3686995 M50.5910548,37.4417921 C49.8677032,38.6160515 48.3323482,38.9840345 47.1592422,38.2633534 C38.5600315,32.9774668 25.4464645,31.4459238 15.2725406,34.5342297 C13.953465,34.9331646 12.5598763,34.1887919 12.1594154,32.8720012 C11.7616293,31.5529179 12.5056154,30.1616135 13.8227803,29.7607681 C25.4453181,26.2337867 39.8932454,27.9418698 49.7702628,34.0118696 C50.9429866,34.7340793 51.3121138,36.2702077 50.5910548,37.4417921 M46.6754793,46.1553085 C46.1003899,47.0983843 44.8726409,47.3937643 43.9330097,46.8190535 C36.4186355,42.2263353 26.9604208,41.1892576 15.8216459,43.7334225 C14.748273,43.9798909 13.6787213,43.3069749 13.4337829,42.2335956 C13.1876981,41.1605985 13.8579352,40.0906583 14.9336008,39.8457184 C27.1232036,37.0589064 37.5791315,38.2583858 46.0140309,43.4124404 C46.9544263,43.986769 47.2505687,45.2152896 46.6754793,46.1553085 M31.9998089,0 C14.3271776,0 0,14.3268811 0,31.9996179 C0,49.6742653 14.3271776,64 31.9998089,64 C49.6732045,64 64,49.6742653 64,31.9996179 C64,14.3268811 49.6732045,0 31.9998089,0"}))),s.createElement(Eu.D,{variant:"ballad",as:"div",weight:"bold",className:mw},vl.ag.get("pwa.download-app")))}));function fw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vw(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fw(Object(n),!0).forEach((function(t){(0,E.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fw(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function gw(e,t){switch(t.type){case"installed":return vw(vw({},e),{},{installed:!0});case"before-install":return vw(vw({},e),{},{deferredPrompt:t.prompt,canBeInstalled:!0});default:return e}}const hw=s.memo((function(e){var t=e.useEnhancedChromeOSPWACallout,n=(0,Ms.I0)(),i=(0,of.o)(),a=(0,s.useReducer)(gw,{deferredPrompt:void 0,installed:!1,canBeInstalled:!1}),o=(0,r.Z)(a,2),l=o[0],c=o[1];(0,s.useEffect)((function(){var e=function(){c({type:"installed"}),n({type:As})},t=function(e){e.preventDefault(),c({type:"before-install",prompt:e})};return window.addEventListener("beforeinstallprompt",t),window.addEventListener("appinstalled",e),function(){window.removeEventListener("beforeinstallprompt",t),window.removeEventListener("appinstalled",e)}}),[n]);var u=(0,s.useCallback)((function(e){e.preventDefault(),i({intent:"install-app",type:"click",targetUri:"/install-pwa"}),l.deferredPrompt&&l.deferredPrompt.prompt()}),[l.deferredPrompt,i]),d=l.canBeInstalled,m=l.installed;return!d||m?null:t?s.createElement(pw,{onClick:u}):s.createElement("div",{className:Tl()(Tb,Cb)},s.createElement("button",{type:"button",onClick:u,className:Tl()("link-subtle",Pb,"ellipsis-one-line")},s.createElement(lw.D,null),vl.ag.get("navbar.install-app")))}));var yw=s.memo((function(e){var t=e.isDesktop,n=e.isPWA,r=e.shouldCalloutPWA,i=e.useEnhancedChromeOSPWACallout,a=e.upgradeOverApp,o=(0,Ms.I0)(),l=(0,s.useCallback)((function(e){e.preventDefault(),o((0,cw._)({action_type:"gtm.upgradeClick",action_intent:"upgrade-dwp",item_id:"dwp-top-bar"})),window.open("https://www.spotify.com/premium/","_blank")}),[o]);return t||n?null:a?s.createElement("div",{className:Tl()(Tb,Cb)},s.createElement("a",{onClick:l,onKeyDown:l,className:Tl()("link-subtle",Pb),href:"https://www.spotify.com/premium/",target:"_blank",role:"button"},s.createElement(sE.V,null),s.createElement(Eu.D,{variant:"mestoBold",className:"ellipsis-one-line"},vl.ag.get("upgrade.tooltip.title")))):r?s.createElement(hw,{useEnhancedChromeOSPWACallout:i}):s.createElement("div",{className:Tl()(Tb)},s.createElement(nb.O,{to:"/download",className:Tl()("link-subtle",Pb),activeClassName:Ab},s.createElement(lw.D,null),s.createElement(Eu.D,{variant:"mestoBold",className:"ellipsis-one-line"},vl.ag.get("navbar.install-app"))))}));const kw="main-downloadClient-container";var Ew=s.memo(s.forwardRef((function(e,t){var n=e.isAnonymous,r=e.EpisodeSponsorNowPlayingBarHat,i=void 0===r?wS:r,a=e.CoverSlotExpanded,o=void 0===a?hS:a,l=(0,Ms.v9)((function(e){return e.platform})),c=l.isDesktop,u=l.isPWA,d=l.shouldCalloutPWA,m=(0,Ms.v9)((function(e){return e.features})),p=m.useEnhancedChromeOSPWACallout,f=m.upgradeOverApp,v=(0,Ms.v9)((function(e){return e.ads.vto})),g=!(null!=v&&v.isHidden)&&(null==v?void 0:v.isMinimized),h=(0,Ms.v9)((function(e){return e.ui})).nowPlayingCover,y=(0,Ms.v9)(aw.C7),k=(0,Ms.v9)(aw.Vd),E=(0,Ms.v9)(uE.P4),b=h.forcedExpandedState===Ch.NowPlayingCoverStateEnum.expanded,_=(0,s.useCallback)((function(){return g?s.createElement(AS,null):b?null:s.createElement(ES,null)}),[g,b]);return s.createElement("div",{className:kw},!n&&!y&&s.createElement(Yv.ZP,{value:"download"},s.createElement(yw,{isDesktop:c,isPWA:u,shouldCalloutPWA:d,useEnhancedChromeOSPWACallout:p,upgradeOverApp:f})),n&&s.createElement(s.Fragment,null,s.createElement(sw,{isRussia:k}),E&&s.createElement(jS,null)),c&&s.createElement(i,null),s.createElement(o,{renderActionButton:_},s.createElement(mS,null),g&&s.createElement(TS,{ref:t})))}))),bw=n(60403);const _w="ftcQYbC5YLLX7tb_GcHP";var Sw=function(e){var t=e.children,n=(0,mf.z)("search-callout-seen",!1),i=(0,r.Z)(n,2),a=i[0],o=i[1],l=(0,Bs.TH)(),c=(0,s.useCallback)((function(){o(!0)}),[o]);return(0,s.useEffect)((function(){l.pathname.startsWith("/search")&&c()}),[l,c]),s.createElement(bw.G,{title:vl.ag.get("navbar.search.callout-title"),description:vl.ag.get("navbar.search.callout-description"),id:"searchCallout",visible:!a,onHide:c,onPrimaryButtonClick:function(){},showButtons:!1,hideOnClickOutside:!1,placement:"left-start",tippyClassName:_w},t)},ww=function(e){var t=e.children;return(0,Bd.W6)(vs.Jw)===vs.pF.CALLOUT?s.createElement(Sw,null,t):t},Nw=function(e){var t=e.children;return s.createElement(s.Suspense,{fallback:t},s.createElement(ww,null,t))},Ow=n(49068),Cw=n(11436);const Tw="main-yourEpisodesButton-yourEpisodesIcon";var Iw=s.memo((function(e){var t=e.spec,n=(0,Ow.x)(),r=(0,Ms.I0)(),a=(0,$u.y)(),l=(0,s.useCallback)(function(){var e=(0,i.Z)(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a){e.next=2;break}return e.abrupt("return");case 2:if(!(t.length>0)){e.next=6;break}return e.next=5,a.add.apply(a,(0,N.Z)(t));case 5:r((0,wu.kK)());case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[r,a]);return null!=n&&n.totalLength?s.createElement(g_,{contextUri:n.uri,href:"/collection/episodes",name:vl.ag.get("sidebar.your_episodes"),types:[d().Type.EPISODE],onDrop:l,spec:t},s.createElement("div",{className:Tw},s.createElement(Cw.P,{iconSize:12,"aria-hidden":!0}))):null})),Aw="yourLibrary",Pw={getTitle:function(){return vl.ag.get("action-trigger.enjoy-library")},getDescription:function(){return vl.ag.get("action-trigger.login-library")},zIndex:5},Dw=function(e){var t=e.children;return s.createElement(jb.P,{id:Aw,options:Pw},t)},Rw=s.memo(s.forwardRef((function(e,t){var n=e.isAnonymous,r=e.isBrowser,i=(0,Ms.I0)(),a=(0,Ms.v9)(uE.mE),o=(0,Bd.W6)(vs.fS),l=(0,Ms.v9)(Nu.Kd),c=a&&(0,dE.LI)(l,a)?"/".concat(l):"/",u=(0,Xc.fU)(cE.createDesktopRootNavigationEventFactory,{}),d=u.spec,m=u.logger,p=(0,s.useMemo)((function(){return d.libraryButtonFactory()}),[d]),f=(0,s.useMemo)((function(){return d.createPlaylistButtonFactory()}),[d]),v=(0,s.useMemo)((function(){return d.likedSongsButtonFactory()}),[d]),g=(0,s.useMemo)((function(){return d.yourEpisodesButtonFactory()}),[d]),h=(0,s.useCallback)((function(e){if(n)return m.logInteraction(p.hitUiReveal()),i((0,Jl.G1)("/collection")),void(null==e||e.preventDefault());m.logInteraction(p.hitUiNavigate({destination:"spotify:app:collection"}))}),[n,p,m,i]),y=(0,s.useCallback)((function(e){n||m.logInteraction(p.dragLike({itemToBeLiked:e}))}),[n,p,m]),k=(0,Bd.W6)(vs.rd),E=(0,Gp.e)().openURLWithSessionTransfer,b=(0,s.useMemo)((function(){return d.premiumButtonFactory()}),[d]),_=(0,s.useCallback)((function(e){E(Mk._W,"_blank"),e.preventDefault(),m.logInteraction(b.hitNavigateToExternalUri({destination:Mk._W}))}),[m,E,b]),S=(0,Xc.Wi)(b),w=(0,s.useMemo)((function(){return d.homeButtonFactory()}),[d]),N=(0,s.useCallback)((function(){m.logInteraction(w.hitUiNavigate({destination:"spotify:app:home"}))}),[w,m]),O=(0,s.useMemo)((function(){return d.searchButtonFactory()}),[d]),C=(0,s.useCallback)((function(){m.logInteraction(O.hitUiNavigate({destination:"spotify:app:search"}))}),[O,m]);return s.createElement("div",{className:Sb},r&&!o&&s.createElement("div",{className:wb,role:"banner"},s.createElement(Yv.ZP,{value:"spotify-logo"},s.createElement(Mb.Z,{className:Nb,hasText:!0}))),s.createElement("ul",{className:Ob},!o&&s.createElement("li",{className:Tl()(Tb,"InvalidDropTarget")},s.createElement(Yv.ZP,{value:"0/browse"},s.createElement(nb.O,{to:c,referrer:"home",className:Tl()("link-subtle",Pb),activeClassName:Ab,isActive:function(e,t){return"/"===t.pathname},onClick:N},s.createElement(tE.A,{className:"home-icon"}),s.createElement(nE.v,{className:"home-active-icon"}),s.createElement(Eu.D,{variant:"mestoBold",className:"ellipsis-one-line"},vl.ag.get("view.web-player-home"))))),!o&&s.createElement("li",{className:Tl()(Tb,"InvalidDropTarget")},s.createElement(Yv.ZP,{value:"1/search"},s.createElement(nb.O,{to:"/search",referrer:"search",className:Tl()("link-subtle",Pb),activeClassName:Ab,isActive:function(e,t){var n=t.pathname,r=t.state;return n.startsWith("/search")||"search"===(null==r?void 0:r.pageId)},onClick:C},s.createElement(rE.j,{className:"search-icon"}),s.createElement(iE.g,{className:"search-active-icon"}),s.createElement(Nw,null,s.createElement(Eu.D,{variant:"mestoBold",className:"ellipsis-one-line"},vl.ag.get("navbar.search")))))),s.createElement("li",{className:Tb},s.createElement(Ub,{uri:"spotify:user:@:collection",to:"/collection",onDrop:y,onNavigate:h},s.createElement(Dw,null,s.createElement(Yv.ZP,{value:"2/collection"},s.createElement(nb.O,{to:"/collection",referrer:"your_library",className:Tl()("link-subtle",Pb),activeClassName:Ab,isActive:function(e,t){var n=t.pathname;return n.startsWith("/collection")&&"/collection/tracks"!==n&&"/collection/episodes"!==n},onClick:h},s.createElement(aE.$,{className:"collection-icon"}),s.createElement(oE.n,{className:"collection-active-icon"}),s.createElement(Eu.D,{variant:"mestoBold",className:"ellipsis-one-line"},vl.ag.get("navbar.your-library")),s.createElement(t_,null)))),s.createElement(o_,null))),k&&s.createElement("li",{className:Tl()(Tb,"InvalidDropTarget"),ref:S},s.createElement(Yv.ZP,{value:"3/premium"},s.createElement(Zb.r,{to:Mk._W,className:Tl()("link-subtle",Pb,Db),onClick:_},s.createElement(sE.V,null),s.createElement(Nw,null,s.createElement(Eu.D,{variant:"mestoBold",className:Tl()(Ib,"ellipsis-one-line")},vl.ag.get("navbar.premium"))),s.createElement(lE.T,{iconSize:16})))),!r&&s.createElement(Fk.F,{property:vs.sT,renderNewExperience:function(){return s.createElement(xb,null)}})),s.createElement(Eb,{isAnonymous:n},s.createElement(Jb,{spec:f}),s.createElement(b_,{spec:v}),s.createElement(Iw,{spec:g}),s.createElement(Fk.F,{property:vs.Qx,renderNewExperience:function(){return s.createElement(O_,null)}})),s.createElement(Ew,{ref:t,isAnonymous:n}))}))),xw=n(53825),Lw=n(55088),Fw=n(85053),Uw=n(55387),Zw=n(22157),Mw=n(60790),Bw=n(35176),jw=n(23197),Vw=n(30853),Hw=n(32548),Gw=n(86754),Ww=n(57e3),zw=n(46140),Kw=n(22475);function Yw(e){return e===Xt.Yi.CAST_AUDIO||e===Xt.Yi.CAST_VIDEO}function qw(e,t){var n=xw.f;switch(t?"multispeaker":e){case Xt.Yi.COMPUTER:case Xt.Yi.CHROMEBOOK:n=Lw.g;break;case Xt.Yi.TABLET:n=Fw.y;break;case Xt.Yi.SMARTPHONE:n=Uw.B;break;case Xt.Yi.SPEAKER:case Xt.Yi.CAST_AUDIO:case Xt.Yi.AUDIO_DONGLE:case Xt.Yi.HomeThing:n=Zw.X;break;case Xt.Yi.TV:case Xt.Yi.STB:case Xt.Yi.CAST_VIDEO:n=Mw.x;break;case Xt.Yi.AVR:n=Bw.T;break;case Xt.Yi.GAME_CONSOLE:n=jw.c;break;case Xt.Yi.SMARTWATCH:n=Vw.b;break;case Xt.Yi.CarThing:case Xt.Yi.AUTOMOBILE:n=Hw.C;break;case"multispeaker":n=Gw.r}return n}function Qw(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"disconnected";return Yw(e)?"connected"===t?Ww.d:zw.O:Kw.W}const Jw="main-connectBar-connectBar",Xw="mVVxN9ZfIRjiQfDuzPCZ",$w="AOQDHndgmmv4n3jVj7sz",eN="CSiUuoAtKdIFp5NRMT86";var tN=s.memo((function(e){var t,n=e.status,r=e.deviceName,i=e.deviceType,a=(t={"encore-bright-accent-set":n===Xt.TK.CONNECTED},(0,E.Z)(t,Xw,n===Xt.TK.CONNECTED),(0,E.Z)(t,$w,n===Xt.TK.CONNECTING),t),o=Qw(i,n),l=n===Xt.TK.CONNECTED?vl.ag.get("connect-bar.listening-state",{device_name:r}):vl.ag.get("connect-bar.connecting-state",{device_name:r});return s.createElement("div",null,s.createElement(Eu.D,{as:"div",variant:"mesto",className:Tl()(Jw,a),"aria-live":"polite"},s.createElement(o,{iconSize:16,className:eN,role:"presentation"}),l))}));const nN="dz_h98rH9nZCwfPdnKgr",rN="amDYovVUDuHKQ0XhNYHk",iN="vakkqIS16smJmIS63aep",aN="JWFZAiQyVnxrqEzOAQw3",oN="rAfV2jB_HMM9Xtr0Rqvn",sN="R6h1i0Jno0MRRRRha3SI",lN="XkXPpDRWozMF6G8_GlLQ",cN="CVqkR3tIgVsGD4SvvXS4",uN="lOt0RRb_Tdpt1kzaTkMH";var dN=s.memo((function(e){var t=e.handleClick,n=(0,Ms.v9)(aw.C7),r=vl.ag.get("pta.bottom-bar.title"),i=vl.ag.get("fta.bottom-bar.subtitle"),a=vl.ag.get("fta.sign-up-free");return s.createElement("div",{className:nN,onClick:t,"":"signup-bar"},s.createElement("div",{className:oN},s.createElement(Eu.D,{as:"p",variant:"minuet"},r),s.createElement(Eu.D,{as:"p",variant:"ballad",dangerouslySetInnerHTML:{__html:n?vl.ag.get("fta.bottom-bar.subtitle-two"):i}})),s.createElement(Il.D,{colorSet:"invertedLight",onClick:t,className:lN},n?vl.ag.get("mwp.d2p.modal.cta"):a))})),mN=s.memo((function(e){var t=e.handleVisibility,n=e.handleClick,r=e.upgradeOverSignupBannerTwo,i=(0,Ms.v9)(aw.C7),a=vl.ag.get("upgrade.tooltip.title"),o=vl.ag.get("my.headline",{help_link:"https://www.spotify.com/legal/premium-promotional-offer-terms/"}),l=vl.ag.get("midyear.cta"),c=r?"".concat(nN," ").concat(rN):"".concat(nN," ").concat(uN),u=r?"".concat(iN):"".concat(aN," ").concat(oN),d=r?sN:void 0,m=r?void 0:n;return s.createElement("div",{className:c,onClick:m,"":"signup-bar"},s.createElement("div",{className:u},s.createElement(Eu.D,{as:"p",className:d},a),s.createElement(Eu.D,{as:"p",variant:"ballad",dangerouslySetInnerHTML:{__html:i?vl.ag.get("fta.bottom-bar.subtitle-two"):o}})),s.createElement(Il.D,{colorSet:"invertedLight",onClick:n,className:lN},i?vl.ag.get("mwp.d2p.modal.cta"):l),r&&s.createElement(Iy.P,{onClick:t,className:cN},vl.ag.get("action-trigger.button.not-now")))})),pN=n(68960),fN=n(40922),vN=function(e){var t=e.className,n=void 0===t?"":t,r=e.disabledClassName,a=void 0===r?"":r,l=e.onClick,c=Eg(),u=(0,s.useContext)(sf),d=(0,el.Y)((function(e){var t;return null!==(t=null==e?void 0:e.hasContext)&&void 0!==t&&t})),m=(0,Ms.I0)(),p=!d,f=(0,s.useCallback)((0,i.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=u&&u.current){e.next=2;break}return e.abrupt("return");case 2:null==l||l(!0),m((0,Us.OC)()),tf(u.current);case 5:case"end":return e.stop()}}),e)}))),[m,u,l]),v=Tl()(n,(0,E.Z)({},a,p));return c?s.createElement("button",{onClick:f,className:v,"aria-label":vl.ag.get("npv.full-screen"),title:vl.ag.get("npv.full-screen"),disabled:p,"":"fullscreen-mode-button"},s.createElement(Ph.i,{iconSize:16})):null},gN=s.memo(vN),hN=n(55834),yN=n(87189),kN=n(91625),EN="NO_DEVICES_AVAILABLE",bN="CONNECTED";function _N(e){var t;return e===(null===(t=window.cast)||void 0===t?void 0:t.framework.CastState.NOT_CONNECTED)}function SN(e){return window.cast&&e!==window.cast.framework.CastState.NO_DEVICES_AVAILABLE}var wN=n(91514);function NN(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e,t){return e===t},n=(0,Lc.D)(),i=(0,s.useState)((function(){var t,r=null!==(t=n.getState())&&void 0!==t?t:$s.$;return e(r)})),a=(0,r.Z)(i,2),o=a[0],l=a[1];return(0,wN.l)(Jt.F.UPDATE,(function(n){var r,i=null!==(r=n.data)&&void 0!==r?r:$s.$,a=e(i);t(o,a)||l(a)})),o}var ON=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{legacyCastPlaceholder:!1},t=e.legacyCastPlaceholder,n=(0,ru.s4)(),r=(0,Ms.v9)((function(e){var t,n,r;return null!==(t=null===(n=e.playback)||void 0===n?void 0:n.castState)&&void 0!==t?t:null===(r=window.cast)||void 0===r?void 0:r.framework.CastState.NO_DEVICES_AVAILABLE})),i=NN((function(e){return e.devices}));return(0,s.useCallback)((function(e){i.forEach((function(t){var r,i,a,o,s,l,c,u=t.id;t.isLocal&&"local_device"!==t.id&&(u="local_device"),n.send((0,kN.n)({discovered_device_id:u,discovered_device_name:t.name,discovered_device_type:t.type,discovered_device_brand_display_name:null!==(r=t.brandDisplayName)&&void 0!==r?r:null,discovered_device_model:null!==(i=t.modelDisplayName)&&void 0!==i?i:null,discovered_device_license:null!==(a=t.license)&&void 0!==a?a:null,discovered_device_state:null!==(o=t.currentState)&&void 0!==o?o:null,discovered_device_is_active:t.isActive,discovered_device_disabled:t.isDisabled,discovered_device_is_zeroconf:null!==(s=t.isZeroconf)&&void 0!==s?s:null,discovered_device_is_local:null!==(l=t.isLocalNetwork)&&void 0!==l?l:null,discovered_device_is_webapp:null!==(c=t.isWebApp)&&void 0!==c?c:null,discovered_device_supports_hifi:t.hifiSupport.deviceSupported,interaction_id:e}))})),(t?_N(r):SN(r))&&n.send((0,kN.n)({discovered_device_name:"Google Cast Devices Available",discovered_device_brand_display_name:"Google",interaction_id:e}))}),[i,r,n,t])},CN=n(81513),TN=n(81445);const IN="Q4G2k9bWHEkBz8e3eZwg",AN="rj2u_asAWSU1ThXHqogK",PN="vGErliwMdphEGBHq2b3E",DN="VQJRWZoMXqGtnWe3RCqN";var RN=function(){return s.createElement("div",{className:IN},s.createElement("div",{className:Tl()(PN,"overlayHover")}),s.createElement("div",{className:AN},s.createElement("svg",{width:"29",height:"16",viewBox:"0 0 29 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s.createElement("title",null,"HiFi"),s.createElement("rect",{className:Tl()(DN,"badgeHover"),width:"29",height:"16",rx:"2"}),s.createElement("path",{d:"M11.882 11.5V4.7645H10.3715V7.4055H7.683V4.7645H6.182V11.5H7.683V8.821H10.3715V11.5H11.882ZM14.6918 11.5V6.7785H13.2478V11.5H14.6918ZM13.1243 5.3345C13.1243 5.8 13.5043 6.18 13.9603 6.18C14.4353 6.18 14.8153 5.8 14.8153 5.3345C14.8153 4.869 14.4353 4.489 13.9603 4.489C13.5043 4.489 13.1243 4.869 13.1243 5.3345ZM17.5729 11.5V8.9825H20.0619V7.6145H17.5634V6.1895H20.4039V4.7645H16.0624V11.5H17.5729ZM22.8002 11.5V6.7785H21.3562V11.5H22.8002ZM21.2327 5.3345C21.2327 5.8 21.6127 6.18 22.0687 6.18C22.5437 6.18 22.9237 5.8 22.9237 5.3345C22.9237 4.869 22.5437 4.489 22.0687 4.489C21.6127 4.489 21.2327 4.869 21.2327 5.3345Z",fill:"white"}))))};const xN=function(e){var t,n=e.device,r=void 0===n?{id:"",is_active:!1,is_group:!1,name:"",type:"",hifiSupport:{fullySupported:!1,deviceSupported:!1,userEligible:!1}}:n,i=e.isDesktop,a=e.hifiEnabled,o=e.onClick,l=e.logger,c=e.index,u=r.is_controllable,d=r.is_active,m=!(null===(t=r.hifiSupport)||void 0===t||!t.fullySupported)&&a,p=m&&!d?"connect-clip-text":"standalone-ellipsis-one-line",f=i?vl.ag.get("connect-picker.this-computer"):vl.ag.get("connect-picker.this-web-browser"),v=r.local?f:r.name,g=d?vl.ag.get("connect-picker.listening-on"):v,h="media connect-device-list-item",y=Yw(r.type)?vl.ag.get("spotify-connect.chromecast"):vl.ag.get("spotify-connect");d?(h+=" connect-device-list-item--active",y=v):u||(h+=" connect-device-list-item--disabled",y=vl.ag.get("connect-picker.unavailable-to-control"));var k=qw(r.type,r.is_group),E=Qw(r.type,d?"connected":"disconnected"),b=(0,s.useMemo)((function(){return r.local?l.createLocalDeviceFactory():!i&&Yw(r.type)?r.id&&r.id.length>0?l.createDWPCastDeviceFactory(r.id,c):l.createDWPCastPlaceholderFactory():l.createRemoteDeviceFactory(r.id,c)}),[r,c,i,l]),_=(0,Xc.Wi)(b);return s.createElement("button",{className:h,disabled:!u,onClick:function(){var e={interactionId:"",pageInstanceId:""};!i&&Yw(r.type)?r.id&&r.id.length>0?l.logActiveCastRowInteraction(r.id,c):l.logCastPlaceholderInteraction():r.is_active?l.logActiveDeviceInteraction(c,r.id,r.local):e=l.logInactiveDeviceInteraction(c,r.id,r.local),o(r.id,e)},ref:_},s.createElement("div",{className:"connect-device-list-item__icon"},s.createElement(k,{iconSize:32,className:"device","":"device-icon"})),s.createElement("div",{className:"connect-device-list-item__info"},s.createElement("div",{className:"connect-device-title-hifi-container"},s.createElement(Eu.D,{as:"p",variant:"mestoBold",className:"connect-device-list-item__device-subtitle ".concat(p),dir:"auto"},g),m&&!d&&s.createElement(RN,null)),s.createElement("div",{className:"connect-device-title-hifi-container"},s.createElement(TN.M,{icon:E,iconSize:12,spacer:qg.hM$,"":"tech-icon"},s.createElement(Eu.D,{variant:"finale",className:"standalone-ellipsis-one-line"},y)),m&&d&&s.createElement(RN,null))))};function LN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function FN(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?LN(Object(n),!0).forEach((function(t){(0,E.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LN(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var UN=(0,Ms.$j)((function(e,t){return FN(FN({},t),{},{isDesktop:e.platform&&e.platform.isDesktop,hifiEnabled:(0,Nu.M)(e)})}))(xN),ZN=n(97779),MN="CAST_STATE_CHANGED",BN="TOGGLE_CAST",jN="SET_CONNECTING_CAST_DEVICE_ID",VN="RESET_CONNECTING_CAST_DEVICE_ID",HN=function(e){return{type:MN,castState:e}},GN=function(){return{type:BN}};function WN(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,W.Z)(e);if(t){var i=(0,W.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,G.Z)(this,n)}}var zN=function(e){(0,H.Z)(n,e);var t=WN(n);function n(){var e;(0,O.Z)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),(0,E.Z)((0,si.Z)(e),"handleClick",(function(){var t=e.props,n=t.onClick,r=t.onToggleCast;n(),r()})),e}return(0,C.Z)(n,[{key:"render",value:function(){var e=this.props,t=e.device,n=e.logger,r=e.index;return s.createElement(UN,{device:t,onClick:this.handleClick,logger:n,index:r})}}]),n}(s.PureComponent);(0,E.Z)(zN,"defaultProps",{device:{id:"",is_controllable:!0,is_active:!1,is_group:!1,name:"Google Cast",type:"cast_video"},onClick:function(){}});const KN=(0,Ms.$j)((function(e){return{dispatch:e.dispatch}}),(function(e){return(0,ZN.DE)({onToggleCast:GN},e)}))(zN),YN="A5IHiGTgTzOa4nvoJfvp",qN="fybkl33QkYaa2Ftgo4na",QN="iUSAh1wdhXLk9hHSbkCA",JN="kO5CUIkGb4As30mT69b0",XN="X4BH6IwOdSduRPbt7ty3",$N="wgvoYguNBOJghrTQdPed",eO="hsrxlVHxK0zZrgarkxuA",tO="uYGEIO3tb4EaYyS8kyaw";var nO=function(e){var t=e.logger,n=(0,s.useMemo)((function(){return t.createNoDevicesViewFactory()}),[t]),r=(0,Xc.Wi)(n);return s.createElement("div",{className:qN,ref:r},s.createElement("p",null,vl.ag.get("connect-picker.no-devices-info-top")),s.createElement("p",null,vl.ag.get("connect-picker.no-devices-info-bottom")),s.createElement(Il.D,{className:"connect-device-button",href:"https://www.spotify.com/connect/?utm_source=wp-picker&utm_medium=web",target:"_blank"},vl.ag.get("connect-picker.learn-more")))},rO=function(e){var t=e.devices,n=e.onClick,r=e.isVisible,i=e.isConnectBarVisible,a=e.onItemClick,o=e.castState,l=e.logger;(0,vE.H)();var c,u=(0,s.useRef)(null),d=(0,Xc.Wi)(l.getDevicePickerSpec());if((0,s.useEffect)((function(){u.current&&u.current.focus()}),[]),t.length>1||1===t.length&&!t[0].is_active||_N(o)){var m=t.filter((function(e){return!e.is_restricted&&e.name})).sort((function(e,t){return e.local?-1:t.local?1:e.name.toLowerCase().localeCompare(t.name.toLowerCase())})).map((function(e,t){var n=o===bN&&Yw(e.type)?KN:UN;return s.createElement(n,{onClick:a,key:e.id,device:e,logger:l,index:t})}));_N(o)&&m.push(s.createElement(KN,{key:"cast",onClick:a,logger:l})),c=s.createElement("ul",{className:"connect-device-list"},m)}else c=s.createElement(nO,{logger:l});return s.createElement("div",{className:Tl()("connect-device-list-container",{"connect-device-list-container--is-visible":r}),onClick:n,ref:d},s.createElement("div",{className:Tl()("connect-device-list-content",{"is-connectBarVisible":i})},s.createElement(Eu.D,{as:"div",variant:"cello",semanticColor:"textBase",className:"connect-title"},s.createElement("h3",{className:"connect-title__text",ref:u,tabIndex:"-1"},vl.ag.get("connect-picker.picker-title")),s.createElement("a",{draggable:!1,className:"connect-title__help",href:"https://www.spotify.com/connect/?utm_source=wp-picker&utm_medium=web",target:"_blank"},s.createElement(CN.S,{className:"icon",iconSize:16}),s.createElement("span",{className:"hidden-visually"},vl.ag.get("connect-picker.tooltip")))),s.createElement("div",{className:"connect-header"},s.createElement("img",{className:"connect-header__image",src:(0,vf.g)("images/connect_header@1x.png"),alt:""})),c))};rO.defaultProps={onClick:function(){},devices:[]};const iO=rO;var aO=function(e){var t,n=e.status,r=e.isPickerOpen,i=e.deviceInfo,a=e.onClick,o=qw(i.type,i.isGroup),l=(t={"encore-bright-accent-set":n===Xt.TK.CONNECTED},(0,E.Z)(t,eO,n===Xt.TK.CONNECTED),(0,E.Z)(t,$N,n===Xt.TK.CONNECTING),t);return s.createElement(Cf.w,{label:vl.ag.get("playback-control.connect-picker"),disabled:r},s.createElement("div",{className:JN},s.createElement("div",{className:Tl()(XN,l)}),s.createElement("button",{className:Tl()("control-button",{"control-button--active":n===Xt.TK.CONNECTED},QN),onClick:a},s.createElement(o,{className:Tl()((0,E.Z)({},tO,n===Xt.TK.CONNECTING)),iconSize:16,"aria-label":vl.ag.get("playback-control.connect-picker")}))))},oO=(0,C.Z)((function e(t){var n=this;(0,O.Z)(this,e),(0,E.Z)(this,"logOpenPickerWhenNotConnected",(function(){var e=n.spec.notConnectedButtonFactory().hitUiReveal();return n.logger.logInteraction(e).interactionId})),(0,E.Z)(this,"logOpenPickerWhenConnected",(function(){var e=n.spec.connectedButtonFactory().hitUiReveal();return n.logger.logInteraction(e).interactionId})),(0,E.Z)(this,"logOpenPickerWhenConnecting",(function(){var e=n.spec.connectingButtonFactory().hitUiReveal();return n.logger.logInteraction(e).interactionId})),(0,E.Z)(this,"logOpenPicker",(function(e){return e===Xt.TK.CONNECTING?n.logOpenPickerWhenConnecting():e===Xt.TK.CONNECTED?n.logOpenPickerWhenConnected():n.logOpenPickerWhenNotConnected()})),this.spec=t.spec,this.logger=t.logger})),sO=(0,C.Z)((function e(t){var n=this;(0,O.Z)(this,e),(0,E.Z)(this,"getDevicePickerSpec",(function(){return n.spec})),(0,E.Z)(this,"createNoDevicesViewFactory",(function(){return n.spec.containerViewFactory().noDevicesViewFactory()})),(0,E.Z)(this,"createLocalDeviceFactory",(function(){return n.spec.containerViewFactory().deviceListFactory().localDeviceFactory()})),(0,E.Z)(this,"createRemoteDeviceFactory",(function(e,t){return n.spec.containerViewFactory().deviceListFactory().remoteDeviceFactory({identifier:e,position:t})})),(0,E.Z)(this,"createDWPCastDeviceFactory",(function(e,t){return n.spec.containerViewFactory().deviceListFactory().castDeviceFactory({identifier:e,position:t})})),(0,E.Z)(this,"createDWPCastPlaceholderFactory",(function(){return n.spec.containerViewFactory().deviceListFactory().castPlaceholderFactory()})),(0,E.Z)(this,"logInactiveDeviceInteraction",(function(e,t,r){if(r){var i=n.createLocalDeviceFactory();return n.logger.logInteraction(i.hitPullPlaybackToLocalDevice())}var a=n.createRemoteDeviceFactory(t,e);return n.logger.logInteraction(a.hitConnectToRemoteDevice({remoteDeviceId:t}))})),(0,E.Z)(this,"logActiveDeviceInteraction",(function(e,t,r){if(r){var i=n.createLocalDeviceFactory();n.logger.logInteraction(i.hitNoAction())}else{var a=n.createRemoteDeviceFactory(t,e);n.logger.logInteraction(a.hitNoAction())}})),(0,E.Z)(this,"logActiveCastRowInteraction",(function(e,t){var r=n.createDWPCastDeviceFactory(e,t);n.logger.logInteraction(r.hitUiReveal())})),(0,E.Z)(this,"logCastPlaceholderInteraction",(function(){var e=n.createDWPCastPlaceholderFactory();n.logger.logInteraction(e.hitUiReveal())})),this.spec=t.spec,this.logger=t.logger})),lO=function(){var e,t,n=(0,Ms.I0)(),i=(0,Ms.v9)((function(e){var t,n,r;return null!==(t=null===(n=e.playback)||void 0===n?void 0:n.castState)&&void 0!==t?t:null===(r=window.cast)||void 0===r?void 0:r.framework.CastState.NO_DEVICES_AVAILABLE})),a=(0,s.useState)(!1),o=(0,r.Z)(a,2),l=o[0],c=o[1],u=(0,s.useState)(""),d=(0,r.Z)(u,2),m=d[0],p=d[1],f=ON({legacyCastPlaceholder:!0}),v=(0,Lc.D)(),g=(0,$s.O)(),h=(0,Xc.fU)(yN.createDesktopConnectDevicePickerEventFactory,{}),y=(0,Xc.fU)(hN.createDesktopConnectDevicePickerBtnEventFactory,{}),k=(0,s.useState)((function(){return new sO(h)})),E=(0,r.Z)(k,1)[0],b=(0,s.useState)((function(){return new oO(y)})),_=(0,r.Z)(b,1)[0],S=g.connectionStatus,w=S===Xt.TK.CONNECTED||S===Xt.TK.CONNECTING,N=void 0;S===Xt.TK.CONNECTED?N=g.activeDevice:S===Xt.TK.CONNECTING&&(N=g.connectingDevice);var O=g.devices.map((function(e){return{id:e.id,name:e.name,type:e.type,is_group:e.isGroup,is_active:e.isActive,is_controllable:!e.isDisabled,local:e.isLocal,hifiSupport:e.hifiSupport}})),C=(0,s.useCallback)((function(){v.getCapabilities().supportsLocalDiscovery&&v.discoverDevices()}),[v]),T=(0,s.useCallback)((function(){p(_.logOpenPicker(S))}),[_,S,p]),I=(0,s.useCallback)((function(){T(),C(),n((0,Us.bW)()),c(!0)}),[n,C,T]),A=(0,s.useCallback)((function(){f(m),n((0,Us.$B)()),c(!1)}),[n,f,m]),P=(0,s.useCallback)((function(e){e.nativeEvent.stopImmediatePropagation(),l?A():I()}),[I,A,l]),D=(0,s.useCallback)((function(e){"Escape"===e.key&&A()}),[A]),R=(0,s.useCallback)((function(){A()}),[A]),x=(0,s.useCallback)((function(e){e.nativeEvent.stopImmediatePropagation()}),[]);return(0,s.useEffect)((function(){return l&&(document.addEventListener("keydown",D),document.addEventListener("click",R)),function(){document.removeEventListener("keydown",D),document.removeEventListener("click",R)}}),[l,D,R]),(0,s.useEffect)((function(){return function(){(0,Us.$B)()}})),s.createElement("div",{className:YN},s.createElement(aO,{status:S,isPickerOpen:l,deviceInfo:{type:null===(e=N)||void 0===e?void 0:e.type,isGroup:null===(t=N)||void 0===t?void 0:t.isGroup},onClick:P}),l?s.createElement(iO,{onClick:x,onItemClick:function(e,t){var n;e&&e!==(null===(n=g.activeDevice)||void 0===n?void 0:n.id)&&v.transferPlayback(e,t),A()},devices:O,isVisible:l,isConnectBarVisible:w,castState:i,logger:E}):null)},cO=n(79896);const uO="main-devicePicker-controlButton",dO="main-devicePicker-button",mO="main-devicePicker-indicator",pO="main-devicePicker-connecting",fO="main-devicePicker-connected",vO="main-devicePicker-connectingIcon";var gO="device-picker-icon-button",hO=s.forwardRef((function(e,t){var n,r=e.status,i=e.isPickerOpen,a=e.deviceInfo,o=e.onClick,l=e.onLogInteraction,c=(0,Xc.fU)(hN.createDesktopConnectDevicePickerBtnEventFactory,{}),u=c.spec,d=c.logger,m=qw(a.type,a.isGroup),p=(n={"encore-bright-accent-set":r===Xt.TK.CONNECTED},(0,E.Z)(n,fO,r===Xt.TK.CONNECTED),(0,E.Z)(n,pO,r===Xt.TK.CONNECTING),n);return s.createElement(Cf.w,{label:vl.ag.get("playback-control.connect-picker"),disabled:i},s.createElement("div",{className:dO},s.createElement("div",{className:Tl()(mO,p)}),s.createElement("button",{className:Tl()("control-button",{"control-button--active":r===Xt.TK.CONNECTED},uO),onClick:function(e){var t=d.logInteraction(function(e,t,n){var r;return r=t===Xt.TK.CONNECTING?e.connectingButtonFactory():t===Xt.TK.CONNECTED?e.connectedButtonFactory():e.notConnectedButtonFactory(),n?r.hitUiHide():r.hitUiReveal()}(u,r,i)),n=t.interactionId;null==l||l(n),null==o||o(e)},ref:t,"aria-expanded":i,id:gO},s.createElement(m,{className:Tl()((0,E.Z)({},vO,r===Xt.TK.CONNECTING)),iconSize:16,"aria-label":vl.ag.get("playback-control.connect-picker")}))))})),yO=function(){var e=(0,ul.qT)();(0,s.useEffect)((function(){var t=function(t){"Escape"===t.key&&e({type:"close"})};return document.addEventListener("keydown",t),function(){document.removeEventListener("keydown",t)}}),[e])},kO=n(69691),EO=n(35480);const bO="main-devicePicker-tooltip",_O="main-devicePicker-tooltipContent",SO="NY718ElwUbdZDytyiOBX",wO="main-devicePicker-sectionWrapper",NO="bzmsYhq8qXerwAFF0AUJ",OO="ErSD7TARZzk270zuVjoi",CO="lO__l5r92n_Ypx9wHL2i",TO="J4rkkb62IwlE9sNh_cft",IO="main-devicePicker-devices",AO="main-devicePicker-connectBarVisible",PO="VqUjiYOlfxlk_lFOusZ7",DO="main-devicePicker-devicesList",RO="main-devicePicker-section",xO="main-devicePicker-heading",LO="main-devicePicker-sectionHeading",FO="main-devicePicker-header",UO="hcuLp8V4uEEfWZ4k6aLV",ZO="_k3JjF2rHwdYfSPZH09S",MO="main-devicePicker-nowPlayingActiveIcon",BO="MNgY3fBEKs4U6SbZD2lo",jO="main-devicePicker-headingContent",VO="main-devicePicker-headingConnected",HO="main-devicePicker-headingTitle",GO="main-devicePicker-headingSubtitle",WO="main-devicePicker-headingTechIcon",zO="mRU5_ANCjbwEWMpQZAKI",KO="_TOFVR3NTBR51N6BHDth",YO="main-devicePicker-troubleshooting",qO="main-devicePicker-troubleshootingItemIcon",QO="main-devicePicker-troubleshootingItemSubtitle",JO="rsaJ_PD5Wsx9a9H2IyV_",XO="uBthvyMcAxMlCFFpafAJ",$O="gjcW3C9lFUaizYicV2Ky",eC="d03rm63o9oNz4ePSJqcJ",tC="iLv0NHO4Fxyuc1rTBI1Z";var nC="https://support.spotify.com/article/spotify-connect/",rC=function(e){var t=e.className,n=(0,Xc.fU)(EO.createDesktopConnectDevicePickerEventFactory,{}),r=n.spec,i=n.logger,a=r.containerViewFactory().externalHelpLinkFactory(),o=(0,Xc.Wi)(a);return s.createElement("a",{className:Tl()(xO,UO,JO,t),href:nC,style:{textDecoration:"none"},target:"_blank",onClick:function(){i.logInteraction(a.hitNavigateToExternalUri({destination:nC}))},ref:o},s.createElement(Eu.D,{as:"p",variant:"ballad",semanticColor:"textBase",className:$O},vl.ag.get("web-player.connect.device-picker.help-external-link")),s.createElement(lE.T,{iconSize:16,"":"icon-external-link",semanticColor:"textSubdued",className:XO,autoMirror:!0}))},iC=n(48690),aC=n(17252),oC=n(68554),sC=n(49874),lC=n(69559);const cC="main-trackInfo-overlay",uC="main-trackInfo-rightToLeft",dC="main-trackInfo-equalGradientWidth",mC="main-trackInfo-contentContainer",pC="main-trackInfo-contentWrapper";var fC=function(e){var t=e.children,n=e.title,r=e.speed,i=void 0===r?.2:r,a=e.pauseAtEndEdgeDurationMs,o=void 0===a?1200:a,l=e.initialMouseIntDelayMs,c=void 0===l?200:l,u=e.startAnimationOnMount,d=void 0===u||u,m=e.startAnimationOnMountDelayMs,p=void 0===m?1e3:m,f=e.iterationCount,v=void 0===f?"single":f,g=e.iterationCountOnTouchDevices,h=void 0===g?"infinite":g,y=e.scrollMethod,k=void 0===y?"transform":y,E=e.equalGradientWidth,b=(0,s.useRef)(null),_=(0,s.useRef)(null),S=(0,s.useRef)(null),w=(0,s.useRef)(0),N=(0,s.useRef)("scrolling"),O=(0,Ms.v9)((function(e){var t,n;return null!==(t=e.ui)&&void 0!==t&&null!==(n=t.textDirection)&&void 0!==n&&n.isRTL?"rtl":"ltr"})),C=(0,s.useRef)("ltr"),T=(0,s.useRef)(v),I=(0,sC.T)(),A=(0,oC.a)("(any-pointer: coarse)"),P=(0,s.useRef)({initialMouseInteraction:null,animationOnMount:null}),D=(0,s.useCallback)((function(){return S.current&&b.current?S.current.clientWidth-b.current.clientWidth:0}),[]),R=(0,s.useCallback)((function(){return"rtl"===C.current?1:-1}),[C]),x=(0,s.useCallback)((function(){var e=D();return e>0&&O!==C.current?0+-1*R()*e:0}),[D,O,R]),L=(0,s.useCallback)((function(){var e;null===(e=S.current)||void 0===e||e.style.setProperty("--trans-x","".concat(x(),"px"))}),[x]),F=(0,s.useCallback)((function(){if(!I&&!w.current){var e=!1,t=0,n=1,r=!1;N.current="scrolling",function a(s){var l=D();if(!(l<=0)){var c=!0,u=t;if(e){if(r)s>r+o&&(r=!1);else if("paused"===N.current);else{(u+=n*(60*(s-e)/1e3)*i)>l?(n*=-1,r=s,u=l):u<0&&(n*=-1,r=s,u=0,c="infinite"===T.current)}if(t=u,"transform"===k){var d,m=R()*t+x();null===(d=S.current)||void 0===d||d.style.setProperty("--trans-x","".concat(m,"px")),_.current.scrollLeft=0}else"scroll"===k&&(_.current.scrollLeft=t)}e=s,w.current=0,c&&(w.current=requestAnimationFrame(a))}}(0)}}),[i,o,k,R,x,D,I]),U=(0,s.useCallback)((function(){return w.current}),[]),Z=(0,s.useCallback)((function(){N.current="paused"}),[]),M=(0,s.useCallback)((function(){N.current="scrolling"}),[]),B=(0,s.useCallback)((function(){cancelAnimationFrame(w.current),N.current="paused",w.current=0}),[]),j=(0,s.useCallback)((function(){Object.values(P.current).forEach((function(e){return e&&clearTimeout(e)}))}),[]),V=(0,s.useCallback)((function(e){U()?Z():"focus"!==e&&(P.current.initialMouseInteraction=setTimeout(F,c))}),[F,Z,c,U]),H=(0,s.useCallback)((function(){P.current.initialMouseInteraction&&clearTimeout(P.current.initialMouseInteraction),U()&&M()}),[M,U]);return(0,s.useEffect)((function(){d&&(P.current.animationOnMount&&clearTimeout(P.current.animationOnMount),P.current.animationOnMount=setTimeout(F,p))}),[F,p,d]),(0,s.useEffect)((function(){return function(){B(),j(),L()}}),[B,j,L]),(0,s.useEffect)((function(){var e,t,n=null===(e=S.current)||void 0===e?void 0:e.children[0];n&&(C.current=getComputedStyle(n).direction,"rtl"===C.current&&(null===(t=b.current)||void 0===t||t.classList.add(uC)));L()}),[O,x,L]),(0,lC.a)((function(){B(),L()})),(0,s.useEffect)((function(){A&&(T.current=h)}),[A,h]),s.createElement("div",{ref:b,className:Tl()(cC,E&&dC),onMouseOver:function(){return V("mouse")},onFocus:function(){return V("focus")},onMouseOut:H,onBlur:H,title:I&&n?n:void 0},s.createElement("div",{ref:_,className:mC},s.createElement("div",{ref:S,className:Tl()(pC,E&&dC)},t)))},vC=function(e){var t=e.customClassName;return s.createElement("svg",{width:"29",height:"16",viewBox:"0 0 29 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:t},s.createElement("title",null,"HiFi"),s.createElement("rect",{width:"29",height:"16",rx:"2",className:CO}),s.createElement("path",{d:"M11.882 11.5V4.7645H10.3715V7.4055H7.683V4.7645H6.182V11.5H7.683V8.821H10.3715V11.5H11.882ZM14.6918 11.5V6.7785H13.2478V11.5H14.6918ZM13.1243 5.3345C13.1243 5.8 13.5043 6.18 13.9603 6.18C14.4353 6.18 14.8153 5.8 14.8153 5.3345C14.8153 4.869 14.4353 4.489 13.9603 4.489C13.5043 4.489 13.1243 4.869 13.1243 5.3345ZM17.5729 11.5V8.9825H20.0619V7.6145H17.5634V6.1895H20.4039V4.7645H16.0624V11.5H17.5729ZM22.8002 11.5V6.7785H21.3562V11.5H22.8002ZM21.2327 5.3345C21.2327 5.8 21.6127 6.18 22.0687 6.18C22.5437 6.18 22.9237 5.8 22.9237 5.3345C22.9237 4.869 22.5437 4.489 22.0687 4.489C21.6127 4.489 21.2327 4.869 21.2327 5.3345Z",fill:"white"}))},gC=s.forwardRef((function(e,t){var n=e.rowKey,r=e.Icon,i=e.TechIcon,a=e.title,o=e.subtitle,l=e.helpTooltip,c=e.supportsHiFi,u=e.shouldShowContextMenu,d=e.isDisabled,m=e.onClick,p=(0,v.wW)(),f=!d&&p&&c,g=(0,ul.qT)(),h=(0,Ms.v9)((function(e){return e.ui.textDirection.isRTL}));return s.createElement("li",{className:NO,ref:t},s.createElement("button",{className:Tl()(UO,OO),onClick:function(){m&&m(),g({type:"close"})},disabled:d},s.createElement("div",{className:Tl()(xO,BO)},s.createElement(r,{iconSize:32,semanticColor:d?void 0:"textBase",className:MO,"":"main-icon",role:"presentation"}),s.createElement("div",{className:Tl()(zO,u&&VO)},s.createElement("div",{className:GO},s.createElement("div",{className:HO},s.createElement(fC,{key:"picker-row-title-".concat(n),equalGradientWidth:!0},s.createElement(Eu.D,{as:"h4",variant:"ballad",semanticColor:d?void 0:"textBase",className:ZO},a))),f&&s.createElement(vC,{customClassName:KO})),s.createElement("div",{className:GO},i&&s.createElement(i,{iconSize:16,semanticColor:"textSubdued",className:WO,"":"sub-icon",role:"presentation"}),o&&s.createElement("div",{className:HO},s.createElement(fC,{key:"picker-row-subtitle-".concat(n),equalGradientWidth:!0},s.createElement(Eu.D,{as:"p",variant:"finale",semanticColor:d?void 0:"textSubdued",className:ZO},o))),l&&s.createElement("div",{className:eC},s.createElement(aC.e,{message:l,placement:h?"right":"left",messageClassName:tC})))))),!d&&u&&s.createElement(tv.yj,{menu:null},s.createElement(iC.z,{size:16,label:vl.ag.get("more.label.context",a),onClick:function(){},className:TO})))})),hC=function(e){var t=e.position,n=e.deviceId,r=e.deviceName,i=e.deviceType,a=e.isGroup,o=e.disabledReason,l=(0,Xc.fU)(EO.createDesktopConnectDevicePickerEventFactory,{}).spec,c=qw(i,a),u=function(e){var t,n;switch(e){case Xt.uP.PREMIUM_REQUIRED:t=vl.ag.get("web-player.connect.device-picker.premium-required"),n=vl.ag.get("web-player.connect.device-picker.premium-required-tooltip");break;case Xt.uP.NOT_INSTALLED:t=vl.ag.get("web-player.connect.device-picker.not-installed");break;case Xt.uP.UNSUPPORTED_URI:t=vl.ag.get("web-player.connect.device-picker.unsupported-uri");break;case Xt.uP.UNAVAILABLE:case Xt.uP.INCOMPATIBLE:case Xt.uP.NOT_AUTHORIZED:case Xt.uP.UNKNOWN:t=vl.ag.get("web-player.connect.device-picker.unavailable")}return{helpText:t,tooltip:n}}(o),d=u.helpText,m=u.tooltip,p=l.containerViewFactory().deviceListFactory().disabledDeviceFactory({identifier:n,position:t,reason:o}),f=(0,Xc.Wi)(p);return s.createElement(gC,{rowKey:n,ref:f,isDisabled:!0,Icon:c,title:r,subtitle:d,helpTooltip:m,shouldShowContextMenu:!1})},yC=function(){var e=(0,Xc.fU)(EO.createDesktopConnectDevicePickerEventFactory,{}),t=e.spec,n=e.logger,r=(0,Ms.I0)(),i=t.containerViewFactory().deviceListFactory().castPlaceholderFactory(),a=(0,Xc.Wi)(i),o=Qw(Xt.Yi.CAST_AUDIO,"disconnected");return s.createElement(gC,{rowKey:"cast-placeholder",ref:a,Icon:o,title:vl.ag.get("web-player.connect.device-picker.google-cast-devices"),supportsHiFi:!1,shouldShowContextMenu:!1,onClick:function(){n.logInteraction(i.hitUiReveal()),r(GN())}})},kC=function(e){var t=e.deviceId,n=e.supportsHiFi,r=(0,Xc.fU)(EO.createDesktopConnectDevicePickerEventFactory,{}),i=r.spec,a=r.logger,o=i.containerViewFactory().deviceListFactory().localDeviceFactory(),l=qw(Xt.Yi.COMPUTER,!1),c=(0,v.wW)()?vl.ag.get("web-player.connect.device-picker.this-computer"):vl.ag.get("web-player.connect.device-picker.this-web-browser"),u=(0,Lc.D)();return s.createElement(gC,{rowKey:t,Icon:l,title:c,supportsHiFi:n,shouldShowContextMenu:!1,onClick:function(){var e=a.logInteraction(o.hitPullPlaybackToLocalDevice()),n=e.interactionId,r=e.pageInstanceId;u.transferPlayback(t,{interactionId:n,pageInstanceId:r})}})},EC=function(e){var t,n=e.position,r=e.deviceId,i=e.deviceName,a=e.deviceType,o=e.isGroup,l=e.supportsHiFi,c=(0,Xc.fU)(EO.createDesktopConnectDevicePickerEventFactory,{}),u=c.spec,d=c.logger,m=u.containerViewFactory().deviceListFactory().remoteDeviceFactory({identifier:r,position:n}),p=qw(a,o),f=void 0;Yw(a)&&(t=Qw(a,"disconnected"),f=vl.ag.get("web-player.connect.device-picker.google-cast"));var v=(0,Lc.D)(),g=(0,Xc.Wi)(m);return s.createElement(gC,{rowKey:r,ref:g,Icon:p,TechIcon:t,title:i,subtitle:f,supportsHiFi:l,shouldShowContextMenu:!1,onClick:function(){var e=d.logInteraction(m.hitConnectToRemoteDevice({remoteDeviceId:r})),t=e.interactionId,n=e.pageInstanceId;v.transferPlayback(r,{interactionId:t,pageInstanceId:n})}})},bC=function(e){var t=e.devices,n=e.areWebPlayerCastDevicesAvailable,r=t.find((function(e){return e.isLocal&&!e.isActive})),i=t.filter((function(e){return e.name.length>0&&!e.isLocal&&!e.isActive})).sort((function(e,t){return e.name.toLowerCase().localeCompare(t.name.toLowerCase())}));return s.createElement(s.Fragment,null,s.createElement(CE.U,{className:Tl()(IO,wO)},s.createElement("div",{className:DO},s.createElement("ul",null,r&&s.createElement(kC,{deviceId:r.id,supportsHiFi:r.hifiSupport.fullySupported}),i&&i.map((function(e,t){var n,r=t+1;return e.isDisabled?s.createElement(hC,{key:e.id,position:r,deviceId:e.id,deviceName:e.name,deviceType:e.type,isGroup:e.isGroup,disabledReason:null!==(n=e.currentState)&&void 0!==n?n:Xt.uP.UNKNOWN}):s.createElement(EC,{key:e.id,position:r,deviceId:e.id,deviceName:e.name,deviceType:e.type,isGroup:e.isGroup,supportsHiFi:e.hifiSupport.fullySupported})})),n&&s.createElement(yC,null)),s.createElement(rC,null))),s.createElement("div",{className:PO}))},_C=function(e){var t=e.foundDevices?vl.ag.get("web-player.connect.device-picker.select-another-device"):vl.ag.get("web-player.connect.device-picker.no-devices-found");return s.createElement("span",{className:LO},s.createElement(Eu.D,{as:"h3",variant:"balladBold",semanticColor:"textBase",className:LO},t))},SC=n(9238),wC=n(71104),NC=n(35117),OC=function(e){var t=e.title,n=e.subtitle,r=e.Icon;return s.createElement("div",{className:xO},s.createElement(r,{iconSize:24,semanticColor:"textSubdued",className:qO,role:"presentation"}),s.createElement("div",{className:jO},s.createElement(Eu.D,{as:"h4",variant:"ballad",semanticColor:"textBase"},t),s.createElement(Eu.D,{as:"p",variant:"mesto",semanticColor:"textSubdued",className:QO},n)))},CC=function(e){var t=e.isDesktop,n=(0,Xc.fU)(EO.createDesktopConnectDevicePickerEventFactory,{}).spec.containerViewFactory().noDevicesViewFactory(),r=(0,Xc.Wi)(n);return s.createElement("div",{className:YO,ref:r},s.createElement(OC,{Icon:SC.G,title:vl.ag.get("web-player.connect.device-picker.check-wifi"),subtitle:vl.ag.get("web-player.connect.device-picker.check-wifi-subtitle")}),s.createElement(OC,{Icon:wC.Q,title:vl.ag.get("web-player.connect.device-picker.play-from-another"),subtitle:vl.ag.get("web-player.connect.device-picker.play-from-another-subtitle")}),t?s.createElement(OC,{Icon:NC.A,title:vl.ag.get("web-player.connect.device-picker.restart-speaker"),subtitle:vl.ag.get("web-player.connect.device-picker.restart-speaker-subtitle")}):s.createElement(OC,{Icon:lw.D,title:vl.ag.get("web-player.connect.device-picker.switch-to-app"),subtitle:vl.ag.get("web-player.connect.device-picker.switch-to-app-subtitle")}),s.createElement("div",{className:wO},s.createElement(rC,null)))},TC=function(e){var t=e.devices,n=e.areWebPlayerCastDevicesAvailable,r=Boolean(t.find((function(e){return!e.isLocal})))||n,i=(0,v.wW)();return s.createElement("div",{className:RO},s.createElement(_C,{foundDevices:r}),r?s.createElement(bC,{devices:t,areWebPlayerCastDevicesAvailable:n}):s.createElement(CC,{isDesktop:i}))},IC=n(5441),AC=function(){var e=(0,sC.T)();return s.createElement(s.Fragment,null,e?s.createElement(IC.i,{iconSize:32,semanticColor:"textBrightAccent",className:MO,"":"now-playing-active"}):s.createElement("img",{className:MO,width:"32",height:"32",alt:"","aria-hidden":"true",src:(0,vf.g)("images/device-picker-equaliser-animation.webp"),"":"animated-now-playing"}))},PC=function(e){var t,n=e.isLocalDevice,r=e.deviceName,i=e.deviceType,a=e.isGroup,o=e.supportsHiFi,l=e.isPlaying,c=(0,v.wW)(),u=c&&o;if(l)t=s.createElement(AC,null);else{var d=qw(i,a);t=s.createElement(d,{iconSize:32,semanticColor:"textBrightAccent",className:MO,"":"device-icon",role:"presentation"})}var m,p,f=s.createElement("div",{className:HO},s.createElement(fC,{key:"picker-header-title-".concat(r),equalGradientWidth:!0},s.createElement(Eu.D,{as:"h2",variant:"cello",semanticColor:"textBase"},vl.ag.get("web-player.connect.device-picker.current-device"))));n?m=c?vl.ag.get("web-player.connect.device-picker.this-computer"):vl.ag.get("web-player.connect.device-picker.this-web-browser"):(m=r,p=Qw(i,"connected"));var g=s.createElement("div",{className:GO},p&&s.createElement(p,{iconSize:16,semanticColor:"textBrightAccent",className:WO,"":"tech-icon"}),s.createElement("div",{className:HO},s.createElement(fC,{key:"picker-header-subtitle-".concat(r),equalGradientWidth:!0},s.createElement(Eu.D,{as:"p",variant:"ballad",semanticColor:"textBrightAccent"},m))),u&&s.createElement(vC,{customClassName:KO}));return s.createElement("div",{className:Tl()(xO,FO)},t,s.createElement("div",{className:Tl()(jO,false)},f,g),false)},DC=function(e){var t=e.isConnectBarVisible,n=void 0!==t&&t,r=e.tooltipTriggerId;yO();var i={id:"",name:"",type:Xt.Yi.COMPUTER,isGroup:!1,isLocal:!0,isActive:!0,isConnecting:!1,isDisabled:!1,volume:0,hifiSupport:{fullySupported:!1,deviceSupported:!1,userEligible:!1}},a=(0,$s.O)(),o=a.activeDevice,l=a.devices,c=null!=o?o:i,u=SN((0,Ms.v9)((function(e){var t,n,r;return null!==(t=null===(n=e.playback)||void 0===n?void 0:n.castState)&&void 0!==t?t:null===(r=window.cast)||void 0===r?void 0:r.framework.CastState.NO_DEVICES_AVAILABLE}))),d=(0,kO.IK)().isPlaying;return s.createElement(cO.yv,{className:Tl()(bO,n&&AO),arrowClassName:SO},s.createElement("div",{"aria-labelledby":r,className:_O},s.createElement(PC,{isLocalDevice:c.isLocal,deviceName:c.name,deviceType:c.type,isGroup:c.isGroup,supportsHiFi:c.hifiSupport.fullySupported,isPlaying:d}),s.createElement(TC,{devices:l,areWebPlayerCastDevicesAvailable:u})))},RC=function(){var e,t,n=(0,Ms.I0)(),i=(0,s.useState)(!1),a=(0,r.Z)(i,2),o=a[0],l=a[1],c=(0,s.useState)(""),u=(0,r.Z)(c,2),d=u[0],m=u[1],p=(0,Lc.D)(),f=NN((function(e){return{connectionStatus:e.connectionStatus,activeDevice:e.activeDevice,connectingDevice:e.connectingDevice}}),ed.V),v=f.connectionStatus,g=v===Xt.TK.CONNECTED||v===Xt.TK.CONNECTING,h=void 0;v===Xt.TK.CONNECTED?h=f.activeDevice:v===Xt.TK.CONNECTING&&(h=f.connectingDevice);var y=(0,s.useCallback)((function(){p.getCapabilities().supportsLocalDiscovery&&p.discoverDevices(),n((0,Us.bW)()),l(!0)}),[p,n]),k=ON(),E=(0,s.useCallback)((function(){k(d),n((0,Us.$B)()),l(!1)}),[l,k,d,n]);return s.createElement(cO.Nt,{trigger:"click",action:"toggle",content:s.createElement(DC,{isConnectBarVisible:g,tooltipTriggerId:gO}),onShow:y,onHide:E,offset:[0,12],placement:"top"},s.createElement(hO,{isPickerOpen:o,status:v,deviceInfo:{type:null===(e=h)||void 0===e?void 0:e.type,isGroup:null===(t=h)||void 0===t?void 0:t.isGroup},onLogInteraction:function(e){o||m(e)}}))},xC=function(){return s.createElement(Fk.F,{property:vs.k6,renderNewExperience:function(){return s.createElement(RC,null)},renderOldExperience:function(){return s.createElement(lO,null)}})},LC=n(50054);function FC(e){return e.playback}var UC,ZC,MC,BC,jC=function(e){var t,n;return null!==(t=e.playback)&&void 0!==t&&null!==(n=t.device)&&void 0!==n&&n.is_active?e.playback.device:null};function VC(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return HC(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return HC(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function HC(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}!function(e){e.bitrateLevel="bitrateLevel",e.targetBitrateLevel="targetBitrateLevel",e.targetBitrateAvailable="targetBitrateAvailable",e.strategy="strategy",e.isLocal="isLocal",e.autoAdjust="autoAdjust",e.deviceSupported="deviceSupported"}(UC||(UC={})),function(e){e.Bluetooth_Degrades_HiFi="Bluetooth_Degrades_HiFi",e.Change_Cellular_Settings="Change_Cellular_Settings",e.Connect_Explanation="Connect_Explanation",e.Default_To_Very_High="Default_To_Very_High",e.Need_To_Redownload="Need_To_Redownload",e.Opt_Out_Of_Downgrade="Opt_Out_Of_Downgrade",e.Poor_Bandwidth_Interferes="Poor_Bandwidth_Interferes"}(ZC||(ZC={})),function(e){e[e.Internet=0]="Internet",e[e.Spotify_Connect=1]="Spotify_Connect",e[e.Downloads=2]="Downloads"}(MC||(MC={})),function(e){e.Good="good",e.Poor="poor",e.Unknown="unknown",e.Unavailable="unavailable"}(BC||(BC={}));var GC=[{criteria:{online:!0,streamingHiFi:!1,targetingHiFi:!1,bitrateStrategy:[Te.kZ.CACHED_FILE,Te.kZ.BACKEND_ADVISED,Te.kZ.BEST_MATCHING],trackHiFiAvailable:!0},result:ZC.Change_Cellular_Settings},{criteria:{online:!0,autoAdjust:!1,trackHiFiAvailable:!0},result:ZC.Opt_Out_Of_Downgrade},{criteria:{online:!0,streamingHiFi:!1,targetingHiFi:!0,deviceCompatible:!0,internetBandwidth:BC.Poor,trackHiFiAvailable:!0},result:ZC.Poor_Bandwidth_Interferes},{criteria:{online:!0,autoAdjust:!0,streamingHiFi:!1,targetingHiFi:!1,deviceCompatible:!0,internetBandwidth:BC.Poor,trackHiFiAvailable:!0},result:ZC.Default_To_Very_High},{criteria:{online:!0,streamingHiFi:!1,bitrateStrategy:[Te.kZ.OFFLINED_FILE],trackHiFiAvailable:!0},result:ZC.Need_To_Redownload},{criteria:{online:!0,streamingHiFi:!0,trackHiFiAvailable:!0},result:ZC.Connect_Explanation}];var WC=[{criteria:{bitrateLevel:[Te.M4.HIFI],strategy:[Te.kZ.BEST_MATCHING,Te.kZ.BACKEND_ADVISED,Te.kZ.CACHED_FILE],deviceSupported:!0,autoAdjust:!0},result:BC.Good},{criteria:{bitrateLevel:[Te.M4.LOW,Te.M4.NORMAL,Te.M4.HIGH,Te.M4.VERY_HIGH],targetBitrateLevel:[Te.M4.LOW,Te.M4.NORMAL,Te.M4.HIGH,Te.M4.VERY_HIGH],strategy:[Te.kZ.BEST_MATCHING,Te.kZ.CACHED_FILE],deviceSupported:!0,autoAdjust:!0},result:BC.Good},{criteria:{bitrateLevel:[Te.M4.LOW,Te.M4.NORMAL,Te.M4.HIGH,Te.M4.VERY_HIGH],targetBitrateLevel:[Te.M4.HIFI],strategy:[Te.kZ.BEST_MATCHING,Te.kZ.BACKEND_ADVISED,Te.kZ.CACHED_FILE],targetBitrateAvailable:!0,deviceSupported:!0,autoAdjust:!0},result:BC.Poor},{criteria:{bitrateLevel:[Te.M4.LOW,Te.M4.NORMAL,Te.M4.HIGH,Te.M4.VERY_HIGH],targetBitrateLevel:[Te.M4.LOW,Te.M4.NORMAL,Te.M4.HIGH,Te.M4.VERY_HIGH],strategy:[Te.kZ.BACKEND_ADVISED],deviceSupported:!0,autoAdjust:!0},result:BC.Poor},{criteria:{bitrateLevel:[Te.M4.LOW,Te.M4.NORMAL,Te.M4.HIGH,Te.M4.VERY_HIGH],targetBitrateLevel:[Te.M4.HIFI],targetBitrateAvailable:!1,deviceSupported:!0,autoAdjust:!0},result:BC.Unavailable},{criteria:{autoAdjust:!1},result:BC.Unknown},{criteria:{deviceSupported:!1},result:BC.Unknown}],zC=[{criteria:{bitrateLevel:[Te.M4.HIFI],deviceSupported:!0},result:!0},{criteria:{bitrateLevel:[Te.M4.UNKNOWN,Te.M4.LOW,Te.M4.NORMAL,Te.M4.HIGH,Te.M4.VERY_HIGH],strategy:[Te.kZ.BEST_MATCHING,Te.kZ.BACKEND_ADVISED,Te.kZ.CACHED_FILE],targetBitrateLevel:[Te.M4.HIFI],targetBitrateAvailable:!0,deviceSupported:!0},result:!0},{criteria:{bitrateLevel:[Te.M4.UNKNOWN,Te.M4.LOW,Te.M4.NORMAL,Te.M4.HIGH,Te.M4.VERY_HIGH],strategy:[Te.kZ.OFFLINED_FILE],targetBitrateLevel:[Te.M4.HIFI],targetBitrateAvailable:!0,deviceSupported:!0},result:!1},{criteria:{strategy:[Te.kZ.BEST_MATCHING,Te.kZ.BACKEND_ADVISED,Te.kZ.CACHED_FILE],targetBitrateAvailable:!0,deviceSupported:!0},result:!1},{criteria:{deviceSupported:!1},result:!0},{criteria:{bitrateLevel:[Te.M4.UNKNOWN,Te.M4.LOW,Te.M4.NORMAL,Te.M4.HIGH,Te.M4.VERY_HIGH],targetBitrateLevel:[Te.M4.HIFI],targetBitrateAvailable:!1,deviceSupported:!0},result:!0},{criteria:{targetBitrateLevel:[Te.M4.HIFI]},result:!0}];function KC(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return YC(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return YC(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function YC(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var qC=function(e,t){for(var n=0,i=Object.entries(t.criteria);n<i.length;n++){var a=(0,r.Z)(i[n],2),o=a[0],s=a[1];if(o===UC.bitrateLevel){if(!s.includes(e[UC.bitrateLevel]))return!1}else if(o===UC.targetBitrateLevel){if(!s.includes(e[UC.targetBitrateLevel]))return!1}else if(o===UC.strategy){if(!s.includes(e[UC.strategy]))return!1}else{if(!s===e[o])return!1}}return!0};function QC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function JC(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?QC(Object(n),!0).forEach((function(t){(0,E.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QC(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var XC={hifiStatus:Te.dR.NONE,bitrateLevel:Te.M4.UNKNOWN,targetBitrateLevel:Te.M4.UNKNOWN,targetBitrateAvailable:!1,strategy:Te.kZ.UNKNOWN};function $C(){var e,t=(0,el.Y)((function(e){var t;return JC(JC({},XC),null!==(t=null==e?void 0:e.playbackQuality)&&void 0!==t?t:null)}),ed.V),n=t.hifiStatus,r=t.bitrateLevel,i=t.targetBitrateLevel,a=t.targetBitrateAvailable,o=t.strategy,l=(0,Ms.v9)(jC),c=(0,s.useMemo)((function(){return null!==l&&l.hifiSupport?l.hifiSupport:{fullySupported:!1,deviceSupported:!1,userEligible:!1}}),[l]).deviceSupported,u=(0,LC.r)().settings.values["auto.allow_downgrade"],d=(null==l?void 0:l.local)||!1;e=d?o===Te.kZ.CACHED_FILE||o===Te.kZ.OFFLINED_FILE?MC.Downloads:MC.Internet:MC.Spotify_Connect;var m={bitrateLevel:r,targetBitrateLevel:i,targetBitrateAvailable:a,strategy:o,isLocal:d,deviceSupported:c,autoAdjust:u},p=function(e){var t,n=KC(zC);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(qC(e,r))return r.result}}catch(e){n.e(e)}finally{n.f()}return e[UC.bitrateLevel]===Te.M4.HIFI||e[UC.targetBitrateLevel]===Te.M4.HIFI}(m),f=function(e){var t,n=KC(WC);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(qC(e,r))return r.result}}catch(e){n.e(e)}finally{n.f()}return e[UC.strategy]===Te.kZ.BACKEND_ADVISED?BC.Poor:BC.Good}(m),v=(0,Ms.v9)((function(e){return e.onlineStatus.online})),g=i===Te.M4.HIFI&&a,h=function(e){var t,n=e.online,r=e.streamingHiFi,i=e.targetingHiFi,a=e.strategy,o=e.trackHiFiAvailable,s=e.autoAdjust,l=e.internetBandwidth,c=e.hifiCompatibleDevice,u=e.isLocal,d=[],m=VC(GC);try{for(m.s();!(t=m.n()).done;){var p=t.value,f=p.criteria,v=p.result;f.online===n&&(void 0!==f.autoAdjust&&f.autoAdjust!==s||void 0!==f.streamingHiFi&&f.streamingHiFi!==r||void 0!==f.targetingHiFi&&f.targetingHiFi!==i||void 0!==f.deviceCompatible&&f.deviceCompatible!==c||void 0!==f.bitrateStrategy&&!1===u||(void 0===f.bitrateStrategy||void 0!==a&&f.bitrateStrategy.includes(a))&&(void 0!==f.internetBandwidth&&f.internetBandwidth!==l||void 0!==f.trackHiFiAvailable&&f.trackHiFiAvailable!==o||d.push(v)))}}catch(e){m.e(e)}finally{m.f()}return d}({online:v,streamingHiFi:r===Te.M4.HIFI,targetingHiFi:i===Te.M4.HIFI,strategy:o,trackHiFiAvailable:g,autoAdjust:u,internetBandwidth:f,hifiCompatibleDevice:c,isLocal:d});return{hifiStatus:n,bitrateLevel:r,flags:h,internetBandwidth:f,playingVia:{channelIsHiFi:p,channel:e},hifiCompatibleDevice:c}}var eT,tT=n(25678),nT=(n(92087),eT={},(0,E.Z)(eT,ZC.Connect_Explanation,(function(){return vl.ag.get("hifi.connectExplanation","<img src='images/connect-to-devices-white.svg'\n        alt='".concat(vl.ag.get("spotify-connect"),'\' width="16" height="16"/>'),"<img src='images/hifi.svg'\n    alt='".concat(vl.ag.get("desktop.settings.streamingQualityHiFi"),'\' width="16" height="7"/>'))})),(0,E.Z)(eT,ZC.Change_Cellular_Settings,(function(){return vl.ag.get("hifi.changeCellularSettings")})),(0,E.Z)(eT,ZC.Opt_Out_Of_Downgrade,(function(){return vl.ag.get("hifi.optOutOfDowngrade")})),(0,E.Z)(eT,ZC.Poor_Bandwidth_Interferes,(function(){return vl.ag.get("hifi.poorBandwidthInterferes")})),(0,E.Z)(eT,ZC.Default_To_Very_High,(function(){return vl.ag.get("hifi.defaultToVeryHigh")})),(0,E.Z)(eT,ZC.Need_To_Redownload,(function(){return vl.ag.get("hifi.needToReDownload")})),(0,E.Z)(eT,ZC.Bluetooth_Degrades_HiFi,(function(){return vl.ag.get("hifi.bluetoothDegradesHifi","<img src='images/hifi.svg'\n    alt='".concat(vl.ag.get("desktop.settings.streamingQualityHiFi"),'\' width="16" height="7"/>'))})),eT),rT=n(75032);const iT="KMRYEXD5N8nhIguIiBJX",aT="HI3xttOVfN5jrsTwwj9a",oT="x8K5uQB7yYKz5aXNXPMh",sT="JoW96RZ4olZzshuAYMQw",lT="aCwCCeV0KAq6w4Zzf7oE",cT="iZi3VhLGO2YSFt2iD5VM",uT="QGRlV_c_erx7kBMRvra5";var dT={value:0,label:function(){return vl.ag.get("hifi.unknown")}},mT={value:1,label:function(){return vl.ag.get("desktop.settings.streamingQualityLow")}},pT={value:2,label:function(){return vl.ag.get("desktop.settings.streamingQualityNormal")}},fT={value:3,label:function(){return vl.ag.get("desktop.settings.streamingQualityHigh")}},vT={value:4,label:function(){return vl.ag.get("desktop.settings.streamingQualityVeryHigh")}},gT={value:5,label:function(){return vl.ag.get("desktop.settings.streamingQualityHiFi")}},hT=function(e){var t,n;switch(e.quality){case Te.M4.LOW:t=mT.label(),n=mT.value;break;case Te.M4.NORMAL:t=pT.label(),n=pT.value;break;case Te.M4.HIGH:t=fT.label(),n=fT.value;break;case Te.M4.VERY_HIGH:t=vT.label(),n=vT.value;break;case Te.M4.HIFI:t=gT.label(),n=gT.value;break;case Te.M4.UNKNOWN:default:t=dT.label(),n=dT.value}return s.createElement("div",{className:iT},s.createElement(Eu.D,{as:"h2"},vl.ag.get("hifi.currentAudioQuality")),s.createElement(Eu.D,{as:"h1",variant:"alto",className:uT},t),s.createElement("div",{className:aT},s.createElement(Eu.D,{as:"p",variant:"minuetBold",className:cT},vl.ag.get("desktop.settings.streamingQualityLow")),s.createElement("div",{className:oT},s.createElement("div",{className:Tl()(sT,(0,E.Z)({},lT,n>=1))}),s.createElement("div",{className:Tl()(sT,(0,E.Z)({},lT,n>=2))}),s.createElement("div",{className:Tl()(sT,(0,E.Z)({},lT,n>=3))}),s.createElement("div",{className:Tl()(sT,(0,E.Z)({},lT,n>=4))}),s.createElement("div",{className:Tl()(sT,(0,E.Z)({},lT,5===n))})),s.createElement(Eu.D,{as:"p",variant:"minuetBold",className:cT},vl.ag.get("desktop.settings.streamingQualityHiFi"))))};const yT="ZPxtJCM9pDLDULYbxYlx";var kT=function(e){var t=e.children;return s.createElement("div",{className:yT},t)};const ET="jDsXE7OLMWOY_76eZsPU",bT="L_WoceuKFbr6NJzlAgTI";var _T=(0,v.ZO)()===g.W.Desktop,ST=function(e){var t=e.device,n=_T?vl.ag.get("connect-picker.this-computer"):vl.ag.get("connect-picker.this-web-browser"),r=t.local?n:t.name,i=qw(t.type,t.is_group);return s.createElement("div",{className:ET},i&&s.createElement(i,{iconSize:24,className:bT,color:qg.ekl}),s.createElement("div",null,s.createElement(Eu.D,{as:"h2",variant:"cello"},vl.ag.get("connect-picker.listening-on")),s.createElement(Eu.D,{semanticColor:"textBrightAccent"},r)))},wT=n(10923),NT=n(21317);const OT="novF8wEdTg7z80q3Ykws",CT="qYsWmMXU2vS2COWabAU3",TT="S7ZlyepCAF5STfR0svEU",IT="rmlbOaIPSEWZfSAZsFlx",AT="Nn_Pa05BfZAFA2xA8Oto",PT="GpkwB7xWMvRcV_MNjswl";var DT;!function(e){e[e.PASSING=0]="PASSING",e[e.NEEDS_ATTENTION=1]="NEEDS_ATTENTION",e[e.UNKNOWN=2]="UNKNOWN"}(DT||(DT={}));var RT=function(e){var t=e.metric,n=e.label,r=e.severity;return s.createElement("div",{className:OT},function(){switch(r){case DT.PASSING:return s.createElement(wT.K,{iconSize:24,className:CT});case DT.NEEDS_ATTENTION:return s.createElement(NT.l,{iconSize:24,className:TT});case DT.UNKNOWN:return s.createElement(CN.S,{iconSize:24,className:TT});default:return null}}(),s.createElement("div",{className:IT},s.createElement(Eu.D,{as:"p",variant:"ballad",className:Tl()((0,E.Z)({},PT,r===DT.UNKNOWN))},t),s.createElement(Eu.D,{as:"p",className:Tl()([AT,(0,E.Z)({},PT,r===DT.UNKNOWN)])},n)))},xT=function(){var e=$C(),t=e.hifiCompatibleDevice,n=e.playingVia,r=e.internetBandwidth;return s.createElement("div",null,s.createElement(RT,{metric:vl.ag.get("hifi.hifiCompatibleDevice"),label:t?vl.ag.get("hifi.yes"):vl.ag.get("hifi.no"),severity:t?DT.PASSING:DT.NEEDS_ATTENTION}),s.createElement(RT,{metric:vl.ag.get("hifi.playingVia"),label:function(){switch(n.channel){case MC.Downloads:return vl.ag.get("local-files.source.downloads");case MC.Internet:return vl.ag.get("hifi.networkConnection");case MC.Spotify_Connect:return vl.ag.get("spotify-connect");default:return""}}(),severity:n.channelIsHiFi?DT.PASSING:DT.NEEDS_ATTENTION}),s.createElement(RT,{metric:vl.ag.get("hifi.internetBandwidth"),label:function(){switch(r){case BC.Good:return vl.ag.get("hifi.good");case BC.Poor:return vl.ag.get("hifi.poor");case BC.Unknown:default:return vl.ag.get("hifi.unknown")}}(),severity:function(){switch(r){case BC.Good:return DT.PASSING;case BC.Poor:return DT.NEEDS_ATTENTION;case BC.Unknown:default:return DT.UNKNOWN}}()}))};const LT="IcRpuhMiXFmNIOuD_cPR",FT="o5zR0zFgzGL25I5HHXWO",UT="_Cg8FRzh4osI4pLPiDDu",ZT="c3RiDQwNPpRxrL23ldVK",MT="gqdy85Mfj1EQdSDlLCXm",BT="D2aWwTTBULBFfLXGZjAn",jT="_hgGpkrqelS8Z5riyn_Q";var VT=function(e){var t=e.cards,n=e.quality,r=e.bandwidth,i=void 0===r?BC.Good:r;yO();var a=(0,Ms.v9)(FC),o=(0,s.useMemo)((function(){return(null==a?void 0:a.devices)||[]}),[a]),l=(0,s.useRef)(null),c=(0,s.useMemo)((function(){return o.find((function(e){return e.is_active}))}),[o]);return(0,vE.H)(),(0,fE.K)({ref:l,preventScroll:!1}),s.createElement(cO.yv,{className:LT},s.createElement(s.Fragment,null,s.createElement("div",{className:UT}),s.createElement(CE.U,{className:MT},s.createElement("div",{className:FT,ref:l,tabIndex:-1,"aria-label":vl.ag.get("web-player.hifi.aria-label")},s.createElement(hT,{quality:n}),i!==BC.Unavailable?s.createElement(s.Fragment,null,c&&s.createElement(ST,{device:c}),s.createElement(xT,null),t.map((function(e){var t=e.text,n=e.id;return s.createElement(kT,{key:n},s.createElement(rT.kf,{LinkComponent:Zb.Z,source:t,splitter:/\|/g}))}))):s.createElement("div",{className:BT},s.createElement(Eu.D,{as:"h1",variant:"alto",className:jT},vl.ag.get("hifi.songNotAvailableTitle")),s.createElement(Eu.D,{variant:"ballad"},vl.ag.get("hifi.songNotAvailable"))))),s.createElement("div",{className:ZT})))},HT=function(e){return e.visible?s.createElement(GT,e):s.createElement(s.Fragment,null,e.children)};function GT(e){var t=e.children,n=e.onClick,r=$C(),i=r.bitrateLevel,a=r.internetBandwidth,o=function(){var e=$C().flags,t=[];return e.forEach((function(e){nT[e]&&t.push({id:e,text:nT[e]()})})),t}(),l=o.slice(0,5);return s.createElement("div",null,s.createElement(cO.Nt,{trigger:"click",action:"toggle",offset:[-122,20],onShow:function(){null==n||n(!0)},onHide:function(){null==n||n(!1)},content:s.createElement(VT,{cards:l,quality:i,bandwidth:a})},t))}const WT="luhVzGRctW4iXg7vzJOQ",zT="T0BdYnv2qXQqgvX3JgtL";var KT=function(e){var t=e.onClick,n=$C().hifiStatus,r=(0,el.Y)((function(e){var t;return(null==e||null===(t=e.item)||void 0===t?void 0:t.type)===Ae.p.TRACK}));return n!==Te.dR.NONE&&r?s.createElement(HT,{onClick:t,visible:!0},s.createElement("button",{className:Tl()(zT,(0,E.Z)({},WT,n===Te.dR.ON)),"aria-label":vl.ag.get("web-player.hifi.aria-label")},s.createElement(tT.Ee,{src:(0,vf.g)("images/hifi-button-".concat(n===Te.dR.ON?"on":"off",".svg")),loading:"eager"}))):null};const YT="main-nowPlayingBar-extraControls",qT="main-nowPlayingBar-topButton",QT="main-nowPlayingBar-buddyFeedIcon";var JT=n(8716),XT=function(e){var t=e.className,n=(0,LC.r)(),r=n.settings,i=n.setValue,a=r.values["ui.show_friend_feed"],o=(0,s.useCallback)((function(){i("ui.show_friend_feed",!a)}),[a,i]),l=Tl()(qT,"control-button",{"control-button--active":a,"control-button--active-dot":a},t);return s.createElement(JT.E,{ariaLabel:vl.ag.get("buddy-feed.friend-activity"),className:l,testId:"friend-activity-button",size:"sm",onClick:o,icon:ob.R})},$T=n(64570),eI=n(68120);const tI="ZMXGDTbwxKJhbmEDZlYy";var nI=s.memo((function(e){var t,n=e.onClick,i=(0,Bs.TH)(),a=(0,s.useState)(!1),o=(0,r.Z)(a,2),l=o[0],c=o[1],u=(0,el.Y)((function(e){var t;return null==e||null===(t=e.item)||void 0===t?void 0:t.uri})),m="/lyrics"===i.pathname;(0,s.useEffect)((function(){u&&d().isTrack(u)?(0,eI.y)(u).then((function(e){c(e)})).catch((function(){c(!1)})):!0===l&&c(!1)}),[l,u]);var p=(t={},(0,E.Z)(t,tI,!0),(0,E.Z)(t,"control-button",!0),(0,E.Z)(t,"control-button--active",m),(0,E.Z)(t,"control-button--active-dot",m),t);return l||m?s.createElement(Cf.w,{label:vl.ag.get("web-player.lyrics.title")},s.createElement("button",{onClick:n,className:Tl()(p),"aria-label":vl.ag.get("web-player.lyrics.title"),"":"lyrics-button"},s.createElement($T.r,{iconSize:16}))):null})),rI=s.memo((function(e){var t=e.children,n=(0,Bd.W6)(vs.uW);return s.createElement(s.Fragment,null,n?t:null)})),iI=s.memo((function(e){var t=e.loading,n=void 0===t?null:t,r=e.children;return s.createElement(s.Suspense,{fallback:n},s.createElement(rI,null,r))})),aI="/lyrics",oI=function(e){var t=e.onClick,n=(0,Ms.v9)(Nu.Gg).isAnonymous,r=(0,Bs.TH)(),i=(0,Bs.k6)(),a=(0,el.Y)((function(e){var t,n;return!(null==e||null===(t=e.item)||void 0===t||null===(n=t.metadata)||void 0===n||!n["segment.index"])})),o=(0,s.useCallback)((function(){r.pathname.startsWith(aI)?(null==t||t(null),i.goBack()):(null==t||t(aI),i.push(aI,{referrer:"now_playing_bar"}))}),[i,r,t]);return n||a?null:s.createElement(iI,null,s.createElement(nI,{onClick:o}))},sI=n(15935),lI=n(99438),cI=["itemId"];function uI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function dI(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?uI(Object(n),!0).forEach((function(t){(0,E.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uI(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var mI=function(e,t,n){var r=n.itemId,i=(0,lu.Z)(n,cI),a=i.location&&i.location.pathname||"",o=t.dispatch;return dI(dI({},i),{},{onLogInteraction:function(e){o(function(e,t,n){var r=(0,lI.createInteractionLogEventGenerator)(e,t);return(0,cw._)(r(n))}(a,r,e))}})};function pI(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,W.Z)(e);if(t){var i=(0,W.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,G.Z)(this,n)}}var fI=function(e){return"control-button-".concat(e)},vI=function(e){(0,H.Z)(n,e);var t=pI(n);function n(e){var r;return(0,O.Z)(this,n),r=t.call(this,e),(0,E.Z)((0,si.Z)(r),"handleKeyDown",(function(e){"enter"===e.key.toLowerCase()&&r.setState({isEnterInteraction:!0})})),(0,E.Z)((0,si.Z)(r),"handleOnClick",(function(e){var t=e.target,n=r.props,i=n.icon,a=n.intent,o=n.onClick,s=n.onLogInteraction;o(),r.state.isEnterInteraction||t.blur(),r.setState({isEnterInteraction:!1}),s({type:"click",intent:a||i,targetUri:""})})),r.state={showLoading:!1,isEnterInteraction:!1},r}return(0,C.Z)(n,[{key:"render",value:function(){var e,t=this.props,n=t.style,r=t.active,i=t.isDisabled,a=t.intent,o=t.label,l=t.labelActive,c=t.icon,u=t.iconActive,d=t.hidden,m=t.className,p=r&&l?l:o,f=r&&u?u:c;return s.createElement("div",{style:n,className:Tl()("control-button-wrapper",{"control-button--active-dot":r&&!u},m)},s.createElement(Cf.w,{label:p},s.createElement(_u.oM,{buttonSize:"sm",iconOnly:f,className:Tl()((e={},(0,E.Z)(e,"control-button--active",r),(0,E.Z)(e,"control-button--disabled",i),(0,E.Z)(e,"control-button--hidden",d),e)),onKeyDown:this.handleKeyDown,"":fI(a),disabled:i,"aria-label":p,"aria-haspopup":this.props["aria-haspopup"],onClick:i?void 0:this.handleOnClick})))}}]),n}(s.PureComponent);vI.defaultProps={onClick:function(){}};const gI=(yI=(hI=vI).displayName||hI.name||"Component",(kI=(0,Yv.ZZ)((0,Bs.EN)((0,Ms.$j)(null,null,mI)(hI)))).displayName="withInteractionLogger(".concat(yI,")"),kI);var hI,yI,kI,EI=function(e){var t=e.onClick,n=(0,Bs.TH)(),r=(0,Bs.k6)(),i=(0,Ms.v9)(Nu.Gg).isAnonymous,a=(0,s.useMemo)((function(){return"/queue"===n.pathname||"/history"===n.pathname}),[n.pathname]),o=(0,s.useCallback)((function(){var e,n,i,a=null===(e=r.entries)||void 0===e||null===(n=e.slice(0,r.index+1))||void 0===n||null===(i=n.reverse())||void 0===i?void 0:i.findIndex((function(e){var t=e.pathname;return"/queue"!==t&&"/history"!==t}));null==t||t(null),-1===a?r.push("/"):a>=0?r.go(-a):r.goBack()}),[r,t]),l=(0,s.useCallback)((function(){null==t||t("/queue"),r.push("/queue",{referrer:"now_playing_bar"})}),[t,r]);return i?null:s.createElement(Ub,{uri:"spotify:queue"},s.createElement(gI,{intent:"queue",icon:sI.S,label:vl.ag.get("playback-control.queue"),onClick:function(){a?o():l()},active:a}))};function bI(){var e=(0,Ms.v9)(Nu.Gg).isAnonymous,t=(0,Bd.W6)(vs.fS,{loadingValue:!1})&&(0,v.wW)(),n=(0,Xc.fU)(fN.createDesktopNpbExtraEventFactory,{}),r=n.spec,i=n.logger,a=n.UBIFragment;return s.createElement(a,{spec:r},s.createElement("div",{className:YT},!e&&(0,v.wW)()&&s.createElement(Fk.F,{property:vs.y$,renderNewExperience:function(){return s.createElement(KT,{onClick:function(e){e?i.logInteraction(r.hifiBadgeFactory().hitUiReveal()):i.logInteraction(r.hifiBadgeFactory().hitUiHide())}})}}),s.createElement(oI,{onClick:function(e){e?i.logInteraction(r.lyricsButtonFactory().hitUiNavigate({destination:e})):i.logInteraction(r.lyricsButtonFactory().hitUiNavigateBack())}}),s.createElement(EI,{onClick:function(e){e?i.logInteraction(r.queueButtonFactory().hitUiNavigate({destination:e})):i.logInteraction(r.queueButtonFactory().hitUiNavigateBack())}}),t&&s.createElement(XT,{className:QT}),!e&&s.createElement(xC,null),s.createElement(Rv,{onVolumeBarClick:function(e){i.logInteraction(r.volumeBarFactory().hitSetVolume({newVolumePercentage:Math.floor(100*e)}))},onToggleMuteClick:function(e){e?i.logInteraction(r.volumeMuteButtonFactory().hitMutePlayback()):i.logInteraction(r.volumeMuteButtonFactory().hitUnmutePlayback())},onVolumeBarDrag:function(e){i.logInteraction(r.volumeBarFactory().dragSetVolume({newVolumePercentage:Math.floor(100*e)}))}}),s.createElement(gN,{className:"control-button",disabledClassName:"control-button--disabled",onClick:function(e){e&&i.logInteraction(r.fullscreenButtonFactory().hitUiReveal())}})))}var _I=n(72527),SI=n(96381),wI=n(89553),NI=n(18290);function OI(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,W.Z)(e);if(t){var i=(0,W.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,G.Z)(this,n)}}const CI=function(e){(0,H.Z)(n,e);var t=OI(n);function n(){return(0,O.Z)(this,n),t.apply(this,arguments)}return(0,C.Z)(n,[{key:"shouldComponentUpdate",value:function(){return!1}},{key:"render",value:function(){return s.createElement("div",{className:"icon"},s.createElement("svg",{width:"16",height:"16",xmlns:"http://www.w3.org/2000/svg"},s.createElement("g",{fill:"currentColor",fillRule:"evenodd"},s.createElement("path",{d:"M1 3v9h14V3H1zm0-1h14a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V3a1 1 0 0 1 1-1z",fillRule:"nonzero"}),s.createElement("path",{d:"M10 8h4v3h-4z"}))))}}]),n}(s.Component);var TI=n(51867);var II=n(25121),AI=n(74548);const PI="main-trackInfo-container",DI="main-trackInfo-name",RI="main-trackInfo-artists",xI="main-trackInfo-enhanced";var LI=function(e){var t,n=e.item;return s.createElement("div",{className:xI},"enhanced_recommendation"===(null==n||null===(t=n.metadata)||void 0===t?void 0:t.provider)&&s.createElement(AI._,{title:vl.ag.get("web-player.enhance.button_text_enhanced"),iconSize:16,width:11,height:11,"":"enhance-badge"}))};function FI(e){return null!=e&&""!==e}function UI(e){return FI(e)&&"#"!==e}function ZI(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return null!==(t=r.find(e))&&void 0!==t?t:null}function MI(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return ZI.apply(void 0,[FI].concat(t))}function BI(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return ZI.apply(void 0,[UI].concat(t))}function jI(e){var t,n,r,i,a=(0,Ms.v9)((function(e){var t,n,r;return null!==(t=null===(n=e.ads)||void 0===n||null===(r=n.vto)||void 0===r?void 0:r.info)&&void 0!==t?t:null})),o=(0,Ms.v9)((function(e){var t,n,r;return null!==(t=null===(n=e.ads)||void 0===n||null===(r=n.audio)||void 0===r?void 0:r.info)&&void 0!==t?t:null})),s=(0,el.Y)((function(e){return null==e?void 0:e.context}),(function(e,t){return(null==e?void 0:e.uri)===(null==t?void 0:t.uri)})),l=vl.ag.get("ad-formats.advertisement"),c=vl.ag.get("ad-formats.learnMore");if(function(e){return e.isPodcastAd}(e)){var u,d,m,p=(null==s||null===(u=s.metadata)||void 0===u?void 0:u.context_description)||e.advertiser||c;return{title:null!==(d=MI(e.title,null==a?void 0:a.advertiser,null==o?void 0:o.buttonMessage))&&void 0!==d?d:l,subtitle:p,url:BI(null==a?void 0:a.clickUrl,null==o?void 0:o.clickUrl,e.url),blurbUri:null!=s&&null!==(m=s.metadata)&&void 0!==m&&m.context_description&&p===(null==s?void 0:s.metadata.context_description)?s.uri:void 0}}if(function(e){return"video"===e.mediaType}(e))return{title:null!==(r=null==a?void 0:a.advertiser)&&void 0!==r?r:l,subtitle:null!==(i=null==a?void 0:a.buttonMessage)&&void 0!==i?i:c,url:BI(null==a?void 0:a.clickUrl,e.url)};var f=!0===(null==o?void 0:o.isFeaturedActionPlay)?vl.ag.get("ad-formats.playTrack"):null;return{title:null!==e.title&&"Advertisement"!==e.title?e.title:null!==(t=e.advertiser)&&void 0!==t?t:l,subtitle:null!==(n=MI(null==o?void 0:o.buttonMessage,f))&&void 0!==n?n:c,url:BI(null==o?void 0:o.clickUrl,e.url)}}var VI={"":"context-item-info-ad-subtitle"},HI=function(e){var t=e.item,n=e.onClick,r=(0,Ms.I0)(),i=jI(t),a=i.subtitle,o=i.url,l=i.blurbUri,c=(0,s.useMemo)((function(){var e;return null===(e=d().from(l))||void 0===e?void 0:e.toURLPath(!0)}),[l]);return c?s.createElement(Zb.Z,(0,su.Z)({to:c},VI,{dir:"auto"}),a):null!==o?s.createElement("a",(0,su.Z)({},VI,{onClick:function(e){return null==n||n(e,o),r((0,NS.nX)())},href:o,rel:"noopener noreferrer",target:"_blank",dir:"auto"}),a):s.createElement("span",{dir:"auto"},a)},GI=n(28137),WI=function(e){var t,n=e.item,r=e.onClick,i=n.book,a=null===(t=d().from(i.uri))||void 0===t?void 0:t.toURLPath(!0),o=(0,xE.O1)([i.uri],n.book.name);return a?s.createElement(tv._P,{menu:s.createElement(GI.X,{uri:i.uri})},s.createElement(Zb.Z,{to:a,draggable:!0,onDragStart:o,"":"context-item-info-book",dir:"auto",onClick:r},i.name)):s.createElement("span",{dir:"auto"},i.name)},zI=n(86514),KI=function(e){var t,n=e.item,r=e.onClick,i=n.show,a=null===(t=d().from(i.uri))||void 0===t?void 0:t.toURLPath(!0),o=(0,xE.O1)([i.uri],i.name);return a?s.createElement(tv._P,{menu:s.createElement(zI.M,{uri:i.uri})},s.createElement("span",{draggable:!0,onDragStart:o},s.createElement(Zb.Z,{to:a,"":"context-item-info-show",dir:"auto",onClick:r},i.name))):s.createElement("span",{dir:"auto"},i.name)},YI=n(80507),qI=function(e){var t=e.item,n=e.onClick,r=(0,xE.O1)();return s.createElement(s.Fragment,null,t.artists.map((function(e,t){var i,a=null===(i=d().from(e.uri))||void 0===i?void 0:i.toURLPath(!0);return s.createElement("span",{key:t},t>0?vl.ag.getSeparator():null,a?s.createElement(tv._P,{menu:s.createElement(YI.m,{uri:e.uri})},s.createElement(Zb.Z,{to:a,"":"context-item-info-artist",dir:"auto",draggable:!0,onDragStart:function(t){r(t,[e.uri],e.name)},onClick:n},e.name)):s.createElement("span",{dir:"auto"},e.name))})))},QI=function(e){var t=e.item,n=e.onClick,r=(0,xE.O1)();return s.createElement(s.Fragment,null,t.artists.map((function(e,t){var i,a=null===(i=d().from(e.uri))||void 0===i?void 0:i.toURLPath(!0);return s.createElement("span",{key:t},t>0?vl.ag.getSeparator():null,a?s.createElement(tv._P,{menu:s.createElement(YI.m,{uri:e.uri})},s.createElement(Zb.Z,{to:a,"":"context-item-info-artist",dir:"auto",draggable:!0,onClick:n,onDragStart:function(t){r(t,[e.uri],e.name)}},e.name)):s.createElement("span",{dir:"auto"},e.name))})))},JI=function(e){var t=e.item,n=e.onClick,r=null;return(0,Te.G_)(t)?r=s.createElement(qI,{item:t,onClick:n}):(0,Te.iw)(t)?r=s.createElement(KI,{item:t,onClick:n}):(0,Te.G7)(t)?r=s.createElement(WI,{item:t,onClick:n}):(0,Te.k6)(t)?r=s.createElement(HI,{item:t,onClick:n}):(0,Te.RB)(t)?r=s.createElement(QI,{item:t,onClick:n}):(0,Pe.U)(t),s.createElement("div",{className:RI},s.createElement(fC,{key:t.uri},s.createElement(Eu.D,{"":"context-item-info-subtitles",as:"div",variant:"finale",className:RI,semanticColor:"textSubdued"},r)))},XI=function(e){var t=e.item,n=e.onClick,r=(0,Ms.I0)(),i=jI(t),a=i.title,o=i.url;return null!==o?s.createElement("a",{"":"context-item-info-ad-title",onClick:function(e){return null==n||n(e,o),r((0,NS.nX)())},href:o,rel:"noopener noreferrer",target:"_blank"},a):s.createElement(s.Fragment,null,a)};var $I=function(e){var t=e.item,n=e.children,r=e.onClick,i=function(e){var t,n,r,i,a,o;return(0,Te.G_)(e)?null!==(t=null===(n=d().from(e.album.uri))||void 0===n?void 0:n.toURLPath(!0))&&void 0!==t?t:"#":(0,Te.iw)(e)?null!==(r=null===(i=d().from(e.uri))||void 0===i?void 0:i.toURLPath(!0))&&void 0!==r?r:"#":(0,Te.G7)(e)?null!==(a=null===(o=d().from(e.uri))||void 0===o?void 0:o.toURLPath(!0))&&void 0!==a?a:"#":((0,Te.k6)(e)||(0,Te.RB)(e)||(0,Pe._)(e),"#")}(t);return(0,Te.G_)(t)||(0,Te.iw)(t)||(0,Te.G7)(t)?s.createElement(Zb.Z,{"":"context-item-link",style:{border:"none"},to:i,onClick:r},n):(0,Te.k6)(t)||(0,Te.RB)(t)?s.createElement(s.Fragment,null,n):(0,Pe.U)(t)},eA=function(e){var t=e.item,n=e.context,r=e.onClick;return s.createElement(tv._P,{menu:s.createElement(eS,{context:n,item:t})},s.createElement($I,{item:t,onClick:r},t.name))},tA=function(e){var t=e.item,n=e.context,r=e.onClick,i=(0,xE.O1)([t.uri],sS(t));return s.createElement(tv._P,{menu:s.createElement(eS,{context:n,item:t})},s.createElement("span",{draggable:!0,onDragStart:i},s.createElement($I,{item:t,onClick:r},t.name)))},nA=function(e){var t=e.item,n=e.context,r=e.onClick,i=(0,xE.O1)();return s.createElement(tv._P,{menu:s.createElement(eS,{context:n,item:t})},s.createElement("span",{draggable:!0,onDragStart:function(e){i(e,[t.uri],sS(t))}},s.createElement($I,{item:t,onClick:r},t.name)))},rA=function(e){var t=e.item,n=e.context,r=e.onClick,i=(0,xE.O1)();return s.createElement(tv._P,{menu:s.createElement(eS,{context:n,item:t})},s.createElement("span",{draggable:!0,onDragStart:function(e){i(e,[t.uri],sS(t))}},s.createElement($I,{item:t,onClick:r},t.name)))},iA=function(e){var t=e.context,n=e.item,r=e.onClick,i=null;return(0,Te.G_)(n)&&n.isLocal?i=s.createElement(s.Fragment,null,n.name):(0,Te.iw)(n)?i=s.createElement(tA,{onClick:r,item:n,context:t}):(0,Te.G_)(n)?i=s.createElement(nA,{onClick:r,item:n,context:t}):(0,Te.G7)(n)?i=s.createElement(eA,{onClick:r,item:n,context:t}):(0,Te.k6)(n)?i=s.createElement(XI,{onClick:r,item:n}):(0,Te.RB)(n)?i=s.createElement(rA,{onClick:r,item:n,context:t}):(0,Pe.U)(n),s.createElement("div",{className:DI},s.createElement(fC,{key:n.uri},s.createElement(Eu.D,{"":"context-item-info-title",as:"div",variant:"mesto",className:DI,dir:"auto"},i)))},aA=function(e){var t=e.context,n=e.item,r=e.onTitleClick,i=e.onSubtitleClick;return s.createElement("div",{className:Tl()(PI)},s.createElement(iA,{context:t,item:n,onClick:function(e,t){return null==r?void 0:r(t)}}),s.createElement(LI,{item:n}),s.createElement(JI,{item:n,onClick:function(e,t){return null==i?void 0:i(t)}}))};const oA="main-nowPlayingWidget-nowPlaying",sA="main-nowPlayingWidget-coverExpanded",lA="main-coverSlotCollapsed-navAltContainer",cA="main-nowPlayingWidget-coverArt",uA="WlJeGZh0DRN1R5IW84Yq";var dA=function(e){var t,n=e.onClick,r=Th().expandedState,i=uS(),a=(0,xE.O1)();if(null===i)return null;var o=r===Ch.NowPlayingCoverStateEnum.expanded,l=i.context,c=i.item,u=i.index;return s.createElement(IE._,{menu:s.createElement(eS,{context:l,item:c})},s.createElement("div",{draggable:lS(c),onDragStart:function(e){a(e,[c.uri],sS(c))}},s.createElement(oS,{uri:l.uri,owner:null===(t=l.metadata)||void 0===t?void 0:t.context_owner},s.createElement(aS,{context:l,item:c,index:u,isVisible:!o,onClick:function(e,t){null==n||n(t)}},s.createElement(Q_,{item:c,size:56,maxSize:56,className:cA})))))},mA=n(82883);const pA="main-coverSlotCollapsed-container",fA="main-coverSlotCollapsed-expandButton";var vA=function(e){var t=e.children,n=e.onArrowClick,i=e.className,a=(0,Ms.v9)(Xl),o=(0,mf.z)(Dt.cr,Ch.NowPlayingCoverStateEnum.collapsed),l=(0,r.Z)(o,2),c=l[0],u=l[1],d=c===Ch.NowPlayingCoverStateEnum.expanded||a===Ch.NowPlayingCoverStateEnum.expanded;return s.createElement("div",{"":"CoverSlotCollapsed__container",className:Tl()(pA,i),"aria-hidden":d?"true":"false"},t,a===Ch.NowPlayingCoverStateEnum.collapsed?null:s.createElement(Cf.w,{label:vl.ag.get("npb.expandCoverArt")},s.createElement("button",{tabIndex:d?-1:void 0,className:Tl()(fA),onClick:function(){u(Ch.NowPlayingCoverStateEnum.expanded),null==n||n()},"aria-label":vl.ag.get("npb.expandCoverArt")},s.createElement(mA.y,{iconSize:16}))))},gA=function(e){var t=e.item,n=e.onLike;return(0,Te.G_)(t)?t.isLocal?null:s.createElement(pg.B,{uri:t.uri,className:"control-button control-button-heart",onClick:n}):(0,Te.iw)(t)?s.createElement(mg.w,{uri:t.uri,className:"control-button control-button-heart",onClick:n}):(0,Te.G7)(t)||(0,Te.k6)(t)||(0,Te.RB)(t)?null:(0,Pe.U)(t)},hA=function(e){var t=e.context,n=e.item,r=(d().isStation(t.uri)||d().isRadio(t.uri))&&(0,Te.G_)(n),i=(0,II.j)(t.uri,n.uri);return r?s.createElement(gI,{onClick:i,label:vl.ag.get("playback-control.ban"),icon:_I.H}):null},yA=function(e){var t,n,r,a,l,c=e.context,u=e.item,d=e.onClick,m=void 0===d?function(){}:d,p=(0,s.useContext)(Kc.ZF),f=(0,Wc.g)(),v=null!==(t=null===(n=c.metadata)||void 0===n?void 0:n["dislike-endpoint"])&&void 0!==t?t:null,g=(0,Ms.I0)(),h=null!==(r=null===(a=c.metadata)||void 0===a?void 0:a[Te.sb.CONTEXT_DESCRIPTION])&&void 0!==r?r:"",y=(0,s.useCallback)((0,i.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(v){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Yo.x2.setFeedback(Gt.b.getInstance(),v,u.uri);case 4:if(!c.uri){e.next=7;break}return e.next=7,p.resync(c.uri);case 7:f.skipToNext(),g((0,wu.Oh)(h)),null==m||m();case 10:case"end":return e.stop()}}),e)}))),[c,u,p,f,v,g,h,m]);return(0,Te.G_)(u)&&"1"===(null===(l=c.metadata)||void 0===l?void 0:l["dislike-feedback-available"])&&null!==v?s.createElement(NI.s,{size:16,className:"control-button control-button-feedback",isDisliked:!1,onClick:y}):null},kA=function(e){var t=e.item,n=e.onClick,r=(0,Ms.I0)(),i=Dc(),a=(0,of.o)(),o=(0,TI.k)(),l=(0,el.Y)(af.CM),c=(0,Ms.v9)(Mv),u=(0,Ms.v9)(Zv),d=(0,s.useCallback)((function(){if(l){var e=!u,s=e?"close-video":"show-video";null==n||n(u),a({type:"click",intent:s,targetUri:t.uri,itemIdSuffix:"video-toggle"}),i.getCapabilities().hasMinimizeBitrateSupport&&i.setMinimizeBitrate(e),r(Uv(e))}else o(vl.ag.get("video-player.video-not-available"))}),[l,u,n,a,t.uri,i,r,o]);if(!(0,Te.iw)(t))return null;var m=c===Pv.fullscreen;i.setFullscreen&&i.setFullscreen(m),i.reportVideoMode&&i.reportVideoMode(c);var p=(0,Te.iw)(t)&&("video"===t.mediaType||"mixed"===t.mediaType),f=p&&!m;return p&&i.getCapabilities().hasMinimizeBitrateSupport&&i.setMinimizeBitrate(u),f?s.createElement(gI,{icon:SI.O,iconActive:SI.O,intent:"video-toggle",active:!u&&l,onClick:d,label:vl.ag.get("video-player.show-video"),labelActive:vl.ag.get("video-player.hide-video")}):null},EA=function(e){var t=e.item,n=e.onClick,i=(0,of.o)(),a=function(){var e=Xs(),t=(0,r.Z)(e,2),n=t[0],i=n.isEnabled,a=n.isVisible,o=t[1];return{isEnabled:i,isVisible:a,show:(0,s.useCallback)((function(){return o({type:"OPEN_PICTURE_IN_PICTURE"})}),[o]),hide:(0,s.useCallback)((function(){return o({type:"CLOSE_PICTURE_IN_PICTURE"})}),[o])}}(),o=a.isEnabled,l=a.isVisible,c=a.show,u=a.hide,d=(0,s.useCallback)((function(){var e;l?(u(),e="close-picture-in-picture"):(c(),e="show-picture-in-picture"),null==n||n(!l),i({type:"click",intent:e,targetUri:t.uri,itemIdSuffix:"picture-in-picture-toggle"})}),[l,c,u,i,t.uri,n]),m=(0,Te.iw)(t)&&("video"===t.mediaType||"mixed"===t.mediaType),p=(0,Te.k6)(t);return!m&&!p&&o?s.createElement("div",null,s.createElement("button",{"":"pip-toggle-button",className:Tl()(uA,"control-button",{"control-button--active":l}),onClick:d},s.createElement(CI,null))):null},bA=function(e){var t=e.isRemoteMode,n=(0,Xc.fU)(wI.createDesktopNpbNowPlayingWidgetEventFactory,{}),r=n.spec,i=n.logger,a=Th().expandedState,o=uS();if(null===o)return s.createElement("div",{className:Tl()("now-playing")});var l=o.context,c=o.item,u=a===Ch.NowPlayingCoverStateEnum.expanded,d=nS(c);return s.createElement(s.Suspense,{fallback:null},s.createElement("div",{"":"now-playing-widget",className:Tl()(oA,(0,E.Z)({},sA,u)),role:"contentinfo","aria-label":d},s.createElement(vA,{className:lA,onArrowClick:function(){i.logInteraction(r.coverartFactory({uri:c.uri}).coverartArrowFactory().hitUiReveal())}},s.createElement(dA,{onClick:function(e){i.logInteraction(r.coverartFactory({uri:c.uri}).hitUiNavigate({destination:e||""}))}})),s.createElement(aA,{context:l,item:c,onTitleClick:function(e){i.logInteraction(r.titleFactory({uri:c.uri}).hitUiNavigate({destination:e||""}))},onSubtitleClick:function(e){i.logInteraction(r.subtitleFactory({uri:c.uri}).hitUiNavigate({destination:e||""}))}}),s.createElement(gA,{item:c,onLike:function(e){i.logInteraction(e?r.likeButtonFactory({uri:c.uri}).hitLike({itemToBeLiked:c.uri}):r.likeButtonFactory({uri:c.uri}).hitRemoveLike({itemNoLongerLiked:c.uri}))}}),s.createElement(hA,{context:l,item:c}),s.createElement(yA,{context:l,item:c,onClick:function(){i.logInteraction(r.hideButtonFactory().hitRemoveRecommendation({recommendedItemUri:c.uri,contextUri:l.uri}))}}),t?null:s.createElement(s.Fragment,null,s.createElement(kA,{onClick:function(e){i.logInteraction(e?r.videoToggleFactory({uri:c.uri}).hitUiHide():r.videoToggleFactory({uri:c.uri}).hitUiReveal())},item:c}),s.createElement(EA,{onClick:function(e){i.logInteraction(e?r.pipButtonFactory({uri:c.uri}).hitUiHide():r.pipButtonFactory({uri:c.uri}).hitUiReveal())},item:c}))))},_A=n(98548);const SA="aguQsGoZR9wZeawKGdDh",wA="ieqOSqJb6kk3bG5XDOHk";var NA=function(e){var t,n,i,a=e.paused,o=e.fromSeconds,l=(0,s.useState)(o),c=(0,r.Z)(l,2),u=c[0],d=c[1],m=(0,s.useCallback)((function(){d((function(e){return e-1}))}),[]);return t=m,n=!a&&0!==u?1e3:null,i=(0,s.useRef)(t),(0,s.useEffect)((function(){i.current=t}),[t]),(0,s.useEffect)((function(){if(null!==n){var e=setInterval((function(){i.current()}),n);return function(){return clearInterval(e)}}}),[n]),s.createElement("div",{className:SA},vl.ag.get("ad-formats.skippable_ads.skip_countdown"),s.createElement("span",{className:wA},u))},OA=function(e){var t,n=e.children,r=(0,el.Y)((function(e){return e}),(function(e,t){var n,r;return(0,ed.V)(null==e?void 0:e.restrictions,null==t?void 0:t.restrictions)&&(null==e||null===(n=e.item)||void 0===n?void 0:n.uri)===(null==t||null===(r=t.item)||void 0===r?void 0:r.uri)&&(null==e?void 0:e.isPaused)===(null==t?void 0:t.isPaused)})),i=null==r?void 0:r.restrictions.disallowSkippingNextReasons.includes("ad_disallow"),a=null!==(t=null==r?void 0:r.isPaused)&&void 0!==t&&t,o=Pd(r),l=Ad(r),c=(0,Ms.v9)((function(e){var t,n,r,i,a,s;return o?null==e||null===(t=e.ads)||void 0===t||null===(n=t.audio)||void 0===n||null===(r=n.info)||void 0===r?void 0:r.skippableAdDelaySeconds:l?null==e||null===(i=e.ads)||void 0===i||null===(a=i.vto)||void 0===a||null===(s=a.info)||void 0===s?void 0:s.skippableAdDelaySeconds:void 0}));return i&&c?s.createElement(NA,{paused:!!a,fromSeconds:c}):s.createElement(s.Fragment,null,n)},CA=s.memo((function(e){var t=e.isPreview,n=(0,Wc.g)(),r=(0,Xc.fU)(_A.createDesktopNpbPlayerControlsEventFactory,{}),i=r.spec,a=r.logger,o=kv(),l=Ev()&&!o;return s.createElement("div",{className:"player-controls","":"player-controls",dir:"ltr","aria-label":vl.ag.get("playback-control.a11y.landmark-label")},s.createElement("div",{className:"player-controls__buttons player-controls__buttons--new-icons"},s.createElement("div",{className:"player-controls__left"},l&&s.createElement(yv,{onClick:function(e){var t=n.getState();null!=t&&t.item&&a.logInteraction(i.speedControlButtonFactory().hitSetPlaybackSpeed({currentlyPlayedItem:t.item.uri,playbackSpeed:e}))}})," ",!l&&s.createElement(Yf,{onClick:function(e){a.logInteraction(e?i.shuffleButtonFactory().hitShuffleEnable():i.shuffleButtonFactory().hitShuffleDisable())}}),l&&s.createElement(Bf,{onClick:function(e){a.logInteraction(i.seekBackButtonFactory().hitSeekByTime({msSeekedOffset:e}))}}),s.createElement(Jf,{onClick:function(){var e,t,r,o=n.getState();o&&a.logInteraction(i.previousButtonFactory().hitSkipToPrevious({itemToBeSkipped:(null===(e=o.item)||void 0===e?void 0:e.uri)||"",positionMs:null!==(t=(0,gg.k)(o))&&void 0!==t?t:-1,totalContentMs:null!==(r=o.duration)&&void 0!==r?r:-1}))}})),s.createElement(If,{onClick:function(e){var t=n.getState();null!=t&&t.item&&("resume"===e?a.logInteraction(null==i?void 0:i.playPauseButtonFactory().hitResume({itemToBeResumed:t.item.uri})):"pause"===e&&a.logInteraction(null==i?void 0:i.playPauseButtonFactory().hitPause({itemToBePaused:t.item.uri})))}}),s.createElement("div",{className:"player-controls__right"},s.createElement(OA,null,s.createElement(ev,{onClick:function(){var e,t,r=n.getState();null!=r&&r.item&&a.logInteraction(i.nextButtonFactory().hitSkipToNext({itemToBeSkipped:r.item.uri,positionMs:null!==(e=(0,gg.k)(r))&&void 0!==e?e:-1,totalContentMs:null!==(t=r.duration)&&void 0!==t?t:-1}))}})),l&&s.createElement(Hf,{onClick:function(e){a.logInteraction(i.seekForwardButtonFactory().hitSeekByTime({msSeekedOffset:e}))}}),!l&&s.createElement(Uf,{onClick:function(e){var t,n=(t={},(0,E.Z)(t,Te.zq.REPEAT_NONE,i.repeatButtonFactory().hitRepeatDisable()),(0,E.Z)(t,Te.zq.REPEAT_TRACK,i.repeatButtonFactory().hitRepeatOneEnable()),(0,E.Z)(t,Te.zq.REPEAT_CONTEXT,i.repeatButtonFactory().hitRepeatEnable()),t);a.logInteraction(n[e])}}))),s.createElement(Sf,{isPreview:t}))}));const TA="main-nowPlayingBar-container",IA="main-nowPlayingBar-nowPlayingBar",AA="main-nowPlayingBar-isAnonymous",PA="main-nowPlayingBar-enter",DA="main-nowPlayingBar-enterActive",RA="main-nowPlayingBar-enterDone",xA="main-nowPlayingBar-left",LA="main-nowPlayingBar-center",FA="main-nowPlayingBar-right";var UA=function(){var e,t=(0,Ms.v9)((function(e){return e.features})),n=t.upgradeOverSignupBanner,i=t.upgradeOverSignupBannerTwo,a=(0,s.useState)(!0),o=(0,r.Z)(a,2),l=o[0],c=o[1],u=(0,Ms.v9)(Nu.Gg).isAnonymous,d=(0,Ms.I0)(),m=(0,of.o)(),p=(0,el.Y)((function(e){return e}),(function(e,t){var n,r;return(null==e?void 0:e.hasContext)===(null==t?void 0:t.hasContext)&&(null==e||null===(n=e.item)||void 0===n?void 0:n.uri)===(null==t||null===(r=t.item)||void 0===r?void 0:r.uri)})),f=(0,$s.O)(),v=(0,el.Y)((function(e){var t;return(0,Te.k6)(null!==(t=null==e?void 0:e.item)&&void 0!==t?t:void 0)})),g=(0,Wc.g)(),h=(0,pN.Y)();(0,s.useEffect)((function(){g.setForcedShuffle(h)}),[h,g]);var y=(0,s.useCallback)((function(e){e.stopPropagation(),n||i?(d((0,Jl.oX)()),m({intent:"upgrade-to-premium",type:"click"})):(d((0,Jl.xO)()),m({intent:"signup",type:"click"}))}),[d,m,n,i]),k=f.connectionStatus,E=k===Xt.TK.CONNECTED||k===Xt.TK.CONNECTING,b=f.activeDevice;k===Xt.TK.CONNECTING&&(b=null==f?void 0:f.connectingDevice);var _=function(){return s.createElement(Wh.DJ.Provider,{value:"now_playing_bar"},s.createElement("div",{className:!u||n||i?IA:AA},s.createElement("div",{className:xA},s.createElement(bA,{isRemoteMode:E})),s.createElement("div",{className:LA},s.createElement(s.Suspense,{fallback:null},s.createElement(CA,{isPreview:u}))),s.createElement("div",{className:FA},s.createElement(bI,null))))},S=E&&b;return s.createElement(Yv.ZP,{value:"now-playing-bar"},s.createElement("footer",{className:TA,"":"now-playing-bar","data-testadtype":"ad-type-".concat(v?"ad":"none")},u?s.createElement(Yv.ZP,{value:"preview-bar"},i||n?l&&s.createElement(mN,{handleVisibility:function(){return c(!1)},handleClick:y,upgradeOverSignupBannerTwo:!!i}):s.createElement(dN,{handleClick:y})):null,u?s.createElement(ty.Z,{in:null!==(e=null==p?void 0:p.hasContext)&&void 0!==e&&e,timeout:200,classNames:{enter:PA,enterActive:DA,enterDone:RA}},_()):_(),S?s.createElement(tN,{status:k,deviceName:b.name,deviceType:b.type}):null))};const ZA="main-pageErrorTemplate-errorBody";var MA=function(){return window.location.reload()},BA={"/":tE.A,"/search":rE.j,"/collection":aE.$},jA=s.memo((function(e){var t,n=e.onDismissDialog,r=void 0===n?MA:n,i=e.location,a=(t=i.pathname,BA[t]||NT.l);return s.createElement("div",{className:ZA},s.createElement(a,{width:46,height:46}),s.createElement("h1",null,vl.ag.get("error-dialog.generic.header")),s.createElement("p",null,vl.ag.get("error-dialog.generic.body")),s.createElement(Il.D,{onClick:r},vl.ag.get("fatal-error.button-label")))})),VA=n(15358),HA=n(54977);var GA=n(20367),WA=n(43480),zA=n(34142),KA=n(89869),YA=n(26560),qA=function(e){var t=e.onChangePermission,n=e.onRemoveMember,r=e.onLeave,i=e.member,a=e.capabilities;return s.createElement(Mm.v,null,a.canAdministratePermissions&&"VIEWER"===i.permissionLevel&&s.createElement(Bm.s,{role:"menuitemradio","aria-checked":!1,onClick:function(){return t("CONTRIBUTOR")},icon:s.createElement(KA.h,{iconSize:16}),iconPosition:"leading"},s.createElement(Eu.D,{variant:"mesto"},vl.ag.get("contextmenu.make-collaborator"))),a.canAdministratePermissions&&"CONTRIBUTOR"===i.permissionLevel&&s.createElement(Bm.s,{role:"menuitemradio","aria-checked":!1,onClick:function(){return t("VIEWER")},icon:s.createElement(KA.h,{iconSize:16}),iconPosition:"leading"},s.createElement(Eu.D,{variant:"mesto"},vl.ag.get("contextmenu.make-listener"))),a.canAdministratePermissions&&s.createElement(Bm.s,{role:"menuitemradio","aria-checked":!1,onClick:function(){return n()},icon:s.createElement(YA.F,{iconSize:16}),iconPosition:"leading"},s.createElement(Eu.D,{variant:"mesto"},vl.ag.get("contextmenu.remove-user-from-playlist"))),a.canCancelMembership&&s.createElement(Bm.s,{role:"menuitemradio","aria-checked":!1,onClick:function(){return r()},icon:s.createElement(YA.F,{iconSize:16}),iconPosition:"leading"},s.createElement(Eu.D,{variant:"mesto"},vl.ag.get("contextmenu.leave-playlist"))))};const QA="BcnmjYfXOAeitEfgAPl6",JA="TyF75BooCfm5fJnA4XQY",XA="TcErZJbTZpN8HIgWMd5n",$A="BmWdMJcMaW6bsnYoHvO5",eP="A01aXaVEC14dEvpLdH0h",tP="RRgksp2YQ5yCTY3fG8c5",nP="ttg4QuP3hS13nliEPlmS",rP="dfdmOp6sP6kvpppsfnoO",iP="Oxwpqw2lyewx__AmCPlS",aP="V1By35exkhnkgbEeAQXN",oP="_uwvL3Y_Wnj_KZiCTAks",sP="BvQLGIYvKgcZxPTGJnWc",lP="QIWSUTRvc_sCKCXhR1v4",cP="niUTA9FhPwaWPOpzcZOX",uP="uy6zaVvwrdXhU47KjWvA";var dP=function(e){var t=e.uri,n=e.member,a=e.capabilities,l=e.isCurrentUser,c=(0,Ms.I0)(),u=(0,s.useState)(!1),d=(0,r.Z)(u,2),m=d[0],p=d[1],f=function(e){var t=(0,HA.z)(),n=(0,s.useCallback)(function(){var n=(0,i.Z)(o().mark((function n(r,i){return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.setMemberPermission(e,r,i);case 2:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}(),[t,e]),r=(0,s.useCallback)(function(){var n=(0,i.Z)(o().mark((function n(r){return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.removeMember(e,r);case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),[t,e]),a=(0,s.useCallback)(function(){var n=(0,i.Z)(o().mark((function n(r){return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.setBasePermission(e,r);case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),[t,e]);return{uri:e,changeMemberPermission:n,removeMember:r,changeBasePermission:a}}(t),v=f.changeMemberPermission,g=f.removeMember,h=(0,s.useCallback)((function(e){n.user&&(v(n.user.username,e),p(!0))}),[v,n.user]),y=(0,s.useCallback)((function(){n.user&&(g(n.user.username),p(!0))}),[n.user,g]),k=(0,s.useCallback)((function(){c((0,Us.IF)(t))}),[c,t]),b=!n.isOwner&&((null==a?void 0:a.canAdministratePermissions)||(null==a?void 0:a.canCancelMembership)&&l),_="CONTRIBUTOR"===n.permissionLevel?vl.ag.get("permissions.collaborator"):vl.ag.get("permissions.listener");return n.isOwner&&(_=vl.ag.get("permissions.creator")),b&&a?s.createElement(Zm.y,{renderInline:!0,menu:s.createElement(qA,{onChangePermission:h,onRemoveMember:y,onLeave:k,capabilities:a,member:n})},(function(e,t,n){return s.createElement("button",{className:Tl()(lP,cP,(0,E.Z)({},uP,m)),onClick:t,ref:n,type:"button","":"permissions-menu"},s.createElement(Eu.D,{variant:"mesto"},_),e?s.createElement(zA.U,{iconSize:16}):s.createElement(TE.i,{iconSize:16}))})):s.createElement(Eu.D,{variant:"mesto",className:lP},_)},mP=function(e){var t=e.member,n=e.playlistUri,r=e.username,i=e.capabilities,a=e.onClose;if(!t.user)return null;var o=r===t.user.username,l=o&&t.user.displayName?vl.ag.get("permissions.current-user-name",t.user.displayName):t.user.displayName;return s.createElement("div",{key:t.user.uri,className:rP},s.createElement("div",{className:iP},s.createElement(GA.q,{label:t.user.displayName,images:t.user.images.map((function(e){return{url:e.url,width:e.width||null,height:e.height||null}})),width:32,userIconSize:16}),s.createElement("div",{className:aP},s.createElement(tv._P,{menu:s.createElement(WA.I,{uri:t.user.uri})},s.createElement(Zb.Z,{title:null!=l?l:t.user.username,to:t.user.uri,dir:"auto",onClick:a},s.createElement(Eu.D,{variant:"mestoBold"},l))),t.songsAdded>0&&s.createElement(Eu.D,{className:oP,variant:"finale"},vl.ag.get("permissions.songs-added",t.songsAdded)))),s.createElement(dP,{uri:n,member:t,capabilities:i,isCurrentUser:o}))};var pP=function(e){var t=e.isPublicPlaylist;return s.createElement("div",{className:eP},t?s.createElement(s.Fragment,null,s.createElement(PS.z,{iconSize:16}),s.createElement(Eu.D,{className:tP,variant:"finale"},vl.ag.get("permissions.public-playlist"))):s.createElement(s.Fragment,null,s.createElement(VA.Z,{iconSize:16}),s.createElement(Eu.D,{className:tP,variant:"finale"},vl.ag.get("permissions.private-playlist"))))},fP=function(e){var t,n=e.isOpen,i=e.uri,a=e.onClose,o=function(e){var t=(0,HA.z)(),n=(0,s.useState)(null),i=(0,r.Z)(n,2),a=i[0],o=i[1],l=(0,s.useCallback)((function(e,t){o(e||!t?null:t)}),[]);return(0,s.useEffect)((function(){return t.subscribeToMembers(e,l)}),[t,e,l]),a}(i),l=(0,Ms.v9)((function(e){var t,n=e.session;return null==n||null===(t=n.user)||void 0===t?void 0:t.id}))||null;return o?s.createElement(Al.Z,{isOpen:n,onRequestClose:a,contentLabel:vl.ag.get("permissions.modal-label")},s.createElement("div",{"":"playlist-permissions-modal",className:QA},s.createElement("div",{className:JA},s.createElement("div",{className:XA},s.createElement(pP,{isPublicPlaylist:(t=o.basePermissionLevel,"VIEWER"===t||"CONTRIBUTOR"===t)}),s.createElement("button",{className:nP,onClick:a},s.createElement(Jd.k,{iconSize:16,"aria-label":vl.ag.get("close")}))),s.createElement(Eu.D,{as:"h1",variant:"alto"},vl.ag.get("permissions.shared-with"))),s.createElement(CE.U,{className:sP},s.createElement("div",{className:$A},s.createElement("div",null,o.members&&o.members.map((function(e){var t;return s.createElement(mP,{playlistUri:i,member:e,username:l,key:null===(t=e.user)||void 0===t?void 0:t.username,capabilities:o.capabilities,onClose:a})}))))))):null},vP=function(){var e=(0,Bd.W6)(vs.bM),t=(0,s.useContext)(js.vM),n=t.isOpen,r=t.uri,i=(0,s.useContext)(js.S7),a=(0,s.useCallback)((function(){i({type:"close"})}),[i]);return e&&n&&r?s.createElement(fP,{isOpen:n,onClose:a,uri:r}):null},gP=new Map;gP.set("ad","€ 9,99"),gP.set("ar","$ 69,00"),gP.set("at","€ 9,99"),gP.set("au","$11.99"),gP.set("be","€ 9,99"),gP.set("bg","4.99 EUR"),gP.set("bo","5.99 USD"),gP.set("br","R$ 16,90"),gP.set("ca","9.99 CAD"),gP.set("ch","Fr. 12.95"),gP.set("cl","$ 3.490,00"),gP.set("co","$ 14.900,00"),gP.set("cr","5.99 USD"),gP.set("cy","6.99 EUR"),gP.set("cz","5.99 EUR"),gP.set("de","9,99 €"),gP.set("dk","kr 99,00"),gP.set("do","5.99 USD"),gP.set("ec","5.99 USD"),gP.set("ee","6.99 EUR"),gP.set("es","9,99 €"),gP.set("fi","9,99 €"),gP.set("fr","9,99 €"),gP.set("uk","£9.99"),gP.set("gr","6.99 EUR"),gP.set("gt","5.99 USD"),gP.set("hk","HK$58.00"),gP.set("hn","5.99 USD"),gP.set("hu","4.99 EUR"),gP.set("id","Rp 49.990"),gP.set("ie","€9.99"),gP.set("is","9.99 EUR"),gP.set("it","€ 9,99"),gP.set("kr","₩10,900"),gP.set("li","12.95 CHF"),gP.set("lt","6.99 EUR"),gP.set("lu","9.99 EUR"),gP.set("lv","6.99 EUR"),gP.set("mc","9.99 EUR"),gP.set("mt","6.99 EUR"),gP.set("mx","$ 99.00"),gP.set("my","RM14.90"),gP.set("ni","5.99 USD"),gP.set("nl","€9,99"),gP.set("no","kr109,00"),gP.set("nz","$14.99"),gP.set("pa","5.99 USD"),gP.set("pe","S/ 18.90"),gP.set("ph","₱129"),gP.set("pl","19,99 zł"),gP.set("pt","6.99 EUR"),gP.set("py","5.99 USD"),gP.set("se","99,00 kr"),gP.set("sg","S$9.90"),gP.set("sk","5.99 EUR"),gP.set("sv","5.99 USD"),gP.set("th","฿129.00"),gP.set("tr","13,99 TL"),gP.set("tw","NT$149.00"),gP.set("us","$9.99"),gP.set("uy","5.99 USD");var hP=new Map;hP.set("ad","€ 0,00"),hP.set("ar","$ 0,00"),hP.set("at","€ 0,00"),hP.set("au","$0.00"),hP.set("be","€ 0,00"),hP.set("bg","0.00 EUR"),hP.set("bo","0.00 USD"),hP.set("br","R$ 0,00"),hP.set("ca","0.00 CAD"),hP.set("ch","Fr. 0.00"),hP.set("cl","$ 0,00"),hP.set("co","$ 0,00"),hP.set("cr","0.00 USD"),hP.set("cy","0.00 EUR"),hP.set("cz","0.00 EUR"),hP.set("de","0,00 €"),hP.set("dk","kr 0,00"),hP.set("do","0.00 USD"),hP.set("ec","0.00 USD"),hP.set("ee","0.00 EUR"),hP.set("es","0,00 €"),hP.set("fi","0,00 €"),hP.set("fr","0,00 €"),hP.set("uk","£0.00"),hP.set("gr","0.00 EUR"),hP.set("gt","0.00 USD"),hP.set("hk","HK$0.00"),hP.set("hn","0.00 USD"),hP.set("hu","0.00 EUR"),hP.set("id","Rp 0.00"),hP.set("ie","€0.00"),hP.set("is","0.00 EUR"),hP.set("it","€ 0,00"),hP.set("li","0.00 CHF"),hP.set("lt","0.00 EUR"),hP.set("lu","0.00 EUR"),hP.set("lv","0.00 EUR"),hP.set("mc","0.00 EUR"),hP.set("mt","0.00 EUR"),hP.set("mx","$ 0.00"),hP.set("my","RM0.00"),hP.set("ni","0.00 USD"),hP.set("nl","€0,00"),hP.set("no","kr0,00"),hP.set("nz","$0.00"),hP.set("pa","0.00 USD"),hP.set("pe","S/ 0.00"),hP.set("ph","₱0.00"),hP.set("pl","0,00 zł"),hP.set("pt","0.00 EUR"),hP.set("py","0.00 USD"),hP.set("se","0,00 kr"),hP.set("sg","S$0.00"),hP.set("sk","0.00 EUR"),hP.set("sv","0.00 USD"),hP.set("th","฿0.00"),hP.set("tr","0,00 TL"),hP.set("tw","NT$0.00"),hP.set("us","$0.00"),hP.set("uy","0.00 USD");const yP="jqvEr4MvCdQ1QA_FSpe7",kP="sRkNI1Gya5aBxtf_vS1S",EP="WShxRrLdX9LzzqlCmWZy",bP="rlMoP29GxtDlHkDK_aci";var _P=s.memo((function(){var e=(0,Ms.I0)(),t=(0,Ms.v9)((function(e){return e.ui.premiumDialog.isOpen})),n=(0,Ms.v9)((function(e){var t=function(e){var t=e.toLowerCase();return{premiumPrice:gP.has(t)?gP.get(t):"99,00 kr",freePrice:hP.has(t)?hP.get(t):"0,00 kr"}}((0,aw.rZ)(e));return t.premiumPrice})),r=(0,Ms.v9)(aw.C7),i=(0,s.useCallback)((function(){return e((0,pd.Tz)())}),[e]),a=(0,Gp.e)().openURLWithSessionTransfer;return s.createElement(Al.Z,{isOpen:t,shouldCloseOnEsc:!1,shouldCloseOnOverlayClick:!1,contentLabel:vl.ag.get("premium.dialog.title")},s.createElement("div",{className:yP},s.createElement("h1",{className:kP},vl.ag.get("premium.dialog.title")),s.createElement("p",{className:EP},vl.ag.get("premium.dialog.description",r?3:1)),s.createElement(Il.D,{colorSet:"invertedLight",onClick:function(){return a(Mk.Np)}},vl.ag.get("premium.dialog.subscribe")),s.createElement(_u.oM,{semanticColor:"textBase",onClick:i},vl.ag.get("user.log-out")),s.createElement("p",{className:bP},r?vl.ag.get("premium.dialog.disclaimer.noprice"):vl.ag.get("premium.dialog.disclaimer",{price:n}))))})),SP=n(36943),wP={macOS:"https://download.scdn.co/SpotifyInstaller.zip",Windows:"https://download.scdn.co/SpotifySetup.exe"},NP={iOS:"https://app.adjust.com/wp2zrj?adgroup=signup_to_listen&campaign=default&tracker_limit=250000",Android:"https://app.adjust.com/ff0trr?adgroup=signup_to_listen&campaign=default&tracker_limit=250000"};const OP="nA6L5ghQWwxyiSLduNyb",CP="CgsDbaLb2DCGHkrw4wiw",TP="qp1xbhJfglEmJAWm6pdy",IP="fFk09sW_YL0Qsk8lYOfD",AP="BDNNVyxsxgQQvGmij9M1",PP="ChX5nojraEtlxQULfJFk",DP="XV07akXqG5L_suY2X8ML",RP="j8qAQ6XAb2YSBUEzUqEV",xP="xZnbvSzpNSY7qnC6X8Rf",LP="FZncbwv9M2sxuY27K8YO";var FP=s.memo((function(){var e,t=(0,Ms.I0)(),n=(0,Ms.v9)((function(e){return e.ui.signupToListenDialog.isOpen})),r=(0,Ms.v9)((function(e){return e.ui.textDirection.isRTL})),i=(0,Ms.v9)((function(e){return e.session.userCountry})),a=(0,Ms.v9)((function(e){return e.features.isPodcastEnabled})),o=(0,of.o)(),l=(e=(0,SP.y)(),Object.keys(wP).includes(e)?wP[e]:Object.keys(NP).includes(e)?NP[e]:"https://spotify.com/download"),c=(0,ru.s4)();(0,s.useEffect)((function(){o({intent:"navigate",type:"view"})}),[o]);var u=(0,s.useCallback)((function(){var e={category:"in_app_message",action:"click",label:"dismiss",destination_url:"open.spotify.com",os:(0,ae.y)(),country:i,context:window.location.search},n=(0,pu.x)(e);c.send(n),o({intent:"close",type:"click"}),t((0,Us.L9)())}),[t,o,c,i]),d=(0,s.useCallback)((function(){var e={category:"in_app_message",action:"click",label:"download",destination_url:l,os:(0,ae.y)(),country:i,context:window.location.search},n=(0,pu.x)(e);c.send(n),o({intent:"download",type:"click"}),t((0,Us.L9)()),window.open(l,"_self")}),[t,o,l,c,i]);return s.createElement(Al.Z,{animated:!0,isOpen:n,className:OP,overlayClassName:CP,contentLabel:vl.ag.get("s2l.download_spotify"),onRequestClose:u},s.createElement("div",{className:TP},s.createElement("div",{className:IP},s.createElement("div",{className:"".concat(PP)},s.createElement("img",{className:DP,alt:"Web Player",src:(0,vf.g)(r?"images/s2l-desktopui-rtl.png":"images/s2l-desktopui-ltr.png")})),s.createElement("div",{className:AP},s.createElement(Eu.D,{as:"h1",variant:"canon",className:RP},vl.ag.get("s2l.download_spotify")),s.createElement(Eu.D,{as:"p",semanticColor:"textSubdued",className:xP},a?vl.ag.get("s2l.play_millions_podcasts"):vl.ag.get("s2l.play_millions")),s.createElement(Il.D,{onClick:d},vl.ag.get("s2l.download")))),s.createElement(_u.oM,{onClick:u,semanticColor:"textBase",className:LP},vl.ag.get("s2l.dismiss"))))})),UP=s.memo((function(){return s.createElement(Yv.ZP,{value:"signup-to-listen"},s.createElement(s.Suspense,{fallback:null},s.createElement(FP,null)))})),ZP=n(24183),MP=(n(44048),n(4835)),BP=function(e){var t,n=e.cssCustomProperty,i=e.min,a=e.max,o=e.value,l=e.initialValue,c=e.onCSSPropertyChange,u=e.label,d=e.placement,m=e.elementRef,p=e.minExpanded,f=e.thresholdCollapsed,v=(0,s.useState)(!1),g=(0,r.Z)(v,2),h=g[0],y=g[1],k=Math.floor(a/2),E=parseInt(getComputedStyle(document.documentElement).getPropertyValue(n),10),b=(0,s.useState)(E),_=(0,r.Z)(b,2),S=_[0],w=_[1],N=(0,Ms.v9)((function(e){return e.ui.textDirection.isRTL})),O=(0,s.useCallback)((function(e){var t=k;return m.current?("inline-start"===d?t=N?e-m.current.getBoundingClientRect().left:m.current.getBoundingClientRect().right-e:"inline-end"===d&&(t=N?m.current.getBoundingClientRect().right-e:e-m.current.getBoundingClientRect().left),t):t}),[d,m,k,N]),C=(0,wf.y1)((function(e){if(void 0!==e){var t=function(e){var t=Math.min(Math.max(e,i),a);return void 0===f||void 0===p?t:e<f?i:e<p?p:t}(e);!function(e){document.documentElement.style.setProperty(n,"".concat(e,"px"))}(t),w(t),null==c||c(t)}}),50,{leading:!0,maxWait:100});(0,s.useEffect)((function(){void 0!==o&&C(o)}),[o,C]),(0,s.useEffect)((function(){void 0!==l&&C(l)}),[l,C]),Number.isNaN(S)&&(console.error("[LayoutResizer] css property value is not a number. Defaulting to ".concat(k)),C(k));var T=function(e){d.startsWith("inline")?C(O(e.clientX)):C(O(e.clientY))},I=(0,s.useRef)(T);I.current=T;var A=(0,s.useCallback)((function(){var e=function(e){I.current(e)};y(!0),document.addEventListener("mouseup",(function(){y(!1),document.removeEventListener("mousemove",e)}),{once:!0}),document.addEventListener("mousemove",e)}),[]);var P=parseInt((null===(t=m.current)||void 0===t?void 0:t.style.zIndex)||"0",10);return s.createElement(s.Fragment,null,h&&s.createElement("div",{className:"LayoutResizer__resize-overlay"}),s.createElement("div",{"":"LayoutResizer__resize-bar",onMouseDown:A,style:{zIndex:P+1},className:Tl()("LayoutResizer__resize-bar",{"LayoutResizer__resize-bar--resizing":h,"LayoutResizer__inline-start":"inline-start"===d,"LayoutResizer__inline-end":"inline-end"===d,"LayoutResizer__block-start":"block-start"===d,"LayoutResizer__block-end":"block-end"===d})},s.createElement(MP.q,{className:"LayoutResizer__input",type:"range",min:i,max:a,onChange:function(e){if(!h){var t=parseInt(e.target.value,10);C(p&&t<p?t>S?function(e,t,n){for(var r=n;r<e;)r+=t;return r}(p,10,t):i:t)}},value:null!=o?o:S,step:10},u)))},jP=parseInt(T_,10),VP=function(e){var t=e.elementRef,n=(0,mf.z)("nav-bar-width",jP),i=(0,r.Z)(n,2),a=i[0],o=i[1];return(0,s.useEffect)((function(){return Xu().bind(Zu.NAVIGATION_BAR_DECREASE_WIDTH,(function(){a&&o(a-10)})),Xu().bind(Zu.NAVIGATION_BAR_INCREASE_WIDTH,(function(){a&&o(a+10)})),function(){Xu().unbind(Zu.NAVIGATION_BAR_DECREASE_WIDTH),Xu().unbind(Zu.NAVIGATION_BAR_INCREASE_WIDTH)}}),[o,a]),s.createElement(BP,{elementRef:t,placement:"inline-end",label:vl.ag.get("resize.sidebar"),cssCustomProperty:"--nav-bar-width",onCSSPropertyChange:function(e){o(e)},initialValue:a,min:parseInt(C_,10),max:parseInt(I_,10)})},HP={},GP=function(e){return null===e.match(/\/search\/(\w+|\W+){1,}/gi)?e:"search-result"},WP=function(e){var t=e.scrollNodeRef,n=e.children,r=e.scrollNodeChildRef,i=(0,s.useRef)(""),a=(0,s.useRef)(),o=(0,Bs.k6)(),l=o.action,c=o.location,u=(0,s.useCallback)((function(){if(t.current){var e=GP(c.pathname),n=HP[e];if(n&&"POP"===l)var r=Date.now(),i=setInterval((function(){!t.current||Date.now()>r+3e3?clearInterval(i):t.current.scrollHeight>=n+t.current.offsetHeight&&(t.current.scrollTop=n,clearInterval(i))}),50);else t.current.scrollTop=0}}),[l,c.pathname,t]);(0,s.useMemo)((function(){if(t.current){var e=GP(i.current);HP[e]=t.current.scrollTop,i.current=c.pathname,a.current=void 0}}),[c.pathname,t]),(0,s.useEffect)((function(){u()}),[c.pathname,u,t]);var d=(0,s.useMemo)((function(){return{scrollNodeRef:t,scrollNodeChildRef:r}}),[t,r]);return s.createElement(Wh.VX.Provider,{value:d},n)},zP=n(78453),KP=n(15977),YP=n(42410),qP="search-modal-listbox";const QP="search-modal-inputContainer",JP="search-modal-searchIcon",XP="search-modal-input";var $P=s.memo((function(e){var t=e.value,n=e.onChange,r=e.onKeyPress,i=e.hasResults,a=e.activeResultId;return s.createElement("div",{className:QP},s.createElement(rE.j,{className:JP,"aria-hidden":!0}),s.createElement(Eu.D,{as:"input",variant:"ballad",className:XP,value:t,onKeyDown:r,onChange:n,placeholder:vl.ag.get("web-player.search-modal.placeholder"),autoFocus:!0,role:"combobox","aria-expanded":i,"aria-controls":qP,"aria-owns":qP,"aria-activedescendant":a}))})),eD=(n(73210),{kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"searchModalResults"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"numberOfTopResults"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"includeAudiobooks"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"searchV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}},{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}},{kind:"Argument",name:{kind:"Name",value:"numberOfTopResults"},value:{kind:"Variable",name:{kind:"Name",value:"numberOfTopResults"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"topResults"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"itemsV2"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchModalResultWithMatchedFields"}}]}}]}}]}}]}}].concat((0,N.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"searchModalResultWithMatchedFields"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"TopResultHit"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"matchedFields"}},{kind:"Field",name:{kind:"Name",value:"item"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchModalResult"}}]}}]}}]),(0,N.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"searchModalResult"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"TopResultV2"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"FragmentSpread",name:{kind:"Name",value:"searchModalResultAlbum"}},{kind:"FragmentSpread",name:{kind:"Name",value:"searchModalResultArtist"}},{kind:"FragmentSpread",name:{kind:"Name",value:"searchModalResultEpisode"}},{kind:"FragmentSpread",name:{kind:"Name",value:"searchModalResultGenre"}},{kind:"FragmentSpread",name:{kind:"Name",value:"searchModalResultPlaylist"}},{kind:"FragmentSpread",name:{kind:"Name",value:"searchModalResultPodcast"}},{kind:"FragmentSpread",name:{kind:"Name",value:"searchModalResultTrack"}},{kind:"FragmentSpread",name:{kind:"Name",value:"searchModalResultUser"}},{kind:"FragmentSpread",name:{kind:"Name",value:"searchModalResultAudiobook"},directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"includeAudiobooks"}}}]}]}]}}]),(0,N.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"searchModalResultAlbum"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AlbumResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Album"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"artists"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"profile"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchModalResultImageSources"}}]}}]}}]}}]}}]),(0,N.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"searchModalResultImageSources"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Image"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchModalResultImageURLAndSize"}}]}}]}}]),(0,N.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"searchModalResultImageURLAndSize"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ImageSource"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]),(0,N.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"searchModalResultArtist"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ArtistResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Artist"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"profile"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"visuals"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"avatarImage"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchModalResultImageSources"}}]}}]}}]}}]}}]}}]),(0,N.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"searchModalResultEpisode"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"EpisodeResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Episode"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchModalResultImageSources"}}]}},{kind:"Field",name:{kind:"Name",value:"releaseDate"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isoString"}},{kind:"Field",name:{kind:"Name",value:"precision"}}]}},{kind:"Field",name:{kind:"Name",value:"podcast"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]}}]}}]),(0,N.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"searchModalResultGenre"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"GenreResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Genre"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"image"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchModalResultImageSources"}}]}}]}}]}}]}}]),(0,N.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"searchModalResultPlaylist"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PlaylistResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Playlist"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"description"}},{kind:"Field",name:{kind:"Name",value:"images"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchModalResultImageSources"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"ownerV2"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]}}]}}]}}]}}]),(0,N.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"searchModalResultPodcast"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PodcastResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Podcast"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchModalResultImageSources"}}]}},{kind:"Field",name:{kind:"Name",value:"publisher"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]}}]}}]),(0,N.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"searchModalResultTrack"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"TrackResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Track"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"albumOfTrack"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchModalResultImageSources"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"artists"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"profile"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]}}]}}]}}]}}]),(0,N.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"searchModalResultUser"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UserResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"avatar"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchModalResultImageSources"}}]}}]}}]}}]}}]),(0,N.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"searchModalResultAudiobook"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AudiobookResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Audiobook"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchModalResultImageSources"}}]}},{kind:"Field",name:{kind:"Name",value:"publisher"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]}}]}}]))});function tD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function nD(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tD(Object(n),!0).forEach((function(t){(0,E.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tD(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var rD=s.memo((function(e){var t,n,r=e.query,i=e.onResults,a=e.numberOfResults,o=(0,Bd.W6)(vs.uB,{loadingValue:!1}),l=(t={limit:a,numberOfTopResults:a,offset:0,searchTerm:r,includeAudiobooks:o},n={cacheTime:18e5,staleTime:3e5,enabled:r.trim().length>0},(0,wn.a)(eD,t,n)),c=l.data,u=l.error,d=l.loading;return(0,s.useEffect)((function(){for(var e,t,n,a=null!==(e=null==c||null===(t=c.searchV2)||void 0===t||null===(n=t.topResults)||void 0===n?void 0:n.itemsV2)&&void 0!==e?e:[],s=[],l=0;l<a.length;l++){var m=a[l],p=m.item,f=m.matchedFields;if("UnknownTypeWrapper"!==p.__typename&&p.data)switch(p.data.__typename){case"Genre":s.push(nD(nD({},p.data),{},{uri:iD(p.data.uri),matchedFields:f}));break;case"Album":case"Artist":case"Track":case"Playlist":case"User":case"Episode":case"Podcast":s.push(nD(nD({},p.data),{},{matchedFields:f}));break;case"Audiobook":o&&s.push(nD(nD({},p.data),{},{matchedFields:f}));break;case"NotFound":case"RestrictedContent":case"GenericError":break;default:(0,Pe._)(p.data)}}i({query:r,error:!!u,loading:d,results:s})}),[c,u,o,d,i,r]),null}));function iD(e){return d().from(e)?e:"spotify:app:genre:".concat(e)}var aD=n(8498);const oD="OQZtYvcaWiQEaOOMZ54v";var sD=function(e){var t=e.children;return s.createElement(Eu.D,{variant:"mesto",semanticColor:"textSubdued",className:oD},t)},lD=function(e){return"search-modal-result-".concat(e)};const cD="search-modal-resultItem",uD="search-modal-isSelected",dD="search-modal-searchResultTitle",mD="search-modal-entityImage",pD="search-modal-searchResultRow",fD="search-modal-searchResultType";var vD=function(e){var t=e.position,n=e.uri,r=e.title,i=e.image,a=e.subtitle,o=e.isSelected,l=e.onClick,c=e.tag,u=e.label,m=(0,s.useRef)(null);(0,s.useEffect)((function(){var e;o&&(null===(e=m.current)||void 0===e||e.scrollIntoView({behavior:"auto",block:"nearest"}))}),[o]);var p=(0,s.useCallback)((function(){l({uri:n,position:t})}),[l,t,n]),f=(0,E.Z)({},"--position",t);return s.createElement(Zb.r,{ref:m,to:n,className:Tl()(cD,(0,E.Z)({},uD,o)),role:"option","aria-selected":o,onClick:p,id:lD(n),style:f,tabIndex:-1},s.createElement("span",{className:"hidden-visually"},u),s.createElement("div",{className:mD,"aria-hidden":!0},s.createElement(aD.x,{images:[{url:i,width:40,height:40}],isCircular:d().isArtist(n)})),s.createElement("div",{className:pD,"aria-hidden":!0},s.createElement(Eu.D,{as:"p",variant:"ballad",className:dD,semanticColor:"textBase"},r),s.createElement(Eu.D,{as:"p",variant:"mesto",className:dD,semanticColor:"textSubdued"},a)),s.createElement("div",{className:fD,"aria-hidden":!0},s.createElement(sD,null,c)))},gD=function(e){var t=e.results,n=e.onClick,r=e.selectedIndex;return s.createElement(s.Fragment,null,t.map((function(e,t){return s.createElement(s.Fragment,{key:t},function(e,t,n,r){var i,a,o,l,c,u,d,m,p,f,v,g,h,y,k,E,b,_,S,w,N,O,C,T;switch(e.__typename){case"Album":var I,A,P,D,R=e.artists.items.map((function(e){return e.profile.name})).join(vl.ag.getSeparator());return s.createElement(vD,{isSelected:r,position:t,onClick:n,title:e.name,image:null!==(I=null===(A=e.coverArt)||void 0===A||null===(P=A.sources)||void 0===P||null===(D=P[0])||void 0===D?void 0:D.url)&&void 0!==I?I:"",subtitle:R,uri:e.uri,tag:vl.ag.get("web-player.search-modal.result.album"),label:vl.ag.get("web-player.search-modal.a11y.contentbyartist",{item:e.name,creator:R,type:vl.ag.get("web-player.search-modal.result.album")})});case"Artist":return s.createElement(vD,{isSelected:r,position:t,onClick:n,title:e.profile.name,image:null!==(i=null===(a=e.visuals.avatarImage)||void 0===a||null===(o=a.sources)||void 0===o||null===(l=o[0])||void 0===l?void 0:l.url)&&void 0!==i?i:"",subtitle:"",uri:e.uri,tag:vl.ag.get("web-player.search-modal.result.artist"),label:vl.ag.get("web-player.search-modal.a11y.label",{item:e.profile.name,type:vl.ag.get("web-player.search-modal.result.artist")})});case"Track":var x,L,F,U,Z,M=e.artists.items.map((function(e){return e.profile.name})).join(vl.ag.getSeparator()),B=M;if(e.matchedFields.includes(Ei.$C.Lyrics)){var j=vl.ag.get("web-player.search-modal.lyrics-match");B="".concat(B," · ").concat(j)}return s.createElement(vD,{isSelected:r,position:t,onClick:n,title:e.name,image:null!==(x=null===(L=e.albumOfTrack)||void 0===L||null===(F=L.coverArt)||void 0===F||null===(U=F.sources)||void 0===U||null===(Z=U[0])||void 0===Z?void 0:Z.url)&&void 0!==x?x:"",subtitle:B,uri:e.uri,tag:vl.ag.get("web-player.search-modal.result.track"),label:vl.ag.get("web-player.search-modal.a11y.contentbyartist",{item:e.name,creator:M,type:vl.ag.get("web-player.search-modal.result.track")})});case"Playlist":var V,H,G,W,z="User"===(null===(V=e.ownerV2.data)||void 0===V?void 0:V.__typename)?e.ownerV2.data.name:"";return s.createElement(vD,{isSelected:r,position:t,onClick:n,title:e.name,image:null!==(H=null===(G=e.images.items.flatMap((function(e){return e.sources})))||void 0===G||null===(W=G[0])||void 0===W?void 0:W.url)&&void 0!==H?H:"",subtitle:z,uri:e.uri,tag:vl.ag.get("web-player.search-modal.result.playlist"),label:vl.ag.get("web-player.search-modal.a11y.contentbyartist",{item:e.name,creator:z,type:vl.ag.get("web-player.search-modal.result.playlist")})});case"User":return s.createElement(vD,{isSelected:r,position:t,onClick:n,title:e.name,image:null!==(c=null===(u=e.avatar)||void 0===u||null===(d=u.sources)||void 0===d||null===(m=d[0])||void 0===m?void 0:m.url)&&void 0!==c?c:"",subtitle:"",uri:e.uri,tag:vl.ag.get("web-player.search-modal.result.user"),label:vl.ag.get("web-player.search-modal.a11y.label",{item:e.name,type:vl.ag.get("web-player.search-modal.result.user")})});case"Genre":return s.createElement(vD,{isSelected:r,position:t,onClick:n,title:e.name,image:null!==(p=null===(f=e.image)||void 0===f||null===(v=f.sources)||void 0===v||null===(g=v[0])||void 0===g?void 0:g.url)&&void 0!==p?p:"",subtitle:"",uri:e.uri,tag:vl.ag.get("web-player.search-modal.result.genre"),label:vl.ag.get("web-player.search-modal.a11y.label",{item:e.name,type:vl.ag.get("web-player.search-modal.result.genre")})});case"Episode":var K,Y,q,Q,J,X=[null!==(K=e.releaseDate)&&void 0!==K&&K.isoString?vl.ag.formatDate(new Date(e.releaseDate.isoString)):void 0,e.podcast.name].filter(Boolean).join(" • ");return s.createElement(vD,{isSelected:r,position:t,onClick:n,title:e.name,image:null!==(Y=null===(q=e.coverArt)||void 0===q||null===(Q=q.sources)||void 0===Q||null===(J=Q[0])||void 0===J?void 0:J.url)&&void 0!==Y?Y:"",subtitle:X,uri:e.uri,tag:vl.ag.get("web-player.search-modal.result.episode"),label:vl.ag.get("web-player.search-modal.a11y.contentbyartist",{item:e.name,creator:e.podcast.name,type:vl.ag.get("web-player.search-modal.result.episode")})});case"Podcast":return s.createElement(vD,{isSelected:r,position:t,onClick:n,title:e.name,image:null!==(h=null===(y=e.coverArt)||void 0===y||null===(k=y.sources)||void 0===k||null===(E=k[0])||void 0===E?void 0:E.url)&&void 0!==h?h:"",subtitle:null!==(b=null===(_=e.publisher)||void 0===_?void 0:_.name)&&void 0!==b?b:"",uri:e.uri,tag:vl.ag.get("web-player.search-modal.result.podcast"),label:vl.ag.get("web-player.search-modal.a11y.label",{item:e.name,type:vl.ag.get("web-player.search-modal.result.podcast")})});case"Audiobook":return s.createElement(vD,{isSelected:r,position:t,onClick:n,title:e.name,image:null!==(S=null===(w=e.coverArt)||void 0===w||null===(N=w.sources)||void 0===N||null===(O=N[0])||void 0===O?void 0:O.url)&&void 0!==S?S:"",subtitle:null!==(C=null===(T=e.publisher)||void 0===T?void 0:T.name)&&void 0!==C?C:"",uri:e.uri,tag:vl.ag.get("web-player.search-modal.result.audiobook"),label:vl.ag.get("web-player.search-modal.a11y.label",{item:e.name,type:vl.ag.get("web-player.search-modal.result.audiobook")})});default:return(0,Pe.U)(e)}}(e,t,n,r===t))})))};const hD="search-modal-modalWrapper",yD="search-modal-searchBar",kD="search-modal-hasResults",ED="G8UNZJv4HT1kOIolA_e7",bD="search-modal-emptyStateContainer",_D="search-modal-modalBase",SD="search-modal-modalAfterOpen",wD="search-modal-modalBeforeClose";var ND=function(){var e=function(){var e=(0,s.useContext)(ud);if(!e)throw new Error("useSearchModalState must be used within SearchModalProvider");return(0,r.Z)(e,1)[0]}().isOpen,t=(0,Bs.k6)(),n=md(),i=(0,Xc.fU)(YP.createDesktopQuickSearchEventFactory,{}),a=i.spec,o=i.logger,l=i.UBIFragment,c=(0,s.useState)(""),u=(0,r.Z)(c,2),m=u[0],p=u[1],f=(0,s.useState)([]),v=(0,r.Z)(f,2),g=v[0],h=v[1],y=(0,s.useState)(0),k=(0,r.Z)(y,2),b=k[0],_=k[1],S=(0,s.useMemo)((function(){return d().from(m)}),[m]),w=S&&S.type!==d().Type.AD,N=(0,s.useCallback)((function(e){var t=e.target.value;t!==m&&(p(t),_(0),o.logInteraction(a.inputFactory().keyStrokeChangeSearchQuery({searchQueryString:t})))}),[o,m,a]),O=(0,s.useCallback)((function(){p(""),n({type:"CLOSE"})}),[n]),C=(0,s.useCallback)((function(e){var t=e.uri,n=e.position;o.logInteraction(a.searchResultFactory({position:n}).hitUiNavigate({destination:t})),O()}),[O,o,a]),T=(0,s.useCallback)((function(e){var n=e.key;if("ArrowUp"===n)_((function(e){return Math.max(e-1,0)})),e.preventDefault();else if("ArrowDown"===n)_((function(e){return Math.min(e+1,g.length-1)})),e.preventDefault();else if("Enter"===n){if(w)return t.push(S.toURLPath(!0)),void O();var r=g[b];if(r){var i,a=null===(i=d().from(r.uri))||void 0===i?void 0:i.toURLPath(!0);a&&(t.push(a),C({uri:r.uri,position:b}))}e.preventDefault()}}),[w,O,C,t,S,g,b]),I=(0,s.useCallback)((function(e){e.query===m&&h(e.results)}),[m]),A=g.length>0,P=g[b],D=P?lD(P.uri):void 0;return s.createElement(Al.Z,{contentLabel:vl.ag.get("web-player.search-modal.title"),isOpen:e,onRequestClose:O,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,animation:{modal:{base:_D,afterOpen:SD,beforeClose:wD},overlay:{base:_D,afterOpen:SD,beforeClose:wD}}},s.createElement(l,{spec:a},s.createElement(rD,{query:w?"":m,numberOfResults:30,onResults:I}),s.createElement("div",{className:hD},s.createElement("div",{className:Tl()(yD,(0,E.Z)({},kD,g.length))},s.createElement($P,{value:m,onChange:N,onKeyPress:T,hasResults:A,activeResultId:D})),!w&&A?s.createElement("div",{className:ED,id:qP,role:"listbox"},s.createElement(gD,{results:g,onClick:C,selectedIndex:b})):s.createElement("div",{className:bD,onClick:O}))))},OD=n(52533);function CD(){var e=function(){var e=(0,s.useContext)($c);if(null===e)throw new Error("Trying to use 'UserAPIContext' without 'UserAPIProvider'!");return e}(),t=(0,s.useState)(!0),n=(0,r.Z)(t,2),i=n[0],a=n[1],o=(0,s.useState)(null),l=(0,r.Z)(o,2),c=l[0],u=l[1],d=(0,s.useState)(null),m=(0,r.Z)(d,2),p=m[0],f=m[1];return(0,s.useEffect)((function(){var t=!0;return e.getProductState().then((function(e){t&&u(e)})).catch((function(e){t&&f(e)})).finally((function(){t&&a(!1)})),function(){t=!1}}),[e]),{isLoading:i,data:c,error:p}}var TD=s.memo((function(e){var t="family"===e.plan?"#59a0f6":"#4100f4";return s.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",preserveAspectRatio:"xMidYMid meet",width:"1080",height:"1080",viewBox:"0 0 1080 1080",style:{width:"100%",height:"100%"}},s.createElement("defs",null,s.createElement("animateMotion",{repeatCount:"indefinite",dur:"5.9726393s",begin:"0s",xlinkHref:"#_R_G_L_1_G",fill:"freeze",keyTimes:"0;0.1173184;0.5027933;0.6312849;1",path:"M0.04 -52.13 C12.37,-52.13 61.71,-52.13 74.04,-52.13 C74.04,-52.13 74.04,-52.13 74.04,-52.13 C61.71,-52.13 12.37,-52.13 0.04,-52.13 C0.04,-52.13 0.04,-52.13 0.04,-52.13 ",keyPoints:"0;0.5;0.5;1;1",keySplines:"0.9 0 0.1 1;0.9 0.9 0.1 0.1;0.9 0 0.1 1;0 0 0 0",calcMode:"spline"}),s.createElement("animateTransform",{repeatCount:"indefinite",dur:"5.9726393s",begin:"0s",xlinkHref:"#_R_G_L_1_G",fill:"freeze",attributeName:"transform",from:"0.9400000000000001 0.9400000000000001",to:"0.9400000000000001 0.9400000000000001",type:"scale",additive:"sum",keyTimes:"0;1",values:"0.9400000000000001 0.9400000000000001;0.9400000000000001 0.9400000000000001",keySplines:"0 0 1 1",calcMode:"spline"}),s.createElement("animateTransform",{repeatCount:"indefinite",dur:"5.9726393s",begin:"0s",xlinkHref:"#_R_G_L_1_G",fill:"freeze",attributeName:"transform",from:"-540.25 -305.406",to:"-540.25 -305.406",type:"translate",additive:"sum",keyTimes:"0;1",values:"-540.25 -305.406;-540.25 -305.406",keySplines:"0 0 1 1",calcMode:"spline"}),s.createElement("animateMotion",{repeatCount:"indefinite",dur:"5.9726393s",begin:"0s",xlinkHref:"#_R_G_L_0_G",fill:"freeze",keyTimes:"0;0.1173184;0.5027933;0.6312849;1",path:"M0 91.87 C-30.71,91.87 -153.54,91.87 -184.24,91.87 C-184.24,91.87 -184.24,91.87 -184.24,91.87 C-153.54,91.87 -30.71,91.87 0,91.87 C0,91.87 0,91.87 0,91.87 ",keyPoints:"0;0.5;0.5;1;1",keySplines:"0.9 0 0.1 1;0.9 0.9 0.1 0.1;0.9 0 0.1 1;0 0 0 0",calcMode:"spline"}),s.createElement("animateTransform",{repeatCount:"indefinite",dur:"5.9726393s",begin:"0s",xlinkHref:"#_R_G_L_0_G",fill:"freeze",attributeName:"transform",from:"0",to:"0",type:"rotate",additive:"sum",keyTimes:"0;0.0726257;0.1173184;0.1899441;0.5418994;0.6312849;1",values:"0;0;-21.754;-13.2;-13.2;0;0",keySplines:"0.9 0 0.1 1;0.9 0 0.1 1;0.9 0 0.58 1;0.167 0 0.58 1;0.167 0 0.833 1;0 0 0 0",calcMode:"spline"}),s.createElement("animateTransform",{repeatCount:"indefinite",dur:"5.9726393s",begin:"0s",xlinkHref:"#_R_G_L_0_G",fill:"freeze",attributeName:"transform",from:"0.93 0.93",to:"0.93 0.93",type:"scale",additive:"sum",keyTimes:"0;1",values:"0.93 0.93;0.93 0.93",keySplines:"0 0 1 1",calcMode:"spline"}),s.createElement("animateTransform",{repeatCount:"indefinite",dur:"5.9726393s",begin:"0s",xlinkHref:"#_R_G_L_0_G",fill:"freeze",attributeName:"transform",from:"-215.101 -310.251",to:"-215.101 -310.251",type:"translate",additive:"sum",keyTimes:"0;1",values:"-215.101 -310.251;-215.101 -310.251",keySplines:"0 0 1 1",calcMode:"spline"}),s.createElement("animate",{attributeType:"XML",attributeName:"opacity",dur:"6s",from:"0",to:"1",xlinkHref:"#time_group"})),s.createElement("g",{id:"_R_G"},s.createElement("g",{id:"_R_G_L_1_G_N_1_T_0",transform:" translate(540, 540) scale(0.9, 0.9) translate(0, 0)"},s.createElement("g",{id:"_R_G_L_1_G"},s.createElement("path",{id:"_R_G_L_1_G_D_0_P_0",fill:"#dedede",fillOpacity:"1",fillRule:"nonzero",d:" M127.61 0.25 C127.61,0.25 951.73,0.25 951.73,0.25 C965.74,0.25 977.09,11.6 977.09,25.61 C977.09,25.61 977.09,576.56 977.09,576.56 C977.09,590.56 965.74,601.92 951.73,601.92 C951.73,601.92 127.61,601.92 127.61,601.92 C113.61,601.92 102.26,590.56 102.26,576.56 C102.26,576.56 102.26,25.61 102.26,25.61 C102.26,11.6 113.61,0.25 127.61,0.25z "}),s.createElement("path",{id:"_R_G_L_1_G_D_1_P_0",fill:getComputedStyle(document.body).getPropertyValue("--spice-text").trim(),fillOpacity:"1",fillRule:"nonzero",d:" M127.61 2.56 C127.61,2.56 951.73,2.56 951.73,2.56 C964.47,2.56 974.79,12.88 974.79,25.61 C974.79,25.61 974.79,576.56 974.79,576.56 C974.79,589.29 964.47,599.61 951.73,599.61 C951.73,599.61 127.61,599.61 127.61,599.61 C114.88,599.61 104.56,589.29 104.56,576.56 C104.56,576.56 104.56,25.61 104.56,25.61 C104.56,12.88 114.88,2.56 127.61,2.56z "}),s.createElement("path",{id:"_R_G_L_1_G_D_2_P_0",fill:"#dedede",fillOpacity:"1",fillRule:"nonzero",d:" M0.25 601.34 C0.25,591.79 7.99,584.05 17.54,584.05 C17.54,584.05 1062.96,584.05 1062.96,584.05 C1072.51,584.05 1080.25,591.79 1080.25,601.34 C1080.25,601.34 0.25,601.34 0.25,601.34z "}),s.createElement("path",{id:"_R_G_L_1_G_D_3_P_0",fill:getComputedStyle(document.body).getPropertyValue("--spice-text").trim(),fillOpacity:"1",fillRule:"nonzero",d:" M2.55 599.03 C2.55,592.03 8.23,586.35 15.23,586.35 C15.23,586.35 1065.26,586.35 1065.26,586.35 C1072.27,586.35 1077.95,592.03 1077.95,599.03 C1077.95,599.03 2.55,599.03 2.55,599.03z "}),s.createElement("path",{id:"_R_G_L_1_G_D_4_P_0",fill:"#dedede",fillOpacity:"1",fillRule:"nonzero",d:" M0.25 601.34 C0.25,601.34 1080.25,601.34 1080.25,601.34 C1068.9,607.39 1056.23,610.56 1043.36,610.56 C1043.36,610.56 37.13,610.56 37.13,610.56 C24.27,610.56 11.6,607.39 0.25,601.34z "}),s.createElement("path",{id:"_R_G_L_1_G_D_5_P_0",fill:getComputedStyle(document.body).getPropertyValue("--spice-text").trim(),fillOpacity:"1",fillRule:"nonzero",d:" M3.71 601.34 C3.71,601.34 1076.79,601.34 1076.79,601.34 C1066.14,605.9 1054.68,608.26 1043.1,608.26 C1043.1,608.26 37.4,608.26 37.4,608.26 C25.82,608.26 14.35,605.9 3.71,601.34z "}),s.createElement("path",{id:"_R_G_L_1_G_D_6_P_0",fill:"#dedede",fillOpacity:"1",fillRule:"nonzero",d:" M463.02 584.05 C463.02,584.05 618.05,584.05 618.05,584.05 C618.05,590.74 612.63,596.15 605.95,596.15 C605.95,596.15 475.13,596.15 475.13,596.15 C468.44,596.15 463.02,590.74 463.02,584.05z "}),s.createElement("path",{id:"_R_G_L_1_G_D_7_P_0",fill:t,fillOpacity:"1",fillRule:"nonzero",d:" M125.33 36.88 C125.33,36.88 955.21,36.88 955.21,36.88 C955.21,36.88 955.21,555.56 955.21,555.56 C955.21,555.56 125.33,555.56 125.33,555.56 C125.33,555.56 125.33,36.88 125.33,36.88z "}),s.createElement("path",{id:"_R_G_L_1_G_D_8_P_0",fill:getComputedStyle(document.body).getPropertyValue("--spice-text").trim(),fillOpacity:"1",fillRule:"nonzero",d:" M540.25 240.33 C525.63,240.33 511.61,246.14 501.27,256.48 C490.93,266.82 485.13,280.84 485.13,295.46 C485.13,310.08 490.93,324.1 501.27,334.43 C511.61,344.77 525.63,350.58 540.25,350.58 C554.87,350.58 568.89,344.77 579.23,334.43 C589.56,324.1 595.37,310.08 595.37,295.46 C595.37,280.84 589.56,266.82 579.23,256.48 C568.89,246.14 554.87,240.33 540.25,240.33z  M565.53 319.84 C565.29,320.23 564.99,320.56 564.62,320.83 C564.26,321.09 563.84,321.28 563.4,321.39 C562.97,321.5 562.51,321.52 562.06,321.45 C561.62,321.38 561.19,321.22 560.81,320.99 C547.86,313.07 531.57,311.29 512.38,315.67 C511.5,315.85 510.59,315.68 509.84,315.19 C509.08,314.71 508.55,313.94 508.35,313.07 C508.15,312.2 508.3,311.28 508.77,310.51 C509.23,309.75 509.98,309.2 510.85,308.97 C531.85,304.17 549.86,306.24 564.39,315.12 C564.77,315.35 565.11,315.66 565.37,316.02 C565.64,316.39 565.83,316.8 565.94,317.24 C566.04,317.68 566.06,318.14 565.99,318.58 C565.92,319.03 565.77,319.46 565.53,319.84z  M572.27 304.83 C571.68,305.81 570.72,306.5 569.61,306.76 C568.5,307.03 567.33,306.84 566.36,306.25 C551.55,297.14 528.96,294.5 511.44,299.82 C510.76,300.04 510.04,300.08 509.34,299.95 C508.64,299.81 507.98,299.51 507.43,299.06 C506.88,298.61 506.45,298.03 506.17,297.37 C505.9,296.71 505.8,296 505.87,295.29 C505.96,294.44 506.3,293.64 506.84,292.98 C507.39,292.32 508.12,291.84 508.94,291.6 C528.96,285.53 553.84,288.47 570.86,298.93 C571.34,299.22 571.76,299.61 572.09,300.06 C572.42,300.52 572.66,301.04 572.79,301.58 C572.92,302.13 572.95,302.7 572.86,303.26 C572.77,303.82 572.57,304.35 572.27,304.83z  M572.86 289.2 C555.09,278.65 525.78,277.68 508.81,282.83 C507.52,283.19 506.13,283.03 504.95,282.38 C503.76,281.74 502.88,280.65 502.49,279.36 C502.1,278.07 502.23,276.68 502.85,275.48 C503.47,274.29 504.54,273.38 505.82,272.96 C525.3,267.05 557.66,268.19 578.12,280.33 C579.29,281.03 580.15,282.17 580.49,283.49 C580.82,284.82 580.62,286.22 579.92,287.4 C579.22,288.58 578.09,289.43 576.76,289.77 C575.44,290.1 574.03,289.9 572.86,289.2z "}))),s.createElement("g",{id:"_R_G_L_0_G_N_1_T_0",transform:" translate(540, 540) scale(0.9, 0.9) translate(0, 0)"},s.createElement("g",{id:"_R_G_L_0_G"},s.createElement("path",{id:"_R_G_L_0_G_D_0_P_0",fill:"#dedede",fillOpacity:"1",fillRule:"nonzero",d:" M0.25 594.28 C0.25,594.28 0.25,26.22 0.25,26.22 C0.25,11.88 11.88,0.25 26.22,0.25 C26.22,0.25 403.98,0.25 403.98,0.25 C418.33,0.25 429.95,11.88 429.95,26.22 C429.95,26.22 429.95,594.28 429.95,594.28 C429.95,608.62 418.33,620.25 403.98,620.25 C403.98,620.25 26.22,620.25 26.22,620.25 C11.88,620.25 0.25,608.62 0.25,594.28z "}),s.createElement("path",{id:"_R_G_L_0_G_D_1_P_0",fill:getComputedStyle(document.body).getPropertyValue("--spice-text").trim(),fillOpacity:"1",fillRule:"nonzero",d:" M2.61 594.28 C2.61,594.28 2.61,26.22 2.61,26.22 C2.61,13.18 13.18,2.61 26.22,2.61 C26.22,2.61 403.98,2.61 403.98,2.61 C417.02,2.61 427.59,13.18 427.59,26.22 C427.59,26.22 427.59,594.28 427.59,594.28 C427.59,607.32 417.02,617.89 403.98,617.89 C403.98,617.89 26.22,617.89 26.22,617.89 C13.18,617.89 2.61,607.32 2.61,594.28z "}),s.createElement("path",{id:"_R_G_L_0_G_D_2_P_0",fill:"#dedede",fillOpacity:"1",fillRule:"nonzero",d:" M217.94 26.69 C217.94,25.13 216.67,23.86 215.1,23.86 C213.54,23.86 212.27,25.13 212.27,26.69 C212.27,28.26 213.54,29.53 215.1,29.53 C216.67,29.53 217.94,28.26 217.94,26.69z "}),s.createElement("path",{id:"_R_G_L_0_G_D_3_P_0",fill:"#dedede",fillOpacity:"1",fillRule:"nonzero",d:" M215.1 582.48 C222.41,582.48 228.32,588.4 228.32,595.69 C228.32,603 222.41,608.92 215.1,608.92 C207.8,608.92 201.88,603 201.88,595.69 C201.88,588.4 207.8,582.48 215.1,582.48z  M215.1 584.13 C221.49,584.13 226.67,589.3 226.67,595.69 C226.67,602.08 221.49,607.26 215.1,607.26 C208.71,607.26 203.53,602.08 203.53,595.69 C203.53,589.3 208.71,584.13 215.1,584.13z "}),s.createElement("path",{id:"_R_G_L_0_G_D_4_P_0",fill:"#ef77a1",fillOpacity:"1",fillRule:"nonzero",d:" M18.19 47.94 C18.19,47.94 412.01,47.94 412.01,47.94 C412.01,47.94 412.01,573.03 412.01,573.03 C412.01,573.03 18.19,573.03 18.19,573.03 C18.19,573.03 18.19,47.94 18.19,47.94z "}),s.createElement("path",{id:"_R_G_L_0_G_D_5_P_0",fill:getComputedStyle(document.body).getPropertyValue("--spice-text").trim(),fillOpacity:"1",fillRule:"nonzero",d:" M215.1 270.35 C204.58,270.35 194.5,274.53 187.06,281.97 C179.62,289.4 175.44,299.49 175.44,310.01 C175.44,320.53 179.62,330.62 187.06,338.06 C194.5,345.5 204.58,349.68 215.1,349.68 C225.62,349.68 235.71,345.5 243.15,338.06 C250.59,330.62 254.77,320.53 254.77,310.01 C254.77,299.49 250.59,289.4 243.15,281.97 C235.71,274.53 225.62,270.35 215.1,270.35z  M233.3 327.56 C233.13,327.84 232.9,328.08 232.64,328.27 C232.38,328.46 232.08,328.6 231.77,328.68 C231.45,328.75 231.12,328.77 230.8,328.72 C230.48,328.67 230.17,328.55 229.89,328.39 C220.58,322.69 208.86,321.41 195.05,324.56 C194.42,324.69 193.76,324.57 193.22,324.21 C192.68,323.87 192.29,323.32 192.15,322.69 C192,322.06 192.11,321.4 192.45,320.85 C192.78,320.3 193.32,319.9 193.95,319.74 C209.06,316.28 222.02,317.77 232.47,324.16 C232.75,324.33 232.99,324.55 233.18,324.82 C233.37,325.08 233.51,325.38 233.59,325.69 C233.67,326.01 233.68,326.33 233.63,326.66 C233.58,326.97 233.46,327.28 233.3,327.56z  M238.15 316.76 C237.72,317.46 237.03,317.96 236.23,318.15 C235.43,318.34 234.59,318.21 233.89,317.78 C223.24,311.22 206.98,309.33 194.37,313.15 C193.88,313.31 193.36,313.34 192.86,313.25 C192.36,313.15 191.89,312.93 191.49,312.6 C191.09,312.28 190.78,311.87 190.59,311.39 C190.39,310.92 190.31,310.4 190.37,309.9 C190.43,309.28 190.67,308.7 191.06,308.23 C191.46,307.76 191.98,307.41 192.57,307.24 C206.98,302.87 224.89,304.99 237.13,312.51 C237.47,312.72 237.78,313 238.01,313.33 C238.25,313.66 238.42,314.03 238.52,314.43 C238.61,314.82 238.63,315.23 238.57,315.63 C238.5,316.03 238.36,316.41 238.15,316.76z  M238.57 305.51 C225.78,297.92 204.69,297.22 192.48,300.93 C191.55,301.19 190.55,301.07 189.7,300.61 C188.85,300.14 188.21,299.36 187.93,298.43 C187.65,297.5 187.75,296.5 188.19,295.64 C188.64,294.78 189.41,294.13 190.33,293.83 C204.34,289.57 227.63,290.39 242.35,299.13 C243.2,299.63 243.81,300.45 244.06,301.41 C244.3,302.36 244.15,303.37 243.65,304.22 C243.15,305.06 242.33,305.68 241.38,305.92 C240.42,306.16 239.41,306.02 238.57,305.51z "})))),s.createElement("g",{id:"time_group"}))}));const ID="b5u53ZDl1r_dkcjP0rmM",AD="VH2e65GQCIpCA5VtcbGA",PD="hb7fBnKlkSYWXXFfjI2C",DD="QZMJ0dBVPL3KEv1vD15k",RD="h5Ba7S763lWiLJ0x_KKw",xD="BTfcEyaIbVDRU9UpytCY";n(56609),n(67334);var LD=s.memo((function(e){var t,n=e.onClose,r=e.onManageYourPlanClick,i=e.plan,a=e.isOpen,o=e.onDismissCTAClick,l=Tl()(ID,"encore-premium-family-set",(t={},(0,E.Z)(t,PD,"family"===i),(0,E.Z)(t,AD,"duo"===i),t)),c="family"===i,u=c?"encore-premium-family-set":"encore-premium-duo-set";return s.createElement(Al.Z,{animated:!0,isOpen:a,onRequestClose:n,contentLabel:vl.ag.get("context-menu.about-recommendations")},s.createElement("div",{className:l},s.createElement("div",{className:Tl()(DD,RD)},s.createElement(TD,{plan:i})),s.createElement("div",{className:Tl()(DD,xD)},s.createElement(Eu.D,{as:"h1",variant:"alto",semanticColor:"textBase"},vl.ag.get("web-player.multi-user-plan-switchback-modal.you-re-currently-listening-on-another")),s.createElement(Eu.D,{as:"p",variant:"ballad",semanticColor:"textBase"},vl.ag.get("web-player.multi-user-plan-switchback-modal.you-can-only-listen-on-1-device")),s.createElement(Eu.D,{as:"p",variant:"ballad",semanticColor:"textBase"},c?vl.ag.get("web-player.multi-user-plan-switchback-modal.if-you-re-sharing-your-login-family"):vl.ag.get("web-player.multi-user-plan-switchback-modal.if-you-re-sharing-your-login-duo")),s.createElement("div",null,s.createElement(Il.D,{colorSet:"base",buttonSize:"lg",onClick:r,className:u},vl.ag.get("web-player.multi-user-plan-switchback-modal.manage-you-plan")),s.createElement(_u.oM,{buttonSize:"lg",onClick:o},vl.ag.get("web-player.multi-user-plan-switchback-modal.dismiss"))))))}));function FD(e){if(null===e)return null;var t=e["multiuserplan-member-type"],n=parseInt(e["multiuserplan-current-size"]||"1",10);switch(t){case"FAMILY_MANAGER":return{plan:"family",currentSize:n};case"DUO_MANAGER":return{plan:"duo",currentSize:n};default:return null}}function UD(e){return"family"===e.plan?e.currentSize<6:"duo"===e.plan&&e.currentSize<2}function ZD(e,t){var n=(0,s.useState)(null),i=(0,r.Z)(n,2),a=i[0],o=i[1],l=(0,Ms.I0)(),c=(0,$s.O)(),u=(0,s.useRef)(c),d=(0,mf.z)("multi-person-switchback-modal",{exposureCount:0,lastSeen:null}),m=(0,r.Z)(d,2),p=m[0],f=m[1],v=(0,Bd.W6)(vs.WL),g=(0,s.useCallback)((function(){var n=function(e){return null!==e.lastSeen&&(e.exposureCount>=2||Date.now()-e.lastSeen<864e5)}(p);t(),v&&!n&&(f({lastSeen:Date.now(),exposureCount:p.exposureCount+1}),e()),o(null)}),[e,t,p,v,f]);(0,s.useEffect)((function(){var e,t;null!==(e=u.current.activeDevice)&&void 0!==e&&e.isLocal&&!1===(null===(t=c.activeDevice)||void 0===t?void 0:t.isLocal)&&o(Date.now())}),[c,l]),(0,s.useEffect)((function(){var e,t,n;null!==a&&null!==c.activeDevice&&null!==u.current.activeDevice&&((e=a,t=c.activeDevice.isLocal,n=Date.now(),t&&(n-e)/1e3<10)&&(g(),u.current=c))}),[a,g,c])}var MD=s.memo((function(e){var t=(0,s.useState)(!1),n=(0,r.Z)(t,2),i=n[0],a=n[1],o=(0,Gp.e)().openURLWithSessionTransfer,l=(0,Xc.fU)(OD.createDesktopSwitchbackModalEventFactory,{}),c=l.spec,u=l.logger;return ZD((function(){UD(e.planAttributes)&&(u.logImpression(c.modalFactory().impression()),a(!0))}),(function(){UD(e.planAttributes)&&u.logImpression(c.impressionElementFactory().impression())})),s.createElement(LD,{onClose:function(){u.logInteraction(c.modalFactory().keyStrokeUiHide()),a(!1)},onManageYourPlanClick:function(){u.logInteraction(c.modalFactory().manageYourPlanCtaFactory().hitNavigateToExternalUri({destination:""})),o("https://spotify.com/account/".concat(e.planAttributes.plan))},plan:e.planAttributes.plan,isOpen:i,onDismissCTAClick:function(){u.logInteraction(c.modalFactory().dismissCtaFactory().hitUiHide()),a(!1)}})})),BD=s.memo((function(){var e=CD(),t=FD(e.data);return e.isLoading||null===t?null:s.createElement(MD,{planAttributes:t})})),jD=n(12690),VD=n(47647),HD=n(46802);function GD(e,t){var n=(0,s.useRef)();n.current=t,(0,s.useEffect)((function(){function t(t){e.current&&n.current&&!e.current.contains(t.target)&&n.current(t)}return["click","focusin"].forEach((function(e){document.documentElement.addEventListener(e,t,!1)})),function(){["click","focusin"].forEach((function(e){document.documentElement.removeEventListener(e,t,!1)}))}}),[e])}var WD,zD,KD,YD,qD,QD,JD=n(6330);function XD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?XD(Object(n),!0).forEach((function(t){(0,E.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XD(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}!function(e){e.ALL="ALL",e.SINGLE="SINGLE",e.ADD="ADD"}(WD||(WD={})),function(e){e.FACEBOOK_FRIENDS="FACEBOOK_FRIENDS"}(zD||(zD={})),function(e){e.FACEBOOK_FILTER_FRIENDS="FACEBOOK_FILTER_FRIENDS"}(KD||(KD={})),function(e){e.FOLLOW="FOLLOW",e.UNFOLLOW="UNFOLLOW"}(YD||(YD={})),function(e){e.FACEBOOK="FACEBOOK"}(qD||(qD={})),function(e){e.USER="USER"}(QD||(QD={}));var eR=function(e){return e.sort((function(e,t){return t.timestamp-e.timestamp}))},tR=function(e,t){switch(t.type){case WD.ALL:return $D($D({},e),{},{feed:eR(t.friends)});case WD.SINGLE:var n=e.feed.map((function(e){return e.user.uri===t.friends[0].user.uri?t.friends[0]:e}));return $D($D({},e),{},{feed:eR(n)});case WD.ADD:var r=t.friends[0];if(e.feed.some((function(e){return e.user.uri===r.user.uri})))return e;var i=eR([].concat((0,N.Z)(e.feed),[r]));return $D($D({},e),{},{feed:i});case KD.FACEBOOK_FILTER_FRIENDS:var a=t.value;if(a){var o=a.trim().toLowerCase();return $D($D({},e),{},{filteredFacebookFriends:e.facebookFriends.filter((function(e){return-1!==e.title.trim().toLowerCase().indexOf(o)}))})}return $D($D({},e),{},{filteredFacebookFriends:e.facebookFriends});case zD.FACEBOOK_FRIENDS:var s=t.facebookFriends||[];return $D($D({},e),{},{facebookFriends:s,filteredFacebookFriends:s});case YD.FOLLOW:return $D($D({},e),{},{facebookFriends:e.facebookFriends.map(nR(t.uri,!0)),filteredFacebookFriends:e.filteredFacebookFriends.map(nR(t.uri,!0))});case YD.UNFOLLOW:return $D($D({},e),{},{facebookFriends:e.facebookFriends.map(nR(t.uri,!1)),filteredFacebookFriends:e.filteredFacebookFriends.map(nR(t.uri,!1)),feed:e.feed.filter((function(e){return e.user.uri!==t.uri}))});default:return e}};function nR(e,t){return function(n){return n.uri!==e?n:$D($D({},n),{},{following:t})}}const rR="230px",iR="160px",aR="270px",oR="270px",sR="384px";var lR,cR=parseInt("72px",10),uR=function(e){var t=e.size,n=e.setSize,r=e.elementRef,i=e.isBuddyFeedEmpty,a=e.showAddFriends;(0,s.useEffect)((function(){return Xu().bind(Zu.BUDDY_FEED_DECREASE_WIDTH,(function(){t&&n(t-10)})),Xu().bind(Zu.BUDDY_FEED_INCREASE_WIDTH,(function(){t&&n(t+10)})),function(){Xu().unbind(Zu.BUDDY_FEED_DECREASE_WIDTH),Xu().unbind(Zu.BUDDY_FEED_INCREASE_WIDTH)}}),[n,t]);var o=cR;return(i||a)&&(o=parseInt(aR,10)),s.createElement(BP,{key:o,elementRef:r,placement:"inline-start",label:vl.ag.get("resize.sidebar"),cssCustomProperty:"--buddy-feed-width",onCSSPropertyChange:function(e){n(e)},initialValue:t,min:o,minExpanded:parseInt(rR,10),max:parseInt(sR,10),thresholdCollapsed:parseInt(iR,10)})},dR=n(98197),mR=n(35032),pR=n(22595);!function(e){e[e.LOADING=0]="LOADING",e[e.CONNECTED=1]="CONNECTED",e[e.DISCONNECTED=2]="DISCONNECTED"}(lR||(lR={}));var fR,vR,gR,hR,yR,kR,ER,bR=function(e){return function(){var t=(0,s.useState)(lR.LOADING),n=(0,r.Z)(t,2),i=n[0],a=n[1];return(0,s.useEffect)((function(){return e.subscribeToFacebookConnectionState((function(e){a(e.connection?lR.CONNECTED:lR.DISCONNECTED)})).cancel})),i}},_R=n(43867),SR=n(5840),wR=function(){function e(t){(0,O.Z)(this,e),this.api=t}return(0,C.Z)(e,[{key:"subscribeToBuddyActivity",value:function(e,t,n){var r,a=this,s=t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),l=null,c=function(){var e=(0,i.Z)(o().mark((function e(){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.getBuddyActivity(t);case 3:r=e.sent,n(r.body),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:return e.abrupt("return",{status:200,status_text:"Ok"});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),u=function(){var e=(0,i.Z)(o().mark((function e(n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,SR.zm)(a.api,t,n);case 2:l=n;case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=(0,i.Z)(o().mark((function e(n){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!l){e.next=12;break}return r=l,l=null,e.prev=3,e.next=6,Promise.all([(0,SR.wD)(a.api,t,r),u(n)]);case 6:e.next=10;break;case 8:e.prev=8,e.t0=e.catch(3);case 10:e.next=19;break;case 12:return e.prev=12,e.next=15,u(n);case 15:e.next=19;break;case 17:e.prev=17,e.t1=e.catch(12);case 19:case"end":return e.stop()}}),e,null,[[3,8],[12,17]])})));return function(t){return e.apply(this,arguments)}}();return e.matchMessages("hm://presence2/user/".concat(s),c),e.on(p.TransportEvent.CONNECTION_ID,function(){var e=(0,i.Z)(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",d(t.data.id));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),{cancel:(r=(0,i.Z)(o().mark((function n(){return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:e.unmatchMessages("hm://presence2/user/".concat(s),c),l&&(0,SR.wD)(a.api,t,l);case 2:case"end":return n.stop()}}),n)}))),function(){return r.apply(this,arguments)})}}},{key:"getBuddyActivity",value:function(e){return(0,SR.aj)(this.api,e)}},{key:"getBuddyFeed",value:function(){return(0,SR.uM)(this.api)}},{key:"getFacebookFriends",value:function(){return(0,SR.Cs)(this.api)}}]),e}(),NR=n(99866),OR=function(){function e(t){(0,O.Z)(this,e),this.api=t}var t;return(0,C.Z)(e,[{key:"chunkArray",value:function(e,t){return e.reduce((function(e,n,r){var i=Math.floor(r/t);return e[i]||(e[i]=new Array),e[i].push(n),e}),[])}},{key:"isFollowingUsers",value:(t=(0,i.Z)(o().mark((function e(t){var n,r,i=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.chunkArray(t,50),r=n.map((function(e){return(0,NR.HX)(i.api,e)})),e.abrupt("return",Promise.all(r).then((function(e){return e.flatMap((function(e){return e.body}))})));case 3:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"followUsers",value:function(e){var t=this;this.chunkArray(e,50).forEach((function(e){return(0,NR.cQ)(t.api,e)}))}},{key:"unFollowUsers",value:function(e){var t=this;this.chunkArray(e,50).forEach((function(e){return(0,NR.Oi)(t.api,e)}))}}]),e}(),CR=n(21270),TR=n(22305),IR=(n(60086),function(){function e(t,n,r,i,a){(0,O.Z)(this,e),this.cosmos=t,this.prefs=n,this.buddyFetchApi=r,this.followApi=i,this.transport=a}var t,n;return(0,C.Z)(e,[{key:"connectToFacebook",value:function(){return this.cosmos.post("sp://facebook/v1/connection",{enable:!0})}},{key:"subscribeToFacebookConnectionState",value:function(e){return this.cosmos.sub("sp://facebook/v1/connection",(function(t){e(t)}))}},{key:"subscribeToBuddyActivity",value:function(e,t){return this.buddyFetchApi.subscribeToBuddyActivity(this.transport,e,t)}},{key:"subscribeToShowBuddyFeed",value:function(e){var t="ui.show_friend_feed";return this.prefs.sub({key:t},(function(n){var r=n.entries;return e(!!r[t].bool)}))}},{key:"fetchFacebookFriends",value:(n=(0,i.Z)(o().mark((function e(){var t,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.buddyFetchApi.getFacebookFriends();case 2:return n=e.sent,e.abrupt("return",((null===(t=n.body)||void 0===t?void 0:t.results)||[]).filter((function(e){return e.indexes.includes(qD.FACEBOOK)})).map((function(e){return{title:e.title,uri:e.uri,image:e.image,following:e.following}})));case 4:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"followFriends",value:function(e){return this.followApi.followUsers(e)}},{key:"unfollowFriends",value:function(e){return this.followApi.unFollowUsers(e)}},{key:"fetchFriendActivity",value:(t=(0,i.Z)(o().mark((function e(t){var n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=d().from(t[0]).username,e.next=3,this.buddyFetchApi.getBuddyActivity(n);case 3:return r=e.sent,e.abrupt("return",r.body?[r.body]:[]);case 5:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),e}()),AR=function(){function e(t){(0,O.Z)(this,e),this.followApi=t}return(0,C.Z)(e,[{key:"connectToFacebook",value:function(){throw new Error("Method not implemented.")}},{key:"subscribeToFacebookConnectionState",value:function(e){throw new Error("Method not implemented.")}},{key:"subscribeToBuddyActivity",value:function(){return{cancel:function(){}}}},{key:"subscribeToShowBuddyFeed",value:function(e){return e(!1),{cancel:function(){}}}},{key:"fetchFacebookFriends",value:function(){throw new Error("Method not implemented.")}},{key:"followFriends",value:function(e){return this.followApi.followUsers(e)}},{key:"unfollowFriends",value:function(e){return this.followApi.unFollowUsers(e)}},{key:"fetchFriendActivity",value:function(){throw new Error("Method not implemented.")}}]),e}(),PR=function(e){return function(){var t=(0,s.useState)(null),n=(0,r.Z)(t,2),i=n[0],a=n[1];return(0,s.useEffect)((function(){e.fetchFacebookFriends().then((function(e){var t=e.sort((function(e,t){return e.title>t.title?1:-1}));a(t)}))}),[]),[i]}},DR=function(e){return function(){return{followFriends:function(t){e.followFriends(t)},unfollowFriends:function(t){e.unfollowFriends(t)}}}},RR=function(e){return function(){return function(t){return e.fetchFriendActivity(t)}}},xR=function(e){return function(t,n){var i=(0,s.useState)(),a=(0,r.Z)(i,2),o=a[0],l=a[1];return(0,s.useEffect)((function(){return e.subscribeToBuddyActivity(t,(function(e){n({type:WD.SINGLE,friends:e?[e]:[]}),l(e||void 0)})).cancel}),[n,t]),o}},LR=function(e){return function(){var t=(0,s.useState)(void 0),n=(0,r.Z)(t,2),i=n[0],a=n[1],o=(0,s.useRef)();return(0,s.useEffect)((function(){return o.current||(o.current=e.subscribeToShowBuddyFeed((function(e){a(e)}))),function(){o.current&&(o.current.cancel(),o.current=void 0)}}),[]),i}},FR=!1;function UR(e){return ZR.apply(this,arguments)}function ZR(){return(ZR=(0,i.Z)(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:FR||(n=t.container===g.W.Desktop?new IR((0,CR.v)(),(0,_R.makePrefs)((0,TR.G)()),new wR(Gt.b.getInstance()),new OR(Gt.b.getInstance()),t.getTransport()):new AR(new OR(Gt.b.getInstance())),fR=xR(n),vR=LR(n),gR=bR(n),hR=n.connectToFacebook.bind(n),yR=PR(n),kR=DR(n),ER=RR(n),FR=!0);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}const MR="pZFwflwH1vXVCmAO5vbz",BR="yPL55nV5rC97vJhAf7ke",jR="qpgo9DQ9rVZbO5pLJog5",VR="A3hvkJOGkBNa6zWj6oZa",HR="pIyez6N1SF3jW0U5VUx4",GR="lIxuZR4lYTrEKkMYedty",WR="VEmC3OHK3uAasHvO5OuA",zR="wzGPtuvvLpOpY1PDu4Qv",KR="YoJTUV4hazVCFNbfKoNq",YR="RyQijrNtwgokGo2OmCHA",qR="t8CXuhxSFPlaSkTkXK_t",QR="CyabJqDJ6Ws8eMLDlQJ4",JR="hpLj0BFnKRvFirO6NOGx",XR="vDrxMBsA_6LzZUzvARgE";var $R=function(e){var t=e.dispatch,n=e.following,r=e.name,i=e.imageUrl,a=e.uri,o=(0,of.o)(),l=function(){if(!FR)throw new Error("setFriendProvider needs to be called before getFollowFriendsHook");return kR()}(),c=l.followFriends,u=l.unfollowFriends,d=function(){if(!FR)throw new Error("setFriendProvider needs to be called before getFriendActivityHook");return ER()}(),m=s.createRef(),p=(0,s.useCallback)((function(){n?(t({type:YD.UNFOLLOW,uri:a}),u([a])):(o({intent:"follow",type:"click",itemIdSuffix:"buddyfeed"}),t({type:YD.FOLLOW,uri:a}),c([a]),d([a]).then((function(e){t({type:WD.ADD,friends:[e[0]]})}))),m.current&&m.current.blur()}),[n,t,a,u,o,c,d,m]);return s.createElement("div",{className:qR},s.createElement(GA.q,{label:r,width:40,userIconSize:16,images:(0,s.useMemo)((function(){return[{width:40,height:40,url:i}]}),[i])}),s.createElement("div",{className:Tl()(QR,"ellipsis-one-line")},s.createElement(Eu.D,{as:"p",variant:"mestoBold",className:"ellipsis-one-line"},r),n&&s.createElement(Eu.D,{as:"p",variant:"finale",className:"ellipsis-one-line"},vl.ag.get("following"))),s.createElement("div",{className:JR},s.createElement(JT.E,{className:XR,size:"sm",ref:m,onClick:p,ariaLabel:n?vl.ag.get("buddy-feed.button.remove-friend"):vl.ag.get("buddy-feed.button.add-friend"),icon:n?Jd.k:VD.t})))},ex=function(e){var t,n=e.onBackButtonClick,i=e.friendState,a=e.dispatch,o=function(){if(!FR)throw new Error("setFriendProvider needs to be called before getFacebookFriendsProvider");return yR()}(),l=(0,r.Z)(o,1)[0],c=(0,wf.y1)((function(e){a({type:KD.FACEBOOK_FILTER_FRIENDS,value:e})}),100),u=(0,s.useCallback)((function(e){c(e.target.value)}),[c]);(0,s.useEffect)((function(){a({type:zD.FACEBOOK_FRIENDS,facebookFriends:l})}),[l,a]);var d=(0,s.useCallback)((function(e){null!==e&&e.focus()}),[]);return s.createElement("div",{className:MR},s.createElement(JT.E,{ariaLabel:vl.ag.get("buddy-feed.button.back"),onClick:n,ref:d,className:BR,icon:dR.e,size:"sm",testId:"back-to-friends"}),s.createElement("div",{className:jR},s.createElement("div",{className:VR},s.createElement(mR.z,{className:HR,iconSize:32})),s.createElement("div",{className:GR},s.createElement(Eu.D,{as:"p",variant:"mesto"},vl.ag.get("buddy-feed.number-of-friends",(null==i||null===(t=i.facebookFriends)||void 0===t?void 0:t.length)||0)))),s.createElement("div",{className:WR},s.createElement(rE.j,{className:KR,iconSize:16,role:"presentation"}),s.createElement("input",{onChange:u,className:zR,placeholder:vl.ag.get("buddy-feed.find-in-playlists")})),null!==l&&i.filteredFacebookFriends&&s.createElement("div",{className:YR},i.filteredFacebookFriends.map((function(e){var t=e.uri,n=e.following,r=e.title,i=e.image;return s.createElement($R,{key:"fb-friend-".concat(t),uri:t,name:r,imageUrl:i,following:n,dispatch:a})}))))};const tx="EmZCbU1_B_J9RAHebolL",nx="Ym6Yyx83U7mNKOMw9dxw",rx="NXcZaSipzomJ6d4_nM94",ix="b9rqRkvRvhrSY4FYHQVC",ax="xHc_2FQr3NxfCgfDSVhY",ox="QAJYN0xWh3h2A5d8_C1g",sx="PKhH1CknobkjJdVITsb4",lx="HgRmCE3NxfiYNtv6pF3H",cx="HnA5mipUMkheAlbxqCn_",ux="mvp0xhvZTo0xv0TIwi9u";var dx=function(e){var t=(0,of.o)(),n=e.onBackButtonClick,i=e.friendState,a=e.dispatch,o=e.goToAddFriends,l=void 0!==o&&o,c=function(){if(!FR)throw new Error("setFriendProvider needs to be called before getSubscribeToFacebookConnectionProvider");return gR()}(),u=(0,s.useState)(!1),d=(0,r.Z)(u,2),m=d[0],p=d[1],f=(0,s.useState)(!1),v=(0,r.Z)(f,2),g=v[0],h=v[1],y=(0,s.useCallback)((function(e){null!==e&&e.focus()}),[]);if(m)return s.createElement("div",{className:cx},s.createElement(JT.E,{onClick:n,ref:y,className:rx,ariaLabel:vl.ag.get("buddy-feed.button.back"),icon:dR.e,size:"sm"}),s.createElement("div",{className:ux},s.createElement(Eu.D,{as:"h1",variant:"balladBold",className:nx},vl.ag.get("error-dialog.generic.header")),s.createElement(Eu.D,{as:"p",variant:"mesto",className:ix},vl.ag.get("error-dialog.generic.body")),s.createElement(Il.D,{colorSet:"invertedLight",onClick:location.reload},vl.ag.get("error.reload"))));var k=(l||g)&&c===lR.CONNECTED;return s.createElement("div",{className:tx},k&&s.createElement(ex,{onBackButtonClick:function(){0===i.feed.length?h(!1):n()},friendState:i,dispatch:a}),!k&&s.createElement("div",{className:ox},s.createElement(JT.E,{ariaLabel:vl.ag.get("buddy-feed.button.back"),onClick:n,className:rx,ref:y,icon:dR.e,size:"sm"}),s.createElement(Eu.D,{as:"h1",variant:"balladBold",className:nx},vl.ag.get("buddy-feed.friend-activity")),s.createElement(Eu.D,{as:"p",variant:"mesto",className:ix},vl.ag.get("buddy-feed.facebook.connect-with-friends-default")),s.createElement("div",{className:sx},s.createElement(Il.D,{className:lx,buttonSize:"sm",iconLeading:mR.z,UNSAFE_colorSet:(0,pR.Ev)("#2374E1",bu.$_Y.white),onClick:function(){t({intent:"connect-to-facebook",type:"click",itemIdSuffix:"buddyfeed"}),c!==lR.CONNECTED?function(){if(!FR)throw new Error("setFriendProvider needs to be called before getConnectToFacebook");return hR()}().then((function(){h(!0)})).catch((function(){p(!0)})):h(!0)}},vl.ag.get("buddy-feed.facebook.button"))),s.createElement(Eu.D,{as:"p",variant:"finale",className:ax},vl.ag.get("buddy-feed.facebook.disclaimer"))))},mx=n(38370);const px="main-buddyFeed-buddyFeedRoot",fx="main-buddyFeed-buddyFeed",vx="main-buddyFeed-header",gx="main-buddyFeed-username",hx="main-buddyFeed-headerTitle",yx="main-buddyFeed-scrollableArea",kx="main-buddyFeed-friendActivity",Ex="SQHCRmgNjRywo1Lt7rP3",bx="SCwzmMSXoZsmhGtGX81s",_x="VLKqDIGaQn2bILzJKSZ0",Sx="main-buddyFeed-friendsFeedContainer",wx="main-buddyFeed-avatarContainer",Nx="main-buddyFeed-overlay",Ox="main-buddyFeed-playIcon",Cx="main-buddyFeed-activityMetadata",Tx="main-buddyFeed-usernameAndTimestamp",Ix="main-buddyFeed-timestamp",Ax="main-buddyFeed-artistAndTrackName",Px="main-buddyFeed-playbackContextIcon",Dx="main-buddyFeed-playbackContext",Rx="main-buddyFeed-playbackContextLink",xx="main-buddyFeed-findFriendsButton",Lx="main-buddyFeed-addFriendPlaceholder",Fx="QXcmb_46WM1geLhhkcdq",Ux="main-buddyFeed-addFriendPlaceholderBtn",Zx="main-buddyFeed-emptyBuddyFeed",Mx="main-buddyFeed-addFriendPlaceholderText",Bx="PjDcsgAPmXlcTBJRGpIu",jx="IRpPQFA57qgQ5jicWWaD",Vx="Hm3nIbegLclY1uCAmnx_",Hx="bhRoVUHjWdo9mgUkU6fe",Gx="BliqfY7vu_qE2C9zs5Ou",Wx="qdYWuHZd4HdSWfd4pSQB",zx="DhvYWKjDc7uyF3HfkDJJ",Kx="ralK8s_OmE8a8zWcfNKM";var Yx=function(e){var t=e.showOnlineIndicator;return s.createElement("div",{className:Bx},s.createElement("div",{className:jx},s.createElement(mx.f,{iconSize:24}),t?s.createElement("div",{className:Vx}):null),s.createElement("div",{className:Hx},s.createElement("div",{className:Tl()(Gx,Wx)}),s.createElement("div",{className:Gx}),s.createElement("div",{className:Gx})))},qx=function(){return s.createElement("div",{"":"buddy-feed-empty-state",className:Zx},s.createElement(Eu.D,{as:"p",className:Mx},vl.ag.get("buddy-feed.let-followers-see-your-listening")),s.createElement(Yx,{showOnlineIndicator:!0}),s.createElement(Yx,{showOnlineIndicator:!0}),s.createElement(Yx,null),s.createElement(Eu.D,{as:"p",className:Mx},vl.ag.get("buddy-feed.enable-share-listening-activity")),s.createElement(A_.rU,{to:"/preferences",className:zx},s.createElement(Il.D,{colorSet:"invertedLight",className:Kx},vl.ag.get("desktop.settings.settings"))))},Qx=n(24524),Jx=n(61251),Xx=n(86250),$x=n(39278),eL=n(4232),tL=n(35410),nL=n(83813),rL=n(634),iL=function(e){var t=e.timestamp;return e.isNowPlaying?s.createElement(Cf.w,{label:vl.ag.get("time.now")},s.createElement(rL.h,{"aria-label":vl.ag.get("time.now"),iconSize:16})):s.createElement("span",null,function(e){if(!Number.isInteger(e))return"";var t=Date.now()-Number(e),n=Math.round(t/1e3/60),r=Math.round(t/1e3/60/60),i=Math.round(t/1e3/60/60/24),a=Math.round(t/1e3/60/60/24/7);return i>=7?vl.ag.get("time.weeks.short",a):r>=24?vl.ag.get("time.days.short",i):n>=60?vl.ag.get("time.hours.short",r):n>0?vl.ag.get("time.minutes.short",n):vl.ag.get("time.now")}(t))},aL=function(e){return Date.now()-e<9e5},oL=function(e,t){var n;switch(null===(n=d().from(e))||void 0===n?void 0:n.type){case d().Type.PLAYLIST:case d().Type.PLAYLIST_V2:return s.createElement(tL.X,{uri:e});case d().Type.EPISODE:case d().Type.SHOW:return s.createElement(zI.M,{uri:e});case d().Type.ALBUM:return s.createElement(eL.Y,{uri:e,artistUri:t});case d().Type.ARTIST:return s.createElement(YI.m,{uri:e});default:return null}},sL=function(e){var t,n,r,i,a,o,l,c,u,m,p,f,v,g,h,y,k,E,b,_=e.user,S=e.track,w=e.onFriendActivity,N=e.timestamp,O=e.show,C=void 0===O||O,T=e.spec,I=(0,s.useMemo)((function(){return _.imageUrl?[{url:_.imageUrl,width:0,height:0}]:[]}),[_.imageUrl]),A=(0,of.o)(),P=(0,Xc.$P)(),D=function(e,t){if(!FR)throw new Error("setFriendProvider needs to be called before getFriendUpdateProvider");return fR(e,t)}(null===(t=d().from(_.uri))||void 0===t?void 0:t.username,w),R=(null==D?void 0:D.track)||S,x=R.uri,L=null==R||null===(n=R.context)||void 0===n?void 0:n.uri,F=(0,(0,AE.n)({uri:L},{featureIdentifier:"buddy_feed",referrerIdentifier:"buddy_feed"}).usePlayContextItem)({uri:x}),U=F.togglePlay,Z=F.isPlaying,M=F.isActive,B=(0,s.useCallback)((function(){U(),A({intent:Z?"pause":"play",type:"click",itemIdSuffix:"buddyfeed_play",targetUri:x});var e=T.friendRowFactory().playButtonFactory();M?Z?P.logInteraction(e.hitPause({itemToBePaused:x})):P.logInteraction(e.hitResume({itemToBeResumed:x})):P.logInteraction(e.hitPlay({itemToBePlayed:x}))}),[U,A,Z,x,T,M,P]),j=(0,s.useCallback)((function(e,t){P.logInteraction(T.friendRowFactory().friendRowLinkFactory({identifier:e}).hitUiNavigate({destination:t}))}),[P,T]),V=(0,xE.O1)([x],R.name),H=(0,xE.O1)([null===(r=R.artist)||void 0===r?void 0:r.uri],null===(i=R.artist)||void 0===i?void 0:i.name),G=(0,xE.O1)([null===(a=R.context)||void 0===a?void 0:a.uri],null===(o=R.context)||void 0===o?void 0:o.name),W=function(e){var t;switch(null===(t=d().from(e))||void 0===t?void 0:t.type){case d().Type.PLAYLIST:case d().Type.PLAYLIST_V2:return Qx.U;case d().Type.EPISODE:case d().Type.SHOW:return Jx.J;case d().Type.ALBUM:return Xx.c;case d().Type.ARTIST:return $x.a;default:return null}}(null===(l=R.context)||void 0===l?void 0:l.uri);return C?s.createElement("div",{className:kx,key:_.uri},s.createElement(IE._,{menu:oL(null===(c=R.context)||void 0===c?void 0:c.uri,null===(u=R.artist)||void 0===u?void 0:u.uri)},s.createElement("div",{className:wx},s.createElement(GA.q,{label:_.name,width:40,userIconSize:16,images:I,withBadge:aL(N)}),s.createElement(nL.I,{className:Nx,iconClassName:Ox,isPlaying:Z,isLocked:!1,onClick:B,playAriaLabel:Z?vl.ag.get("pause"):"".concat(vl.ag.get("play")," ").concat(R.artist.name," ").concat(R.name)}))),!e.isCollapsed&&s.createElement("div",{className:Tl()(Cx)},s.createElement("div",{className:Tx},s.createElement(Eu.D,{as:"p",variant:"mestoBold",className:Tl()(gx,"ellipsis-one-line")},s.createElement(Yv.ZP,{value:"/buddyfeed_user_profile"},s.createElement(IE._,{menu:s.createElement(WA.I,{uri:_.uri})},s.createElement(Zb.r,{title:_.name,to:_.uri,dir:"auto",onClick:function(){return j("profile_link",_.uri)}},_.name)))),s.createElement(Eu.D,{as:"p",variant:"finale",className:Tl()(Ix)},s.createElement(iL,{timestamp:N,isNowPlaying:aL(N)}))),s.createElement(Eu.D,{as:"p",variant:"finale",className:Ax},s.createElement(Yv.ZP,{value:"/buddyfeed_track"},s.createElement(IE._,{menu:s.createElement($_.$,{uri:R.uri,contextUri:null===(m=R.context)||void 0===m?void 0:m.uri,albumUri:null===(p=R.album)||void 0===p?void 0:p.uri,artists:[R.artist]})},s.createElement(Zb.r,{title:R.name,to:x,className:"ellipsis-one-line",dir:"auto",draggable:!0,onDragStart:V,onClick:function(){return j("track_link",x)}},R.name))),s.createElement("span",{"aria-hidden":!0}," • "),s.createElement(Yv.ZP,{value:"/buddyfeed_artist"},s.createElement(IE._,{menu:R.artist?s.createElement(YI.m,{uri:R.artist.uri}):null},s.createElement(Zb.r,{title:null===(f=R.artist)||void 0===f?void 0:f.name,to:null===(v=R.artist)||void 0===v?void 0:v.uri,className:"ellipsis-one-line",dir:"auto",draggable:!0,onDragStart:H,onClick:function(){var e;return j("artist_link",null===(e=R.artist)||void 0===e?void 0:e.uri)}},null===(g=R.artist)||void 0===g?void 0:g.name)))),s.createElement(Eu.D,{as:"p",variant:"finale",className:Tl()("ellipsis-one-line",Dx)},s.createElement(Yv.ZP,{value:"/buddyfeed_context"},s.createElement(IE._,{menu:oL(null===(h=R.context)||void 0===h?void 0:h.uri,null===(y=R.artist)||void 0===y?void 0:y.uri)},s.createElement(Zb.r,{title:null===(k=R.context)||void 0===k?void 0:k.name,to:null===(E=R.context)||void 0===E?void 0:E.uri,className:Rx,draggable:!0,onDragStart:G,onClick:function(){var e;return j("context_link",null===(e=R.context)||void 0===e?void 0:e.uri)}},W&&s.createElement(W,{iconSize:16,className:Px}),s.createElement("span",{dir:"auto"},null===(b=R.context)||void 0===b?void 0:b.name))))))):null};const lL="jUF2eKgYMm64aYykubct",cL="zhL_lhJqzKfJVy7L5VuY",uL="XqquM_o2eODcnD8Y4QhS",dL="UGtycHBJ4egymBSmD_lX",mL="ND2ydDPzwQZB7HyaGCN8",pL="D9YN554UFGJle2CPP1TA",fL="v7Zcy9UKVUTDZIMKB6ZF",vL="RX3U6eAasqazEkuFdnj0";var gL=function(e){var t=e.children,n=e.page,r=0===n,i=t.filter((function(e,t){return t!==n}));return s.createElement(kk.Z,{component:null},i.map((function(e){return s.createElement(ty.Z,{key:r?"first-page":"second-page",in:r,timeout:500,classNames:{enter:r?lL:mL,enterActive:r?cL:pL,exit:r?uL:fL,exitActive:r?dL:vL}},e)})))},hL="buddyfeed-visible",yL=s.forwardRef((function(e,t){return GD(t,e.onOutsideClick),null})),kL=parseInt(oR,10),EL=function(){var e,t=(0,s.useRef)(null),n=(0,ul.Np)().isOpen,i=(0,of.o)(),a=(0,Bd.W6)(vs.fS),o=(0,JD.e)().isLG,l=(0,mf.z)("buddy-feed-width",kL),c=(0,r.Z)(l,2),u=c[0],d=c[1],m=u===cR,p=function(){if(!FR)throw new Error("setFriendProvider needs to be called before getShowBuddyFeedProvider");return vR()}(),f=(0,LC.r)().setValue,v=(0,s.useRef)(!1),g=(0,vm.J)(Yo.q8.uM),h=g.data,y=g.error,k=g.loading,b=(0,s.useMemo)((function(){var e;return(null==h||null===(e=h.body)||void 0===e?void 0:e.friends)||[]}),[null==h||null===(e=h.body)||void 0===e?void 0:e.friends]),_=(0,s.useReducer)(tR,{feed:b,facebookFriends:[],filteredFacebookFriends:[]}),S=(0,r.Z)(_,2),w=S[0],N=S[1],O=(0,Xc.$P)(),C=(0,Xc.fU)(HD.createDesktopFriendActivityEventFactory,{}).spec;(0,s.useEffect)((function(){v.current||k||(v.current=!0,N({type:WD.ALL,friends:b}))}),[N,b,k]);var T=!p||k||y;(0,s.useEffect)((function(){return T||Kp([hL]),function(){Yp([hL])}}),[T]);var I=(0,s.useRef)(!1);(0,s.useEffect)((function(){I.current||T||(i({intent:"view",type:"impression",itemIdSuffix:"buddyfeed"}),I.current=!0)}),[i,T]);var A=(0,s.useState)(!1),P=(0,r.Z)(A,2),D=P[0],R=P[1],x=function(){D||O.logInteraction(C.addFriendButtonFactory().hitUiReveal()),R(!D)},L=0===b.length,F=L||0===w.feed.length,U=(0,s.useCallback)((function(){n||R(!1)}),[n]),Z=(0,s.useCallback)((function(){f("ui.show_friend_feed",!1),O.logInteraction(C.closeButtonFactory().hitUiHide())}),[O,f,C]),M=(0,s.useMemo)((function(){return s.createElement(jD.U5,{flipKey:w.feed.map((function(e){return e.user.uri})).join("")},s.createElement("ol",null,w.feed&&w.feed.map((function(e,t){var n=e.user,r=e.track,i=e.timestamp;return s.createElement(jD.$3,{key:n.uri,flipId:n.uri},s.createElement("li",null,s.createElement(sL,{key:n.uri,timestamp:i,user:n,track:r,onFriendActivity:N,show:t<100,isCollapsed:m,spec:C})))}))))}),[w.feed,C,m]);return T?null:s.createElement(Wh.DJ.Provider,{value:"buddy_feed"},s.createElement("aside",{"aria-label":vl.ag.get("buddy-feed.friend-activity"),className:px},s.createElement(uR,{elementRef:t,size:u,setSize:d,isBuddyFeedEmpty:L||F,showAddFriends:D}),s.createElement("div",{ref:t,className:Tl()(fx,(0,E.Z)({},Fx,L)),tabIndex:-1},!o&&s.createElement(yL,{ref:t,onOutsideClick:U}),s.createElement(gL,{page:D?1:0},s.createElement("div",{className:_x},s.createElement(dx,{onBackButtonClick:x,friendState:w,dispatch:N,goToAddFriends:D})),s.createElement("div",{className:Sx},!m&&s.createElement("div",{className:Tl()(vx)},s.createElement(Eu.D,{as:"h1",variant:"balladBold",className:Tl()(hx)},vl.ag.get("buddy-feed.friend-activity")),!a&&s.createElement(Cf.w,{label:vl.ag.get("buddy-feed.add-friends")},s.createElement(JT.E,{ariaLabel:vl.ag.get("buddy-feed.add-friends"),className:Tl()(xx),testId:"add-friends-button",size:"sm",onClick:x,icon:VD.t})),s.createElement(Cf.w,{label:vl.ag.get("buddy-feed.close")},s.createElement(JT.E,{ariaLabel:vl.ag.get("buddy-feed.close"),className:Tl()(xx),size:"sm",onClick:Z,icon:Jd.k}))),s.createElement(CE.U,{className:yx},s.createElement("div",{className:Lx},s.createElement(JT.E,{ariaLabel:vl.ag.get("buddy-feed.add-friends"),className:Ux,size:"sm",onClick:x,icon:VD.t})),F?s.createElement(qx,null):M),a&&!m&&s.createElement("div",{className:Ex},s.createElement(Iy.P,{className:bx,"":"add-friends-button",buttonSize:"sm",onClick:x,"aria-label":vl.ag.get("buddy-feed.find-friends"),title:vl.ag.get("buddy-feed.find-friends")},vl.ag.get("buddy-feed.find-friends"))))))))},bL=function(){return(0,Bd.W6)(Vt.nt)?s.createElement(EL,null):null},_L=function(){return s.createElement(s.Suspense,{fallback:null},s.createElement(bL,null))},SL=n(50709),wL=["isEnabled","transitionVisibilitySelector","children"],NL=function(e){var t=e.isEnabled,n=e.transitionVisibilitySelector,r=e.children,i=(0,lu.Z)(e,wL),a=(0,SL.i)();return t?s.createElement(ty.Z,(0,su.Z)({in:n(a)},i),r):r};function OL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function CL(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?OL(Object(n),!0).forEach((function(t){(0,E.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OL(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var TL={isFriendActivityVisible:!0,isNavBarVisible:!0,isNowPlayingBarVisible:!0,isTopBarVisible:!0,isMainViewExpanded:!1},IL=function(e,t){switch(t.type){case"resetMainView":return CL(CL({},e),{},{isFriendActivityVisible:!0,isNavBarVisible:!0,isNowPlayingBarVisible:!0,isTopBarVisible:!0,isMainViewExpanded:!1});case"collapseMainView":return CL(CL({},e),{},{isFriendActivityVisible:!1,isNavBarVisible:!1,isNowPlayingBarVisible:!1,isTopBarVisible:!1,isMainViewExpanded:!0});default:return e}},AL=function(e){var t=e.children,n=(0,s.useReducer)(IL,TL),i=(0,r.Z)(n,2),a=i[0],o=i[1],l=(0,s.useMemo)((function(){return CL(CL({},a),{},{resetMainView:function(){return o({type:"resetMainView"})},collapseMainView:function(){return o({type:"collapseMainView"})}})}),[a,o]);return s.createElement(Wh.$8.Provider,{value:l},t)},PL=n(86604),DL=n(37262),RL=n(62572),xL=function(){var e=(0,Ms.v9)((function(e){return[e.ui.history.canGoBack,e.ui.history.canGoForward]})),t=(0,r.Z)(e,2);return[t[0],t[1]]},LL=n(38894),FL=n(87093),UL=function(){var e=(0,LL.g)(),t=(0,Ms.v9)(Nu.OA),n=((0,Bs.$B)({path:["/search/:query?/:category?","/recent-searches"]})||{}).isExact,r=void 0!==n&&n,i=(0,Bs.$B)("/collection/:query?")||{},a=i.url,o=i.isExact;return!(e||void 0!==o&&o&&"/collection/tracks"!==a||r)&&t},ZL=function(e,t){var n=(0,Ms.I0)(),r=UL(),i=(0,Gp.e)().openURLWithSessionTransfer;return{shouldShowUpgradeButton:r,onUpgradeClick:(0,s.useCallback)((function(){t.logInteraction(e.hitNavigateToExternalUri({destination:Mk.IT})),i(Mk.IT,"_blank"),n((0,cw._)({action_type:"gtm.upgradeClick",action_intent:"upgrade-dwp",item_id:"dwp-top-bar"}))}),[n,i,t,e])}},ML=n(39838),BL=n(94395),jL=n(15006),VL=n(43611);const HL="400ms",GL="main-topBarStatusIndicator-TopBarStatusIndicatorContainer",WL="main-noConnection-button",zL="main-noConnection-isError",KL="main-noConnection-isNotice",YL="main-topBarStatusIndicator-hasTooltip",qL="main-topBarStatusIndicator-tooltipIsError",QL="main-topBarStatusIndicator-enter",JL="main-topBarStatusIndicator-enterActive",XL="main-topBarStatusIndicator-exitActive",$L="main-topBarStatusIndicator-tooltipEnter",eF="main-topBarStatusIndicator-notMinimized",tF="main-topBarStatusIndicator-tooltipEnterActive";function nF(e,t){return!!t.some((function(t){return t.current===e}))||null!==e.parentNode&&nF(e.parentNode,t)}var rF=s.memo((function(e){var t,n=e.children,i=e.feedbackType,a=e.tooltip,o=e.isTooltipClickable,l=e.clickableRefs,c=void 0===l?[]:l,u=e.itemId,d=e.display,m=void 0===d||d,p=e.minimized,f=void 0!==p&&p,v=e.spec,g=(0,s.useState)(!1),h=(0,r.Z)(g,2),y=h[0],k=h[1],b=(0,s.useRef)(null),_=(0,of.o)(),S=(0,Xc.$P)();GD(b,(function(e){var t=nF(e.target,c);o&&t||y&&k(!1)}));return s.createElement(ty.Z,{in:m,timeout:parseInt(HL,10),unmountOnExit:!0,onEnter:function(e){f||e.classList.add($L)},onEntered:function(e){f||e.classList.add(tF)},onExited:function(e){f||e.classList.remove(tF)},classNames:{enter:QL,enterActive:JL,exitActive:XL}},s.createElement(Yv.ZP,{value:u},s.createElement("div",{className:Tl()(GL,(0,E.Z)({},eF,!f))},s.createElement(cO.Nt,{offset:[-2,20],action:"toggle",trigger:"click",content:s.createElement(cO.yv,{className:Tl()((0,E.Z)({},qL,i===wu.nY.ERROR))},s.createElement("div",null,a)),renderInline:!1},s.createElement("button",{className:Tl()(WL,(t={},(0,E.Z)(t,YL,a),(0,E.Z)(t,zL,i===wu.nY.ERROR),(0,E.Z)(t,KL,i===wu.nY.NOTICE),t)),onClick:function(){_({intent:"toggle",type:"click"}),v&&S.logInteraction(v.hitUiReveal())},ref:b,"":u},n)))))}));const iF="P8EYxpJkrSRcmY5CFfgZ",aF="oMR8tk4wMj9_exGQeapz",oF="qq3uDmbXwv31FKawHDIg",sF="B64o12iyKiKF4s8uuClS";function lF(e){if(null===e)return null;var t=Math.abs(Date.now()-e.getTime());if(t<1e3)return null;var n=(0,VL.P)(t),r=n.hours,i=n.minutes,a=n.seconds,o=(0,BL.N)({h:r,m:i,s:a});return vl.ag.get("authorization-status.retrying",o)}var cF=function(e){var t=e.retryAt,n=e.retryButtonRef,i=(0,Rc.V)(),a=(0,s.useState)(lF(t)),o=(0,r.Z)(a,2),l=o[0],c=o[1],u=(0,ul.qT)();return(0,s.useEffect)((function(){var e=window.setInterval((function(){c(lF(t))}),500);return function(){window.clearInterval(e)}}),[t,c]),s.createElement("div",{className:iF},s.createElement(Eu.D,{as:"p",variant:"cello"},vl.ag.get("authorization-status.title")),s.createElement("span",{className:aF},null!=l?l:vl.ag.get("authorization-status.reconnecting")),s.createElement("div",{className:oF},s.createElement(_u.oM,{semanticColor:"textBase",buttonSize:ML.z.sm,onClick:function(){u({type:"close"})}},vl.ag.get("authorization-status.dismiss")),s.createElement(Il.D,{className:sF,buttonSize:ML.z.sm,onClick:function(){return i.tryAuthorize()},ref:n},vl.ag.get("authorization-status.retry"))))},uF=function(e){var t=e.minimized,n=e.spec,r=(0,Dm.k)(),i=(0,jL.p)(),a=i.isAuthorized,o=i.retryAt,l=(0,s.useRef)(null);return(0,Bd.W6)(vs.Nc)?s.createElement(rF,{feedbackType:wu.nY.ERROR,minimized:t,display:r&&!a,spec:n,tooltip:s.createElement(cF,{retryButtonRef:l,retryAt:o}),isTooltipClickable:!0,clickableRefs:[l],itemId:"authorization-status-indicator"},s.createElement(NT.l,{iconSize:16}),vl.ag.get("authorization-status.badge")):null},dF=n(65260),mF=function(e){var t=e.minimized,n=e.spec,r=!(0,Dm.k)();return s.createElement(rF,{feedbackType:wu.nY.NOTICE,minimized:t,display:r,spec:n,tooltip:vl.ag.get("offline.callout-disconnected"),itemId:"offline-status-indicator"},s.createElement(dF.i,{iconSize:16}),vl.ag.get("offline.badge"))},pF=n(9348),fF=n(53602),vF=function(e){var t=e.minimized,n=e.spec,r=(0,fF.M)().isPrivateSession;return s.createElement(rF,{feedbackType:wu.nY.NOTICE,minimized:t,display:r,tooltip:vl.ag.get("private-session.callout"),spec:n,itemId:"private-session-indicator"},s.createElement(pF.W,{iconSize:16}),vl.ag.get("private-session.badge"))},gF=n(82744),hF=s.memo((function(e){var t=e.windowSize<=1024,n=(0,s.useMemo)((function(){var t;return null===(t=e.spec)||void 0===t?void 0:t.privateSessionButtonFactory()}),[e.spec]),r=(0,s.useMemo)((function(){var t;return null===(t=e.spec)||void 0===t?void 0:t.offlineButtonFactory()}),[e.spec]),i=(0,s.useMemo)((function(){var t;return null===(t=e.spec)||void 0===t?void 0:t.authorizationButtonFactory()}),[e.spec]);return s.createElement("div",{className:gF.Z.indicators},s.createElement(vF,{spec:n,minimized:t}),s.createElement(mF,{spec:r,minimized:t}),s.createElement(uF,{spec:i,minimized:t}))})),yF=["spec"],kF=function(e){var t=e.spec,n=(0,lu.Z)(e,yF),r=(0,Xc.Wi)(t);return s.createElement(s.Fragment,null,s.createElement(Fk.F,{property:vs.Kc,renderOldExperience:function(){return s.createElement(Iy.P,(0,su.Z)({},n,{ref:r,buttonSize:"sm",onClick:n.onClick,"aria-label":vl.ag.get("upgrade.tooltip.title"),title:vl.ag.get("upgrade.tooltip.title")}),vl.ag.get("upgrade.button"))},renderNewExperience:function(){return s.createElement(Iy.P,(0,su.Z)({},n,{ref:r,buttonSize:"sm",onClick:n.onClick,"aria-label":vl.ag.get("upgrade.tooltip.title"),title:vl.ag.get("upgrade.tooltip.title"),className:"upgradeButtonColorWhite"}),vl.ag.get("upgrade.button"))}}))},EF=n(32747),bF=n(26914),_F=n(1009),SF=n(87331),wF=n(40513),NF=n(29608),OF=n(45623);function CF(e,t){return t?(0,OF.k)(e):(0,NF.x)(e)}var TF=function(e){var t=e.divider,n=e.visible,r=(0,ru.s4)(),i=(0,LL.g)(),a=(0,s.useCallback)((function(){r.send(CF({category:"masthead",action:"click",label:"download-link",destination_url:Mk.vF,context:window.location.href,os:(0,ae.y)(),variant:"a"},i))}),[r,i]);return n?s.createElement(Bm.s,{divider:t,role:"menuitem",href:Mk.vF,onClick:a,target:"_blank",icon:s.createElement(lE.T,{iconSize:16})},vl.ag.get("download.download")):null},IF=function(e){var t=e.divider,n=e.ubiLogger,r=e.ubiSpec,i=(0,Ms.I0)(),a=(0,s.useCallback)((function(){n.logInteraction(r.goToUpgradePlanPageRowFactory().hitNavigateToExternalUri({destination:Mk.Np})),i((0,cw._)({action_type:"gtm.upgradeClick",action_intent:"upgrade-dwp",item_id:"dwp-top-bar"}))}),[i,n,r]);return s.createElement(Bm.s,{divider:t,role:"menuitem",icon:s.createElement(lE.T,{iconSize:16}),onClick:a,href:Mk.Np,target:"_blank"},vl.ag.get("navbar.premium"))},AF=function(e){var t=e.divider,n=e.visible,r=(0,ru.s4)(),i=(0,LL.g)(),a=(0,s.useCallback)((function(){r.send(CF({category:"masthead",action:"click",label:"support-link",destination_url:Mk.YJ,context:window.location.href,os:(0,ae.y)(),variant:"a"},i))}),[r,i]);return n?s.createElement(Bm.s,{divider:t,role:"menuitem",href:Mk.YJ,onClick:a,target:"_blank",icon:s.createElement(lE.T,{iconSize:16})},vl.ag.get("user.support")):null};const PF="8px",DF="main-userWidget-box",RF="main-userWidget-dropDownMenu",xF="main-userWidget-displayName",LF="main-userWidget-chevron",FF="main-userWidget-screenReaderOnly",UF="main-userWidget-notificationDot",ZF="main-userWidget-notificationIndicator",MF="main-userWidget-setupPlan";var BF=function(){var e=(0,Ms.v9)((function(e){return e.platform.isDesktop})),t=(0,Xc.fU)(wF.createDesktopUserWidgetMenuEventFactory,{}),n=t.spec,r=t.logger;return(0,s.useEffect)((function(){r.logImpression(n.impression())}),[r,n]),e?null:s.createElement("div",{className:RF},s.createElement(Mm.v,null,s.createElement(IF,{ubiSpec:n,ubiLogger:r}),s.createElement(AF,{visible:!0}),s.createElement(TF,{visible:!0})))},jF="".concat(Mk.ci,"?utm_source=spotify&utm_medium=menu&utm_campaign=your_account"),VF=function(e){var t=e.divider,n=e.ubiLogger,r=e.ubiSpec,i=(0,Gp.e)().openURLWithSessionTransfer;return s.createElement(Bm.s,{divider:t,role:"menuitem",icon:s.createElement(lE.T,{iconSize:16}),onClick:function(){n.logInteraction(r.goToAccountPageRowFactory().hitUiNavigate({destination:jF})),i(jF)}},vl.ag.get("user.account"))},HF=n(25059),GF=n(86588),WF=function(){var e=(0,LC.r)().settings,t=(0,GF.getIsEmployeeDesktopSettings)(e.values),n=(0,zP.C)().show;return t?s.createElement(HF.W,{displayText:"Debug Tools"},s.createElement(Bm.s,{role:"menuitem",onClick:function(){return n()}},"Debug Window"),s.createElement(Bm.s,{role:"menuitem",to:"/debug/locales"},"Locales")):null},zF=function(){return(0,hd.k)().getPluginAPI(Ho)},KF=function(e){var t,n=e.visible,r=e.remoteConfigProp,i=e.divider,a=e.ubiSpec,o=e.ubiLogger,l=(0,Ms.v9)((function(e){return e.ui.employeePodcasts.isPluginEnabled})),c=(0,Ms.I0)();(0,s.useEffect)((function(){var e;null!==(e=zF())&&void 0!==e&&e.isEnabled()&&!l&&c((0,Us.Rf)())}),[c,l]);var u=(0,s.useCallback)((function(){o.logInteraction(a.openEmployeePodcastModalRowFactory().hitUiReveal()),c((0,Us.DL)())}),[c,o,a]);return!(l||null!==(t=zF())&&void 0!==t&&t.isEnabled())&&n?s.createElement(Fk.F,{property:r,renderNewExperience:function(){return s.createElement(Bm.s,{divider:i,role:"menuitem",onClick:function(){return u()}},vl.ag.get("employee-podcasts.settings.drop-down"))}}):null},YF=function(e){var t=e.divider,n=e.ubiLogger,r=e.ubiSpec,i=(0,Ms.I0)(),a=(0,s.useCallback)((function(){n.logInteraction(r.logOutRowFactory().hitLogout()),i((0,pd.Tz)())}),[i,n,r]);return s.createElement(Bm.s,{divider:t,role:"menuitem",onClick:a,"":"user-widget-dropdown-logout"},vl.ag.get("user.log-out"))},qF=function(e){var t=e.divider,n=e.planAttributes,r=e.ubiSpec,i=e.ubiLogger,a=(0,Gp.e)().openURLWithSessionTransfer,o="duo"===n.plan?"https://www.spotify.com/account/duo/":"https://www.spotify.com/account/family/";return s.createElement(Bm.s,{divider:t,role:"menuitem",icon:s.createElement(lE.T,{name:"external-link-icon",iconSize:16}),onClick:function(){i.logInteraction(r.goToPlanManagementFactory().hitNavigateToExternalUri({destination:o})),a(o)}},s.createElement("span",{className:MF},"duo"===n.plan?vl.ag.get("user.setup-duo"):vl.ag.get("user.setup-family"),n.currentSize<=1&&s.createElement(bF.Z,{className:UF,name:"dot-icon"})))},QF=function(e){var t=e.visible,n=e.divider,r=e.ubiSpec,i=e.ubiLogger,a=(0,fF.M)(),o=a.isPrivateSession,l=a.setPrivateSession,c=(0,s.useCallback)((function(){i.logInteraction(r.togglePrivateSessionRowFactory().hitSetSettingField()),l(!o)}),[l,o,i,r]);return t?s.createElement(Bm.s,{divider:n,role:"menuitemcheckbox","aria-checked":o,onClick:c},vl.ag.get("user.private-session")):null},JF="/preferences",XF=function(e){var t=e.divider,n=e.ubiLogger,r=e.ubiSpec;return s.createElement(Bm.s,{divider:t,role:"menuitem",to:JF,onClick:function(){n.logInteraction(r.goToSettingsRowFactory().hitUiNavigate({destination:JF}))}},vl.ag.get("user.settings"))},$F=function(e){var t=e.divider,n=e.ubiLogger,r=e.ubiSpec,i=(0,_F.g)(),a=(0,s.useContext)(yc.z),o=(0,s.useCallback)((function(){n.logInteraction(r.updateClientRowFactory().hitUiHide()),a.applyUpdate()}),[a,n,r]);return(null==i?void 0:i.state)!==SF.J.UPDATE_READY?null:s.createElement(Bm.s,{divider:t,role:"menuitem",onClick:o,icon:s.createElement(bF.Z,{className:UF}),"":"user-widget-update-available"},vl.ag.get("user.update-client"))},eU=function(e){var t=e.divider,n=e.ubiLogger,r=e.ubiSpec,i=(0,Ms.I0)(),a=(0,s.useCallback)((function(){n.logInteraction(r.goToUpgradePlanPageRowFactory().hitNavigateToExternalUri({destination:Mk.Np})),i((0,cw._)({action_type:"gtm.upgradeClick",action_intent:"upgrade-dwp",item_id:"dwp-top-bar"}))}),[i,n,r]);return(0,Ms.v9)((function(e){return(0,Nu.OA)(e)}))?s.createElement(Bm.s,{divider:t,role:"menuitem",icon:s.createElement(lE.T,{iconSize:16}),onClick:a,href:Mk.Np,target:"_blank"},vl.ag.get("upgrade.tooltip.title")):null},tU=function(e){var t=e.divider,n=e.ubiSpec,r=e.ubiLogger,i=(0,Ms.v9)((function(e){var t;return null===(t=e.session.user)||void 0===t?void 0:t.uri})),a=(0,Wc.g)();if(!i)return null;var o=d().from(i).toURLPath(!0);return s.createElement(Bm.s,{divider:t,role:"menuitem",to:o,onClick:function(){r.logInteraction(n.goToUserProfileRowFactory().hitUiNavigate({destination:o})),a.setReferrer("user_profile")}},vl.ag.get("card.tag.profile"))},nU=function(){var e=(0,Ms.v9)((function(e){return e.platform.isDesktop})),t=(0,Xc.fU)(wF.createDesktopUserWidgetMenuEventFactory,{}),n=t.spec,r=t.logger;(0,s.useEffect)((function(){r.logImpression(n.impression())}),[r,n]);var i=(0,Bd.W6)(vs.yy),a=FD(CD().data);return s.createElement("div",{"":"user-widget-menu",className:RF},s.createElement(Mm.v,null,s.createElement(VF,{ubiSpec:n,ubiLogger:r}),i&&a&&s.createElement(qF,{planAttributes:a,ubiSpec:n,ubiLogger:r}),s.createElement(tU,{ubiSpec:n,ubiLogger:r}),s.createElement(KF,{remoteConfigProp:vs.Ph,visible:!e,ubiSpec:n,ubiLogger:r}),s.createElement(eU,{ubiSpec:n,ubiLogger:r}),s.createElement(AF,{visible:Dg()}),s.createElement(TF,{visible:!e&&Dg()}),s.createElement(QF,{visible:e,ubiSpec:n,ubiLogger:r}),s.createElement(XF,{divider:"after",ubiSpec:n,ubiLogger:r}),s.createElement($F,{ubiSpec:n,ubiLogger:r})," ",e&&s.createElement(WF,null),s.createElement(YF,{ubiSpec:n,ubiLogger:r})))},rU=function(e){var t=(0,Bd.W6)(vs.fS),n=(0,Ms.v9)((function(e){return e.session.user})),r=(0,_F.g)(),i=(0,Bd.W6)(vs.yy),a=FD(CD().data),o=!!a&&(i&&a.currentSize<=1);if(!n&&Dg())return s.createElement(tv.yj,{renderInline:!0,offset:[0,parseInt(PF,10)],placement:"bottom-end",menu:s.createElement(BF,null)},(function(e,t,n){return s.createElement("button",{className:Tl()(DF),type:"button",onClick:t,ref:n,"":"unauth-user-widget-link"},e?s.createElement(Jd.k,{iconSize:16}):s.createElement(EF.d,{iconSize:16}))}));if(!n)return null;var l=n.display_name||n.id;return s.createElement(tv.yj,{renderInline:!0,offset:[0,parseInt(PF,10)],placement:"bottom-end",menu:s.createElement(nU,null)},(function(i,a,c){return s.createElement("button",{className:Tl()(DF,e.className),type:"button",onClick:function(t){var n;null===(n=e.onClick)||void 0===n||n.call(e,t),a(t)},ref:c,"":"user-widget-link"},t&&s.createElement(GA.q,{label:l,width:32,images:n.images,userIconSize:16,testID:"user-widget-avatar"}),!t&&s.createElement(GA.q,{label:l,width:28,images:n.images,userIconSize:16,testID:"user-widget-avatar"}),!t&&s.createElement(Eu.D,{dir:"auto",variant:"mestoBold",className:xF,"":"user-widget-name"},l),!t&&s.createElement(s.Fragment,null,i?s.createElement(zA.U,{className:LF,iconSize:16}):s.createElement(TE.i,{className:LF,iconSize:16})),((null==r?void 0:r.state)===SF.J.UPDATE_READY||o)&&s.createElement("div",{className:ZF},s.createElement("span",{className:FF},vl.ag.get("user.update-available")),s.createElement(bF.Z,{className:UF})))}))};const iU="main-topBar-topBarContainer",aU="main-topBar-sectionWrapper",oU="main-topBar-left",sU="main-topBar-center",lU="main-topBar-right",cU="REO7cDZH80ftToNzrQjB",uU="SfuqfXFvfWzC8ds3ADsw",dU="main-topBar-historyButtons",mU="main-topBar-icon",pU="main-topBar-button",fU="main-topBar-forward",vU="main-topBar-entryPoints",gU="main-topBar-UpgradeButton",hU="sOwv9dSemvp7Ffx0Uejo",yU="main-topBar-buttonActive";var kU=function(e){var t=e.children,n=e.className;return s.createElement("div",{className:Tl()(aU,lU,n)},t)},EU=function(e){var t=e.children,n=e.className;return s.createElement("div",{className:Tl()(aU,sU,n)},t)},bU=function(e){var t=e.children,n=e.className;return s.createElement("div",{className:Tl()(aU,oU,n)},t)},_U=function(e){var t=(0,Xc.fU)(DL.createDesktopFixedTopBarEventFactory,{}),n=t.spec,i=t.logger,a=t.UBIFragment,o=(0,s.useCallback)((function(){i.logInteraction(n.profileButtonFactory().hitUiReveal())}),[i,n]),l=(0,LL.g)(),c=(0,Bs.k6)(),u=xL(),d=(0,r.Z)(u,2),m=d[0],p=d[1],f=(0,FL.E)(),v=(0,s.useState)(window.innerWidth),g=(0,r.Z)(v,2),h=g[0],y=g[1],k=h<850,E=Dg()&&l&&k;(0,lC.a)((function(){y(window.innerWidth)}));var b=(0,s.useMemo)((function(){return n.upgradeButtonFactory()}),[n]),_=ZL(b,i),S=_.shouldShowUpgradeButton,w=_.onUpgradeClick,N=(0,s.useCallback)((function(){i.logInteraction(n.backButtonFactory().hitUiNavigateBack()),c.goBack()}),[c,i,n]),O=(0,s.useCallback)((function(){i.logInteraction(n.forwardButtonFactory().hitUiNavigateForwardInHistory()),c.goForward()}),[c,i,n]);return s.createElement("div",{className:Tl()(iU,e.className)},s.createElement(bU,null,f&&s.createElement("div",{className:cU,role:"banner"},s.createElement(Mb.Z,{className:uU})),!f&&s.createElement("div",{className:dU},s.createElement(Cf.w,{label:vl.ag.get("navbar.go-back")},s.createElement("button",{"":"top-bar-back-button","aria-label":vl.ag.get("navbar.go-back"),disabled:!m,className:"".concat(pU),onClick:N},s.createElement(dR.e,{className:mU}))),s.createElement(Cf.w,{label:vl.ag.get("navbar.go-forward")},s.createElement("button",{"":"top-bar-forward-button","aria-label":vl.ag.get("navbar.go-forward"),disabled:!p,className:"".concat(pU," ").concat(fU),onClick:O},s.createElement(PL.V,{className:mU}))))),s.createElement(EU,{className:vU},s.createElement(Cf.w,{label:vl.ag.get("view.web-player-home")},s.createElement(nb.O,{to:"/",referrer:"home","aria-label":vl.ag.get("view.web-player-home"),className:pU,activeClassName:yU,isActive:function(e,t){return"/"===t.pathname},onClick:function(){i.logInteraction(n.homeButtonFactory().hitUiNavigate({destination:"spotify:app:home"}))}},s.createElement(tE.A,{className:"home-icon"}),s.createElement(nE.v,{className:"home-active-icon"}))),s.createElement(a,{spec:n},s.createElement(RL.M,{isSearchChipsEnabled:!0,onClick:function(){c.location.pathname.startsWith("/search")||c.push("/search",{preventMoveFocus:!0})},onSearch:!0}))),s.createElement(kU,null,S&&h>=1024&&s.createElement(kF,{onClick:w,className:gU}),s.createElement(hF,{spec:n,windowSize:h}),(!l||E)&&s.createElement(s.Suspense,{fallback:null},s.createElement(rU,{className:Tl()(pU,hU),onClick:o}))))},SU=n(97397),wU=n(84198),NU=n(18136),OU=n(80642);function CU(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(n>t)return 1;var r=(e-n)/(t-n);return Number.isNaN(r)&&(r=1),Math.min(Math.max(r,0),1)}var TU=n(24565);const IU="main-home-homeHeader",AU="main-home-withAds",PU="main-home-isOffline";var DU,RU=function(e){return e.platform},xU=function(){var e=(0,Ms.v9)(RU).isDesktop,t=(0,Ms.v9)(TU.F7),n=(0,Ms.v9)(Nu.Gg).productState,r="premium"===(null==n?void 0:n.product);return e&&r&&t},LU=s.memo((function(){var e,t=(0,NU.D)(qg.Sns),n=!(0,Dm.k)(),r=xU();return s.createElement("div",{className:Tl()(IU,(e={},(0,E.Z)(e,PU,n),(0,E.Z)(e,AU,r),e)),style:{backgroundColor:t}})})),FU=function(){var e=(0,s.useRef)(null),t=(0,s.useContext)(Pu.E).setElementRef;return(0,s.useEffect)((function(){t&&e.current&&t(e.current)}),[t]),s.createElement("div",{"":"topbar-content-wrapper",className:gF.Z.topbarContentWrapper,ref:e})},UU=n(17598),ZU="ANONYMOUS_PLAYBACK_HOOK",MU=function(e,t){var n,r=null==t||null===(n=t.item)||void 0===n?void 0:n.type;(0,UU.s)()?e.dispatch(function(e){return{type:"ANONYMOUS_PLAYBACK_HOOK_MOBILE",entityType:e}}(r)):e.dispatch(function(e){return{type:ZU,entityType:e}}(r))},BU=function(e){return function(t,n,r){var i,a=e.getState(),o=function(e,t,n,r){var i,a=(null!==(i=(0,gg.k)(n))&&void 0!==i?i:0)>1e4,o=document.hasFocus();return!e&&a&&o&&r&&"now-playing-view"!==t}(t,null==a||null===(i=a.ui)||void 0===i?void 0:i.modal,n,r);return o}},jU=n(77630),VU=n(63567),HU=n(22647),GU="STORE_DEFERRED_ACTION",WU="PULL_DEFERRED_ACTION";!function(e){e.PLAY="play",e.PLAYING="playing",e.USER_INVESTMENT="user-investment"}(DU||(DU={}));var zU,KU=n(98778);function YU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qU(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?YU(Object(n),!0).forEach((function(t){(0,E.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YU(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var QU="START_RADIO",JU="SAVE_TRACK",XU="SAVE_EPISODE",$U="FOLLOW_USER",eZ=/(^PLAY_.+|QUEUE_UPDATE)/i,tZ=qU(qU({},(zU={},(0,E.Z)(zU,Jl.V5.ANONYMOUS_COLLECTION_NAVIGATION,Jl.V5.ANONYMOUS_COLLECTION_NAVIGATION),(0,E.Z)(zU,Jl.V5.ANONYMOUS_LIKED_SONGS_NAVIGATION,Jl.V5.ANONYMOUS_LIKED_SONGS_NAVIGATION),(0,E.Z)(zU,ZU,ZU),zU)),jU.V5),nZ=function(){var e=qU({},tZ);return delete e.DEVICE_INFO_CHANGED,delete e.PLAYBACK_CLEAR_DATA,delete e.QUEUE_UPDATE,e},rZ=function(e,t){if(nZ()[t.type]){if(function(e){return e.type!==ZU&&!![jU.V5.PLAYBACK_ERROR].includes(e.type)}(t))return!1;var n=function(e){var t=nZ();switch(e.type){case t.ANONYMOUS_COLLECTION_NAVIGATION:return[!0,{triggerId:Aw,triggerAction:e}];case t.ANONYMOUS_LIKED_SONGS_NAVIGATION:return[!0,{triggerId:h_,triggerAction:e}];case t.FOLLOW_PLAYLIST:return[!0,{triggerId:KU.J,triggerAction:e}];case t.CREATE_PLAYLIST:return[!0,{triggerId:Vb,triggerAction:e}];case t.ADD_TO_QUEUE:case ZU:return[!0,{triggerId:oZ,triggerAction:e}];default:return[!1,null]}}(t),i=(0,r.Z)(n,2),a=i[0],o=i[1],s=eZ.test(t.type);if(e.dispatch((c=t,u=s?DU.PLAY:DU.USER_INVESTMENT,{type:GU,storeAction:c,actionIntent:u})),a)VU.y.set((function(e){return qU(qU({},e),o)}));else{var l=t.uri||t.contextURI;if(e.dispatch((0,Us.lJ)(l)),t.type===pd.VX)return!1}return!0}var c,u;return!1};function iZ(e,t){if(e===Gn.pT.ADD){if(d().isTrack(t))return[!0,{triggerId:oZ,triggerAction:{type:JU}}];if(d().isEpisode(t))return[!0,{triggerId:oZ,triggerAction:{type:XU}}]}return e===Ie.zr.PLAY&&d().isRadio(t)?[!0,{triggerId:oZ,triggerAction:{type:QU}}]:e===ca.aY.ADD||e===ca.aY.CREATE_PLAYLIST?[!0,{triggerId:Vb,triggerAction:{type:null}}]:e===HU.BM.FOLLOW_USER?[!0,{triggerId:oZ,triggerAction:{type:$U}}]:[!1,null]}var aZ=function(e,t,n,i,a){return function(o){var s=e.getEvents(),l=t.getEvents(),c=n.getEvents(),u=i.getEvents();return s.addListener(Ie.rg.ACTION,(function(e){(function(e,t,n){var i,a,o=t.getState();if(!(0,Nu.Gg)(o).isAnonymous)return!1;switch(e.action){case Ie.zr.PLAY:var s,l,c=e.context,u=e.options,d=function(e){return e.pages&&e.pages.length>0&&e.pages[0].items&&e.pages[0].items.length>0?e.pages[0].items[0]:null}(c);if((null==d?void 0:d.type)===Ae.p.EPISODE&&(void 0===(null===(a=(i=d).metadata)||void 0===a?void 0:a.anonymousPlaybackAllowed)||i.metadata.anonymousPlaybackAllowed))return!1;var m=null!==(s=null==u||null===(l=u.skipTo)||void 0===l?void 0:l.uri)&&void 0!==s?s:c.uri;n.storeAction(T.gi,e);var p=iZ(Ie.zr.PLAY,m),f=(0,r.Z)(p,2),v=f[0],g=f[1];return v?(VU.y.set((function(e){return qU(qU({},e),g)})),!0):(t.dispatch((0,Us.lJ)(m)),!0);case Ie.zr.SKIP_TO_NEXT:case Ie.zr.SKIP_TO_PREVIOUS:return t.dispatch((0,Us.lJ)()),!0;default:return!1}})(e.data,o,a)&&e.preventDefault()})),l.addListener(Gn.EW.OPERATION,(function(e){(function(e,t,n){var i=t.getState();if(!(0,Nu.Gg)(i).isAnonymous)return!1;if(e.operation===Gn.pT.ADD){var a=(0,r.Z)(e.uris,1)[0];n.storeAction(T.wH,e);var o=iZ(Gn.pT.ADD,a),s=(0,r.Z)(o,2),l=s[0],c=s[1];return l?(VU.y.set((function(e){return qU(qU({},e),c)})),!0):(t.dispatch((0,Us.lJ)(a)),!0)}return!1})(e.data,o,a)&&e.preventDefault()})),c.addListener(ca.Yt.OPERATION,(function(e){(function(e,t,n){var i=t.getState();if(!(0,Nu.Gg)(i).isAnonymous)return!1;switch(e.operation){case ca.aY.ADD:var a=(0,r.Z)(e.uris,1)[0];n.storeAction(T.t3,e);var o=iZ(ca.aY.ADD,a),s=(0,r.Z)(o,2),l=s[0],c=s[1];return l?(VU.y.set((function(e){return qU(qU({},e),c)})),!0):(t.dispatch((0,Us.lJ)(a)),!0);case ca.aY.CREATE_PLAYLIST:var u=(0,r.Z)(e.uris,1)[0],d=iZ(ca.aY.CREATE_PLAYLIST,u),m=(0,r.Z)(d,2),p=m[0],f=m[1];return p?(VU.y.set((function(e){return qU(qU({},e),f)})),!0):(t.dispatch((0,Us.lJ)(u)),!0);default:return!1}})(e.data,o,a)&&e.preventDefault()})),u.addListener(HU.rA.OPERATION,(function(e){(function(e,t,n){var i=t.getState();if(!(0,Nu.Gg)(i).isAnonymous)return!1;if(e.operation===HU.BM.FOLLOW_USER){var a=(0,r.Z)(e.uris,1)[0];n.storeAction(T.mZ,e);var o=iZ(HU.BM.FOLLOW_USER,a),s=(0,r.Z)(o,2),l=s[0],c=s[1];return l?(VU.y.set((function(e){return qU(qU({},e),c)})),!0):(t.dispatch((0,Us.lJ)(a)),!0)}return!1})(e.data,o,a)&&e.preventDefault()})),function(t){return function(n){var r=o.getState(),i=(0,Nu.Gg)(r).isAnonymous,s=new URL(location.href).searchParams.has("signupPrompt");if(i){if(!rZ(o,n)){switch(n.type){case Jl.V5.ANONYMOUS_LOGIN_CLICK:var l=e.getState();if(function(e){var t;return(0,af.o9)(e)===Te.PO.PLAYING&&(0,Te.iw)(null!==(t=null==e?void 0:e.item)&&void 0!==t?t:void 0)}(l)){var c=function(e,t){var n;if(null==e||!e.item)return null;var r={uri:e.context.uri,pages:[{items:[{type:e.item.type,uri:e.item.uri,uid:e.item.uid,metadata:e.item.metadata,provider:e.item.provider}]}]},i={referrerIdentifier:t.getReferrer(),featureIdentifier:"unknown"},a={seekTo:null!==(n=e.positionAsOfTimestamp)&&void 0!==n?n:void 0};return{action:Ie.zr.PLAY,context:r,origin:i,options:a}}(l,e);c&&a.storeAction(T.gi,c)}setTimeout(bs.h$,500);break;case Jl.V5.ANONYMOUS_SIGNUP_CLICK:setTimeout(bs.L6,500);break;case Jl.V5.ANONYMOUS_PREMIUM_CLICK:setTimeout((function(){window.location.assign(Mk.Np)}),500);break;case pd.VX:s&&o.dispatch((0,Us.lJ)((null===(b=d().from(location.pathname))||void 0===b?void 0:b.toURI())||"")),u=e,m=".main-view-container .os-viewport-native-scrollbars-invisible",p=function(e){return function(t){MU(e,t)}}(o),f=BU(o),v=!1,g=Date.now(),h=document.querySelector(m),y=u.getEvents(),k=function(){g=Date.now()},E=function(){h||(h=document.querySelector(m))&&h.addEventListener("scroll",k)},y.addListener(Ie.rg.UPDATE,(function e(t){var n=t.data;E();var r=Date.now()-g>1e3;f(v,n,r)&&(v=!0,p(n),y.removeListener(Ie.rg.UPDATE,e),h&&h.removeEventListener("scroll",k))})),E()}var u,m,p,f,v,g,h,y,k,E,b;t(n)}}else t(n)}}}},oZ="loginButton",sZ={isCTA:!1,placement:jb.n.bottomLeft,shouldHideOnOutsideClick:function(e){var t=e.triggerAction;return!t||t.type!==ZU},getTitle:function(){return vl.ag.get("action-trigger.logged-out")},getDescription:function(e){var t=e.triggerAction;switch(null==t?void 0:t.type){case jU.V5.ADD_TO_QUEUE:return vl.ag.get("action-trigger.logged-out-queue");case QU:return vl.ag.get("action-trigger.logged-out-radio");case JU:return vl.ag.get("action-trigger.log-in-like-action");case $U:return vl.ag.get("action-trigger.log-in-follow-profile");case ZU:return"track"===(null==t?void 0:t.entityType)?vl.ag.get("action-trigger.logged-out-full-track"):vl.ag.get("action-trigger.logged-out-synced");default:return vl.ag.get("action-trigger.logged-out-continue")}}},lZ=function(e){var t=e.children;return s.createElement(jb.P,{id:oZ,options:sZ},t)},cZ=["/","/lyrics","/search","/search/:query/podcasts","/search/:query/episodesFull","/recent-searches","/section/:id","/genre/:id","/user/:username/:subpage","/preferences","/artist/:id/featuring","/artist/:id/playlists","/artist/:id/appears-on","/artist/:id/discovered-on"],uZ=n(53383),dZ=parseInt(uZ.Z.MINIMUM_HEADER_HEIGHT,10),mZ=function(){var e=(0,of.o)(),t=(0,Ms.I0)(),n="/"===(0,Bs.TH)().pathname,i=function(){var e=(0,Bd.W6)(vs.fS),t=(0,Bs.TH)(),n=(0,Bs.$B)({path:cZ,exact:!0});return e?null===n:"/lyrics"!==t.pathname}(),a=xU(),o=(0,NU.D)(),l=(0,Bd.W6)(vs.fS),c=(0,s.useState)(window.innerWidth),u=(0,r.Z)(c,2),d=u[0],m=u[1],p=(0,s.useContext)(Wh.VX).scrollNodeRef,f=(0,Xc.fU)(wU.createDesktopTopBarEventFactory,{}),v=f.spec,g=f.logger,h=(0,LL.g)(),y=(0,s.useRef)(null),k=(0,s.useRef)(-1),b=(0,s.useCallback)((function(e){var t,r=e.target.scrollTop;t=n?function(e,t){return CU(e,(t?350:80)+Dt.K1,Dt.K1)}(r,a):void 0===o?CU(r,Dt.K1):CU(r,dZ,140+Dt.K1),k.current!==t&&requestAnimationFrame((function(){y.current&&(y.current.style.opacity="".concat(t))})),k.current=t}),[o,n,a]);(0,OU.c)(b,{executeOnceOnStart:!0,disabled:!i}),(0,lC.a)((function(){m(window.innerWidth)}));var _=(0,Bs.k6)(),S=xL(),w=(0,r.Z)(S,2),N=w[0],O=w[1],C=(0,s.useCallback)((function(){g.logInteraction(v.backButtonFactory().hitUiNavigateBack()),_.goBack()}),[_,g,v]),T=(0,s.useCallback)((function(){g.logInteraction(v.forwardButtonFactory().hitUiNavigateForwardInHistory()),_.goForward()}),[_,g,v]),I=(0,s.useCallback)((function(){t((0,Jl.xO)()),e({intent:"signup",type:"click"})}),[t,e]),A=(0,s.useCallback)((function(){t((0,Jl.sX)()),e({intent:"login",type:"click"})}),[t,e]),P=(0,Gp.e)().openURLWithSessionTransfer,D=function(e){P(e,"_blank")},R=(0,s.useMemo)((function(){return v.upgradeButtonFactory()}),[v]),x=ZL(R,g),L=x.shouldShowUpgradeButton,F=x.onUpgradeClick,U=(0,s.useCallback)((function(){g.logInteraction(v.profileButtonFactory().hitUiReveal())}),[g,v]),Z=0===_.location.pathname.indexOf("/artist"),M=d<850,B=Dg()&&h&&M,j=(0,wf.y1)((function(e){p.current&&(p.current.scrollTop=p.current.scrollTop-100*e*e)}),50,{leading:!0,maxWait:50}),V=(0,s.useCallback)((function(e){j(1-e.clientY/Dt.K1)}),[j]),H=!l||void 0!==o;return(0,s.useEffect)((function(){k.current=-1}),[i]),i?s.createElement(s.Fragment,null,s.createElement("header",{"aria-label":vl.ag.get("topBar.label"),className:Tl()(gF.Z.container,(0,E.Z)({},gF.Z.loggedOut,h&&!Z)),onDragOver:V},s.createElement("div",{ref:y,className:gF.Z.background,style:{backgroundColor:o}},H&&s.createElement("div",{className:gF.Z.overlay})),!l&&s.createElement("div",{className:gF.Z.historyButtons},s.createElement(Cf.w,{label:vl.ag.get("navbar.go-back")},s.createElement("button",{"":"top-bar-back-button","aria-label":vl.ag.get("navbar.go-back"),disabled:!N,className:"".concat(gF.Z.button),onClick:C},s.createElement(dR.e,{className:gF.Z.icon}))),s.createElement(Cf.w,{label:vl.ag.get("navbar.go-forward")},s.createElement("button",{"":"top-bar-forward-button","aria-label":vl.ag.get("navbar.go-forward"),disabled:!O,className:"".concat(gF.Z.button," ").concat(gF.Z.forward),onClick:T},s.createElement(PL.V,{className:gF.Z.icon})))),s.createElement(FU,null),L&&d>=1024&&!l&&s.createElement(kF,{spec:R,onClick:F,className:gF.Z.UpgradeButton}),!l&&s.createElement(hF,{windowSize:d}),h&&Dg()&&!M?s.createElement(s.Fragment,null,s.createElement(_u.oM,{condensed:!0,onClick:function(){return D(Mk.IT)},className:gF.Z.topNavBarLinks},vl.ag.get("navbar.premium")),s.createElement(_u.oM,{condensed:!0,onClick:function(){return D(Mk.YJ)},className:gF.Z.topNavBarLinks},vl.ag.get("user.support")),s.createElement(_u.oM,{condensed:!0,onClick:function(){return D(Mk.vF)},className:gF.Z.topNavBarLinks},vl.ag.get("download.download")),s.createElement("div",{className:gF.Z.topNavBarSeparator})):s.createElement(s.Fragment,null),h&&s.createElement("div",{className:gF.Z.loginButtons},s.createElement(_u.oM,{className:gF.Z.signupButton,onClick:I},vl.ag.get("sign_up")),s.createElement(lZ,null,s.createElement(Il.D,{colorSet:"invertedLight",onClick:A,"":"login-button"},vl.ag.get("login")))),(!h||B)&&!l&&s.createElement(s.Suspense,{fallback:null},s.createElement(rU,{onClick:U})))):null};const pZ="t1hN4Ju87afc5N5fDTnm",fZ="zSZOa6QFl1nnqYR7jPu9",vZ="KSUTPJtu2PnuTb_RoGQX";var gZ=function(e){var t=e.onClose,n=e.handleRemove,r=e.primaryButtonText,i=e.secondaryButtonText,a=e.primaryButtonLabel,o=void 0===a?r:a;return s.createElement("div",{className:vZ},s.createElement(_u.oM,{onClick:t,semanticColor:"textSubdued","aria-label":"Cancel"},i),s.createElement(Il.D,{"aria-label":o,autoFocus:!0,onClick:n},r))},hZ=function(e){var t=e.onClose,n=e.primaryButtonText,r=e.secondaryButtonText;return s.createElement("div",{className:vZ},s.createElement(_u.oM,{onClick:t,semanticColor:"textSubdued",as:"a",href:Mk.YJ},r),s.createElement(Il.D,{autoFocus:!0,onClick:t},n))},yZ=function(){var e=(0,Ms.I0)(),t=(0,TI.k)(),n=(0,jc.t)(),a=(0,s.useState)(null),l=(0,r.Z)(a,2),c=l[0],u=l[1],d=(0,s.useCallback)((function(){e((0,Us.hx)())}),[e]),m=(0,s.useCallback)((0,i.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.removeAllDownloads();case 3:d(),t("Downloads have successfully been removed"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),u(e.t0 instanceof Error?e.t0:new Error("Error when deleting all downloads."));case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),[d,n,t]);return s.createElement(Al.Z,{animated:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,overlayClassName:fZ,onRequestClose:d,contentLabel:c?"Something went wrong":"Remove all downloads?",isOpen:!0,shouldFocusAfterRender:!1},s.createElement("div",{className:Tl()("encore-light-theme",pZ)},s.createElement(Eu.D,{as:"h2",variant:"canon",semanticColor:"textBase","aria-live":"polite"},c?"Something went wrong":"Remove all downloads?"),s.createElement(Eu.D,{as:"p",variant:"mesto",paddingBottom:bu.o78,semanticColor:"textSubdued","aria-live":"polite"},c?"Sorry, we were unable to remove your downloads. If the problem persists, please contact support.":"Current downloaded content will no longer be available when offline."),c?s.createElement(hZ,{onClose:d,primaryButtonText:"Close",secondaryButtonText:"Help"}):s.createElement(gZ,{onClose:d,handleRemove:m,primaryButtonLabel:"Remove all downloads",primaryButtonText:"Remove",secondaryButtonText:"Cancel"})))},kZ=function(){var e=(0,Ms.I0)(),t=(0,TI.k)(),n=(0,jc.t)(),a=(0,s.useState)(null),l=(0,r.Z)(a,2),c=l[0],u=l[1],d=(0,s.useCallback)((function(){e((0,Us.Ap)())}),[e]),m=(0,s.useCallback)((0,i.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.removeCache();case 3:d(),t("Cache has successfully been cleared"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),u(e.t0 instanceof Error?e.t0:new Error("Error when clearing cache."));case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),[n,d,t]);return s.createElement(Al.Z,{animated:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,overlayClassName:fZ,onRequestClose:d,contentLabel:c?"Something went wrong":"Clear cache?",isOpen:!0,shouldFocusAfterRender:!1},s.createElement("div",{className:Tl()("encore-light-theme",pZ)},s.createElement(Eu.D,{as:"h2",variant:"canon",semanticColor:"textBase","aria-live":"polite"},c?"Something went wrong":"Clear cache?"),s.createElement(Eu.D,{as:"p",variant:"mesto",paddingBottom:bu.o78,semanticColor:"textSubdued","aria-live":"polite"},c?"Sorry, we were unable to clear your cache. If the problem persists, please contact support.":"Content that you have not downloaded will no longer be available for offline listening. Your downloads won't be removed."),c?s.createElement(hZ,{onClose:d,primaryButtonText:"Close",secondaryButtonText:"Help"}):s.createElement(gZ,{onClose:d,handleRemove:m,primaryButtonText:"Clear cache",secondaryButtonText:"Cancel"})))},EZ=Pg()===Ag,bZ=function(){return null};if(EZ){var _Z=n(82453).MastheadFooter;bZ=_Z}var SZ=function(e){var t=e.accessTokenIsSet,n=e.ui,r=e.onClose,i=e.onBrowserNotSupported,a=e.onCloseFullscreenMode,o=e.onReachUsableState,l=e.isVideoSupported,c=e.isBrowser,u=e.isDesktop,d=e.billboardMinimized,m=e.isAnonymous,p=e.isDeveloperMode,h=e.adsEnabled,y=e.children,k=e.location,E=(0,Bd.W6)(Vt.sT,{loadingValue:!1}),b=(0,Bd.W6)(vs.fS),_=(0,s.useContext)(f.r$);(0,s.useEffect)((function(){b?_.setTitlebarHeight(SU.J):_.setTitlebarHeight(SU.m)}),[b,_]);var S,w,N=n.unsupportedBrowser.isOpen,O=EZ,C=(0,v.ZO)()===g.W.Desktop,T=(0,s.useRef)(null),I=(0,s.useRef)(null),A=(0,s.useRef)(null),P=(0,s.useRef)(null),D=(0,s.useRef)(null),R=(0,s.useRef)(null),x=(0,s.useRef)(null),L=(0,s.useRef)(null),F=(0,s.useRef)(null);S=C,w=(0,Bs.k6)(),(0,s.useEffect)((function(){var e=function(e){S&&(3===e.button?w.goBack():4===e.button&&w.goForward())};return document.addEventListener("mouseup",e),function(){document.removeEventListener("mouseup",e)}}),[w,S]),function(e){(0,s.useEffect)((function(){if(e){var t=function(e){var t=e.target;["INPUT","TEXTAREA"].includes(t.tagName)||e.preventDefault()};return document.addEventListener("contextmenu",t),function(){document.removeEventListener("contextmenu",t)}}}),[e])}(!p),function(e){var t=e.onBrowserNotSupported,n=e.onReachUsableState;(0,s.useEffect)((function(){var e=se().getParser(window.navigator.userAgent);e.satisfies({chrome:"<62"})||e.satisfies({edge:"<16"})?t(vl.ag.get("browser_upgrade_notice",e.getBrowserName())):n("home")}),[t,n])}({onBrowserNotSupported:i,onReachUsableState:o});var U=function(){var e=(0,s.useCallback)((function(e){e.preventDefault(),document.body.removeAttribute("data-dragging-type")}),[]),t=(0,s.useCallback)((function(e){document.body.removeAttribute("data-dragging-type")}),[]),n=(0,s.useCallback)((function(e){e.preventDefault()}),[]);return{handleDrop:e,handleDragStart:(0,s.useCallback)((function(e){e.preventDefault()}),[]),handleDragEnd:t,handleDragOver:n}}(),Z=U.handleDrop,M=U.handleDragStart,B=U.handleDragEnd,j=U.handleDragOver;(0,s.useEffect)((function(){window&&window.history&&window.history.scrollRestoration&&(window.history.scrollRestoration="manual")}),[]);var V=(0,s.useMemo)((function(){return[s.createElement(WP,{scrollNodeRef:x,scrollNodeChildRef:L}),s.createElement(Pu.y,null),s.createElement(ZP.aC,{mainLandmarkRef:R}),s.createElement(yk,null),s.createElement($p.Z,null),s.createElement(lf,null),s.createElement(dd,null),s.createElement(AL,null),s.createElement(US,null)]}),[]);return s.createElement(nu,{providers:V},s.createElement("div",{"":"root",className:Tl()("Root encore-dark-theme",{"nav-alt":b}),onDrop:Z,onDragOver:j,onDragStart:M,onDragEnd:B},s.createElement(Ik,{message:n.unsupportedBrowser.isOpen?n.unsupportedBrowser.message:null,allowHTML:!0,onClose:r,isNotSupported:!0}),s.createElement(NL,{timeout:500,classNames:"Root__top-container-transition",transitionVisibilitySelector:function(e){return e.isNowPlayingBarVisible},isEnabled:E},s.createElement("div",{className:Tl()("Root__top-container",{"Root__top-container--has-notice-bar":N})},b&&s.createElement(_U,{className:"Root__fixed-top-bar"}),s.createElement("div",{className:"Root__top-bar"},s.createElement(Yv.ZP,{value:"top-bar"},s.createElement(mZ,null))),s.createElement(NL,{timeout:500,classNames:"Root__nav-bar-transition",transitionVisibilitySelector:function(e){return e.isNavBarVisible},unmountOnExit:!0,isEnabled:E},s.createElement("nav",{ref:D,"aria-label":vl.ag.get("sidebar.a11y.landmark-label"),className:Tl()("Root__nav-bar",{"Root__nav-bar--has-notice-bar":N})},s.createElement(Yv.ZP,{value:"nav-bar"},s.createElement(Rw,{ref:T,isAnonymous:m,isBrowser:c})),s.createElement(VP,{elementRef:D}))),s.createElement(NL,{timeout:500,classNames:"Root__now-playing-bar-transition",transitionVisibilitySelector:function(e){return e.isNowPlayingBarVisible},unmountOnExit:!0,isEnabled:E},s.createElement("div",{ref:I,className:"Root__now-playing-bar"},s.createElement(UA,null))),s.createElement("div",{className:"Root__main-view"},s.createElement("div",{className:"main-view-container"},s.createElement("div",{className:"under-main-view"}),s.createElement(CE.U,{className:"main-view-container__scroll-node",ref:function(e){e&&!x.current&&(x.current=e.osInstance().getElements().viewport)},options:{sizeAutoCapable:!1}},!b&&s.createElement("div",{className:"main-view-container__scroll-node-child-spacer"}),s.createElement("div",{ref:L,className:"main-view-container__scroll-node-child",style:{minHeight:"calc(100vh - ".concat(64,"px - ").concat(90,"px - ").concat(519,"px)")}},s.createElement("main",{ref:R,tabIndex:-1},s.createElement(dl.S,{FallbackComponent:function(){return s.createElement(jA,{location:k})},onError:function(e){return(0,Es.vK)(e,"Root")}},y))),O&&s.createElement("div",{className:"main-view-container__mh-footer-container"},s.createElement(bZ,null))),l&&s.createElement(ey,{fullscreenModeRef:P,cinemaModeRef:A,npbVideoAdRef:T,nowPlayingBarRef:I})),t&&h&&s.createElement(Yg,null),u&&s.createElement("div",{className:Tl()("",{"Root__ads-container-desktop--is-hidden":!d})},s.createElement(jg,null)),s.createElement("div",{className:"Root__modal-slot"})),C?s.createElement(NL,{timeout:500,classNames:"BuddyFeed-transition",transitionVisibilitySelector:function(e){return e.isFriendActivityVisible},unmountOnExit:!0,isEnabled:E},s.createElement(_L,null)):null,s.createElement(ay,null))),n.deletePlaylistDialog.isOpen&&s.createElement(Yv.ZP,{value:"delete-playlist-modal"},s.createElement(ih,null)),n.deleteFolderDialog.isOpen&&s.createElement(Yv.ZP,{value:"delete-folder-modal"},s.createElement(eh,null)),n.premiumDialog.isOpen&&s.createElement(Yv.ZP,{value:"premium-modal"},s.createElement(_P,null)),n.loginToListenDialog.isOpen&&s.createElement(Yv.ZP,{value:"login-to-listen-modal"},s.createElement(eE,null)),n.signupToListenDialog.isOpen&&s.createElement(Yv.ZP,{value:"signup-to-listen-modal"},s.createElement(UP,null)),n.employeePodcasts.isModalOpen&&s.createElement(Yv.ZP,{value:"employee-podcasts-modal"},s.createElement(gk,null)),n.improvedSignupPromptDialog.isOpen&&s.createElement(Zy,{uri:n.improvedSignupPromptDialog.uri}),n.removeDownloadsDialog.isOpen&&s.createElement(yZ,null),n.clearCacheDialog.isOpen&&s.createElement(kZ,null),s.createElement(s.Suspense,{fallback:null},s.createElement(Hp,null)),s.createElement(s.Suspense,{fallback:null},s.createElement(vP,null)),s.createElement(Cg.zs,null),s.createElement(uk,null),s.createElement(Lk,null),s.createElement(Au,null),u&&s.createElement(sm,null),s.createElement(im,null),s.createElement(iw,{languageSelectionModalRef:F}),s.createElement(BD,null),s.createElement(Wd,null),s.createElement(dy,null),s.createElement(ly,null),s.createElement(nk,null),s.createElement(vd,null),s.createElement(KP.h,null),s.createElement(ND,null),s.createElement(Xp,null),n.trackCreditsModal.isOpen&&s.createElement(Cm,null),s.createElement("div",{ref:A}),s.createElement("div",{ref:F}),s.createElement(dl.S,{onError:function(e){a(),(0,Es.vK)(e,"FullscreenMode")}},s.createElement(Og,{videoRef:P}))),s.createElement(Am,null))};const wZ="vHbvtIpXBIh8k6KtsdgV",NZ="ijcgJAzQiqn050c200d0";var OZ={small:Eu.D.canon,medium:Eu.D.alto,large:Eu.D.brio,xlarge:Eu.D.forte};const CZ=function(e){var t=e.isSubheader,n=void 0!==t&&t,r=e.size,i=void 0===r?"medium":r,a=e.isCentered,o=void 0!==a&&a,l=e.children,c=Tl()(wZ,(0,E.Z)({},NZ,o));return n?s.createElement(Eu.D,{as:"h2",variant:"cello",semanticColor:"textBase",className:c,dir:"auto"},l):s.createElement(Eu.D,{as:"h1",variant:OZ[i],className:c,semanticColor:"textBase",dir:"auto"},l)};function TZ(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,W.Z)(e);if(t){var i=(0,W.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,G.Z)(this,n)}}var IZ={cdmerror:"https://support.spotify.com/article/web-player-help/?utm_source=open&utm_campaign=drm_error&utm_medium=web"},AZ=function(e){(0,H.Z)(n,e);var t=TZ(n);function n(){return(0,O.Z)(this,n),t.apply(this,arguments)}return(0,C.Z)(n,[{key:"render",value:function(){var e=this.props.errorName,t=void 0!==IZ[e],n={max_subscriptions_reached:{header:vl.ag.get("error-page.header.max_subscriptions_reached"),subtext:vl.ag.get("error-page.subtext.max_subscriptions_reached")},cdmerror:{header:vl.ag.get("error-page.header.cdmerror"),subtext:vl.ag.get("error-page.subtext.cdmerror"),cta:vl.ag.get("error-page.cta.cdmerror")}}[e]||{},r=n.header||"",i=n.subtext||"",a=n.cta||"";return s.createElement("div",{className:"ErrorPage"},s.createElement("div",{className:"ErrorPage__inner"},s.createElement("div",null,s.createElement("img",{alt:"",src:(0,vf.g)("images/devices/mac.png")}),s.createElement(CZ,{size:"medium",isCentered:!0},r),s.createElement(CZ,{isCentered:!0,isSubheader:!0},i),t&&s.createElement(Il.D,{href:IZ[e],target:"_blank"},a))))}}]),n}(s.PureComponent);const PZ=AZ;var DZ=["errorName","showErrorPage","children"];function RZ(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,W.Z)(e);if(t){var i=(0,W.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,G.Z)(this,n)}}var xZ=function(e){(0,H.Z)(n,e);var t=RZ(n);function n(){return(0,O.Z)(this,n),t.apply(this,arguments)}return(0,C.Z)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.history,n=e.onShowS2LModal,r=e.userCountry,i=e.initialiseQuickSilver,a=this.context.getEventSender();hu({history:t,logDialog:function(){a.send(vu({country:r,os:(0,ae.y)()}))},showDialog:n}),i()}},{key:"componentDidUpdate",value:function(){var e=this,t=this.props,n=t.history,r=t.onShowL2LModal,i=t.isPremium,a=this.context.getEventSender();uu({isPremiumUser:i,history:n,logNavigation:function(){return a.send(e.logL2LNavigationEvent())},showDialog:r})}},{key:"logL2LNavigationEvent",value:function(){return(0,cu.t)({category:"open",action:"pageview",label:"login",destination_url:"open.spotify.com",os:(0,ae.y)()})}},{key:"getReachUsableStateHandler",value:function(e){return function(t){e.notifyUsableStateReached(t)}}},{key:"render",value:function(){var e=this,t=this.props,n=t.errorName,r=t.showErrorPage,i=t.children,a=(0,lu.Z)(t,DZ);return r?s.createElement(PZ,{errorName:n}):s.createElement(f.r$.Consumer,null,(function(t){return s.createElement(SZ,(0,su.Z)({},a,{onReachUsableState:e.getReachUsableStateHandler(t)}),i)}))}}]),n}(s.PureComponent);(0,E.Z)(xZ,"contextType",ru.X2);var LZ={onBrowserNotSupported:Us.Id,onClose:Us.lW,onCloseFullscreenMode:Us.oH,onShowL2LModal:Us.HU,onShowS2LModal:Us.D8,initialiseQuickSilver:Us.Oy};const FZ=(0,Bs.EN)((0,Ms.$j)((function(e){var t=!!e.ads.billboard&&e.ads.billboard.isMinimized,n=e.platform.isDesktop?e.ads.root.adsEnabled:e.session.productState&&1===parseInt(e.session.productState.ads,10),r=(0,Nu.Gg)(e).isAnonymous;return{accessTokenIsSet:!!e.session.accessToken,ui:e.ui,billboardMinimized:t,adsEnabled:n,showErrorPage:e.ui.errorPage.isError,errorName:e.ui.errorPage.name,isBrowser:e.platform.isBrowser,isDesktop:e.platform.isDesktop,isAnonymous:r,isPremium:e.session.isPremium,isDeveloperMode:e.platform.isDeveloperMode,isVideoSupported:e.platform.isVideoSupported,userCountry:e.session.userCountry}}),LZ,null,{areStatePropsEqual:function(e,t){return e.accessTokenIsSet===t.accessTokenIsSet&&e.ui===t.ui&&e.isVideoSupported===t.isVideoSupported&&e.showErrorPage===t.showErrorPage&&e.errorName===t.errorName&&e.isDesktop===t.isDesktop&&e.billboardMinimized===t.billboardMinimized&&e.adsEnabled===t.adsEnabled&&e.isAnonymous===t.isAnonymous}})(xZ));var UZ=n(73305),ZZ=n(74414),MZ=n(26700);function BZ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function jZ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?BZ(Object(n),!0).forEach((function(t){(0,E.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):BZ(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var VZ="auth_redirect";function HZ(e,t){return t?"spotify:playlist-format:".concat(e,":").concat(t):"spotify:playlist-format:".concat(e)}var GZ={uri:null,error:null};function WZ(e,t){switch(t.type){case"SUCCESS":return jZ(jZ({},e),{},{uri:t.uri});case"FAILURE":return jZ(jZ({},e),{},{error:t.error});default:throw new Error}}var zZ=function(e){var t,n=e.isAnonymous,i=e.playlistFormatURI,a=(0,s.useContext)(Kc.ZF),o=(0,s.useReducer)(WZ,GZ),l=(0,r.Z)(o,2),c=l[0],u=l[1];if((0,s.useEffect)((function(){n&&window.location.hash!=="#".concat(VZ)?(window.location.hash=VZ,(0,bs.h$)()):a.resolvePlaylistFormatURI(i).then((function(e){return u({type:"SUCCESS",uri:e})})).catch((function(e){return u({type:"FAILURE",error:e})}))}),[a,n,i,u]),null!==c.uri){var m=(t=c.uri,d().from(t).getBase62Id());return s.createElement(ZZ.o,{to:"/playlist/".concat(m)})}return s.createElement(ou.h,{hasError:null!==c.error,errorMessage:vl.ag.get("error.not_found.title.playlist"),timeoutInMs:5e3})},KZ=s.memo((function(e){var t=e.isAnonymous,n=(0,Bs.UO)(),r=n.title,i=n.category;return s.createElement(zZ,{isAnonymous:t,playlistFormatURI:HZ(r,i)})})),YZ=n(95664),qZ=n(58548),QZ=s.lazy((function(){return n.e(9694).then(n.bind(n,25496))})),JZ=s.lazy((function(){return n.e(1997).then(n.bind(n,3305))})),XZ=s.lazy((function(){return Promise.all([n.e(1814),n.e(5392),n.e(3490),n.e(7704)]).then(n.bind(n,69843))})),$Z=s.lazy((function(){return Promise.all([n.e(1814),n.e(5392),n.e(3490),n.e(5070)]).then(n.bind(n,56422))})),eM=function(){var e=(0,Bs.UO)().sectionId;return s.createElement($Z,{uri:"spotify:section:".concat(e)})},tM=n(56607),nM=n(6033),rM=n(81612),iM=n(70842);const aM="NCojxlnWd9fRYXjFnUCz",oM="vBaghfPvaIaBAEvHb12r";var sM=function(e){var t=e.user,n=e.published,r=e.userId,i=(0,rM.w)((null==t?void 0:t.is_current_user)||!1,r).projects,a=null==i?void 0:i.filter((function(e){return n?e.publishingState===iM.H.PUBLISHED:e.publishingState!==iM.H.PUBLISHED}));return t&&a?s.createElement("div",{className:"contentSpacing"},s.createElement("div",{className:aM},s.createElement(Eu.D,{as:"h1",variant:"canon",className:oM},n?vl.ag.get("web-player.soundtrap.published-projects.title"):vl.ag.get("web-player.soundtrap.unpublished-projects.title")),s.createElement(Eu.D,{as:"p",variant:"mesto"},n?vl.ag.get("web-player.soundtrap.published-projects.tagline"):vl.ag.get("web-player.soundtrap.unpublished-projects.tagline"))),s.createElement(nM.M,{data:a,userDisplayName:t.name,isPlayable:n})):null},lM=function(e){var t=e.published,n=(0,Bs.UO)().userId,r=decodeURIComponent(n),i=d().profileURI(r).toURI(),a=(0,vm.J)(Yo.n5.getProfile,[{uri:i}]),o=a.data,l=a.loading,c=a.error;return!o||l?s.createElement(ou.h,{hasError:null!==c,errorMessage:vl.ag.get("error.not_found.title.page")}):s.createElement(sM,{user:o,userId:n,published:t})},cM=s.lazy((function(){return Promise.all([n.e(1814),n.e(5786)]).then(n.bind(n,95562))})),uM=s.lazy((function(){return Promise.all([n.e(1814),n.e(3780)]).then(n.bind(n,57345))})),dM=s.lazy((function(){return n.e(5929).then(n.bind(n,71891))})),mM=function(e){var t=(0,Bs.UO)().projectId;return s.createElement(uM,(0,su.Z)({},e,{key:"make-music-studio-".concat(t)}))},pM=n(13983),fM=n(61737),vM=n(74849),gM=n(28975),hM=s.lazy((function(){return Promise.all([n.e(1814),n.e(8059)]).then(n.bind(n,14784))}));var yM=n(74820);var kM=s.lazy((function(){return n.e(6923).then(n.bind(n,39111))}));function EM(e){return{allShowSponsorsRoute:{isShowSponsorsEnabled:(0,Bd.W6)(vs.$f)}.isShowSponsorsEnabled?s.createElement(Bs.AW,{key:"all-show-sponsors",path:(0,yM.D)(gM.j)},s.createElement(kM,e)):null}}var bM=s.lazy((function(){return Promise.all([n.e(1814),n.e(7699),n.e(2342)]).then(n.bind(n,79870))})),_M=s.lazy((function(){return Promise.all([n.e(1814),n.e(9447),n.e(7699),n.e(8804)]).then(n.bind(n,95487))})),SM=s.lazy((function(){return n.e(730).then(n.bind(n,96268))})),wM=s.lazy((function(){return Promise.all([n.e(1814),n.e(9701),n.e(7699),n.e(4179)]).then(n.bind(n,43868))})),NM=s.lazy((function(){return Promise.all([n.e(1814),n.e(5392),n.e(2499)]).then(n.bind(n,94780))})),OM=s.lazy((function(){return Promise.all([n.e(1814),n.e(3727)]).then(n.bind(n,32594))})),CM=s.lazy((function(){return Promise.all([n.e(1814),n.e(7288)]).then(n.bind(n,27192))})),TM=s.lazy((function(){return Promise.all([n.e(1814),n.e(8387)]).then(n.bind(n,75746))})),IM=s.lazy((function(){return Promise.all([n.e(1814),n.e(6309)]).then(n.bind(n,57099))})),AM=s.lazy((function(){return Promise.all([n.e(1814),n.e(9447),n.e(2307),n.e(7553)]).then(n.bind(n,69003))})),PM=s.lazy((function(){return Promise.all([n.e(1814),n.e(9701),n.e(7667),n.e(1289)]).then(n.bind(n,61112))})),DM=s.lazy((function(){return Promise.all([n.e(1814),n.e(7379)]).then(n.bind(n,22566))})),RM=s.lazy((function(){return Promise.all([n.e(1814),n.e(5835)]).then(n.bind(n,50543))})),xM=s.lazy((function(){return Promise.all([n.e(1814),n.e(5392),n.e(9701),n.e(7667),n.e(4543),n.e(2219)]).then(n.bind(n,34508))})),LM=s.lazy((function(){return Promise.all([n.e(1814),n.e(9447),n.e(2307),n.e(3878)]).then(n.bind(n,8447))})),FM=s.lazy((function(){return n.e(7985).then(n.bind(n,32267))})),UM=s.lazy((function(){return Promise.resolve().then(n.bind(n,56607))})),ZM=s.lazy((function(){return Promise.all([n.e(1814),n.e(5392),n.e(4543),n.e(6450)]).then(n.bind(n,82630))})),MM=s.lazy((function(){return Promise.all([n.e(1814),n.e(9124)]).then(n.bind(n,25409))})),BM=s.lazy((function(){return Promise.all([n.e(1814),n.e(9701),n.e(7667),n.e(376),n.e(5713)]).then(n.bind(n,44024))})),jM=s.lazy((function(){return Promise.all([n.e(1814),n.e(5392),n.e(376),n.e(3472)]).then(n.bind(n,52125))})),VM=s.lazy((function(){return n.e(6008).then(n.bind(n,96027))})),HM=s.lazy((function(){return n.e(6658).then(n.bind(n,62759))})),GM=s.lazy((function(){return Promise.all([n.e(1814),n.e(6025)]).then(n.bind(n,18130))})),WM=s.lazy((function(){return Promise.resolve().then(n.bind(n,52191))})),zM=s.lazy((function(){return Promise.all([n.e(1814),n.e(8123)]).then(n.bind(n,80417))})),KM=s.lazy((function(){return Promise.all([n.e(1814),n.e(8123)]).then(n.bind(n,81070))})),YM=function(e){return(0,Bs.UO)().viewId===tM.RECENTLY_PLAYED_VIEW_ID?s.createElement(UM,(0,su.Z)({},e,{showAll:!0})):s.createElement(ZM,e)},qM=function(){var e=(0,Mc.u)();return s.createElement(Bs.rs,null,s.createElement(MZ.l,{path:"/collection/tracks",pageId:UZ.Wg.COLLECTION_SONGS},s.createElement(AM,null)),s.createElement(MZ.l,{path:"/collection/episodes",pageId:UZ.Wg.COLLECTION_PODCASTS_EPISODES},s.createElement(PM,null)),e.canFetchAllTracks&&s.createElement(MZ.l,{path:"/collection/local-files",pageId:UZ.Wg.LOCALFILES},s.createElement(DM,null)),s.createElement(MZ.l,{navigationalRoot:YZ.U.COLLECTION},s.createElement(IM,null)))},QM=function(e){var t=(0,Bs.UO)().playlistId;return s.createElement(LM,(0,su.Z)({},e,{key:t}))},JM=function(e){var t=(0,Bs.UO)().artistId;return s.createElement(_M,(0,su.Z)({},e,{key:t}))},XM=function(){var e=(0,Bs.TH)().search;return s.createElement(ZZ.o,{exact:!0,from:"/user/:userId/collection",to:{search:e,pathname:"/collection/tracks"}})},$M=function(){var e=(0,LC.r)().settings;return(0,GF.getIsEmployeeDesktopSettings)(e.values)?s.createElement(s.Fragment,null,s.createElement(MZ.l,{path:"/debug/locales"},s.createElement(HM,null))):null},eB=function(){var e=(0,Bs.TH)().pathname.split("/")[1],t=(0,Ms.v9)((function(e){return e.features.enableShows})),n=(0,Ms.v9)((function(e){return e.platform})),r=n.isDesktop,i=n.isBrowser,a=(0,Ms.v9)((function(t){return Boolean((0,dE.LI)(e,Boolean(t.features.enableI18nLocales)))})),o=(0,Ms.v9)(Nu.Gg),l=o.isAnonymous,c=o.productState,u="premium"===(null==c?void 0:c.product),d=!(0,Dm.k)();(0,pM.a)();var m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{allEpisodeSponsorsRoute:(0,vM.m)()?s.createElement(Bs.AW,{key:"all-episode-sponsors",path:(0,fM.e)(gM.yO)},s.createElement(hM,e)):null}}(),p=m.allEpisodeSponsorsRoute,f=EM().allShowSponsorsRoute,v=function(e){var t=e.isDesktop,n=e.isPremium,r=e.isOffline,i=e.withSEOLocales;return[s.createElement(MZ.l,{key:"home",exact:!0,path:"/",navigationalRoot:YZ.U.HOME,pageId:UZ.Wg.HOME,entityUri:"spotify:app:home",render:function(){return s.createElement(s.Fragment,null,s.createElement(LU,null),t&&s.createElement(QZ,null),t&&n&&r&&s.createElement(JZ,null),s.createElement(XZ,null))}}),i?s.createElement(MZ.l,{key:"home-id",exact:!0,path:"/id",navigationalRoot:YZ.U.HOME,pageId:UZ.Wg.HOME,entityUri:"spotify:app:home",render:function(){return s.createElement(s.Fragment,null,s.createElement(LU,null),t&&s.createElement(QZ,null),t&&n&&r&&s.createElement(JZ,null),s.createElement(XZ,null))}}):s.createElement(ZZ.o,{key:"home-id-redirect",exact:!0,from:"/id",to:"/"}),s.createElement(MZ.l,{key:"home-section",path:"/section/:sectionId",pageId:UZ.Wg.HOME_DRILLDOWN,component:eM})]}({isDesktop:r,isPremium:u,isOffline:d,withSEOLocales:a}),g=(0,Bd.W6)(vs.sT,{loadingValue:!1})?[s.createElement(MZ.l,{key:"make-music",path:"/make-music",exact:!0,navigationalRoot:YZ.U.MAKE_MUSIC},s.createElement(cM,null)),s.createElement(MZ.l,{key:"make-music-studio",path:"/make-music/studio/:songId/:projectId",navigationalRoot:YZ.U.MAKE_MUSIC},s.createElement(mM,null)),s.createElement(MZ.l,{key:"profile-unpublished-songs",exact:!0,path:"/user/:userId/soundtrap/unpublished"},s.createElement(lM,{published:!1})),s.createElement(MZ.l,{key:"profile-published-songs",exact:!0,path:"/user/:userId/soundtrap/published"},s.createElement(lM,{published:!0})),s.createElement(MZ.l,{key:"make-music-playlists-overview",path:"/make-music/playlists",navigationalRoot:YZ.U.MAKE_MUSIC},s.createElement(dM,null))]:[s.createElement(ZZ.o,{key:"make-music",exact:!0,from:"/make-music",to:"/"}),s.createElement(ZZ.o,{key:"make-music-studio",exact:!0,from:"/make-music/studio/:projectId",to:"/"}),s.createElement(ZZ.o,{key:"profile-unpublished-songs",exact:!0,from:"/user/:userId/soundtrap/unpublished",to:"/"}),s.createElement(ZZ.o,{key:"profile-published-songs",exact:!0,from:"/user/:userId/soundtrap/published",to:"/"})],h=(0,qZ.y)();return s.createElement(Bs.rs,null,s.createElement(ZZ.o,{exact:!0,from:"/user/:userId/collection/your-episodes",to:"/collection/episodes"}),s.createElement(ZZ.o,{exact:!0,from:"/user/:userId/collection/album/:albumId",to:"/album/:albumId"}),s.createElement(ZZ.o,{exact:!0,from:"/user/:userId/collection/artist/:artistId",to:"/artist/:artistId/saved"}),s.createElement(ZZ.o,{from:"/user/:userId/playlist/:playlistId",to:"/playlist/:playlistId"}),s.createElement(ZZ.o,{exact:!0,from:"/browse/genres",to:"/view/hub-browse-grid"}),s.createElement(ZZ.o,{exact:!0,from:"/browse/newreleases",to:"/view/new-releases-page"}),s.createElement(ZZ.o,{exact:!0,from:"/browse/discover",to:"/view/discover-page"}),s.createElement(ZZ.o,{exact:!0,from:"/browse/featured",to:"/"}),s.createElement(ZZ.o,{exact:!0,from:"/browse",to:"/"}),s.createElement(ZZ.o,{exact:!0,from:"/daily-mix-hub-page",to:"/genre/made-for-x-hub"}),s.createElement(ZZ.o,{exact:!0,from:"/made-for-you-page",to:"/genre/made-for-x-hub"}),s.createElement(ZZ.o,{exact:!0,from:"/made-for-you",to:"/genre/made-for-x-hub"}),s.createElement(ZZ.o,{exact:!0,from:"/internal/recs/playlist/:playlistId",to:"/playlist/:playlistId"}),s.createElement(ZZ.o,{exact:!0,from:"/settings",to:"/"}),l?[s.createElement(ZZ.o,{key:"collection-redirect",exact:!0,from:"/collection/*",to:"/"}),s.createElement(ZZ.o,{key:"made-for-you-redirect",exact:!0,from:"/genre/made-for-x-hub",to:"/"})]:[s.createElement(ZZ.o,{key:"collection-redirect",exact:!0,from:"/collection",to:"/collection/playlists"}),s.createElement(ZZ.o,{key:"charts",from:"/browse/charts",to:"/view/browse-charts-tab"})],v,g,s.createElement(MZ.l,{path:"/user/:userId/collection"},s.createElement(XM,null)),s.createElement(MZ.l,{path:["/search/:query?/:category?","/recent-searches"],navigationalRoot:YZ.U.SEARCH},s.createElement(xM,null)),s.createElement(MZ.l,{path:"/collection"},s.createElement(qM,null)),s.createElement(MZ.l,{path:"/artist/:artistId",component:JM}),s.createElement(MZ.l,{path:"/album/:albumId",pageId:UZ.Wg.ALBUM},s.createElement(bM,null)),s.createElement(MZ.l,{path:"/playlist-format/:title/:category?"},s.createElement(KZ,{isAnonymous:l})),s.createElement(MZ.l,{path:"/track/:trackId",component:i?wM:SM,pageId:UZ.Wg.TRACK}),s.createElement(MZ.l,{path:"/playlist/:playlistId",pageId:UZ.Wg.PLAYLIST},s.createElement(QM,null)),s.createElement(ZZ.o,{exact:!0,from:"/user/:username/folder/:folderId",to:"/folder/:folderId"}),s.createElement(MZ.l,{path:"/folder/:folderId",pageId:UZ.Wg.COLLECTION_FOLDER},s.createElement(MM,null)),s.createElement(MZ.l,{path:"/user/:userId"},s.createElement(NM,null)),h,s.createElement(ZZ.o,{exact:!0,from:"/genre/corona_news_podcasts",to:"/genre/corona_news_podcasts-page"}),s.createElement(MZ.l,{path:"/genre/:viewId",component:YM,pageId:UZ.Wg.GENRE}),s.createElement(MZ.l,{path:"/view/:viewId",component:YM,pageId:UZ.Wg.HOME_DRILLDOWN}),s.createElement(ZZ.o,{exact:!0,from:"/concerts-page",to:"/concerts"}),s.createElement(MZ.l,{path:"/concerts",pageId:UZ.Wg.CONCERTS},s.createElement(RM,null)),s.createElement(MZ.l,{path:"/concert/:concertId",pageId:UZ.Wg.CONCERTS_CONCERT},s.createElement(CM,null)),s.createElement(MZ.l,{path:["/queue","/history"],navigationalRoot:YZ.U.NOW_PLAYING_BAR},s.createElement(OM,null)),s.createElement(MZ.l,{path:"/download",pageId:UZ.Wg.DOWNLOAD_DESKTOP},s.createElement(TM,null)),s.createElement(MZ.l,{path:"/lyrics",pageId:UZ.Wg.LYRICS},s.createElement(iI,null,s.createElement(GM,null))),s.createElement(MZ.l,{key:"preferences",path:"/preferences",pageId:UZ.Wg.SETTINGS,navigationalRoot:YZ.U.SETTINGS},s.createElement(VM,null)),s.createElement(ZZ.o,{exact:!0,from:"/radio/:entity/:id",to:"/station/:entity/:id"}),s.createElement(MZ.l,{path:"/station/:entity/:id",pageId:UZ.Wg.RADIO_STATION},s.createElement(WM,null)),s.createElement(MZ.l,{path:"/new/playlist"},s.createElement(FM,null)),s.createElement(MZ.l,{path:"/blend/taste-match/:invitationId",pageId:UZ.Wg.BLEND_TASTE_MATCH},s.createElement(zM,null)),s.createElement(MZ.l,{path:"/blend/invitation",pageId:UZ.Wg.BLEND_INVITATION},s.createElement(KM,null)),s.createElement(MZ.l,{path:"/blend/invitation-page",pageId:UZ.Wg.BLEND_INVITATION},s.createElement(KM,null)),s.createElement(ZZ.o,{path:"/blend/ci/:playlistId",to:"/playlist/:playlistId"}),s.createElement(MZ.l,{path:"/__noul__(.*)",render:function(e){var t;return s.createElement(ZZ.o,{to:"".concat(null!==(t=e.match.params[0])&&void 0!==t?t:"/").concat(e.location.search)})}}),t?[s.createElement(ZZ.o,{key:"podcasts",exact:!0,from:"/browse/podcasts",to:"/view/podcasts-web"}),f,s.createElement(MZ.l,{key:"show",path:gM.i$,enableUBI:!1},s.createElement(BM,null)),p,s.createElement(MZ.l,{key:"episode",path:gM.yB,enableUBI:!1},s.createElement(jM,null))]:[s.createElement(ZZ.o,{key:"podcasts",exact:!0,from:"/browse/podcasts",to:"/"}),s.createElement(ZZ.o,{key:"show",exact:!0,from:"/show/*",to:"/"}),s.createElement(ZZ.o,{key:"episode",exact:!0,from:"/episode/*",to:"/"})],a?[s.createElement(MZ.l,{key:"locale_track",path:"/:localeFromPath/track/:trackId",component:i?wM:SM,pageId:UZ.Wg.TRACK}),s.createElement(MZ.l,{key:"locale_artist",path:"/:localeFromPath/artist/:artistId",component:JM}),s.createElement(MZ.l,{key:"locale_album",path:"/:localeFromPath/album/:albumId",pageId:UZ.Wg.ALBUM},s.createElement(bM,null))]:[s.createElement(ZZ.o,{key:"locale_homepage",exact:!0,from:"/id",to:"/"}),s.createElement(ZZ.o,{key:"locale_track",exact:!0,from:"/:localeFromPath/track/:trackId",to:"/"}),s.createElement(ZZ.o,{key:"locale_artist",exact:!0,from:"/:localeFromPath/artist/:artistId",to:"/"}),s.createElement(ZZ.o,{key:"locale_album",exact:!0,from:"/:localeFromPath/album/:albumId",to:"/"})],s.createElement($M,null))},tB=s.memo((function(){return s.createElement(FZ,null,s.createElement(s.Suspense,{fallback:s.createElement(ou.h,{hasError:!1,errorMessage:""})},s.createElement(eB,null)))}));const nB=function(e){var t=e.store,n=e.platform,r=new Zs.QueryClient,i=[s.createElement(ml,{queryClient:r}),s.createElement(Fl.IW,null),s.createElement(Hs.VG,null),s.createElement(Js,null),s.createElement(lc.nb,null),s.createElement(oc.ME,null),s.createElement(js.tS,null),s.createElement(ul.du,null),s.createElement(fl.ye,null),s.createElement(Vs.M,null),s.createElement(pl.m9,null)];return s.createElement(Bs.F0,{history:n.getHistory()},s.createElement(dl.S,{onError:function(e){return(0,Es.vK)(e,"App")},FallbackComponent:Ll},s.createElement(Ms.zt,{store:t},s.createElement(au,{platform:n},s.createElement(ic,{eventSender:n.getEventSender()}),s.createElement(nu,{providers:i},s.createElement(jl,null),s.createElement(cl,null),s.createElement(sc,{apiInstance:n.getRecaptchaLoggerAPI()}),s.createElement(tB,null))))))};var rB="POP",iB="PUSH",aB="REPLACE";function oB(e,t){var n=[],r=0;return n.push(e.location),e.listen((function(e,i){i===iB&&(r+=1,n.splice(r),n.push(e)),i===rB&&(r=n.findIndex((function(t){return t.key===e.key}))),i===aB&&n.splice(r,1,e),t(sB(r,n))})),t(sB(r,n)),function(e){if(!e.isBrowserBlockerApplied){e.isBrowserBlockerApplied=!0;var t="";e.block((function(e,n){var r=e.pathname+e.search+e.hash;if(n===iB&&t===r)return!1;t=r}))}}(e),e}function sB(e,t){return{canGoBack:e>0,canGoForward:e<t.length-1}}var lB=function(e){var t=window.matchMedia("(display-mode: standalone)");t.addEventListener?t.addEventListener("change",(function(t){return e(t.matches)})):t.addListener((function(t){return e(t.matches)}))},cB=function(e,t,n){e&&e.mediaSession&&t&&n&&(e.mediaSession.setActionHandler("previoustrack",(function(){return n.skipToPrevious()})),e.mediaSession.setActionHandler("nexttrack",(function(){return n.skipToNext()})),e.mediaSession.setActionHandler("play",(function(){return n.resume()})),e.mediaSession.setActionHandler("pause",(function(){return n.pause()})))},uB=function(e){var t,n;null!==(t=window)&&void 0!==t&&null!==(n=t.performance)&&void 0!==n&&n.mark&&e&&window.performance.mark(e)},dB=function(e,t,n){var r,i,a,o;return null!==(r=window)&&void 0!==r&&null!==(i=r.performance)&&void 0!==i&&i.measure&&null!==(a=window)&&void 0!==a&&null!==(o=a.performance)&&void 0!==o&&o.getEntriesByName&&e&&t&&n?(window.performance.measure(n,e,t),window.performance.getEntriesByName(n)):[]},mB=n(53894);function pB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fB(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pB(Object(n),!0).forEach((function(t){(0,E.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pB(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var vB="sp://connect/v1",gB=function(){function e(t,n){(0,O.Z)(this,e),this.cosmos=t,this.deviceNormalizer=n}var t,n,r,a;return(0,C.Z)(e,[{key:"transferPlayback",value:(a=(0,i.Z)(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.cosmos.post("".concat(vB,"/").concat("transfer"),t));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return a.apply(this,arguments)})},{key:"pullPlayback",value:(r=(0,i.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.cosmos.post("".concat(vB,"/").concat("pull")));case 1:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"discover",value:(n=(0,i.Z)(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.cosmos.post("".concat(vB,"/").concat("discover"),t));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"transfer",value:(t=(0,i.Z)(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return","local_device"===t?this.pullPlayback():this.transferPlayback(t));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"onDevicesUpdate",value:function(e){var t=this;return this.cosmos.sub("".concat(vB),(function(n){var r=n;if(r&&r.devices){if(!r.devices.find((function(e){return e.is_active}))){var i=r.devices.findIndex((function(e){return e.is_self}));if(-1!==i){var a=r.devices[i];r.devices[i]=fB(fB({},a),{},{is_active:!0})}}var o=t.deviceNormalizer(r.devices);e(o)}}),(function(){}),null,{"include-local-device":"1"})}}]),e}(),hB=function(e){var t=e.name,n=e.type,r=e.is_group,i=e.identifier,a=e.volume,o=e.is_active,s=e.is_being_activated,l=e.is_self,c=e.is_disabled,u=e.supports_hifi,d=e.brand_display_name,m=e.model_display_name,p=e.license,f=e.state,v=e.is_local,g=e.is_zeroconf,h=e.is_webapp;return{id:i,name:null!=t?t:"",type:n,is_group:r,version:"core version",volume:a/65535,local:l,metadata:{},is_controllable:!c,is_observable:!c,hidden:!1,is_active:o,is_being_activated:s,hifiSupport:{fullySupported:!(null==u||!u.fully_supported),deviceSupported:!(null==u||!u.device_supported),userEligible:!(null==u||!u.user_eligible)},brand_display_name:d,model_display_name:m,license:p,state:f,is_local_network:v,is_zeroconf:g,is_webapp:h}},yB=function(e){return e.map(hB)},kB=function(){function e(t){(0,O.Z)(this,e),this.connect=t,this.subscriptions=[]}var t,n,r,a;return(0,C.Z)(e,[{key:"onConnectDeviceUpdate",value:function(e){var t=this.connect.onDevicesUpdate(e);this.subscriptions.push(t)}},{key:"transferConnect",value:(a=(0,i.Z)(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.connect.transfer(t);case 2:case"end":return e.stop()}}),e,this)}))),function(e){return a.apply(this,arguments)})},{key:"discoverAllDevices",value:(r=(0,i.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.connect.discover("");case 2:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"discoverAllDevicesOnStart",value:(n=(0,i.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.connect.discover("initial_discovery");case 2:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"release",value:(t=(0,i.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(this.subscriptions.map(function(){var e=(0,i.Z)(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.cancel();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 2:this.subscriptions=[];case 3:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}]),e}();var EB=function(e){return!(e.type===DU.PLAY||e.type===DU.PLAYING)},bB=function(e){return!(e.type===DU.PLAY||e.type===DU.USER_INVESTMENT)},_B=function(e){return function(t){return function(n){return function(r){var i=n(r);switch(r.type){case GU:var a=r.storeAction,o=r.actionIntent;e.storeAction((function(e){return function(e,t){switch(t.type){case DU.PLAY:return[t];case DU.PLAYING:return[].concat((0,N.Z)(e.filter(EB)),[t]);case DU.USER_INVESTMENT:return[].concat((0,N.Z)(e.filter(bB)),[t]);default:return[t]}}(e,{storeAction:a,type:o})}));break;case WU:var s=e.pullAction()||null;t.dispatch({type:"PLAY_AT_FIRST_TAP_HAD_DEFERRED_ACTIONS",had:!!s&&s.length>0}),s&&s.forEach((function(e){var n=e.storeAction;t.dispatch(n)}))}return i}}}},SB=n(84297),wB=("SET_".concat("volumeLogger"),"SET_AUDIO_AD_INFO");function NB(e,t){return t?{enableAudioIfNotAlreadyEnabled:function(){if(!t.getEnabled())return t.enable((function(t){return e.dispatch({type:wB,info:t})}))},disableAudioIfNotAlreadyDisabled:function(){if(t.getEnabled())return t.disable()}}:{}}function OB(e,t,n){var r=t.getEvents();return(0,v.wW)()&&r.addListener(ve.r.VOLUME,(function(e){var t=e.data,n=t.volume;t.isLocal&&SB.gN.logAudioVolume(n)})),function(t){var r=NB(t,e),a=r.enableAudioIfNotAlreadyEnabled,s=r.disableAudioIfNotAlreadyDisabled;return function(t){return function(){var r=(0,i.Z)(o().mark((function r(i){var l;return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:l=t(i),r.t0=i.type,r.next=r.t0===NS.Hp.ADS_ENABLED?4:r.t0===NS.Hp.ADS_DISABLED?6:r.t0===NS.Hp.LOG_NOW_PLAYING_AD_CLICK?8:10;break;case 4:return null==a||a(),r.abrupt("break",11);case 6:return null==s||s(),r.abrupt("break",11);case 8:return Pd(n.getState())&&e.logClick(),r.abrupt("break",11);case 10:return r.abrupt("break",11);case 11:return r.abrupt("return",l);case 12:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()}}}var CB=function(e,t,n){return function(r){return function(a){return function(){var s=(0,i.Z)(o().mark((function i(s){var l,c;return o().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:l=a(s),i.t0=s.type,i.next=i.t0===NS.Hp.ADS_ENABLED?4:i.t0===NS.Hp.ADS_DISABLED?8:i.t0===Ed?11:i.t0===bd?17:i.t0===_d?19:i.t0===Sd?21:i.t0===Nd?23:25;break;case 4:return c={create:function(e){r.dispatch(Od(e))},canShow:function(){var e=n.getState();return!("/"===t.location.pathname)&&!(0,af.CM)(e)&&!Id(e)},isActive:function(){return r.getState().ads.billboard.isOpen},minimize:function(){r.dispatch({type:wd})},destroy:function(){return r.dispatch(Td()),Promise.resolve()}},i.next=7,e.enable(c);case 7:case 10:return i.abrupt("break",25);case 8:return i.next=10,e.disable();case 11:if(!r.getState().ads.sponsoredPlaylist.isVisible){i.next=15;break}return r.dispatch(Td()),i.abrupt("return",Promise.resolve());case 15:return e.minimize(),i.abrupt("break",25);case 17:return e.adClick(),i.abrupt("break",25);case 19:return e.onRender(),i.abrupt("break",25);case 21:return e.onError(),i.abrupt("break",25);case 23:return e.onFinish(),i.abrupt("break",25);case 25:return i.abrupt("return",l);case 26:case"end":return i.stop()}}),i)})));return function(e){return s.apply(this,arguments)}}()}}},TB=n(27328),IB=n(84543),AB=n(93077),PB=n(79638);function DB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function RB(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?DB(Object(n),!0).forEach((function(t){(0,E.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DB(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function xB(e,t,n){return function(r){return function(a){return function(){var s=(0,i.Z)(o().mark((function i(s){var l;return o().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:l=a(s),i.t0=s.type,i.next=i.t0===NS.Hp.ADS_ENABLED?4:i.t0===NS.Hp.ADS_DISABLED||i.t0===Wg?6:i.t0===Vg?8:i.t0===Hg?11:i.t0===TB.vk?13:15;break;case 4:return e.setLoggingFunction((function(i){if(t)e.leaderboardApi.logEvent(i);else{var a=r.getState(),o={username:a.session.user&&a.session.user.id};n.send((0,PB.X)(RB(RB(RB({},i),o),{},{format:i.ad_format})))}})),i.abrupt("break",16);case 6:return e.disableLeaderboard(),i.abrupt("break",16);case 8:return e.setLeaderboardElement(s.element),e.enableLeaderboard(),i.abrupt("break",16);case 11:return e.onNavigationChanged(),i.abrupt("break",16);case 13:return e.onlineStateChanged(s.isOnline),i.abrupt("break",16);case 15:return i.abrupt("break",16);case 16:return i.abrupt("return",l);case 17:case"end":return i.stop()}}),i)})));return function(e){return s.apply(this,arguments)}}()}}}var LB=n(83056);var FB=function(e,t){var n,r;if(!(null===(null==e||null===(n=e.ads)||void 0===n||null===(r=n.vto)||void 0===r?void 0:r.info))&&t&&!t.isPaused){var i=document.getElementsByClassName("VideoPlayer__container")[0];if(i){var a=i.getElementsByTagName("video")[0];a&&a.play&&a.play()}}},UB=function(e,t){e.getState().ads.vto.isMinimized||(e.dispatch(ph()),t.logEvent(ah.W9.COLLAPSED))};function ZB(e,t,n){return n?{enableVideoTakeoverIfNotAlreadyEnabled:function(){if(!n.getEnabled()){var r={onCreated:function(){e.dispatch({type:ch})},onInfo:function(t){e.dispatch(gh(t))},onFirstReady:function(){FB(e.getState(),t.getState())},onStarted:function(){},onEnded:function(){e.dispatch(gh(null)),e.dispatch({type:lh})}};return n.enable(r)}},disableVideoTakeoverIfNotAlreadyDisabled:function(){if(n.getEnabled())return n.disable()}}:{}}var MB=function(e,t){return function(n){var r=ZB(n,t,e),a=r.enableVideoTakeoverIfNotAlreadyEnabled,s=r.disableVideoTakeoverIfNotAlreadyDisabled;return function(r){return function(){var l=(0,i.Z)(o().mark((function i(l){var c;return o().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:c=r(l),i.t0=l.type,i.next=i.t0===NS.Hp.ADS_ENABLED?4:i.t0===NS.Hp.ADS_DISABLED?7:i.t0===uh?10:i.t0===NS.Hp.LOG_NOW_PLAYING_AD_CLICK?13:i.t0===mh?15:i.t0===sh||i.t0===oh?17:19;break;case 4:return i.next=6,null==a?void 0:a();case 6:case 9:return i.abrupt("break",19);case 7:return i.next=9,null==s?void 0:s();case 10:return e.logEvent(l.event),l.event===ah.W9.CLICKED&&UB(n,e),i.abrupt("break",19);case 13:return Ad(t.getState())&&(e.logEvent(ah.W9.CLICKED),UB(n,e)),i.abrupt("break",19);case 15:return UB(n,e),i.abrupt("break",19);case 17:return FB(n.getState(),t.getState()),i.abrupt("break",19);case 19:return i.abrupt("return",c);case 20:case"end":return i.stop()}}),i)})));return function(e){return l.apply(this,arguments)}}()}}},BB="ui.hide_hpto",jB=function(){function e(t,n){(0,O.Z)(this,e),this.cosmosConnector=t,this.prefs=n}var t;return(0,C.Z)(e,[{key:"requestPreviewAd",value:function(e){return this.cosmosConnector.requestPreviewAd(e)}},{key:"subscribeToAdsProductState",value:function(e){return this.cosmosConnector.subscribeToAdsProductState(e)}},{key:"subscribeToPremiumState",value:function(e){return this.cosmosConnector.subscribeToProductState("catalogue",e)}},{key:"fakeSubscribe",value:function(){}},{key:"subscribeToHpto",value:function(e){var t=BB;return this.prefs.sub({key:t},(function(n){var r=n.entries;return e((0,E.Z)({},t,!!r[t].bool))}))}},{key:"hideHpto",value:(t=(0,i.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,this.prefs.set({entries:(0,E.Z)({},"ui.hide_hpto",{bool:!0})});case 3:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}]),e}(),VB=function(){function e(){(0,O.Z)(this,e)}var t;return(0,C.Z)(e,[{key:"requestPreviewAd",value:function(){return Promise.resolve({})}},{key:"subscribeToAdsProductState",value:function(){return{cancel:function(){}}}},{key:"subscribeToPremiumState",value:function(){return{cancel:function(){}}}},{key:"subscribeToHpto",value:function(){return{cancel:function(){}}}},{key:"hideHpto",value:(t=(0,i.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),function(){return t.apply(this,arguments)})},{key:"fakeSubscribe",value:function(e,t){e(t)}}]),e}(),HB=n(15388),GB={subscription:void 0};function WB(e){var t,n=null!==(t=null==e?void 0:e.item)&&void 0!==t?t:void 0;return(0,Te.iw)(n)?"audio"===n.mediaType||"mixed"===n.mediaType:!!(0,Te.k6)(n)&&n.isPodcastAd}function zB(e){var t=e.rootApi,n=e.store,r=e.adManagers,a=e.isDesktop,s=e.playerAPI,l=e.toggleAdManagers,c=void 0===l?function(e){var t=e.store,n=e.adManagers,r=e.isDesktop,i=e.playerAPI;return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=e.adsEnabled,o=void 0===a?t.getState().ads.root.adsEnabled:a,s=e.playerState,l=void 0===s?i.getState():s,c=e.isPodcastContent,u=void 0===c?WB(l):c;o!==t.getState().ads.root.adsEnabled&&t.dispatch((o?NS.jj:NS.Iq)());var d=ZB(t,i,null==n?void 0:n.vto.manager),m=d.enableVideoTakeoverIfNotAlreadyEnabled,p=d.disableVideoTakeoverIfNotAlreadyDisabled,f=NB(t,null==n?void 0:n.audio),v=f.enableAudioIfNotAlreadyEnabled,g=f.disableAudioIfNotAlreadyDisabled;return Promise.all(r&&(u||o)?[null==m?void 0:m(),null==v?void 0:v()]:[null==p?void 0:p(),null==g?void 0:g()])}}({store:n,adManagers:r,isDesktop:a,playerAPI:s}):l;function u(){return d.apply(this,arguments)}function d(){return d=(0,i.Z)(o().mark((function e(){var t,n,r,i,a,l=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=l.length>0&&void 0!==l[0]?l[0]:{},n=t.playerState,r=void 0===n?s.getState():n,i=t.isPodcastContent,a=void 0===i?WB(r):i,e.next=3,c({playerState:r,isPodcastContent:a});case 3:return e.abrupt("return",(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=t[0].ads,o="1"===i;return c({adsEnabled:o,playerState:r,isPodcastContent:a})}));case 4:case"end":return e.stop()}}),e)}))),d.apply(this,arguments)}var m=WB(s.getState());function p(){return(p=(0,i.Z)(o().mark((function e(n){var r,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=WB(n),null!==n&&m===r){e.next=9;break}return m=r,null===(i=GB.subscription)||void 0===i||i.cancel(),e.t0=t,e.next=7,u({playerState:n,isPodcastContent:r});case 7:return e.t1=e.sent,e.abrupt("return",GB.subscription=e.t0.subscribeToAdsProductState.call(e.t0,e.t1));case 9:return e.abrupt("return",GB.subscription);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return{handleAdsProductState:u,activateAdsProductStateSubscription:function(e){return p.apply(this,arguments)}}}var KB,YB,qB=function(e){var t=e.history,n=e.blockedPaths,r=e.rootApi,a=e.adManagers,s=e.isDesktop,l=e.playerAPI;return function(e){var c=zB({rootApi:r,store:e,adManagers:a,isDesktop:s,playerAPI:l}),u=c.handleAdsProductState,d=c.activateAdsProductStateSubscription;return l.getEvents().addListener(Ie.rg.UPDATE,function(){var e=(0,i.Z)(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.data,e.next=3,d(n);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),function(a){return function(){var s=(0,i.Z)(o().mark((function i(s){var c,m,p,f,v,g,h,y;return o().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:i.t0=s.type,i.next=i.t0===pd.VX?3:i.t0===HB.e?6:13;break;case 3:return i.next=5,d(null);case 5:return i.abrupt("break",13);case 6:return i.t1=r,i.next=9,u();case 9:return i.t2=i.sent,i.t3=s.data,i.t1.fakeSubscribe.call(i.t1,i.t2,i.t3),i.abrupt("break",13);case 13:if(c=a(s),(m=e.getState()).ads.root.adsEnabled){i.next=17;break}return i.abrupt("return",c);case 17:p=m.platform.isDesktop,f=p&&m.ads.billboard.isOpen,v=m.ads.sponsoredPlaylist.isVisible,g=n.includes(t.location.pathname),h=m.ads.leaderboard.isEnabled,y=m.ui.videoPlayer.mode===Pv.cinema,g||Id(l.getState())?(f&&e.dispatch(Cd()),h&&e.dispatch(zg())):!p||h||f||v||y||e.dispatch({type:Gg}),i.t4=s.type,i.next=i.t4===Dv.SET_VIDEO_MODE?27:i.t4===yd?29:i.t4===LB.hk?31:i.t4===AB.Hp.HPTO_PREVIEW_HOME_NAVIGATION?34:37;break;case 27:return s.mode===Pv.cinema&&e.dispatch(zg()),i.abrupt("break",37);case 29:return e.dispatch(zg()),i.abrupt("break",37);case 31:return e.dispatch(zg()),e.dispatch(Cd()),i.abrupt("break",37);case 34:return"/"===t.location.pathname||t.push("/"),i.abrupt("break",37);case 37:return i.abrupt("return",c);case 38:case"end":return i.stop()}}),i)})));return function(e){return s.apply(this,arguments)}}()}}},QB=n(54125),JB=function(e){var t=e.rootApi;return function(e){return function(n){return function(){var r=(0,i.Z)(o().mark((function r(a){var s;return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:s=n(a),r.t0=a.type,r.next=r.t0===pd.VX?4:r.t0===NS.Hp.ADS_POST_HIDE_HPTO?8:r.t0===HB.e?10:r.t0===NS.Hp.TRIGGER_PREVIEW_AD?12:14;break;case 4:return(0,v.ZO)()===g.W.Desktop&&(0,QB.f)({_debugForceRefreshHpto:function(){return e.dispatch((0,AB.kH)())},overrideSponsoredPlaylistEndpoint:function(){return e.dispatch((0,LB.z8)())}}),KB||(KB=t.subscribeToPremiumState(function(){var t=(0,i.Z)(o().mark((function t(n){var r,i;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=n.catalogue,i="premium"===r,e.dispatch((0,NS.tv)(i));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),YB||(YB=t.subscribeToHpto((function(t){return e.dispatch((0,NS.Ru)(t["ui.hide_hpto"]))}))),r.abrupt("break",14);case 8:return t.hideHpto(),r.abrupt("break",14);case 10:return t.fakeSubscribe(function(){var t=(0,i.Z)(o().mark((function t(n){var r,i;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=n.catalogue,i="premium"===r,e.dispatch((0,NS.tv)(i)),e.dispatch((0,NS.Ru)(!1));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),a.data),r.abrupt("break",14);case 12:return t.requestPreviewAd(a.adUriHexId),r.abrupt("break",14);case 14:return r.abrupt("return",s);case 15:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()}}};function XB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $B(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?XB(Object(n),!0).forEach((function(t){(0,E.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XB(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ej={info:null},tj=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ej,t=arguments.length>1?arguments[1]:void 0;return t.type===wB?$B($B({},e),{},{info:t.info}):e};function nj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function rj(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nj(Object(n),!0).forEach((function(t){(0,E.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nj(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ij={isOpen:!1,imageLoaded:!1,isMinimized:!1,data:{}},aj=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ij,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case yd:var n=t.data,r=null;if(n){var i=n.ad.metadata||{};switch(r={id:n.ad.id,isAdaptive:!1,clickUrl:n.ad.click_url,mediaSrc:"",isValid:!0,accountUpgradeTracking:i.accountUpgradeTracking,accountUpgrade:i.accountUpgrade,creativeId:i.creative_id,lineItemId:i.lineitem_id,dummy:n.ad.dummy,companionSrc:"",isPreview:"true"===i.is_preview},n.format){case"banner":r.companionSrc=n.ad.companion_ad&&n.ad.companion_ad.url||"",r.mediaSrc=n.ad.images&&n.ad.images[0]&&n.ad.images[0].url||"";break;case"dummy":break;default:r.isValid=!1}}return rj(rj({},e),{},{isOpen:!0,data:r});case kd:return rj(rj({},e),{},{isOpen:!1,isMinimized:!1,imageLoaded:!1});case _d:return rj(rj({},e),{},{imageLoaded:!0});case wd:case Ed:return rj(rj({},e),{},{isMinimized:!0});default:return e}};function oj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function sj(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oj(Object(n),!0).forEach((function(t){(0,E.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oj(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var lj={hptoEnabled:!1,template:null,creative:null,preview:null,creativeFetchingState:IB.Y.NOT_FETCHING,hptoContainerMounted:!1},cj=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lj,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case NS.Hp.ADS_ENABLED:return sj(sj({},e),{},{hptoEnabled:!0});case AB.Hp.HPTO_CONTAINER_MOUNTED:return sj(sj({},e),{},{hptoContainerMounted:!0});case AB.Hp.HPTO_COMPONENT_UNMOUNTED:return sj(sj({},e),{},{preview:null,creativeFetchingState:IB.Y.NOT_FETCHING});case AB.Hp.HPTO_CONTAINER_UNMOUNTED:return sj(sj({},e),{},{hptoContainerMounted:!1});case AB.Hp.GOT_TEMPLATE:return sj(sj({},e),{},{template:t.data});case AB.Hp.SET_HPTO_PREVIEW:return sj(sj({},e),{},{preview:t.data});case AB.Hp.GOT_CREATIVE:return sj(sj({},e),{},{creative:t.data,creativeFetchingState:IB.Y.FETCHED});case AB.Hp.FETCHING_CREATIVE:return sj(sj({},e),{},{creativeFetchingState:IB.Y.FETCHING});case AB.Hp.CREATIVE_FETCH_FAILED:return sj(sj({},e),{},{creativeFetchingState:IB.Y.FAILED});default:return e}};function uj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function dj(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?uj(Object(n),!0).forEach((function(t){(0,E.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uj(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var mj={isEnabled:!1};function pj(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mj,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Gg:return dj(dj({},e),{},{isEnabled:!0});case Wg:return dj(dj({},e),{},{isEnabled:!1});default:return e}}function fj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vj(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fj(Object(n),!0).forEach((function(t){(0,E.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fj(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var gj={sponsoredPlaylist:new Map,isVisible:!1,previewAd:null};function hj(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gj,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case LB.i7:return yj(e,t);case LB.mr:return kj(e,t);case LB.hk:return vj(vj({},e),{},{isVisible:!0});case LB.IP:return vj(vj({},e),{},{isVisible:!1});case LB.bQ:return vj(vj({},e),{},{previewAd:t.previewAd});default:return e}}function yj(e,t){return vj(vj({},e),{},{sponsoredPlaylist:e.sponsoredPlaylist.set("allSponsorships",t.sponsorships)})}function kj(e,t){return vj(vj({},e),{},{sponsoredPlaylist:e.sponsoredPlaylist.set(t.playlistUri,t.ad)})}function Ej(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function bj(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ej(Object(n),!0).forEach((function(t){(0,E.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ej(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var _j={isMinimized:!1,isHidden:!0,info:null},Sj=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case oh:return bj(bj({},e),{},{isMinimized:!0});case sh:return bj(bj({},e),{},{isMinimized:!1});case lh:return bj(bj({},e),{},{isHidden:!0});case ch:return bj(bj({},e),{},{isHidden:!1});case dh:return bj(bj({},e),{},{info:t.info});default:return e}};function wj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Nj(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wj(Object(n),!0).forEach((function(t){(0,E.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wj(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Oj={adsEnabled:!1,isPremium:!1,isHptoHidden:!0},Cj=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oj,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case NS.Hp.ADS_ENABLED:return Nj(Nj({},e),{},{adsEnabled:!0});case NS.Hp.ADS_DISABLED:return Nj(Nj({},e),{},{adsEnabled:!1});case NS.Hp.ADS_PREMIUM:return Nj(Nj({},e),{},{isPremium:!!t.isPremium});case NS.Hp.ADS_HPTO_HIDDEN:return Nj(Nj({},e),{},{isHptoHidden:!!t.isHptoHidden});default:return e}};function Tj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Ij=function(e){return(0,ZN.UY)(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Tj(Object(n),!0).forEach((function(t){(0,E.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tj(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({sponsoredPlaylist:hj,leaderboard:pj,root:Cj},e===g.W.Desktop?{billboard:aj,hpto:cj,vto:Sj,audio:tj}:{}))},Aj=n(74873);const Pj=JSON.parse('{"spotify:genre:browse-charts-tab":{"backgroundColor":"#8D67AB","imageURI":"https://charts-images.scdn.co/assets/locale_en/regional/weekly/region_global_default.jpg","page":"browse-charts-tab","uri":"spotify:genre:browse-charts-tab"},"spotify:concerts":{"backgroundColor":"#7358FF","imageURI":"https://concerts.spotifycdn.com/images/live-events_category-image.jpg","page":"concerts","uri":"spotify:concerts"},"spotify:genre:2018-page":{"backgroundColor":"#b49bc8","imageURI":"https://t.scdn.co/images/5f16ac10ba584516bc9dea719669b22d.jpeg","page":"2018-page","uri":"spotify:genre:2018-page"},"spotify:genre:2019-page":{"backgroundColor":"#f037a5","imageURI":"https://t.scdn.co/images/045289258446455ab2ca810385f38f77.jpeg","page":"2019-page","uri":"spotify:genre:2019-page"},"spotify:genre:afro-page":{"backgroundColor":"#AF2896","imageURI":"https://i.scdn.co/image/ab67706f0000000293c88c83bcb12b0800281074","page":"afro-page","uri":"spotify:genre:afro-page"},"spotify:genre:amplify-page":{"backgroundColor":"#eb1e32","imageURI":"https://t.scdn.co/images/541c4204fc3c4c2eb70a5fd433c1f778.jpeg","page":"amplify-page","uri":"spotify:genre:amplify-page"},"spotify:genre:arab-page":{"backgroundColor":"#0D73EC","imageURI":"https://i.scdn.co/image/ab67706f000000020c0c507103ed7577e21419f8","page":"arab-page","uri":"spotify:genre:arab-page"},"spotify:genre:arabic-page":{"backgroundColor":"#509bf5","imageURI":"https://t.scdn.co/images/47d9e28592b64a95a60bdbe9ae7fb2c8.jpeg","page":"arabic-page","uri":"spotify:genre:arabic-page"},"spotify:genre:artist_playlists-page":{"backgroundColor":"#1e3264","imageURI":"https://t.scdn.co/images/dbea9fc5c21648fe92ca4b1680f8281b.jpeg","page":"artist_playlists-page","uri":"spotify:genre:artist_playlists-page"},"spotify:genre:arts_entertainment_v2_podcast-page":{"backgroundColor":"#b49bc8","page":"arts_entertainment_v2_podcast-page","uri":"spotify:genre:arts_entertainment_v2_podcast-page"},"spotify:genre:audiobooks-page":{"backgroundColor":"#a0c3d2","imageURI":"https://t.scdn.co/images/d12a63c60f524516b892974cedac2a67.jpeg","page":"audiobooks-page","uri":"spotify:genre:audiobooks-page"},"spotify:genre:blackhistorymonth-page":{"backgroundColor":"#f59b23","imageURI":"https://t.scdn.co/images/cfe7acd7b6624762af294483e0915275.jpeg","page":"blackhistorymonth-page","uri":"spotify:genre:blackhistorymonth-page"},"spotify:genre:blues-page":{"backgroundColor":"#1E3264","imageURI":"https://i.scdn.co/image/ab67706f0000000285c3e89f02770deb7691451c","page":"blues-page","uri":"spotify:genre:blues-page"},"spotify:genre:bollywood-page":{"backgroundColor":"#ff4632","imageURI":"https://t.scdn.co/images/29d2df7525b64ed49889c93d06c9e83b.jpeg","page":"bollywood-page","uri":"spotify:genre:bollywood-page"},"spotify:genre:brazilian-page":{"backgroundColor":"#ffc864","imageURI":"https://t.scdn.co/images/f0dd678dd57645159dc42c106e93b9ca.jpeg","page":"brazilian-page","uri":"spotify:genre:brazilian-page"},"spotify:genre:business_technology_v2_podcast-page":{"backgroundColor":"#ff4632","page":"business_technology_v2_podcast-page","uri":"spotify:genre:business_technology_v2_podcast-page"},"spotify:genre:cantopop-page":{"backgroundColor":"#b49bc8","imageURI":"https://t.scdn.co/images/20768b9d093d4e26aa1335e7a84a782d.jpeg","page":"cantopop-page","uri":"spotify:genre:cantopop-page"},"spotify:genre:chill-page":{"backgroundColor":"#477D95","imageURI":"https://i.scdn.co/image/ab67706f00000002c414e7daf34690c9f983f76e","page":"chill-page","uri":"spotify:genre:chill-page"},"spotify:genre:classical-page":{"backgroundColor":"#8D67AB","imageURI":"https://i.scdn.co/image/ab67706f000000023e0130fcd5d106f1402b4707","page":"classical-page","uri":"spotify:genre:classical-page"},"spotify:genre:colombian-page":{"backgroundColor":"#ff6437","imageURI":"https://t.scdn.co/images/1d06bf244b1943d6a3f3dd53086a9ac6.jpeg","page":"colombian-page","uri":"spotify:genre:colombian-page"},"spotify:genre:comedy-page":{"backgroundColor":"#f037a5","imageURI":"https://t.scdn.co/images/6ea6d5fe357f437ca579cb52c2120aec.jpeg","page":"comedy-page","uri":"spotify:genre:comedy-page"},"spotify:genre:comedy_v2_podcast-page":{"backgroundColor":"#af2896","page":"comedy_v2_podcast-page","uri":"spotify:genre:comedy_v2_podcast-page"},"spotify:genre:country-page":{"backgroundColor":"#E13300","imageURI":"https://i.scdn.co/image/ab67706f00000002a980b152e708b33c6516d848","page":"country-page","uri":"spotify:genre:country-page"},"spotify:genre:danish-page":{"backgroundColor":"#006450","imageURI":"https://t.scdn.co/images/2e04c55407984a579daf147e7cf02bc3.jpeg","page":"danish-page","uri":"spotify:genre:danish-page"},"spotify:genre:dansband-page":{"backgroundColor":"#8c1932","imageURI":"https://t.scdn.co/images/539855dca17c4d4b81338d42a2dc4c0f.jpeg","page":"dansband-page","uri":"spotify:genre:dansband-page"},"spotify:genre:decades-page":{"backgroundColor":"#BA5D07","imageURI":"https://t.scdn.co/images/4c8b58ab42b54296ad5379514d36edac","page":"decades-page","uri":"spotify:genre:decades-page"},"spotify:genre:desi-page":{"backgroundColor":"#E13300","imageURI":"https://i.scdn.co/image/ab67706f00000002cc485e3902f426d5d3e21558","page":"desi-page","uri":"spotify:genre:desi-page"},"spotify:genre:dinner-page":{"backgroundColor":"#BA5D07","imageURI":"https://i.scdn.co/image/ab67706f000000025a051b0271d3e98edfdc4c09","page":"dinner-page","uri":"spotify:genre:dinner-page"},"spotify:genre:discover-page":{"backgroundColor":"#8D67AB","imageURI":"https://t.scdn.co/images/d0fb2ab104dc4846bdc56d72b0b0d785.jpeg","page":"discover-page","uri":"spotify:genre:discover-page"},"spotify:genre:dutch-page":{"backgroundColor":"#ff4632","imageURI":"https://t.scdn.co/images/d968dc9c903b41758a9af78f3e1c8c0e.jpeg","page":"dutch-page","uri":"spotify:genre:dutch-page"},"spotify:genre:edm_dance-page":{"backgroundColor":"#DC148C","imageURI":"https://i.scdn.co/image/ab67706f000000020377baccf69ede3cf1a26eff","page":"edm_dance-page","uri":"spotify:genre:edm_dance-page"},"spotify:genre:educational_v2_podcast-page":{"backgroundColor":"#a0c3d2","page":"educational_v2_podcast-page","uri":"spotify:genre:educational_v2_podcast-page"},"spotify:genre:ellen-page":{"backgroundColor":"#509bf5","imageURI":"https://t.scdn.co/images/ea580b7dfc584f7183037fe66d743817.jpeg","page":"ellen-page","uri":"spotify:genre:ellen-page"},"spotify:genre:family-page":{"backgroundColor":"#af2896","imageURI":"https://t.scdn.co/images/f4393ac2106e4583ac86e2ddd7ae827d.jpeg","page":"family-page","uri":"spotify:genre:family-page"},"spotify:genre:festivals-page":{"backgroundColor":"#1e3264","imageURI":"https://t.scdn.co/images/8cee887fed054786b8b5d57f80af68ab.jpeg","page":"festivals-page","uri":"spotify:genre:festivals-page"},"spotify:genre:focus-page":{"backgroundColor":"#503750","imageURI":"https://i.scdn.co/image/ab67706f00000002e4eadd417a05b2546e866934","page":"focus-page","uri":"spotify:genre:focus-page"},"spotify:genre:francophone-page":{"backgroundColor":"#a0c3d2","imageURI":"https://t.scdn.co/images/e825b23138f7416589d60dc6d2de3e52.jpeg","page":"francophone-page","uri":"spotify:genre:francophone-page"},"spotify:genre:french_variety-page":{"backgroundColor":"#2d46b9","imageURI":"https://t.scdn.co/images/ab71e150e8ac4c179fdcef7267e5453b.jpeg","page":"french_variety-page","uri":"spotify:genre:french_variety-page"},"spotify:genre:funk-page":{"backgroundColor":"#E61E32","imageURI":"https://i.scdn.co/image/ab67706f00000002f16913f0326b9d44bf78fc88","page":"funk-page","uri":"spotify:genre:funk-page"},"spotify:genre:funkbrazil-page":{"backgroundColor":"#2d46b9","imageURI":"https://t.scdn.co/images/d0462afda39e48d4bcb28d6f4802c322.jpeg","page":"funkbrazil-page","uri":"spotify:genre:funkbrazil-page"},"spotify:genre:games_v2_podcast-page":{"backgroundColor":"#509bf5","page":"games_v2_podcast-page","uri":"spotify:genre:games_v2_podcast-page"},"spotify:genre:gaming-page":{"backgroundColor":"#E8115B","imageURI":"https://i.scdn.co/image/ab67706f0000000221a2087747d946f16704b8af","page":"gaming-page","uri":"spotify:genre:gaming-page"},"spotify:genre:hiphop-page":{"backgroundColor":"#ba5d07","imageURI":"https://i.scdn.co/image/ab67706f000000029bb6af539d072de34548d15c","page":"hiphop-page","uri":"spotify:genre:hiphop-page"},"spotify:genre:holidays-page":{"backgroundColor":"#8c1932","imageURI":"https://t.scdn.co/images/8095bb75a61e4623906cb847ae87d9da.jpeg","page":"holidays-page","uri":"spotify:genre:holidays-page"},"spotify:genre:indie_alt-page":{"backgroundColor":"#608108","imageURI":"https://i.scdn.co/image/ab67706f000000025f7327d3fdc71af27917adba","page":"indie_alt-page","uri":"spotify:genre:indie_alt-page"},"spotify:genre:inspirational-page":{"backgroundColor":"#509bf5","imageURI":"https://t.scdn.co/images/393d33c09d7c4142a40fb9bad4852cab.jpeg","page":"inspirational-page","uri":"spotify:genre:inspirational-page"},"spotify:genre:j_tracks-page":{"backgroundColor":"#af2896","imageURI":"https://t.scdn.co/images/1ecbe139948f4144a78971bf5004e1ef.jpeg","page":"j_tracks-page","uri":"spotify:genre:j_tracks-page"},"spotify:genre:jazz-page":{"backgroundColor":"#1E3264","imageURI":"https://i.scdn.co/image/ab67706f00000002d72ef75e14ca6f60ea2364c2","page":"jazz-page","uri":"spotify:genre:jazz-page"},"spotify:genre:karaoke-page":{"backgroundColor":"#ff6437","imageURI":"https://t.scdn.co/images/4f2d757d1c8a4eab80008e9058d0e129.jpeg","page":"karaoke-page","uri":"spotify:genre:karaoke-page"},"spotify:genre:khaleeji-page":{"backgroundColor":"#8c1932","imageURI":"https://t.scdn.co/images/6592b80e053e46af83e46c91cd07c6e6.jpeg","page":"khaleeji-page","uri":"spotify:genre:khaleeji-page"},"spotify:genre:kids-page":{"backgroundColor":"#AF2896","imageURI":"https://i.scdn.co/image/ab67706f000000023b4d1bd8fc061c7b1cb33cb1","page":"kids-page","uri":"spotify:genre:kids-page"},"spotify:genre:kids_family_v2_podcast-page":{"backgroundColor":"#ffc864","page":"kids_family_v2_podcast-page","uri":"spotify:genre:kids_family_v2_podcast-page"},"spotify:genre:kpop-page":{"backgroundColor":"#148A08","imageURI":"https://i.scdn.co/image/ab67706f00000002978b9f4a4f40b430fd0d837e","page":"kpop-page","uri":"spotify:genre:kpop-page"},"spotify:genre:latin-page":{"backgroundColor":"#e1118b","imageURI":"https://t.scdn.co/images/6a48e36b373a4d879a9340076db03a7b","page":"latin-page","uri":"spotify:genre:latin-page"},"spotify:genre:latin_moods-page":{"backgroundColor":"#509bf5","imageURI":"https://t.scdn.co/images/535aeb8b65bf4278bde1b37880f63d48.jpeg","page":"latin_moods-page","uri":"spotify:genre:latin_moods-page"},"spotify:genre:latin_pop_page-page":{"backgroundColor":"#c3f0c8","imageURI":"https://t.scdn.co/images/f576cc1c0d284a3f9decd45cc9c0e332.jpeg","page":"latin_pop_page-page","uri":"spotify:genre:latin_pop_page-page"},"spotify:genre:latin_rock_indie-page":{"backgroundColor":"#eb1e32","imageURI":"https://t.scdn.co/images/e2eae19f603a42cd847adfbdd87ec68b.jpeg","page":"latin_rock_indie-page","uri":"spotify:genre:latin_rock_indie-page"},"spotify:genre:latin_tropical-page":{"backgroundColor":"#ff6437","imageURI":"https://t.scdn.co/images/b7d701904a634d059d36afd4910cc53e.jpeg","page":"latin_tropical-page","uri":"spotify:genre:latin_tropical-page"},"spotify:genre:latin_urban_page-page":{"backgroundColor":"#ffc864","imageURI":"https://t.scdn.co/images/b951da0b1d754316b3f65a70a8a5820b.jpeg","page":"latin_urban_page-page","uri":"spotify:genre:latin_urban_page-page"},"spotify:genre:lifestyle_health_v2_podcast-page":{"backgroundColor":"#f573a0","page":"lifestyle_health_v2_podcast-page","uri":"spotify:genre:lifestyle_health_v2_podcast-page"},"spotify:genre:listening_together-page":{"backgroundColor":"#a0c3d2","imageURI":"https://t.scdn.co/images/ae860aa5e8d24786ab5f1842fd9e1aea.jpeg","page":"listening_together-page","uri":"spotify:genre:listening_together-page"},"spotify:genre:malaypop-page":{"backgroundColor":"#c3f0c8","imageURI":"https://t.scdn.co/images/9916ca60858f4f4497657e7aaa53195d.jpeg","page":"malaypop-page","uri":"spotify:genre:malaypop-page"},"spotify:genre:mandopop-page":{"backgroundColor":"#a0c3d2","imageURI":"https://t.scdn.co/images/a0feab8b3bd64d2a876e0f57be244bc4.jpeg","page":"mandopop-page","uri":"spotify:genre:mandopop-page"},"spotify:genre:metal-page":{"backgroundColor":"#777777","imageURI":"https://i.scdn.co/image/ab67706f0000000285704160b49125ac95099ec8","page":"metal-page","uri":"spotify:genre:metal-page"},"spotify:genre:mexican-page":{"backgroundColor":"#006450","imageURI":"https://t.scdn.co/images/950aa388f0b84e88a71abc111894c85e.jpeg","page":"mexican-page","uri":"spotify:genre:mexican-page"},"spotify:genre:mood-page":{"backgroundColor":"#8D67AB","imageURI":"https://i.scdn.co/image/ab67706f00000002aa93fe4e8c2d24fc62556cba","page":"mood-page","uri":"spotify:genre:mood-page"},"spotify:genre:music_v2_podcast-page":{"backgroundColor":"#af2896","page":"music_v2_podcast-page","uri":"spotify:genre:music_v2_podcast-page"},"spotify:genre:new-releases-page":{"backgroundColor":"#E8115B","imageURI":"https://i.scdn.co/image/ab67706f000000027ea4d505212b9de1f72c5112","page":"new_releases-page","uri":"spotify:genre:new-releases-page"},"spotify:genre:news_politics_v2_podcast-page":{"backgroundColor":"#4b917d","page":"news_politics_v2_podcast-page","uri":"spotify:genre:news_politics_v2_podcast-page"},"spotify:genre:opm-page":{"backgroundColor":"#f573a0","imageURI":"https://t.scdn.co/images/fc0e34ef07ee494a81548532c90193d9.jpeg","page":"opm-page","uri":"spotify:genre:opm-page"},"spotify:genre:party-page":{"backgroundColor":"#AF2896","imageURI":"https://i.scdn.co/image/ab67706f00000002caa115cbdb8cd3d39d67cdc0","page":"party-page","uri":"spotify:genre:party-page"},"spotify:genre:podcasts-web":{"backgroundColor":"#27856A","imageURI":"https://i.scdn.co/image/567158eb895ad26718a814345af0fc43ee785ec5","page":"podcasts-web","uri":"spotify:genre:podcasts-web"},"spotify:genre:pop-page":{"backgroundColor":"#8D67AB","imageURI":"https://t.scdn.co/images/0a74d96e091a495bb09c0d83210910c3","page":"pop-page","uri":"spotify:genre:pop-page"},"spotify:genre:popculture-page":{"backgroundColor":"#f59b23","imageURI":"https://t.scdn.co/images/21a2ccde5f5c42b0858600a19153ce8d.jpeg","page":"popculture-page","uri":"spotify:genre:popculture-page"},"spotify:genre:popindo-page":{"backgroundColor":"#509bf5","imageURI":"https://t.scdn.co/images/a141533c15e746b0989040e6a59488dd.jpeg","page":"popindo-page","uri":"spotify:genre:popindo-page"},"spotify:genre:pride-page":{"backgroundColor":"#509bf5","imageURI":"https://t.scdn.co/images/c9a01586687a45a78c56d9be5aed3c79.jpeg","page":"pride-page","uri":"spotify:genre:pride-page"},"spotify:genre:punjabi-page":{"backgroundColor":"#af2896","imageURI":"https://t.scdn.co/images/fc525ffce9f74e0792b9438ae541a5b1.jpeg","page":"punjabi-page","uri":"spotify:genre:punjabi-page"},"spotify:genre:punk-page":{"backgroundColor":"#1E3264","imageURI":"https://i.scdn.co/image/ab67706f0000000275251d7d488b0fd69e4c50bd","page":"punk-page","uri":"spotify:genre:punk-page"},"spotify:genre:reggae-page":{"backgroundColor":"#006450","imageURI":"https://t.scdn.co/images/46e47036f0ae4608a61c68b65750610f.jpeg","page":"reggae-page","uri":"spotify:genre:reggae-page"},"spotify:genre:rnb-page":{"backgroundColor":"#DC148C","imageURI":"https://i.scdn.co/image/ab67706f000000023c5a4aaf5df054a9beeb3d82","page":"rnb-page","uri":"spotify:genre:rnb-page"},"spotify:genre:rock-page":{"backgroundColor":"#E61E32","imageURI":"https://i.scdn.co/image/ab67706f00000002fe6d8d1019d5b302213e3730","page":"rock-page","uri":"spotify:genre:rock-page"},"spotify:genre:romance-page":{"backgroundColor":"#8C1932","imageURI":"https://i.scdn.co/image/ab67706f0000000213601d4833623a4d6b328e38","page":"romance-page","uri":"spotify:genre:romance-page"},"spotify:genre:roots-page":{"backgroundColor":"#1E3264","imageURI":"https://i.scdn.co/image/ab67706f0000000237df164786f688dd0ccd8744","page":"roots-page","uri":"spotify:genre:roots-page"},"spotify:genre:sertanejo-page":{"backgroundColor":"#c39687","imageURI":"https://t.scdn.co/images/fbfe20a3a90b4fcca73be4495b5e6d5b.jpeg","page":"sertanejo-page","uri":"spotify:genre:sertanejo-page"},"spotify:genre:sessions-page":{"backgroundColor":"#4b917d","imageURI":"https://t.scdn.co/images/ccd24ffb79594628a20a5e52b49c614f.jpeg","page":"sessions-page","uri":"spotify:genre:sessions-page"},"spotify:genre:sleep-page":{"backgroundColor":"#1E3264","imageURI":"https://i.scdn.co/image/ab67706f00000002b70e0223f544b1faa2e95ed0","page":"sleep-page","uri":"spotify:genre:sleep-page"},"spotify:genre:society_v2_podcast-page":{"backgroundColor":"#1e3264","page":"society_v2_podcast-page","uri":"spotify:genre:society_v2_podcast-page"},"spotify:genre:soul-page":{"backgroundColor":"#DC148C","imageURI":"https://i.scdn.co/image/ab67706f000000026e1034ebd7b7c86546c6acca","page":"soul-page","uri":"spotify:genre:soul-page"},"spotify:genre:sports_recreation_v2_podcast-page":{"backgroundColor":"#f59b23","page":"sports_recreation_v2_podcast-page","uri":"spotify:genre:sports_recreation_v2_podcast-page"},"spotify:genre:stories_v2_podcast-page":{"backgroundColor":"#ffc864","page":"stories_v2_podcast-page","uri":"spotify:genre:stories_v2_podcast-page"},"spotify:genre:summer-page":{"backgroundColor":"#ffc864","imageURI":"https://t.scdn.co/images/a2a24668f16c4e9680233a0d7d244a4b.jpeg","page":"summer-page","uri":"spotify:genre:summer-page"},"spotify:genre:tamil-page":{"backgroundColor":"#ffc864","imageURI":"https://t.scdn.co/images/2009b6515219438382ad57192173de13.jpeg","page":"tamil-page","uri":"spotify:genre:tamil-page"},"spotify:genre:telugu-page":{"backgroundColor":"#19e68c","imageURI":"https://t.scdn.co/images/a33f9b9872a84bba9a4e058d4f863915.jpeg","page":"telugu-page","uri":"spotify:genre:telugu-page"},"spotify:genre:test_latin-page":{"backgroundColor":"#ff6437","imageURI":"https://t.scdn.co/images/1d7841c92c504343a391dfa0626fc22c.jpeg","page":"test_latin-page","uri":"spotify:genre:test_latin-page"},"spotify:genre:thai-page":{"backgroundColor":"#ff4632","imageURI":"https://t.scdn.co/images/3b17581553a14deb912e8405bf90890c.jpeg","page":"thai-page","uri":"spotify:genre:thai-page"},"spotify:genre:throwback-page":{"backgroundColor":"#a0c3d2","imageURI":"https://t.scdn.co/images/d320819abf714ae5af0f91482fcd6ad7.jpeg","page":"throwback-page","uri":"spotify:genre:throwback-page"},"spotify:genre:top-podcasts-page":{"backgroundColor":"#509bf5","page":"top-podcasts-page","uri":"spotify:genre:top-podcasts-page"},"spotify:genre:travel-page":{"backgroundColor":"#2D46B9","imageURI":"https://t.scdn.co/images/44cf5615d3244f289fcedefa96b85db9","page":"travel-page","uri":"spotify:genre:travel-page"},"spotify:genre:true-crime_v2_podcast-page":{"backgroundColor":"#503750","page":"true-crime_v2_podcast-page","uri":"spotify:genre:true-crime_v2_podcast-page"},"spotify:genre:videos-page":{"backgroundColor":"#509bf5","imageURI":"https://t.scdn.co/images/d25910c96bba4229adc121480d164bab.jpeg","page":"videos-page","uri":"spotify:genre:videos-page"},"spotify:genre:vietnamese-page":{"backgroundColor":"#c3f0c8","imageURI":"https://t.scdn.co/images/841d524163d94e98b0becfd8c920efde.jpeg","page":"vietnamese-page","uri":"spotify:genre:vietnamese-page"},"spotify:genre:whm-page":{"backgroundColor":"#af2896","imageURI":"https://t.scdn.co/images/9fc209cc8e0e4de1be2ebaf92d4f280e.jpeg","page":"whm-page","uri":"spotify:genre:whm-page"},"spotify:genre:women_s_history_month-page":{"backgroundColor":"#af2896","imageURI":"https://t.scdn.co/images/662aa765ebd94d7a9fab9d5392eb1ca0.jpeg","page":"women_s_history_month-page","uri":"spotify:genre:women_s_history_month-page"},"spotify:genre:word-page":{"backgroundColor":"#f573a0","imageURI":"https://t.scdn.co/images/29bfbe4d5a564bad8f10f9e6d6e654e0.jpeg","page":"word-page","uri":"spotify:genre:word-page"},"spotify:genre:workout-page":{"backgroundColor":"#777777","imageURI":"https://i.scdn.co/image/ab67706f000000029249b35f23fb596b6f006a15","page":"workout-page","uri":"spotify:genre:workout-page"},"spotify:made-for-you":{"backgroundColor":"#a0c3d2","imageURI":"https://t.scdn.co/images/68433b0ee5b5465b8e926c42b84cbcdb.jpeg","page":"made-for-you","uri":"spotify:made-for-you"},"spotify:genre:made-for-x-hub":{"backgroundColor":"#a0c3d2","imageURI":"https://t.scdn.co/images/68433b0ee5b5465b8e926c42b84cbcdb.jpeg","page":"made-for-x-hub","uri":"spotify:genre:made-for-x-hub"},"spotify:radio":{"backgroundColor":"#f573a0","imageURI":"https://t.scdn.co/images/d2d0df1378b24addb9c30eb81b4abc23.jpeg","page":"radio","uri":"spotify:radio"},"spotify:genre:wellness-page":{"backgroundColor":"#a56752","imageURI":"https://i.scdn.co/image/ab67656300005f1ff234909e69a68d92ca0af6ca","page":"wellness-page","uri":"spotify:genre:wellness-page"},"spotify:genre:tv_movies-page":{"backgroundColor":"#AF2896","imageURI":"https://i.scdn.co/image/ab67706f000000026abff8de68c75470ea8f0665","page":"tv_movies-page","uri":"spotify:genre:tv_movies-page"},"spotify:charts:root":{"backgroundColor":"#8D67AB","imageURI":"https://charts-images.scdn.co/assets/locale_en/regional/weekly/region_global_default.jpg","page":"root","uri":"spotify:charts:root"},"spotify:genre:at_home-page":{"backgroundColor":"#477D95","imageURI":"https://i.scdn.co/image/ab67706f00000002ec9d60059aa215a7ba364695","page":"at_home-page","uri":"spotify:genre:at_home-page"},"spotify:genre:thirdparty-page":{"backgroundColor":"#eb1e32","uri":"spotify:genre:thirdparty-page","page":"thirdparty-page","imageURI":"https://t.scdn.co/images/7ef1d6445a684e30bdd78f09507d688c.jpeg"},"spotify:genre:corona_news_podcasts-page":{"backgroundColor":"#509bf5","uri":"spotify:genre:corona_news_podcasts-page","page":"corona_news_podcasts-page","imageURI":"https://i.scdn.co/image/0e121a9a02c17d6703e7c12ba0c704166f9afac9"},"spotify:genre:higher_ground-page":{"backgroundColor":"#a0c3d2","uri":"spotify:genre:higher_ground-page","page":"higher_ground-page","imageURI":"https://i.scdn.co/image/4f26db8239305bef29ef956b331b31407cbf51f9"},"spotify:genre:league_of_legends-page":{"backgroundColor":"#148A08","imageURI":"https://i.scdn.co/image/ab67706f000000025f0ff9251e3cfe641160dc31","page":"league_of_legends-page","uri":"spotify:genre:league_of_legends-page"},"spotify:genre:hw2019-internal-podcasts-page":{"backgroundColor":"#4100F5","imageURI":"https://i.imgur.com/dZQu0Yz.png","page":"hw2019-internal-podcasts-page","uri":"spotify:genre:hw2019-internal-podcasts-pagee"},"spotify:genre:in_the_car-page":{"backgroundColor":"#477D95","imageURI":"https://i.scdn.co/image/ab67706f00000002ffa215be1a4c64e3cbf59d1e","page":"in_the_car-page","uri":"spotify:genre:in_the_car-page"},"spotify:genre:caribbean-page":{"backgroundColor":"#0D73EC","imageURI":"https://i.scdn.co/image/ab67706f00000002a76a2ccb454ff0e1720a51a5","page":"caribbean-page","uri":"spotify:genre:caribbean-page"},"spotify:genre:instrumental-page":{"backgroundColor":"#477D95","imageURI":"https://i.scdn.co/image/ab67706f000000028ed1a5002b96c2ea882541b2","page":"instrumental-page","uri":"spotify:genre:instrumental-page"},"spotify:space:2020-page":{"backgroundColor":"#9cf0e1","imageURI":"https://lineup-images.scdn.co/wrapped-2020-top100_LARGE-en.jpg","page":"2020-page","uri":"spotify:space:2020-page"},"spotify:genre:songwriters-page":{"backgroundColor":"#8C1932","imageURI":"https://i.scdn.co/image/ab676d63000076a0c9657833d9c169782b961c9c","page":"songwriters-page","uri":"spotify:genre:songwriters-page"},"spotify:genre:equal-page":{"backgroundColor":"#148A08","imageURI":"https://i.scdn.co/image/ab67706f0000000284a1ec26f589f0d569805a07","page":"equal-page","uri":"spotify:genre:equal-page"},"spotify:genre:kids_family-page":{"backgroundColor":"#8D67AB","imageURI":"https://t.scdn.co/images/15a38c44c4484cc3a078aaab5bd4e828","page":"kids_family-page","uri":"spotify:genre:kids_family-page"},"spotify:genre:frequency-page":{"backgroundColor":"#0D73EC","imageURI":"https://t.scdn.co/images/4e5db92a959b47548de10712dc4c7c70","page":"frequency-page","uri":"spotify:genre:frequency-page"},"spotify:genre:ambient-page":{"backgroundColor":"#477D95","imageURI":"https://t.scdn.co/images/a45c0978c7784da8b83cadbca8b815d1","page":"ambient-page","uri":"spotify:genre:ambient-page"},"spotify:genre:netflix_lcdp":{"backgroundColor":"#C02825","imageURI":"https://t.scdn.co/images/8070e42a5b604c9eaebbc1f1518a9e65","page":"netflix_lcdp","uri":"spotify:genre:netflix_lcdp"},"spotify:genre:happier_than_ever-page":{"backgroundColor":"#907255","imageURI":"https://t.scdn.co/images/a5ddeea115874aeeb8923d17f56ced1d","page":"happier_than_ever-page","uri":"spotify:genre:happier_than_ever-page"},"spotify:genre:2021-page":{"backgroundColor":"#d7f27d","imageURI":"https://t.scdn.co/images/6bbcb75a98004dd3b306e0f9ca659318","page":"2021-page","uri":"spotify:genre:2021-page"},"spotify:genre:sanremo-page":{"backgroundColor":"#1d3164","imageURI":"https://t.scdn.co/images/61ad00d872894117a084cb5fbd1e7f12","page":"sanremo-page","uri":"spotify:genre:sanremo-page"},"spotify:genre:0JQ5DAqbMKFPw634sFwguI":{"backgroundColor":"#148A08","imageURI":"https://i.scdn.co/image/ab67706f0000000284a1ec26f589f0d569805a07","page":"0JQ5DAqbMKFPw634sFwguI","uri":"spotify:genre:0JQ5DAqbMKFPw634sFwguI"},"spotify:genre:0JQ5DAqbMKFQ1UFISXj59F":{"backgroundColor":"#8D67AB","imageURI":"https://i.scdn.co/image/ab67706f00000002d3f07aa10d05fb4baab12b94","page":"0JQ5DAqbMKFQ1UFISXj59F","uri":"spotify:genre:0JQ5DAqbMKFQ1UFISXj59F"},"spotify:genre:0JQ5DAqbMKFCfObibaOZbv":{"backgroundColor":"#E8115B","imageURI":"https://i.scdn.co/image/ab67706f0000000221a2087747d946f16704b8af","page":"0JQ5DAqbMKFCfObibaOZbv","uri":"spotify:genre:0JQ5DAqbMKFCfObibaOZbv"},"spotify:genre:0JQ5DAqbMKFLYQVFHcXMae":{"backgroundColor":"#148A08","imageURI":"https://i.scdn.co/image/ab67706f000000025f0ff9251e3cfe641160dc31","page":"0JQ5DAqbMKFLYQVFHcXMae","uri":"spotify:genre:0JQ5DAqbMKFLYQVFHcXMae"},"spotify:genre:0JQ5DAqbMKFCbimwdOYlsl":{"backgroundColor":"#503750","imageURI":"https://i.scdn.co/image/ab67706f00000002e4eadd417a05b2546e866934","page":"0JQ5DAqbMKFCbimwdOYlsl","uri":"spotify:genre:0JQ5DAqbMKFCbimwdOYlsl"},"spotify:genre:0JQ5DAqbMKFCuoRTxhYWow":{"backgroundColor":"#1E3264","imageURI":"https://i.scdn.co/image/ab67706f00000002b70e0223f544b1faa2e95ed0","page":"0JQ5DAqbMKFCuoRTxhYWow","uri":"spotify:genre:0JQ5DAqbMKFCuoRTxhYWow"},"spotify:genre:0JQ5DAqbMKFDkd668ypn6O":{"backgroundColor":"#777777","imageURI":"https://i.scdn.co/image/ab67706f0000000285704160b49125ac95099ec8","page":"0JQ5DAqbMKFDkd668ypn6O","uri":"spotify:genre:0JQ5DAqbMKFDkd668ypn6O"},"spotify:genre:0JQ5DAqbMKFRY5ok2pxXJ0":{"backgroundColor":"#BA5D07","imageURI":"https://i.scdn.co/image/ab67706f000000025a051b0271d3e98edfdc4c09","page":"0JQ5DAqbMKFRY5ok2pxXJ0","uri":"spotify:genre:0JQ5DAqbMKFRY5ok2pxXJ0"},"spotify:genre:0JQ5DAqbMKFEZPnFQSFB1T":{"backgroundColor":"#DC148C","imageURI":"https://i.scdn.co/image/ab67706f000000023c5a4aaf5df054a9beeb3d82","page":"0JQ5DAqbMKFEZPnFQSFB1T","uri":"spotify:genre:0JQ5DAqbMKFEZPnFQSFB1T"},"spotify:genre:0JQ5DAqbMKFRieVZLLoo9m":{"backgroundColor":"#477D95","imageURI":"https://i.scdn.co/image/ab67706f000000028ed1a5002b96c2ea882541b2","page":"0JQ5DAqbMKFRieVZLLoo9m","uri":"spotify:genre:0JQ5DAqbMKFRieVZLLoo9m"},"spotify:genre:0JQ5DAqbMKFAUsdyVjCQuL":{"backgroundColor":"#8C1932","imageURI":"https://i.scdn.co/image/ab67706f0000000213601d4833623a4d6b328e38","page":"0JQ5DAqbMKFAUsdyVjCQuL","uri":"spotify:genre:0JQ5DAqbMKFAUsdyVjCQuL"},"spotify:genre:0JQ5DAqbMKFFoimhOqWzLB":{"backgroundColor":"#8D67AB","imageURI":"https://t.scdn.co/images/15a38c44c4484cc3a078aaab5bd4e828","page":"0JQ5DAqbMKFFoimhOqWzLB","uri":"spotify:genre:0JQ5DAqbMKFFoimhOqWzLB"},"spotify:genre:0JQ5DAqbMKFPrEiAOxgac3":{"backgroundColor":"#8D67AB","imageURI":"https://i.scdn.co/image/ab67706f000000023e0130fcd5d106f1402b4707","page":"0JQ5DAqbMKFPrEiAOxgac3","uri":"spotify:genre:0JQ5DAqbMKFPrEiAOxgac3"},"spotify:genre:0JQ5DAqbMKFxXaXKP7zcDp":{"backgroundColor":"#e1118b","imageURI":"https://t.scdn.co/images/6a48e36b373a4d879a9340076db03a7b","page":"0JQ5DAqbMKFxXaXKP7zcDp","uri":"spotify:genre:0JQ5DAqbMKFxXaXKP7zcDp"},"spotify:genre:0JQ5DAqbMKFSCjnQr8QZ3O":{"backgroundColor":"#8C1932","imageURI":"https://i.scdn.co/image/ab676d63000076a0c9657833d9c169782b961c9c","page":"0JQ5DAqbMKFSCjnQr8QZ3O","uri":"spotify:genre:0JQ5DAqbMKFSCjnQr8QZ3O"},"spotify:genre:0JQ5DAqbMKFObNLOHydSW8":{"backgroundColor":"#0D73EC","imageURI":"https://i.scdn.co/image/ab67706f00000002a76a2ccb454ff0e1720a51a5","page":"0JQ5DAqbMKFObNLOHydSW8","uri":"spotify:genre:0JQ5DAqbMKFObNLOHydSW8"},"spotify:genre:0JQ5DAqbMKFFsW9N8maB6z":{"backgroundColor":"#E61E32","imageURI":"https://i.scdn.co/image/ab67706f00000002f16913f0326b9d44bf78fc88","page":"0JQ5DAqbMKFFsW9N8maB6z","uri":"spotify:genre:0JQ5DAqbMKFFsW9N8maB6z"},"spotify:genre:0JQ5DAqbMKFQVdc2eQoH2s":{"backgroundColor":"#E13300","imageURI":"https://i.scdn.co/image/ab67706f00000002cc485e3902f426d5d3e21558","page":"0JQ5DAqbMKFQVdc2eQoH2s","uri":"spotify:genre:0JQ5DAqbMKFQVdc2eQoH2s"},"spotify:genre:0JQ5DAqbMKFNQ0fGp4byGU":{"backgroundColor":"#AF2896","imageURI":"https://i.scdn.co/image/ab67706f0000000293c88c83bcb12b0800281074","page":"0JQ5DAqbMKFNQ0fGp4byGU","uri":"spotify:genre:0JQ5DAqbMKFNQ0fGp4byGU"},"spotify:genre:0JQ5DAqbMKFAQy4HL4XU2D":{"backgroundColor":"#2D46B9","imageURI":"https://t.scdn.co/images/44cf5615d3244f289fcedefa96b85db9","page":"0JQ5DAqbMKFAQy4HL4XU2D","uri":"spotify:genre:0JQ5DAqbMKFAQy4HL4XU2D"},"spotify:genre:0JQ5DAqbMKFGvOw3O4nLAf":{"backgroundColor":"#148A08","imageURI":"https://i.scdn.co/image/ab67706f00000002978b9f4a4f40b430fd0d837e","page":"0JQ5DAqbMKFGvOw3O4nLAf","uri":"spotify:genre:0JQ5DAqbMKFGvOw3O4nLAf"},"spotify:genre:0JQ5DAqbMKFOzQeOmemkuw":{"backgroundColor":"#AF2896","imageURI":"https://i.scdn.co/image/ab67706f000000026abff8de68c75470ea8f0665","page":"0JQ5DAqbMKFOzQeOmemkuw","uri":"spotify:genre:0JQ5DAqbMKFOzQeOmemkuw"},"spotify:genre:0JQ5DAqbMKFLjmiZRss79w":{"backgroundColor":"#477D95","imageURI":"https://t.scdn.co/images/a45c0978c7784da8b83cadbca8b815d1","page":"0JQ5DAqbMKFLjmiZRss79w","uri":"spotify:genre:0JQ5DAqbMKFLjmiZRss79w"},"spotify:genre:0JQ5DAqbMKFDKyRxRDLIbk":{"backgroundColor":"#8c1932","imageURI":"https://t.scdn.co/images/8095bb75a61e4623906cb847ae87d9da.jpeg","page":"0JQ5DAqbMKFDKyRxRDLIbk","uri":"spotify:genre:0JQ5DAqbMKFDKyRxRDLIbk"},"spotify:genre:0JQ5DAqbMKFIVNxQgRNSg0":{"backgroundColor":"#BA5D07","imageURI":"https://t.scdn.co/images/4c8b58ab42b54296ad5379514d36edac","page":"0JQ5DAqbMKFIVNxQgRNSg0","uri":"spotify:genre:0JQ5DAqbMKFIVNxQgRNSg0"},"spotify:genre:0JQ5DAqbMKFIpEuaCnimBj":{"backgroundColor":"#DC148C","imageURI":"https://i.scdn.co/image/ab67706f000000026e1034ebd7b7c86546c6acca","page":"0JQ5DAqbMKFIpEuaCnimBj","uri":"spotify:genre:0JQ5DAqbMKFIpEuaCnimBj"},"spotify:genre:0JQ5DAqbMKFAXlCG6QvYQ4":{"backgroundColor":"#777777","imageURI":"https://i.scdn.co/image/ab67706f000000029249b35f23fb596b6f006a15","page":"0JQ5DAqbMKFAXlCG6QvYQ4","uri":"spotify:genre:0JQ5DAqbMKFAXlCG6QvYQ4"},"spotify:genre:0JQ5DAqbMKFQiK2EHwyjcU":{"backgroundColor":"#1E3264","imageURI":"https://i.scdn.co/image/ab67706f0000000285c3e89f02770deb7691451c","page":"0JQ5DAqbMKFQiK2EHwyjcU","uri":"spotify:genre:0JQ5DAqbMKFQiK2EHwyjcU"}}');function Dj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Rj(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Dj(Object(n),!0).forEach((function(t){(0,E.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dj(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var xj=Object.keys(Pj).reduce((function(e,t){var n=t.split(":").reduce((function(e,t){return t}),t).replace("-page","");return Rj(Rj({},e),{},(0,E.Z)({},n,Rj({},Pj[t])))}),{}),Lj=function(e){var t=Object.values(xj).map((function(e){return e.backgroundColor})).filter(Boolean);return e.map((function(e){var n,r,i=e.name,a=e.href.split("/").reduce((function(e,t){return t}),""),o=a,s=xj[a.replace("-page","")],l=s&&s.backgroundColor,c=s&&s.imageURI;return{viewId:a,title:i,imageUrl:null!=c?c:null===(n=e.images)||void 0===n||null===(r=n[0])||void 0===r?void 0:r.url,color:null!=l?l:t.shift(),ubiId:o}}))},Fj=["id"];function Uj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Zj(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Uj(Object(n),!0).forEach((function(t){(0,E.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Uj(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Mj="browse-page-cx-test",Bj="https://api.spotify.com/v1/views",jj={platform:"web",content_limit:20,limit:50},Vj={method:"GET",authorize:!0,responseType:"json",rejectNotOk:!0,allowOffline:!0},Hj=function(){function e(t,n){var r=this;(0,O.Z)(this,e),(0,E.Z)(this,"_transformItems",function(){var e=(0,i.Z)(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._getNextItems(t.content);case 2:return n=e.sent,e.abrupt("return",{id:t.id,title:t.name,items:Lj(n.items)});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.transport=t,this.enableShows=n}var t,n,r;return(0,C.Z)(e,[{key:"getSearchBrowse",value:(r=(0,i.Z)(o().mark((function e(){var t,n,r,i,a,s,l,c,u,d=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=d.length>0&&void 0!==d[0]?d[0]:{},n=d.length>1&&void 0!==d[1]?d[1]:{},r=new URLSearchParams(Zj(Zj({timestamp:(new Date).toISOString()},jj),t)).toString(),i="".concat(Bj,"/").concat(Mj),a="".concat(i,"?").concat(r),e.next=7,this.transport.request(a,Vj);case 7:return s=e.sent,l=s.body.content.items.map(this._transformItems),e.next=11,Promise.all(l);case 11:return c=e.sent,(u=c.reduce((function(e,t){var n=t.id,r=(0,lu.Z)(t,Fj);return Zj(Zj({},e),{},(0,E.Z)({},n,Zj({},r)))}),{}))["browse-grid-mobile"]&&(u["browse-grid-mobile"].items=this.getHardcodedFeatureCards(n).concat(u["browse-grid-mobile"].items)),e.abrupt("return",u);case 15:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"getHardcodedFeatureCards",value:function(e){var t=[{href:"/genre/made-for-x-hub",title:vl.ag.get("browse.made-for-you"),color:"#1E3264",imageUrl:"https://t.scdn.co/images/ea364e99656e46a096ea1df50f581efe",ubiId:UZ.Wg.MADE_FOR_YOU},{href:"/genre/browse-charts-tab",title:vl.ag.get("browse.charts"),color:"#8D67AB",imageUrl:"https://charts-images.scdn.co/assets/locale_en/regional/weekly/region_global_default.jpg",ubiId:UZ.Wg.CHARTS},{href:"/genre/new-releases-page",title:vl.ag.get("new_releases"),color:"#E8115B",imageUrl:"https://i.scdn.co/image/ab67706f000000027ea4d505212b9de1f72c5112",ubiId:UZ.Wg.BROWSE_NEWRELEASES},{href:"/genre/discover-page",title:this.capitalize(vl.ag.get("browse.discover")),color:"#8D67AB",imageUrl:"https://t.scdn.co/images/d0fb2ab104dc4846bdc56d72b0b0d785.jpeg",ubiId:UZ.Wg.BROWSE_DISCOVER}];return e.enableClientXConcertsHub&&t.push({href:"/concerts",title:vl.ag.get("browse.live-events"),imageUrl:"https://t.scdn.co/images/8cfa9cb1e43a404db76eed6ad594057c",color:"#1E3264",ubiId:UZ.Wg.CONCERTS}),this.enableShows?[{href:"/genre/podcasts-web",title:this.capitalize(vl.ag.get("browse.podcasts")),color:"#27856A",imageUrl:"https://i.scdn.co/image/567158eb895ad26718a814345af0fc43ee785ec5",ubiId:UZ.Wg.BROWSE_PODCASTS}].concat(t):t}},{key:"capitalize",value:function(e){return e.charAt(0).toLocaleUpperCase()+e.slice(1).toLocaleLowerCase()}},{key:"getItemsStyle",value:(n=(0,i.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object.keys(xj).reduce((function(e,t){return Rj(Rj({},e),{},(0,E.Z)({},t,{color:xj[t].backgroundColor,imageUrl:xj[t].imageURI}))}),{}));case 1:case"end":return e.stop()}}),e)}))),function(){return n.apply(this,arguments)})},{key:"_getNextItems",value:(t=(0,i.Z)(o().mark((function e(t){var n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.next){e.next=6;break}return e.next=3,this.transport.request(t.next,Vj);case 3:return n=e.sent,r=n.body.content,e.abrupt("return",this._getNextItems(Zj(Zj({},r),{},{items:[].concat((0,N.Z)(t.items),(0,N.Z)(r.items))})));case 6:return e.abrupt("return",t);case 7:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),e}();function Gj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Wj(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Gj(Object(n),!0).forEach((function(t){(0,E.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gj(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var zj=null;function Kj(e){return e?function(e){return!e.includes("-page")&&(0,u.idToHex)(e)===e}(e)?"".concat(e,"-page"):e:null}function Yj(e){return zj||(zj=new Hj((0,hd.k)(),e.features.enableShows))}var qj=function(e){return function(t){return function(n){var r=e.getState();switch(n.type){case Aj.ul:var i={enableClientXConcertsHub:n.isClientXConcertsHubEnabled};Yj(r).getSearchBrowse(function(e){var t=e.session,n=(null==t?void 0:t.overrides)||{},r=(0,aw.rZ)(e);return{country:n.country||r,locale:n.locale||t.locale}}(r),i).then((function(t){e.dispatch((0,Aj.ot)(function(e){return Object.keys(e).reduce((function(t,n){var r=e[n].items.map((function(e){return Wj(Wj({},e),{},{viewId:Kj(e.viewId)})})).map((function(e){return e.title?Wj(Wj({},e),{},{title:e.title.replace(/\//g," / ")}):e}));return Wj(Wj({},t),{},(0,E.Z)({},n,Wj(Wj({},e[n]),{},{items:r})))}),{})}(t)))}),(function(t){e.dispatch((0,Aj.bb)(t))}));break;case Aj.R$:Yj(r).getItemsStyle().then((function(t){e.dispatch((0,Aj.RD)(function(e){return Object.keys(e).reduce((function(t,n){return Wj(Wj({},t),{},(0,E.Z)({},Kj(n),Wj({},e[n])))}),{})}(t)))})).catch((function(t){e.dispatch((0,Aj.Vv)(t))}))}return t(n)}}};function Qj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Jj(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qj(Object(n),!0).forEach((function(t){(0,E.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qj(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Xj={topGenres:null,browseAll:null,allItemsStyle:null};function $j(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xj,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Aj.tk:return Jj(Jj({},e),{},{topGenres:t.data&&t.data["top-genres"]||null,browseAll:t.data&&t.data["browse-grid-mobile"]||null});case Aj.vj:return Jj(Jj({},e),{},{allItemsStyle:t.items});default:return e}}var eV=function(){return(0,Ot.vQ)("sp_key")},tV=function(e){var t,n=(0,hd.k)(),r=(t=eV(),setInterval((function(){t!==eV()&&window.location.reload()}),5e3));n.on(p.TransportEvent.LOGGED_OUT,(function(){clearInterval(r),e()}))},nV=n(80198);function rV(e){return iV.apply(this,arguments)}function iV(){return(iV=(0,i.Z)(o().mark((function e(t){var n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,nV.W)(Gt.b.getInstance(),{type:"query",name:"getAlbumNameAndTrackUris",body:"query getAlbumNameAndTrackUris($uri: ID!) {\n        album(uri: $uri) {\n          name\n          tracks {\n            items {\n              track {\n                uri\n              }\n            }\n          }\n        }\n      }"},{uri:t});case 2:return n=e.sent,r=n.body.data.album,e.abrupt("return",{name:r.name,trackUris:r.tracks.items.map((function(e){return e.track.uri}))});case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}const aV=function(e){return function(t){return function(n){var r,i=t(n);switch(n.type){case pd.VX:tV((function(){return e.dispatch({type:pd.y})}));break;case pd.y:(r=Gt.b.getInstance(),r.build().withHost(L.SW).withPath("/logout").withoutMarket().withoutAuthorization().withEndpointIdentifier("/logout").send()).then((function(){e.dispatch((0,pd.ls)()),window.location.assign("/")}),function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n){return console.error(n),e&&e(n),t?Promise.reject(n):Promise.resolve(void 0)}}())}return i}}};var oV=n(88495),sV=n.n(oV),lV=n(91279),cV=n(51781),uV="urn:x-cast:com.spotify.chromecast.secure.v1",dV=!1,mV=function(){var e;return null===(e=window.cast)||void 0===e?void 0:e.framework.CastContext.getInstance()},pV=function(e){return sV()(e)},fV=function(e,t){e.send((0,lV.I)(t))},vV=function(e,t,n){var r,i,a=mV();a&&(a.setOptions({receiverApplicationId:cV.cast.appId,autoJoinPolicy:"page_scoped",androidReceiverCompatible:n}),e.dispatch(HN(a.getCastState())),a.addEventListener(null===(r=window.cast)||void 0===r?void 0:r.framework.CastContextEventType.CAST_STATE_CHANGED,(function(t){var n=t.castState;return e.dispatch(HN(n))})),a.addEventListener(null===(i=window.cast)||void 0===i?void 0:i.framework.CastContextEventType.SESSION_STATE_CHANGED,(function(n){var r,i,a=n.sessionState,o=n.session;if(a===(null===(r=window.cast)||void 0===r?void 0:r.framework.SessionState.SESSION_STARTING))fV(t,{step:"transfer_requested"});else if(a===(null===(i=window.cast)||void 0===i?void 0:i.framework.SessionState.SESSION_STARTED)){var s,l=null;null!=o&&null!==(s=o.getCastDevice())&&void 0!==s&&s.friendlyName&&(l=pV(o.getCastDevice().friendlyName)),e.dispatch({type:jN,deviceId:l}),fV(t,{step:"receiver_app_started"})}})))},gV=function(e,t,n){var r={tokenType:"accesstoken",blob:t.accessToken};e.sendMessage(uV,{type:"addUser",payload:r}),fV(n,{step:"message_from_sender"})},hV=function(){var e=(0,i.Z)(o().mark((function e(t,n,r,i){var a,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.request("https://spclient.wg.spotify.com/device-auth/v1/refresh",{method:"POST",authorize:!0,payload:JSON.stringify({clientId:"d7df0887fb71494ea994202cb473eae7",deviceId:t})});case 2:if(null!==(a=e.sent).body){e.next=5;break}throw new Error("Invalid response from device-auth!");case 5:s=JSON.parse(a.body),gV(r,s,i);case 7:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}(),yV=function(e,t,n){var r=mV().getCurrentSession();if(null!==r){r.addMessageListener(uV,(function(i,a){var o=JSON.parse(a);fV(n,{step:"message_from_receiver"});try{if("getInfoResponse"===o.type){var s=o.payload;hV(s.deviceID,e,r,n)}else if("addUserResponse"===o.type){var l=o.payload;t.dispatch((0,jU.Tu)(l.deviceId))}else if(o.type.endsWith("Error"))throw new Error(o.payload.status)}catch(e){console.error("Failed to transfer playback to Cast device!",e)}})),function(e,t){var n,r,i=e.getCastDevice(),a={remoteName:i.friendlyName,deviceID:pV(i.friendlyName),deviceAPI_isGroup:i.capabilities.includes(null===(n=chrome)||void 0===n||null===(r=n.cast)||void 0===r?void 0:r.Capability.MULTIZONE_GROUP)};e.sendMessage(uV,{type:"getInfo",payload:a}),fV(t,{step:"message_from_sender"})}(r,n)}},kV=function(e,t,n){var r=n.deviceInfo;if(r&&r.is_active&&Yw(r.type)){var i,a,o,s=(null===(i=mV())||void 0===i?void 0:i.getCastState())===(null===(a=window.cast)||void 0===a?void 0:a.framework.CastState.CONNECTED),l=null===(o=e.getState().playback)||void 0===o?void 0:o.connectingCastDeviceId;s&&r.id===l&&(fV(t,{step:"transfer_finished"}),e.dispatch({type:VN}))}};function EV(e,t,n){return function(r){return function(i){return function(a){switch(a.type){case pd.VX:!function(e,t,n){if(!window.cast){window.__onGCastApiAvailable=function(r){r&&!dV&&(vV(e,t,n),dV=!0)};var r=document.createElement("script");r.async=!0,r.src="//www.gstatic.com/cv/js/sender/v1/cast_sender.js?loadCastFramework=1",document.body.appendChild(r)}}(r,t,n);break;case BN:(o=mV())&&o.requestSession();break;case MN:!function(e,t,n,r){var i;r.castState===(null===(i=window.cast)||void 0===i?void 0:i.framework.CastState.CONNECTED)&&yV(e,t,n)}(e,r,t,a);break;case jU.V5.DEVICE_INFO_CHANGED:kV(r,t,a)}var o;return i(a)}}}}var bV=n(66124),_V=n(6581);function SV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wV(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?SV(Object(n),!0).forEach((function(t){(0,E.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SV(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var NV=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map((function(e){var t=e.concert.date,n=new Date(Date.parse(t));return wV(wV({},e.concert),{},{nearUser:e.nearUser,uri:"spotify:concert:".concat(e.concert.id),venue:{name:e.concert.venue,location:{name:e.concert.location},coordinates:{latitude:e.concert.lat,longitude:e.concert.lon}},artists:e.concert.artists.map((function(e){return wV(wV({},e),{},{profile:{name:e.name}})})),partnerLinks:e.clickThrus.map((function(e){return{partnerName:e.partnerDisplayName,url:e.url}})),date:{year:n.getFullYear(),month:n.getMonth()+1,day:n.getDate(),hour:n.getHours(),minute:n.getMinutes(),second:n.getSeconds(),isoString:t}})}))};const OV=function(e){return function(t){return function(n){var r=t(n);switch(n.type){case _V.V5.REQUEST_ARTIST_CONCERTS:!function(e,t,n){Yo.LH.getConcertsForArtist(Gt.b.getInstance(),t,n).then((function(t){var r=t.body,i=(r=void 0===r?{}:r).concerts,a=void 0===i?[]:i,o=r.userLocation,s=r.artist;o&&e.dispatch(_V.kz({name:o}));var l="spotify:artist:".concat(n,":concerts");e.dispatch(_V.BQ(l,{concerts:NV(a),artist:s}))}),(function(t){e.dispatch(_V._X(t))}))}(e,n.location,n.artistId);break;case _V.V5.REQUEST_CONCERT:!function(e,t){Yo.LH.getConcert(Gt.b.getInstance(),t).then((function(n){var r=n.body,i=n.body,a=(i=void 0===i?{}:i).concert,o=void 0===a?{}:a,s="spotify:concert:".concat(t);e.dispatch(_V.Mg(s,wV(wV({},r),{},{concert:wV(wV({},o.concert),{},{clickThruUrl:o.clickThruUrl,clickThrus:o.clickThrus}),upcomingConcerts:NV(r.upcomingConcerts)})))}),(function(t){e.dispatch(_V.yi(t))}))}(e,n.concertId);break;case _V.V5.REQUEST_COLLECTION_CONCERTS:!function(e,t,n){var r=function(t){var n=t.body,r=(n=void 0===n?{}:n).events,i=void 0===r?[]:r,a=n.userLocation;a&&e.dispatch(_V.kz({name:a})),e.dispatch(_V.Wf({items:i.map((function(e){return wV(wV({},e),{},{concerts:NV(e.concerts)})}))}))};n?Yo.LH.getConcertsHub(Gt.b.getInstance(),null,t).then(r,(function(t){return e.dispatch(_V.il(t))})):Yo.LH.getConcertsForUser(Gt.b.getInstance(),t).then(r,(function(t){return e.dispatch(_V.il(t))}))}(e,n.location,n.isAnonymous)}return r}}};var CV=function(e,t){return t.reduce((function(t,n){var r=e.includes(n);return{duplicates:r?[].concat((0,N.Z)(t.duplicates),[n]):t.duplicates,newUris:r?t.newUris:[].concat((0,N.Z)(t.newUris),[n])}}),{duplicates:[],newUris:[]})},TV=function(e){return function(t){return function(n){return function(){var r=(0,i.Z)(o().mark((function r(i){var a,s,l,c,u,m,p,f,v,g,h,y,k,E,b;return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:a=n(i),r.t0=i.type,r.next=r.t0===rk.Hp.CHECK_DUPLICATE_TRACKS?4:30;break;case 4:return s=i.playlistUri,l=i.uris,c=i.position,u=void 0===c?{after:"end"}:c,r.prev=5,r.next=8,e.getMetadata(s);case 8:return m=r.sent,p=m.name,r.next=12,e.getContents(s);case 12:if(f=r.sent,v=(0,N.Z)(l),!d().isAlbum(l[0])){r.next=20;break}return r.next=17,rV(l[0]);case 17:g=r.sent,h=g.trackUris,v=h;case 20:y=f.items.map((function(e){return null==e?void 0:e.uri})),k=CV(y,v),E=k.duplicates,b=k.newUris,0===E.length?e.add(s,v,u):1===v.length?t.dispatch((0,rk.Ke)({playlistName:p,playlistUri:s,uri:v[0],position:u})):t.dispatch((0,rk.Ke)({playlistName:p,playlistUri:s,uris:v,newUris:b,position:u})),r.next=29;break;case 25:r.prev=25,r.t1=r.catch(5),e.add(s,l,u),window.console.error(r.t1);case 29:case 30:return r.abrupt("break",31);case 31:return r.abrupt("return",a);case 32:case"end":return r.stop()}}),r,null,[[5,25]])})));return function(e){return r.apply(this,arguments)}}()}}},IV=n(39828),AV=n(76362);const PV=function(e){return function(t){return function(n){return function(r){var i=n(r),a=r.type,o=t.getState().session.isAnonymous;switch(a){case cw.V.LOG_INTERACTION:e.send(o?(0,AV.w)(r.logData):(0,IV.p)(r.logData));break;case As:var s={action_type:"unknown",action_intent:"pwa-installed",target_uri:"/pwa-install-confirmation",item_id:"pwa",view_uri:"/unknown",page:"/page"};e.send(o?(0,AV.w)(s):(0,IV.p)(s))}return i}}}};var DV=n(51340),RV=n(63826),xV={get DEFAULT_PLAYBACK_STUCK(){return vl.ag.get("feedback.cant-play-track")},get FORCED_OFFLINE_MODE(){return vl.ag.get("feedback.track-not-available-forced-offline")},get CANT_OFFLINE_SYNC_PLAYLIST_IN_OFFLINE_MODE(){return vl.ag.get("feedback.cant-offline-sync-playlist-in-offline-mode")},get ARTIST_BANNED_BY_USER(){return vl.ag.get("feedback.artist-banned-by-user")},get TRACK_BANNED_BY_USER(){return vl.ag.get("feedback.track-banned-by-user")},get REGION_RESTRICTED(){return vl.ag.get("feedback.track-not-available-in-region")},get DEFAULT_PLAYER_ERROR(){return vl.ag.get("feedback.track-not-available")},get NETWORK_ERROR(){return vl.ag.get("feedback.video-playback-network-error")},get PREMIUM_RESTRICTED(){return vl.ag.get("feedback.track-exclusive-premium")},get CANT_SKIP_ADS(){return vl.ag.get("feedback.cant-skip-ads")},get CANT_PLAY_DURING_ADS(){return vl.ag.get("feedback.cant-play-during-ads")},get SKIP_ADS_TO_HEAR_SONG(){return vl.ag.get("feedback.skip-ads-to-hear-song")},get SKIP_AFTER_DELAY(){return vl.ag.get("feedback.skip-ads-after-delay")},get CAPPING_REACHED(){return vl.ag.get("capping.upsell-title")},get VIDEO_GEORESTRICTED(){return vl.ag.get("feedback.video-georestricted")},get VIDEO_UNSUPPORTED_CLIENT_VERSION(){return vl.ag.get("feedback.video-unsupported-client-version")},get VIDEO_UNSUPPORTED_PLATFORM_VERSION(){return vl.ag.get("feedback.video-unsupported-platform-version")},get VIDEO_COUNTRY_RESTRICTED(){return vl.ag.get("feedback.video-country-restricted")},get VIDEO_UNAVAILABLE(){return vl.ag.get("feedback.video-unavailable")},get VIDEO_CATALOGUE_RESTRICTED(){return vl.ag.get("feedback.video-catalogue-restricted")},get VIDEO_PLAYBACK_ERROR(){return vl.ag.get("feedback.video-playback-error")},get VIDEO_UNSUPPORTED_KEY_SYSTEM(){return vl.ag.get("feedback.video-unsupported-key-system")},get EXPLICIT_CONTENT_FILTERED(){return vl.ag.get("feedback.explicit-content-filtered")},get INTERRUPT_PLAYBACK_RESTRICTED(){return vl.ag.get("feedback.play-after-ad")}};function LV(e){var t,n=null!==(t=null==e?void 0:e.item)&&void 0!==t?t:void 0;return(0,Te.k6)(n)&&n.isSkippableAd}function FV(e,t){switch(t.code){case et.cg.PLAYBACK_STUCK:return xV.DEFAULT_PLAYBACK_STUCK;case et.cg.ONE_TRACK_UNPLAYABLE:case et.cg.ONE_TRACK_UNPLAYABLE_AUTO_STOPPED:case et.cg.ALL_TRACKS_UNPLAYABLE_AUTO_STOPPED:return(n=t.reasons).includes(et.Su.NOT_AVAILABLE_IN_CURRENT_REGION)?xV.REGION_RESTRICTED:n.includes(et.Su.NOT_AVAILABLE_IN_NON_PREMIUM)?xV.PREMIUM_RESTRICTED:n.includes(et.Su.NOT_AVAILABLE_OFFLINE)?xV.FORCED_OFFLINE_MODE:n.includes(et.Su.USER_CAPPING_REACHED)?xV.CAPPING_REACHED:n.includes(et.Su.BANNED_BY_USER_ARTIST)?xV.ARTIST_BANNED_BY_USER:n.includes(et.Su.BANNED_BY_USER_TRACK)?xV.TRACK_BANNED_BY_USER:n.includes(et.Su.EXPLICIT_CONTENT_FILTERED)?xV.EXPLICIT_CONTENT_FILTERED:xV.DEFAULT_PLAYER_ERROR;case et.cg.INTERRUPT_PLAYBACK_RESTRICTED:return xV.INTERRUPT_PLAYBACK_RESTRICTED;case et.cg.VIDEO_GEORESTRICTED:return xV.VIDEO_GEORESTRICTED;case et.cg.VIDEO_UNSUPPORTED_CLIENT_VERSION:return xV.VIDEO_UNSUPPORTED_CLIENT_VERSION;case et.cg.VIDEO_UNSUPPORTED_PLATFORM_VERSION:return xV.VIDEO_UNSUPPORTED_PLATFORM_VERSION;case et.cg.VIDEO_COUNTRY_RESTRICTED:return xV.VIDEO_COUNTRY_RESTRICTED;case et.cg.VIDEO_UNAVAILABLE:return xV.VIDEO_UNAVAILABLE;case et.cg.VIDEO_CATALOGUE_RESTRICTED:return xV.VIDEO_CATALOGUE_RESTRICTED;case et.cg.VIDEO_PLAYBACK_ERROR:return xV.VIDEO_PLAYBACK_ERROR;case et.cg.VIDEO_UNSUPPORTED_KEY_SYSTEM:return xV.VIDEO_UNSUPPORTED_KEY_SYSTEM;case et.cg.PLAY_RESTRICTED:return t.reasons.includes(et.Su.AD_DISALLOW)?LV(e)?xV.SKIP_ADS_TO_HEAR_SONG:xV.CANT_SKIP_ADS:null;case et.cg.SKIP_TO_NEXT_RESTRICTED:return t.reasons.includes(et.Su.AD_DISALLOW)?LV(e)?xV.SKIP_AFTER_DELAY:xV.CANT_PLAY_DURING_ADS:null;case et.cg.TIMEOUT:return xV.NETWORK_ERROR;case et.cg.SKIP_TO_PREV_RESTRICTED:return t.reasons.includes(et.Su.THROTTLED)?null:xV.DEFAULT_PLAYER_ERROR;default:return xV.DEFAULT_PLAYER_ERROR}var n}const UV=function(e,t,n,i,a,o,s){return function(l){var c,u=function(e,t){return t?vl.ag.get("offline.feedback-text"):e},m=function(e,t){return t?"offline.feedback-text":e},p=function(e){return e?wu.nY.NOTICE:wu.nY.ERROR};globalThis.Spicetify.showNotification=(message,isError=false,msTimeout)=>f({message,feedbackType:isError?"ERROR":"NOTICE",msTimeout});const f=(c=l.dispatch,function(e){var t=e.message,n=e.errorKey,r=e.feedbackType,i=void 0===r?wu.nY.NOTICE:r,a=e.msTimeout,o=void 0===a?2500:a;i===wu.nY.ERROR&&Ql("feedback_banner","error",n),(0,RV.T)({hide:function(){return c((0,wu.Xe)())},show:function(){return c((0,wu.TB)(t,i))},msTimeout:o})}),v=e.getEvents();v.addListener(Ie.rg.ERROR,(function(t){var n=t.data;!function(e,t,n){var r=FV(t,n);null!==r&&(0,RV.T)({hide:function(){return e.dispatch((0,wu.Xe)())},show:function(){return e.dispatch((0,wu.TB)(r))},msTimeout:4e3})}(l,e.getState(),n)})),v.addListener(Ie.rg.QUEUE_ACTION_COMPLETE,(function(e){var t=l.getState(),n=t.onlineStatus&&!t.onlineStatus.online;if(e.data.action===Ie.FE.ADD)e.data.error?f({message:u(vl.ag.get("error.generic"),n),errorKey:m("error.generic",n),feedbackType:p(n),msTimeout:5e3}):f({message:vl.ag.get("queue.added-to-queue")})})),t.getEvents().addListener(ii.XL.OPERATION_COMPLETE,(function(e){var t=l.getState(),n=t.onlineStatus&&!t.onlineStatus.online;if(e.data.operation===ii.If.ADD)e.data.error?f({message:u(vl.ag.get("error.generic"),n),errorKey:m("error.generic",n),feedbackType:p(n),msTimeout:5e3}):f({message:vl.ag.get("feedback.added-to-playlist-generic")})})),a.getEvents().addListener(Vi.fv.OPERATION_COMPLETE,(function(e){var t,n=l.getState(),r=n.session.user,i=n.onlineStatus&&!n.onlineStatus.online;if(e.data.error)f({message:u(vl.ag.get("error.generic"),i),errorKey:m("error.generic",i),feedbackType:p(i),msTimeout:5e3});else switch(e.data.operation){case Vi.Qd.SET_BASE_PERMISSION:t="VIEWER"===e.data.permissionLevel?vl.ag.get("feedback.playlist-made-public"):vl.ag.get("feedback.playlist-made-private"),f({message:t});break;case Vi.Qd.SET_MEMBER_PERMISSION:t="VIEWER"===e.data.permissionLevel?vl.ag.get("feedback.member-made-listener"):vl.ag.get("feedback.member-made-contributor"),f({message:t});break;case Vi.Qd.REMOVE_MEMBER:t=(null==r?void 0:r.id)===e.data.username?vl.ag.get("feedback.left-playlist"):vl.ag.get("feedback.removed-member"),f({message:t})}})),i.getEvents().addListener(ca.Yt.OPERATION_COMPLETE,(function(e){var t=l.getState(),n=t.onlineStatus&&!t.onlineStatus.online;if(e.data.error)f({message:u(vl.ag.get("error.generic"),n),errorKey:m("error.generic",n),feedbackType:p(n),msTimeout:5e3});else switch(e.data.operation){case ca.aY.ADD:f({message:vl.ag.get("feedback.saved-to-your-library")});break;case ca.aY.REMOVE:f({message:vl.ag.get("feedback.removed-from-your-library")})}})),n.getEvents().addListener(Gn.EW.OPERATION_COMPLETE,(function(e){var t=l.getState(),n=t.onlineStatus&&!t.onlineStatus.online;if(e.data.error)f({message:u(vl.ag.get("error.generic"),n),errorKey:m("error.generic",n),feedbackType:p(n),msTimeout:5e3});else switch(e.data.operation){case Gn.pT.ADD:var i,a=(0,r.Z)(e.data.uris,1)[0],o=null===(i=d().from(a))||void 0===i?void 0:i.type;o===d().Type.TRACK?f({message:vl.ag.get("feedback.added-to-your-liked-songs")}):o===d().Type.EPISODE?f({message:vl.ag.get("feedback.added-to-your-episodes")}):f({message:vl.ag.get("feedback.saved-to-your-library")});break;case Gn.pT.REMOVE:var s,c=(0,r.Z)(e.data.uris,1)[0],v=null===(s=d().from(c))||void 0===s?void 0:s.type;v===d().Type.TRACK?f({message:vl.ag.get("feedback.removed-from-your-liked-songs")}):v===d().Type.EPISODE?f({message:vl.ag.get("feedback.removed-from-your-episodes")}):f({message:vl.ag.get("feedback.removed-from-your-library")})}}));var g=o.getEvents();g.addListener(DV.c.ENHANCED_WITH_NUM_RECS,(function(e){f({message:vl.ag.get("web-player.enhance.feedback.recommended_songs_added",e.data.numRecs)})})),g.addListener(DV.c.RECOMMENDATION_ADDED,(function(e){d().isPlaylistV1OrV2(e.data.uri)&&f({message:vl.ag.get("web-player.enhance.feedback.added_recommendation_to_playlist")})})),g.addListener(DV.c.RECOMMENDATION_ADD_FAIL,(function(){f({message:vl.ag.get("web-player.enhance.feedback.something_went_wrong"),feedbackType:wu.nY.ERROR})})),g.addListener(DV.c.RECOMMENDATION_REMOVED,(function(){f({message:vl.ag.get("web-player.enhance.feedback.removed_recommendation")})})),g.addListener(DV.c.RECOMMENDATION_REMOVE_FAIL,(function(){f({message:vl.ag.get("web-player.enhance.feedback.something_went_wrong"),feedbackType:wu.nY.ERROR})})),g.addListener(DV.c.ENHANCE_OFFLINE_FAILURE,(function(e){var t=e.data.uri;d().isPlaylistV1OrV2(t)&&f({message:vl.ag.get("web-player.enhance.feedback.enhance_playlist_not_possible_offline"),feedbackType:wu.nY.ERROR})}));var h=s.getEvents();return h.addListener(x.zy.ADDED,(function(e){"client"===e.data.source&&"ignoreinrecs"===e.data.set&&f({message:vl.ag.get("feedback.exclude-playlist-from-recommendations")})})),h.addListener(x.zy.REMOVED,(function(e){"client"===e.data.source&&"ignoreinrecs"===e.data.set&&f({message:vl.ag.get("feedback.include-playlist-in-recommendations")})})),function(e){return function(t){var n=e(t);if(t.err&&"DUPLICATE_REQUEST_ERROR"===t.err.name)return null;var r=l.getState(),i=r.onlineStatus&&!r.onlineStatus.online;switch(t.type){case Us.V5.COPY_LINK_SUCCESS:f({message:vl.ag.get("feedback.link-copied")});break;case jU.V5.PLAYBACK_ERROR:f({message:u(vl.ag.get("error.playback"),i),errorKey:m("error.playback",i),feedbackType:p(i),msTimeout:1e4});break;case jU.V5.UNABLE_TO_PLAY_TRACK:f({message:vl.ag.get("feedback.unable-to-play")});break;case As:f({message:vl.ag.get("pwa.confirm")});break;case wu.zn:f({message:vl.ag.get("feedback.radio.ban-track")});break;case wu.c4:f({message:vl.ag.get("feedback.format-list-ban-artist",t.artistName,t.playlistName)});break;case wu.Mn:f({message:vl.ag.get("feedback.format-list-ban-track",t.artistName,t.playlistName)});break;case wu.Rm:f({message:vl.ag.get("feedback.added-to-your-episodes")});break;case wu.EQ:f({message:vl.ag.get("feedback.removed-from-your-episodes")});break;case wu.Jf:f({message:vl.ag.get("feedback.playlist-publish")});break;case wu.rp:f({message:vl.ag.get("feedback.playlist-unpublish")});break;case wu.xh:f({message:vl.ag.get("feedback.block-user")});break;case wu.vx:f({message:vl.ag.get("feedback.unblock-user")});break;case Us.V5.EMPLOYEE_PODCASTS_AUTH_SUCCESS:f({message:vl.ag.get("feedback.employee-podcast-access")})}return n}}}},ZV=function(){return function(e){return function(t){var n=e(t);if(t.type===cw.V.LOG_INTERACTION){var r=t.logData;Ql(r.action_type,r.action_intent,r.item_id)}return n}}};var MV,BV,jV="REQUEST_CONNECT_DEVICES_SUCCESS",VV=function(e){return{type:jV,devices:e.devices}},HV=!1,GV=[],WV=[],zV=function(e){try{(0,ks.sQ)({metric_type:Ns.MetricTypes.COUNTER,what:"harmony-error",value:1,tags:{type:e}})}catch(e){}},KV=function(e,t){return(BV=function(){if(null===Ne)throw new Error("Missing `instance`. Have you called `createHarmony` yet?");return Ne}()).on(pe.ih.LOCAL_PLAYER_ENABLED,(function(){var e=function(){try{var e=localStorage.getItem(ge);return null===e?null:JSON.parse(e).volume||null}catch(e){return null}}();null!==e&&BV.setVolume(e,"@local");try{uB("playback_load_end");var t=dB("playback_load_start","playback_load_end","time_to_playback_ready"),n=(0,r.Z)(t,1)[0],i=(n=void 0===n?{}:n).duration;Boolean(i)&&(0,ks.sQ)({metric_type:Ns.MetricTypes.TIMER,what:"playback-ready",value:Ns.Time.fromMillis(i).asNanos()}).catch((function(){return{}}))}catch(e){}})),BV.on(pe.ih.DEVICES_CHANGED,(function(t){var n=t.data;e.dispatch(VV({devices:n.devices}))})),BV.on(pe.ih.AUTHENTICATION_ERROR,(function(){zV(pe.ih.AUTHENTICATION_ERROR)})),BV.on(pe.ih.UNRECOVERABLE_FAILURE,(function(t){var n=t.data,r=n.error.message||"";navigator.userAgent.indexOf("Edge")>-1?(e.dispatch(jU.J_()),zV(jU.V5.CDM_ERROR)):n.source===pe.cI.PLAYBACK&&e.dispatch(jU.cJ(n.name,n.source,r)),zV(pe.ih.UNRECOVERABLE_FAILURE)})),BV.on(pe.ih.ERROR,(function(t){var n,r,i=t.data;if(i.error.code===pe._j.EME_LICENSE_REQUEST_WIDEVINE_ERROR&&e.dispatch(Us.jv()),i.error.code===pe._j.MEDIA_DECODING_ERROR&&!HV){var a=i.source,o=i.error.message||"";e.dispatch(jU.cJ("media_decoding_error",a,o))}var s=i.name||(null===(n=i.error)||void 0===n?void 0:n.name)||(null===(r=i.error)||void 0===r?void 0:r.code)||"unknown";zV(s)})),BV.on(pe.ih.PLAYER_INITIALIZATION_DONE,(function(){t.triggerActions(),e.dispatch({type:WU})})),BV.on(pe.ih.PLAYER_INITIALIZATION_FAILED,(function(t){var n=t.data;if(!navigator.webdriver&&(zV(jU.V5.CDM_ERROR),n.error)){if(n.error.message&&n.error.message.indexOf("0x80004005")>=0)return;e.dispatch(jU.J_())}})),BV.on(pe.ih.MAX_SUBSCRIPTIONS_REACHED,(function(t){var n=t.data;e.dispatch(jU.lY(n.source)),zV(pe.ih.MAX_SUBSCRIPTIONS_REACHED)})),BV.on(pe.ih.PRODUCT_STATE_CHANGED,(function(){})),BV.on(pe.ih.STATE_CHANGED,(function(e){var t;if(e.data.state&&e.data.state.context&&e.data.state.context.uri&&(e.data.state.context.uri=e.data.state.context.uri.replace(/:user:([^:]+):playlist:/g,":playlist:")),0===GV.length)try{uB("playback_load_update");var n=GV=dB("playback_load_start","playback_load_update","time_to_playback_fetched"),i=(0,r.Z)(n,1)[0],a=(i=void 0===i?{}:i).duration;Boolean(a)&&(0,ks.sQ)({metric_type:Ns.MetricTypes.TIMER,what:"playback-fetched",value:Ns.Time.fromMillis(a).asNanos()}).catch((function(){return{}}))}catch(e){}(null===(t=e.data.state)||void 0===t||!t.paused)&&WV.length})),BV.on(pe.ih.LAST_ACTIVE_DEVICE_INFO_CHANGED,(function(t){var n=t.data.deviceInfo;e.dispatch(jU.$P(n))})),BV.on(pe.ih.PROGRESS,(function(){HV=!0})),BV},YV=function(e,t){var n=e.getState();return(0,Nu.Gg)(n).isAnonymous?null:KV(e,t)};function qV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function QV(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qV(Object(n),!0).forEach((function(t){(0,E.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qV(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var JV=new Set([Us.V5.CONNECT_DEVICE_PICKER_OPENED,Us.V5.OPEN_DELETE_PLAYLIST_DIALOG,Us.V5.OPEN_DELETE_FOLDER_DIALOG,Us.V5.OPEN_SIGNUP_PROMPT_DIALOG,Us.V5.SHOW_PLAYBACK_NOT_SUPPORTED_MODAL,Us.V5.CONTEXT_MENU_OPENED,Wp.Hp.SHOW_ABOUT_SPOTIFY_MODAL,zp.Hp.SHOW_LICENSES_MODAL]),XV=new Set([Us.V5.CONNECT_DEVICE_PICKER_CLOSED,Us.V5.CLOSE_DELETE_PLAYLIST_DIALOG,Us.V5.CLOSE_DELETE_FOLDER_DIALOG,Us.V5.CLOSE_SIGNUP_PROMPT_DIALOG,Us.V5.HIDE_PLAYBACK_NOT_SUPPORTED_MODAL,Us.V5.CONTEXT_MENU_CLOSED,Wp.Hp.HIDE_ABOUT_SPOTIFY_MODAL,zp.Hp.HIDE_LICENSES_MODAL]),$V=function(e,t){document.body.classList.toggle(e,t)},eH=function(e){window._kiq=window._kiq||[],window._kiq.push(["set",e])};const tH=function(e){return function(t){return function(n){var r=e.getState();if(n.type===HB.e)eH({account_type:n.data.catalogue,sp_cid:(0,me.Z)("config",{}).correlationId});else if(n.type===HB.A){var i=n.data.id;i&&_s.k.hash(i).then((function(e){eH({userIdHash:e,enabled:1})}))}else if(n.type===jU.V5.DEVICE_INFO_CHANGED){var a,o=jC(r),s=o?o.local:null,l=Boolean(null===(a=n.deviceInfo)||void 0===a?void 0:a.local);l!==s&&$V("qualaroo--connect-bar-visible",!l)}else JV.has(n.type)?$V("qualaroo--hidden",!0):XV.has(n.type)&&$V("qualaroo--hidden",!1);return t(n)}}};var nH="STORE_SEARCH",rH="SEARCH_HISTORY_CLEAR_DATA",iH=n(16375),aH=function(){return function(e){return function(t){if(t.type===rH)localStorage.removeItem(iH.J);return e(t)}}},oH=function(){return function(e){return function(){var t=(0,i.Z)(o().mark((function t(n){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e(n);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}};function sH(e){return function(t){return function(n){return function(r){var i=n(r);if(r.type===pd.y){e.finalFlush(),t.dispatch((0,jU.Nk)()),t.dispatch({type:rH});var a=document.getElementById("config");a&&a.remove()}return i}}}}var lH=!1;const cH=function(e,t){var n=e.getEvents();return function(e){return n.addListener(Ie.rg.ACTION,(function(n){var r=e.getState(),i=ku(),a=null!==i&&!1===(null==i?void 0:i.seen);lH||n.data.action!==Ie.zr.PLAY||(lH=!0,a&&(lH=!0,yu(!0),t.send(vu({country:r.session.userCountry,os:(0,ae.y)()})),e.dispatch((0,Us.D8)())))})),function(e){return function(t){return e(t)}}}},uH=function(){return function(e){return function(t){var n=e(t);switch(t.type){case Us.V5.ENTER_FULLSCREEN:document.documentElement.classList.add("fullscreen");break;case Us.V5.LEAVE_FULLSCREEN:document.documentElement.classList.remove("fullscreen")}return n}}};function dH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function mH(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dH(Object(n),!0).forEach((function(t){(0,E.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dH(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var pH={isOpen:!1};const fH=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pH,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Xd.Hp.SHOW_ABOUT_RECS_MODAL:return mH(mH({},e),{},{isOpen:!0});case Xd.Hp.HIDE_ABOUT_RECS_MODAL:return mH(mH({},e),{},{isOpen:!1});default:return e}};function vH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function gH(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vH(Object(n),!0).forEach((function(t){(0,E.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vH(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var hH={isOpen:!1};const yH=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hH,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Wp.Hp.SHOW_ABOUT_SPOTIFY_MODAL:return gH(gH({},e),{},{isOpen:!0});case Wp.Hp.HIDE_ABOUT_SPOTIFY_MODAL:return gH(gH({},e),{},{isOpen:!1});default:return e}};function kH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function EH(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kH(Object(n),!0).forEach((function(t){(0,E.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kH(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var bH={isOpen:!1,uri:"",dialog:void 0},_H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bH,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case My.Hp.SHOW_AGE_RESTRICTION_MODAL:return EH(EH({},e),{},{isOpen:!0,dialog:t.dialog});case My.Hp.GET_AGE_RESTRICTION_MODAL:return EH(EH({},e),{},{uri:t.uri});case My.Hp.HIDE_AGE_RESTRICTION_MODAL:return EH(EH({},e),{},{isOpen:!1});default:return e}},SH=n(12902);function wH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function NH(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wH(Object(n),!0).forEach((function(t){(0,E.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wH(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var OH={userLocation:{location:null,name:null},collection:{items:[],isFetching:!1},all:{}},CH=(0,SH.ZP)((function(e,t,n){e.all[t]=n})),TH=(0,SH.ZP)((function(e,t,n){e.all[t]=n})),IH=(0,SH.ZP)((function(e){e.collection.items=e.collection.items||{},e.collection.isFetching=!0})),AH=(0,SH.ZP)((function(e,t){e.collection.items=t.items,e.collection.isFetching=!1}));const PH=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:OH,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _V.V5.SET_CONCERT_LOCATION:return NH(NH({},e),{},{userLocation:NH(NH({},e.userLocation),t.location)});case _V.V5.REQUEST_ARTIST_CONCERTS_SUCCESS:return CH(e,t.uri,t.data);case _V.V5.REQUEST_CONCERT_SUCCESS:return TH(e,t.uri,t.data);case _V.V5.REQUEST_COLLECTION_CONCERTS:return IH(e,t);case _V.V5.REQUEST_COLLECTION_CONCERTS_SUCCESS:return AH(e,t.data);default:return e}};function DH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function RH(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?DH(Object(n),!0).forEach((function(t){(0,E.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DH(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var xH={isOpen:!1,playlistUri:void 0,uris:void 0,position:void 0,playlistName:void 0,newUris:void 0},LH=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xH,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case rk.Hp.SHOW_DUPLICATE_TRACKS_DIALOG:return RH(RH({},e),{},{isOpen:!0,playlistUri:t.playlistUri,uri:t.uri,uris:t.uris,position:t.position,playlistName:t.playlistName,newUris:t.newUris});case rk.Hp.HIDE_DUPLICATE_TRACKS_DIALOG:return RH(RH({},e),{},{isOpen:!1});default:return e}},FH={ads:!1};const UH=function(e,t){return t.type,e||FH};function ZH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function MH(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ZH(Object(n),!0).forEach((function(t){(0,E.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZH(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var BH={message:null,feedbackType:wu.nY.NOTICE,isHidden:!0};const jH=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:BH,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case wu.Gh:return MH(MH({},e),{},{message:t.message,feedbackType:t.feedbackType||wu.nY.NOTICE,isHidden:!1});case wu.X3:return MH(MH({},e),{},{isHidden:!0});default:return e}};function VH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function HH(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?VH(Object(n),!0).forEach((function(t){(0,E.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VH(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var GH={isOpen:!1};const WH=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:GH,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case zp.Hp.SHOW_LICENSES_MODAL:return HH(HH({},e),{},{isOpen:!0});case zp.Hp.HIDE_LICENSES_MODAL:return HH(HH({},e),{},{isOpen:!1});default:return e}};var zH=function(e){var t=(0,v.ZO)();return{isBrowser:t===g.W.Web,isPWA:t===g.W.PWA,isDesktop:t===g.W.Desktop,shouldCalloutPWA:(0,v.bX)(),isDeveloperMode:e.isDeveloperMode,isVideoSupported:e.isVideoSupported}},KH=function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zH(e),n=arguments.length>1?arguments[1]:void 0;return n.type===Ps?zH(e):t}};function YH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qH(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?YH(Object(n),!0).forEach((function(t){(0,E.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YH(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var QH={device:null,devices:[],castState:EN,connectingCastDeviceId:null,radioStation:{tracks:[]}},JH=function(e,t){return qH(qH({},e),{},{devices:t.devices})},XH=function(e,t){var n=t.deviceInfo;return n&&isNaN(n.volume)&&(n.volume=0),qH(qH({},e),{},{device:n})},$H=function(e,t){return qH(qH({},e),{},{castState:t.castState})},eG=function(e,t){return qH(qH({},e),{},{connectingCastDeviceId:t.deviceId})},tG=function(e){return qH(qH({},e),{},{connectingCastDeviceId:null})},nG=function(e){return localStorage.removeItem(ge),qH({},e)};const rG=(iG={},(0,E.Z)(iG,jU.V5.DEVICE_INFO_CHANGED,XH),(0,E.Z)(iG,jU.V5.PLAYBACK_CLEAR_DATA,nG),(0,E.Z)(iG,jV,JH),(0,E.Z)(iG,MN,$H),(0,E.Z)(iG,jN,eG),(0,E.Z)(iG,VN,tG),aG=iG,function(e,t){var n=null;return t.type in aG&&(n=aG[t.type](n||e,t)),n||e||QH});var iG,aG;function oG(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function sG(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oG(Object(n),!0).forEach((function(t){(0,E.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oG(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var lG,cG="searchHistory",uG=function(e,t,n,r){return[{uri:e,name:t,image:n}].concat(r.filter((function(t){return t.uri!==e}))).splice(0,4)},dG={contexts:(lG=localStorage.getItem(cG),lG?JSON.parse(lG).filter((function(e){return"uri"in e})):[])};const mG=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dG,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case nH:var n=t.uri?uG(t.uri,t.name,t.image,e.contexts):e.contexts;try{localStorage.setItem(cG,JSON.stringify(n))}catch(e){}return sG(sG({},e),{},{contexts:n});case rH:return localStorage.removeItem(cG),sG(sG({},e),{},{contexts:[]});default:return e}};var pG={};const fG=function(e){return null!=e?e:pG};function vG(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function gG(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vG(Object(n),!0).forEach((function(t){(0,E.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vG(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function hG(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yG(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hG(Object(n),!0).forEach((function(t){(0,E.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hG(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var kG=(0,ZN.UY)({premiumDialog:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isOpen:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case HB.A:var n=t.data,r=n.product,i=n.country,a=n.policies;return("premium"!==r||null!=a&&a.opt_in_trial_premium_only_market)&&"KR"===i?yG(yG({},e),{},{isOpen:!0}):e;case Us.V5.HIDE_PREMIUM_MODAL:return yG(yG({},e),{},{isOpen:!1});case Us.V5.SHOW_PREMIUM_MODAL:return yG(yG({},e),{},{isOpen:!0});default:return e}},loginToListenDialog:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isOpen:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Us.V5.HIDE_L2L_MODAL:return yG(yG({},e),{},{isOpen:!1});case Us.V5.SHOW_L2L_MODAL:return yG(yG({},e),{},{isOpen:!0});default:return e}},signupToListenDialog:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isOpen:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Us.V5.HIDE_S2L_MODAL:return yG(yG({},e),{},{isOpen:!1});case Us.V5.SHOW_S2L_MODAL:return yG(yG({},e),{},{isOpen:!0});default:return e}},employeePodcasts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isModalOpen:!1,isPluginEnabled:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Us.V5.HIDE_EMPLOYEE_PODCASTS_MODAL:return yG(yG({},e),{},{isModalOpen:!1});case Us.V5.SHOW_EMPLOYEE_PODCASTS_MODAL:return yG(yG({},e),{},{isModalOpen:!0});case Us.V5.EMPLOYEE_PODCASTS_PLUGIN_ENABLED:return yG(yG({},e),{},{isPluginEnabled:!0});case Us.V5.EMPLOYEE_PODCASTS_PLUGIN_DISABLED:return yG(yG({},e),{},{isPluginEnabled:!1});default:return e}},deletePlaylistDialog:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isOpen:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Us.V5.OPEN_DELETE_PLAYLIST_DIALOG:return yG(yG({},e),{},{isOpen:!0,uri:t.uri});case Us.V5.CLOSE_DELETE_PLAYLIST_DIALOG:return yG(yG({},e),{},{isOpen:!1});default:return e}},deleteFolderDialog:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isOpen:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Us.V5.OPEN_DELETE_FOLDER_DIALOG:return yG(yG({},e),{},{isOpen:!0,uri:t.uri});case Us.V5.CLOSE_DELETE_FOLDER_DIALOG:return yG(yG({},e),{},{isOpen:!1});default:return e}},leavePlaylistDialog:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isOpen:!1,playlistUri:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Us.V5.OPEN_LEAVE_PLAYLIST_DIALOG:return{isOpen:!0,playlistUri:t.playlistUri};case Us.V5.CLOSE_LEAVE_PLAYLIST_DIALOG:return{isOpen:!1,playlistUri:t.playlistUri};default:return e}},blockUserDialog:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isOpen:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Us.V5.OPEN_BLOCK_USER_DIALOG:return yG(yG({},e),{},{isOpen:!0,uri:t.uri,name:t.name});case Us.V5.CLOSE_BLOCK_USER_DIALOG:return yG(yG({},e),{},{isOpen:!1});default:return e}},improvedSignupPromptDialog:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{uri:null,isOpen:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Us.V5.OPEN_SIGNUP_PROMPT_DIALOG:return yG(yG({},e),{},{uri:t.uri,isOpen:!0});case Us.V5.CLOSE_SIGNUP_PROMPT_DIALOG:return yG(yG({},e),{},{isOpen:!1});default:return e}},unsupportedBrowser:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{message:null,isOpen:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Us.V5.HIDE_UNSUPPORTED_MESSAGE:return yG(yG({},e),{},{message:null,isOpen:!1});case Us.V5.SHOW_UNSUPPORTED_MESSAGE:return yG(yG({},e),{},{message:t.message,isOpen:!0});default:return e}},offlineDeviceLimitReachedDialog:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isOpen:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Us.V5.HIDE_OFFLINE_DEVICE_LIMIT_REACHED_MODAL:return yG(yG({},e),{},{isOpen:!1});case Us.V5.SHOW_OFFLINE_DEVICE_LIMIT_REACHED_MODAL:return yG(yG({},e),{},{isOpen:!0});default:return e}},playbackNotSupportedErrorDialog:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isOpen:!1,hasOccurred:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Us.V5.HIDE_PLAYBACK_NOT_SUPPORTED_MODAL:return yG(yG({},e),{},{isOpen:!1});case Us.V5.SHOW_PLAYBACK_NOT_SUPPORTED_MODAL:return yG(yG({},e),{},{isOpen:!0,hasOccurred:!0});default:return e}},errorPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isError:!1,name:""},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case jU.V5.CDM_ERROR:return yG(yG({},e),{},{isError:!0,name:"cdmerror"});case jU.V5.HARMONY_MAX_SUBSCRIPTIONS_REACHED:return yG(yG({},e),{},{isError:!0,name:"max_subscriptions_reached"});default:return e}},fullscreenMode:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isOpen:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Us.V5.OPEN_FULLSCREEN_MODE:return{isOpen:!0};case Us.V5.CLOSE_FULLSCREEN_MODE:case Us.V5.LEAVE_FULLSCREEN:return{isOpen:!1};default:return e}},nowPlayingCover:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{forcedExpandedState:Ch.NowPlayingCoverStateEnum.none},t=arguments.length>1?arguments[1]:void 0;return t.type===Us.V5.SET_NOW_PLAYING_COVER_FORCED_EXPANDED_STATE?yG(yG({},e),{},{forcedExpandedState:t.forcedExpandedState}):e},connectDevicePicker:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isOpen:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Us.V5.CONNECT_DEVICE_PICKER_OPENED:return yG(yG({},e),{},{isOpen:!0});case Us.V5.CONNECT_DEVICE_PICKER_CLOSED:return yG(yG({},e),{},{isOpen:!1});default:return e}},videoPlayer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isSubtitlesEnabled:!1,hiddenByUser:!1,mode:Pv.none},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Dv.SET_VIDEO_MODE:return gG(gG({},e),{},{mode:t.mode});case Dv.SET_HIDDEN_BY_USER:return gG(gG({},e),{},{hiddenByUser:t.hiddenByUser});default:return e}},textDirection:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isRTL:!1},t=arguments.length>1?arguments[1]:void 0;return t.type===xs.SET_RTL_MODE?yG(yG({},e),{},{isRTL:t.isRTL}):e},history:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{canGoBack:!1,canGoForward:!1},t=arguments.length>1?arguments[1]:void 0;return t.type===Us.V5.UPDATE_UI_HISTORY_STATE?t.historyState:e},keyboardShortcutsHelpModal:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isOpen:!1},t=arguments.length>1?arguments[1]:void 0;return t.type===Us.V5.SET_KEYBOARD_SHORTCUTS_HELP_VISIBILITY?yG(yG({},e),{},{isOpen:t.isOpen}):e},trackCreditsModal:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isOpen:!1,trackUri:""},t=arguments.length>1?arguments[1]:void 0;return t.type===Us.V5.SHOW_TRACK_CREDITS?yG(yG({},e),{},{isOpen:t.isOpen,trackUri:t.trackUri}):e},removeDownloadsDialog:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isOpen:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Us.V5.OPEN_REMOVE_DOWNLOADS_DIALOG:return yG(yG({},e),{},{isOpen:!0});case Us.V5.CLOSE_REMOVE_DOWNLOADS_DIALOG:return yG(yG({},e),{},{isOpen:!1});default:return e}},clearCacheDialog:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isOpen:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Us.V5.OPEN_CLEAR_CACHE_DIALOG:return yG(yG({},e),{},{isOpen:!0});case Us.V5.CLOSE_CLEAR_CACHE_DIALOG:return yG(yG({},e),{},{isOpen:!1});default:return e}}});function EG(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function bG(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?EG(Object(n),!0).forEach((function(t){(0,E.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):EG(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var _G=ZN.qC,SG=function(e,t){var n,r,a,s,l,c,u,d,m=e.session,p=t.platform,f=t.rootlistApi,v=t.playlistApi,g=t.permissionsApi,h=t.libraryApi,y=t.playbackApi,k=t.playerApi,E=t.followApi,b=t.actionStoreApi,_=t.enhanceApi,S=t.collectionPlatformApi,w=fs(p),O=[];if(w){var C=(r=(0,CR.v)(),a=new gB(r,yB),new kB(a));O.push(function(e){return function(t){return function(n){return function(r){var i=n(r);return r.type===pd.VX&&e.onConnectDeviceUpdate((function(e){var n=e.find((function(e){return e.is_active}));n&&t.dispatch(jU.$P(QV(QV({},n),{},{type:pe.Yi[n.type],volume:n.volume,capabilities:{supports_lossless_audio:!1},playback_features:{}}))),t.dispatch(VV({devices:e}))})),i}}}}(C)),O.push((n=t.eventSender,function(){return function(e){return function(t){var r=e(t);return t.type===pd.y&&n.finalFlush().finally(bV.k),r}}}))}else null!=m&&m.isAnonymous||O.push(function(e){return function(t){return function(n){return function(r){var i=n(r),a=t.getState(),o=a.session;if(r.type in jU.V5){var s=t.getState().ui.playbackNotSupportedErrorDialog,l=s.hasOccurred,c=s.isOpen;if(l&&!c)return t.dispatch(Us.jv()),i}switch(r.type){case pd.VX:!MV&&o.accessToken&&(MV=YV(t,e),t.getState().features&&t.getState().features.mwp&&window.addEventListener("focus",(function(){MV&&MV._controller&&!MV._controller._state?MV=YV(t,e):MV.getCurrentState().then((function(n){n||(MV=YV(t,e))}))})));break;case jU.V5.SET_ACTIVE_DEVICE:a.playback.device&&a.playback.device.id===r.id||MV.transfer(r.id)}return i}}}}(b)),O.push(aV),O.push(EV(t.transport,t.eventSender,p.enableCastConnect));return[aZ(k,h,f,E,b),(d=t.offlineApi,function(e){return d.getEvents().addListener(ni.X.ERROR,(function(t){t.data.code===ti.jK.DEVICE_LIMIT_REACHED&&e.dispatch((0,Us.p)())})),function(e){return function(){var t=(0,i.Z)(o().mark((function t(n){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e(n);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}),(u=t.history.push,function(e){return function(t){return function(n){var r=window.location,i=r.pathname,a=r.search,o=r.hash,s=e.dispatch,l=e.getState(),c=new RegExp($l),d=Us.V5.OPEN_SIGNUP_PROMPT_DIALOG,m=Us.V5.CLOSE_SIGNUP_PROMPT_DIALOG,p=Us.V5.UPDATE_UI_HISTORY_STATE,f=Jl.V5.ANONYMOUS_COLLECTION_NAVIGATION,v=Jl.V5.ANONYMOUS_LIKED_SONGS_NAVIGATION;switch(n.type){case d:u({pathname:i,search:a,state:{},hash:$l});break;case m:u({pathname:i,search:a,state:{},hash:""});break;case p:(function(e){return e.ui.improvedSignupPromptDialog.isOpen})(l)&&!c.test(o)&&s((0,Us.dE)());break;case f:case v:u({pathname:n.pathname,search:a,state:{},hash:""})}return t(n)}}}),_B(t.deferredAction)].concat(O,(0,N.Z)(function(e,t,n,r,a,s){var l,c,u=e?new jB(SB.gN,(0,_R.makePrefs)((0,TR.G)())):new VB,d=e?["/"]:[];return[JB({rootApi:u}),(c=n.sponsoredPlaylist,function(e){return function(t){return function(){var n=(0,i.Z)(o().mark((function n(r){var i,a,s,l;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:i=t(r),n.t0=r.type,n.next=n.t0===NS.Hp.ADS_ENABLED?4:n.t0===NS.Hp.ADS_DISABLED?6:n.t0===LB.jY?8:n.t0===LB.Gi?19:n.t0===LB.Kf?31:n.t0===LB.IP?33:35;break;case 4:return c.enable((function(t){e.dispatch((0,LB.uE)(t))})),n.abrupt("break",36);case 6:return c.disable(),n.abrupt("break",36);case 8:return n.prev=8,n.next=11,c.requestSponsoredPlaylists();case 11:a=n.sent,e.dispatch((0,LB.iN)(a)),n.next=18;break;case 15:n.prev=15,n.t1=n.catch(8),e.dispatch((0,LB.Pu)(n.t1 instanceof Error?n.t1:new Error("Unknown error object")));case 18:return n.abrupt("break",36);case 19:return n.prev=19,s=r.playlistUri,n.next=23,c.requestSponsoredPlaylistAd(s);case 23:l=n.sent,e.dispatch((0,LB.Ot)(s,l)),n.next=30;break;case 27:n.prev=27,n.t2=n.catch(19),e.dispatch((0,LB.Ud)(n.t2 instanceof Error?n.t2:new Error("Unknown error object")));case 30:return n.abrupt("break",36);case 31:return c.logEvent(r.message),n.abrupt("break",36);case 33:return e.dispatch((0,LB.uE)(null)),n.abrupt("break",36);case 35:return n.abrupt("break",36);case 36:return n.abrupt("return",i);case 37:case"end":return n.stop()}}),n,null,[[8,15],[19,27]])})));return function(e){return n.apply(this,arguments)}}()}}),qB({history:t,blockedPaths:d,rootApi:u,adManagers:n,isDesktop:e,playerAPI:a})].concat((0,N.Z)(e?[xB(n.leaderboard,e,s),CB(n.billboard,t,a),(l=n.hpto,function(e){return function(t){return function(){var n=(0,i.Z)(o().mark((function n(r){var a,s,c,u,d;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:a=t(r),s=e.getState(),n.t0=r.type,n.next=n.t0===pd.VX?5:n.t0===AB.Hp.HPTO_CONTAINER_MOUNTED?8:n.t0===AB.Hp.FETCH_CREATIVE?14:n.t0===AB.r1?38:n.t0===AB.Hp.HPTO_COMPONENT_NEW_AD_RENDERED?40:n.t0===AB.Hp.HPTO_COMPONENT_UNMOUNTED?42:n.t0===NS.Hp.ADS_POST_HIDE_HPTO?44:n.t0===AB._G?46:n.t0===AB.rt?48:n.t0===AB.Hp.DEBUG_FORCE_REFRESH_HPTO?50:n.t0===TB.vk?56:58;break;case 5:return l.subscribeToPreview((function(t){e.dispatch((0,AB.bo)(t)),e.dispatch((0,AB.dk)())})),l.onRefresh((0,i.Z)(o().mark((function t(){var n;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.fetchTemplate();case 2:return n=t.sent,e.dispatch((0,AB.uE)(n)),e.dispatch((0,AB.lb)()),t.abrupt("return");case 6:case"end":return t.stop()}}),t)})))),n.abrupt("break",59);case 8:return n.next=10,l.fetchTemplate();case 10:return c=n.sent,e.dispatch((0,AB.uE)(c)),e.dispatch((0,AB.lb)()),n.abrupt("break",59);case 14:if(!s.ads.hpto.preview){n.next=16;break}return n.abrupt("break",59);case 16:if(s.ads.hpto.creativeFetchingState!==IB.Y.FETCHING){n.next=18;break}return n.abrupt("break",59);case 18:if(s.ads.hpto.template){n.next=20;break}return n.abrupt("break",59);case 20:if(s.ads.hpto.hptoContainerMounted){n.next=22;break}return n.abrupt("break",59);case 22:if(!s.ads.root.isPremium||!s.ads.root.isHptoHidden){n.next=25;break}return l.logHptoHidden(),n.abrupt("break",59);case 25:return n.prev=25,e.dispatch((0,AB.Ir)()),n.next=29,l.fetchCreative(s.ads.hpto.template);case 29:u=n.sent,e.dispatch((0,AB._M)(u)),n.next=37;break;case 33:n.prev=33,n.t1=n.catch(25),console.error(n.t1),e.dispatch((0,AB.yg)());case 37:return n.abrupt("break",59);case 38:return l.viewRendered(r.element),n.abrupt("break",59);case 40:return l.logViewed(),n.abrupt("break",59);case 42:return l.viewDestroyed(),n.abrupt("break",59);case 44:return l.logEvent("event_collapsed"),n.abrupt("break",59);case 46:return l.logEvent(r.event,r.context),n.abrupt("break",59);case 48:return l.logErrorEvent(r.error),n.abrupt("break",59);case 50:return n.next=52,l.fetchTemplate();case 52:return d=n.sent,e.dispatch((0,AB.uE)(d)),e.dispatch((0,AB.lb)()),n.abrupt("break",59);case 56:return l.onlineStateChanged(r.isOnline),n.abrupt("break",59);case 58:return n.abrupt("break",59);case 59:return n.abrupt("return",a);case 60:case"end":return n.stop()}}),n,null,[[25,33]])})));return function(e){return n.apply(this,arguments)}}()}}),OB(n.audio,r,a),MB(n.vto.manager,a)]:[]))}(w,t.history,t.adManagers,y,k,t.eventSender)),[(c=t.serviceWorkerMessenger,function(){return function(e){return function(t){var n=e(t);return t.type===pd.y&&c(t),n}}}),(l=t.ageRestrictionApi,function(e){return function(t){return function(){var n=(0,i.Z)(o().mark((function n(r){var i,a;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:i=t(r),n.t0=r.type,n.next=n.t0===My.Hp.GET_AGE_RESTRICTION_MODAL?4:14;break;case 4:return n.prev=4,n.next=7,l.getDialog(r.uri);case 7:a=n.sent,e.dispatch((0,My.vQ)(a)),n.next=13;break;case 11:n.prev=11,n.t1=n.catch(4);case 13:case 14:return n.abrupt("break",15);case 15:return n.abrupt("return",i);case 16:case"end":return n.stop()}}),n,null,[[4,11]])})));return function(e){return n.apply(this,arguments)}}()}}),TV(v),OV,sH(t.eventSender),uH,UV(k,v,h,f,g,_,S),Md(t.history,k),qj,aH,PV(t.eventSender),ZV,(s=t.transport,function(){return function(e){return function(){var t=(0,i.Z)(o().mark((function t(n){var r,i;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=e(n),t.t0=n.type,t.next=t.t0===Us.V5.EMPLOYEE_PODCASTS_AUTH_SUCCESS?4:6;break;case 4:try{null==(i=s.getPluginAPI(Ho))||i.enable()}catch(e){}return t.abrupt("break",7);case 6:return t.abrupt("break",7);case 7:return t.abrupt("return",r);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}),cH(k,t.eventSender),oH,mB.Z])};function wG(e,t){var n=t.platform,r=SG(e,t);return n.container!==g.W.Desktop&&r.push(tH),(0,ZN.MT)(function(e){return(0,ZN.UY)(bG(bG({playback:rG,session:pd.cY,ui:kG,feedbackBubble:jH,searchHistory:mG,features:UH,onlineStatus:TB.Qw,browse:$j,duplicateTracks:LH,ageRestriction:_H,platform:KH(e),ads:Ij(e.container),inAppMessaging:Qd,aboutRecs:fH,seoExperiment:fG},e.container===g.W.Desktop&&{aboutSpotify:yH,licenses:WH}),{},{concerts:PH}))}(n),e,_G(ZN.md.apply(void 0,(0,N.Z)(r))))}function NG(e){return{type:HB.A,data:e}}function OG(e){return{type:HB.e,data:e}}uB("playback_load_start");var CG=function(){var e=document.getElementById("main");return e||((e=document.createElement("div")).id="main",document.body.appendChild(e)),e};function TG(e,t){return IG.apply(this,arguments)}function IG(){return IG=(0,i.Z)(o().mark((function e(t,n){var i,a,s,c,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([t.getUser(),t.getProductState()]);case 2:if(i=e.sent,a=(0,r.Z)(i,2),s=a[0],c=a[1],null!==s&&null!==c){e.next=8;break}return e.abrupt("return");case 8:return e.next=10,_s.k.hash(s.username);case 10:u=e.sent,(0,l.e)((function(e){(0,v.ZO)()===g.W.Desktop&&e.setUser({id:u}),e.setTag("product",c.product)})),n.dispatch(NG({country:c.country,uri:s.uri,id:s.username,display_name:s.displayName||void 0,images:s.images.map((function(e){return{url:e.url,width:e.width||null,height:e.height||null}})),product:c.product,policies:{opt_in_trial_premium_only_market:s.optInTrialPremiumOnlyMarket},type:"user"})),n.dispatch(OG(c));case 14:case"end":return e.stop()}}),e)}))),IG.apply(this,arguments)}function AG(){return AG=(0,i.Z)(o().mark((function e(){var t,n,r,a,u,v,g,h,k,E,b,_,S,w,N,O,C,T,I,A,P;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(y()||"1"==={NODE_ENV:"production",DEBUG_EVENT_SENDER:!1,DEBUG_SEMANTIC_METRICS:void 0}.DEBUG_SENTRY)&&("xpui_2022-08-26_1661529059895_3ae3b4f",(0,Es.j6)("https://de32132fc06e4b28965ecf25332c3a25@sentry.io/114855","xpui_2022-08-26_1661529059895_3ae3b4f",{sampleRate:.001})),e.next=3,us();case 3:return t=e.sent,n=t.getSession(),r=t.getHistory(),a=t.getFeatureFlags(),u=t.getSEOExperiments(),v=t.getControlMessageAPI(),(0,l.e)((function(e){Object.keys(a).forEach((function(t){e.setExtra(t,a[t])})),t.container&&e.setTag("container",t.container)})),Ss(),Qp(t.container,t.operatingSystem),v.getEvents().addListener("message",(function(e){if(e.data.type===f.O4.NAVIGATION&&e.data.data){var t,n=null===(t=d().from(e.data.data))||void 0===t?void 0:t.toURLPath(!0);n&&r.push(n,{referrer:"deeplink"})}})),ms()&&!a.mwp&&(window.location.href="https://www.spotify.com"),g=(0,me.Z)("config",{recaptchaWebPlayerFraudSiteKey:null,optimizeId:null,gtmId:null,locale:"en"}),h=g.recaptchaWebPlayerFraudSiteKey,k=g.gtmId,E=g.market,b=g.locale,_=g.userCountry,S=fs(t),w=t.getPlayerAPI(),N=t.getAuthorizationAPI(),O=t.getTransport(),C=t.getEventSender(),e.next=22,t.getServiceWorkerMessenger();case 22:return T=e.sent,I=wG({session:n,features:a,seoExperiment:u},{platform:t,history:r,playbackApi:t.getPlaybackAPI(),playerApi:w,rootlistApi:t.getRootlistAPI(),rootlist:t.getRootlistAPI(),playlistApi:t.getPlaylistAPI(),permissionsApi:t.getPlaylistPermissionsAPI(),radioStationAPI:t.getRadioStationAPI(),followApi:t.getFollowAPI(),libraryApi:t.getLibraryAPI(),library:t.getLibraryAPI(),actionStoreApi:t.getActionStoreAPI(),enhanceApi:t.getEnhanceAPI(),collectionPlatformApi:t.getCollectionPlatformAPI(),serviceWorkerMessenger:T,offlineApi:t.getOfflineAPI(),remoteConfigResolver:t.getRemoteConfiguration(),transport:O,eventSender:C,adManagers:t.getAdManagers(),deferredAction:ys(sessionStorage,"ANONYMOUS_DEFERRED_ACTION_KEY"),ageRestrictionApi:new hs(Gt.b.getInstance()),data:{recaptchaWebPlayerFraudSiteKey:h}}),O.on(p.TransportEvent.ACCESS_TOKEN,(0,i.Z)(o().mark((function e(){var t,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=N.getTokenProvider(),e.next=3,t({preferCached:!0});case 3:null!==(n=e.sent)&&(Gt.b.setSession(n),I.dispatch((0,pd.qR)(n)));case 5:case"end":return e.stop()}}),e)})))),A=!1,O.on(p.TransportEvent.RECONNECTING,(function(){A=!0})),O.on(p.TransportEvent.RECONNECTED,(function(){A=!1})),O.on(p.TransportEvent.AUTHENTICATION_FAILED,(0,i.Z)(o().mark((function e(){var t,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!A){e.next=2;break}return e.abrupt("return");case 2:if(S){e.next=8;break}return t=N.getTokenProvider(),e.next=6,t({preferCached:!0});case 6:null!==(n=e.sent)&&n.isAnonymous||I.dispatch((0,pd.Tz)());case 8:case"end":return e.stop()}}),e)})))),(0,ks.p1)("desktop-web-player",O),Ts(),UR(t),I.dispatch((0,pd.zD)()),I.dispatch(Fs(n.locale)),S&&document.documentElement.setAttribute("lang",n.locale),cB(window.navigator,I.dispatch,w),lB((function(){I.dispatch(Ds())})),oB(r,(function(e){I.dispatch((0,Us.x0)(e))})),e.next=40,TG(t.getUserAPI(),I);case 40:P=CG(),(0,bs.cM)(),(0,c.render)(s.createElement(nB,{store:I,platform:t}),P),!S&&k&&(0,m.j)({dataLayerPushInitial:!0,googleTagManagerId:k,language:b,market:E,loggedIn:!n.isAnonymous,oneTrust:ps(),userCountry:_}),Jp(t.operatingSystem)&&I.dispatch((0,Us.rM)());case 45:case"end":return e.stop()}}),e)}))),AG.apply(this,arguments)}(function(){return AG.apply(this,arguments)})().catch((function(e){(0,Es.CG)(e),console.error(e);var t=CG();(0,c.render)(s.createElement(Ll,null),t)}))},53538:(e,t,n)=>{"use strict";n.d(t,{aK:()=>o,l7:()=>a,qq:()=>i});var r=n(26482),i=function(e,t){var n=e.contextMenuButtonFactory().hitUiReveal();t.logInteraction(n)},a=function(e,t,n,i){var a=void 0;if(e===r.mc.ADD)a=t.hitDownload({itemToDownload:i});else if(e===r.mc.REMOVE)a=t.hitRemoveDownload({itemToRemoveFromDownloads:i});else if(e===r.mc.NO_PERMISSION){var o;a=null===(o=t.hitUiReveal)||void 0===o?void 0:o.call(t)}a&&n.logInteraction(a)},o=function(e){var t,n=e.isPlaying,r=e.isActive,i=e.spec,a=e.logger,o=e.uri;return t=n?i.hitPause({itemToBePaused:o}):r?i.hitResume({itemToBeResumed:o}):i.hitPlay({itemToBePlayed:o}),a.logInteraction(t)}},32397:(e,t,n)=>{"use strict";n.d(t,{gi:()=>r,mZ:()=>o,t3:()=>a,wH:()=>i});var r="player.play",i="library.add",a="rootlist.add",o="follow.user"},91250:(e,t,n)=>{"use strict";n.d(t,{Hr:()=>a,j5:()=>o});n(21703),n(96647);var r=n(67294),i=(0,r.createContext)(null),a=function(e){var t=e.instance,n=e.children;return r.createElement(i.Provider,{value:t},n)},o=function(){var e=(0,r.useContext)(i);if(null===e)throw new Error("useActionStore must be used within a ActionStoreProvider");return e}},97481:(e,t,n)=>{"use strict";n.d(t,{i:()=>r});var r=function(e){return"spotify:artist:0LyfQWJT6nXafLPZqxe9Of"!==e.uri}},91447:(e,t,n)=>{"use strict";n.d(t,{A5:()=>o,S2:()=>a,VG:()=>u,cl:()=>d});var r=n(29439),i=(n(21703),n(96647),n(67294)),a=function(e){return{type:"SET_BACKGROUND_COLOR",color:e}},o=function(){return{type:"CLEAR_BACKGROUND_COLOR"}};function s(e,t){switch(t.type){case"SET_BACKGROUND_COLOR":return{backgroundColor:t.color};case"CLEAR_BACKGROUND_COLOR":return{backgroundColor:null}}return e}var l={backgroundColor:null},c=(0,i.createContext)(null),u=function(e){var t=e.children,n=(0,i.useReducer)(s,l),a=(0,r.Z)(n,2),o=a[0],u=a[1];return i.createElement(c.Provider,{value:[o,u]},t)};function d(){var e=(0,i.useContext)(c);if(null===e)throw new Error("Trying to use 'BackgroundColorContext' without 'BackgroundColorProvider'!");return e}},61901:(e,t,n)=>{"use strict";n.d(t,{Y5:()=>i.Y,Zj:()=>a.Z,cl:()=>r.cl});var r=n(91447),i=n(37081),a=(n(18136),n(62515))},37081:(e,t,n)=>{"use strict";n.d(t,{H:()=>l,Y:()=>s});var r=n(29439),i=n(67294),a=n(73012),o=n(91447);function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.Sns,n=(0,o.cl)(),s=(0,r.Z)(n,2),l=s[1];return(0,i.useEffect)((function(){return null!==e&&l((0,o.S2)(e)),function(){l((0,o.A5)())}}),[e,l]),e||t}var l=function(e){return s(e.color,e.fallbackColor),null}},18136:(e,t,n)=>{"use strict";n.d(t,{D:()=>a});var r=n(29439),i=n(91447);function a(e){var t=(0,i.cl)();return(0,r.Z)(t,1)[0].backgroundColor||e}},62515:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(29439),i=n(67294),a=n(73012),o=n(45474),s=n(91447);function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.Sns,n=(0,s.cl)(),l=(0,r.Z)(n,2),c=l[0].backgroundColor,u=l[1],d=(0,o.b)(e);return(0,i.useEffect)((function(){return u((0,s.S2)(d)),function(){u((0,s.A5)())}}),[d,u]),c||t}},97181:(e,t,n)=>{"use strict";n.d(t,{dD:()=>a,TQ:()=>f,gs:()=>y,aw:()=>g});var r=n(67294),i=(0,r.createContext)({copy:function(){}}),a=function(e){var t=e.instance,n=e.children;return r.createElement(i.Provider,{value:t},n)},o=n(24697),s=n(70043),l=(n(66992),n(51532),n(41539),n(78783),n(33948),n(40561),n(82772),n(96647),n(83710),n(39714),n(24812),n(89554),n(42441)),c=n.n(l),u=new Map;function d(e,t){var n=function(e){var t=u.get(e.toString());if(t)return t;var n=[];return c().bind(e,(function(){return n.forEach((function(e){return e()}))})),u.set(e.toString(),n),n}(e);(0,r.useEffect)((function(){return n.push(t),function(){n.splice(n.indexOf(t),1)}}),[n,t])}var m=["meta+c"],p=["meta+shift+c"];function f(e){var t=(0,r.useContext)(i),n=(0,o.y1)((function(){e((function(e){return t.copy(e)}),!1)}),50,{leading:!0,trailing:!1}),a=(0,o.y1)((function(){e((function(e){return t.copy(e)}),!0)}),50,{leading:!0,trailing:!1});d(m,n),d(p,a),(0,s.eY)(s.O4.COPY,n),(0,s.eY)(s.O4.COPY_ADVANCED,a)}var v=["meta+v"];function g(e){var t=(0,r.useContext)(i),n=(0,o.y1)((function(){t.paste().then((function(t){return e(t)}))}),500,{leading:!0,trailing:!1});d(v,n),(0,s.eY)(s.O4.PASTE,n)}var h=["meta+x"];function y(e){var t=(0,r.useContext)(i),n=(0,o.y1)((function(){e((function(e){return t.copy(e)}))}),50,{leading:!0,trailing:!1});d(h,n),(0,s.eY)(s.O4.CUT,n)}},55758:(e,t,n)=>{"use strict";n.d(t,{XC:()=>m,yF:()=>p,zy:()=>u});n(41539),n(81299),n(12419);var r=n(43144),i=n(15671),a=n(60136),o=n(82963),s=n(61120),l=(n(26699),n(98938));function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,s.Z)(e);if(t){var i=(0,s.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,o.Z)(this,n)}}var u,d=["artist","artistban","ban","collection","enhanced","ignoreinrecs","listenlater","show","ylpin"];function m(e){return d.includes(e)}!function(e){e.ADDED="added",e.REMOVED="removed"}(u||(u={}));var p=function(e){(0,a.Z)(n,e);var t=c(n);function n(){return(0,i.Z)(this,n),t.apply(this,arguments)}return(0,r.Z)(n)}(l.r)},25216:(e,t,n)=>{"use strict";n.d(t,{$:()=>a,s:()=>o});n(21703),n(96647);var r=n(67294),i=(0,r.createContext)(null),a=function(e){var t=e.instance,n=e.children;return r.createElement(i.Provider,{value:t},n)},o=function(){var e=(0,r.useContext)(i);if(null===e)throw new Error("useCollectionPlatformAPI must be used within a CollectionPlatformAPIProvider");return e}},97397:(e,t,n)=>{"use strict";n.d(t,{J:()=>i,m:()=>r});var r=56,i=64},92357:(e,t,n)=>{"use strict";n.d(t,{z:()=>c});n(41539),n(81299),n(12419);var r=n(43144),i=n(15671),a=n(60136),o=n(82963),s=n(61120);function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,s.Z)(e);if(t){var i=(0,s.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,o.Z)(this,n)}}var c=function(e){(0,a.Z)(n,e);var t=l(n);function n(){return(0,i.Z)(this,n),t.apply(this,arguments)}return(0,r.Z)(n)}(n(33178).vp)},70043:(e,t,n)=>{"use strict";n.d(t,{O4:()=>r,r$:()=>o,J$:()=>s,sN:()=>i,eY:()=>l,J4:()=>c});var r,i,a=n(67294),o=(0,a.createContext)({getEvents:function(){}}),s=function(e){var t=e.instance,n=e.children;return a.createElement(o.Provider,{value:t},n)};function l(e,t){var n=(0,a.useContext)(o),r=(0,a.useRef)(t);(0,a.useEffect)((function(){r.current=t})),(0,a.useEffect)((function(){var t=n.getEvents();function i(t){var n=t.data,i=n.type,a=n.data;i===e&&r.current(a)}return t.addListener("message",i),function(){t.removeListener("message",i)}}),[e,n])}function c(e){var t=(0,a.useContext)(o);(0,a.useEffect)((function(){return t.enableMenuItem(e),function(){t.disableMenuItem(e)}}),[t,e])}!function(e){e.COPY="copy",e.COPY_ADVANCED="copy_advanced",e.CUT="cut",e.PASTE="paste",e.SELECT_ALL="select_all",e.FILTER="filter",e.DELETE="delete",e.CREATE_NEW_FOLDER="create_new_folder",e.CREATE_NEW_PLAYLIST="create_new_playlist",e.BROWSE_BACKWARD="browse_backward",e.BROWSE_FORWARD="browse_forward",e.LOGOUT="logout",e.SHOW_ABOUT="show_about",e.SHOW_PREFERENCES="show_preferences",e.SHOW_SEARCH="show_search",e.SHOW_DEBUG_WINDOW="show_debug_window",e.SHOW_ACCOUNT="show_account",e.SHOW_COMMUNITY="show_community",e.SHOW_HELP="show_help",e.SHOW_LICENSES="show_licenses",e.SHOW_LICENSING_INFORMATION="show_licensing_information",e.SHOW_SCTA_INFORMATION="show_scta_information",e.NAVIGATION="navigation",e.ENTER_FULLSCREEN="enter_fullscreen",e.LEAVE_FULLSCREEN="leave_fullscreen",e.SET_PLATFORM_EMULATION_AUTO="set_platform_emulation_auto",e.SET_PLATFORM_EMULATION_MACOS="set_platform_emulation_macos",e.SET_PLATFORM_EMULATION_WINDOWS="set_platform_emulation_windows",e.SET_PLATFORM_EMULATION_LINUX="set_platform_emulation_linux"}(r||(r={})),function(e){e.FILTER="enable_filter_item"}(i||(i={}))},88074:(e,t,n)=>{"use strict";n.d(t,{t:()=>d});var r=n(15861),i=n(15671),a=n(43144),o=n(87757),s=n.n(o),l=(n(38862),n(21703),n(96647),n(89554),n(41539),n(54747),n(84944),n(33792),n(45561)),c=n(67111),u=n(9446),d=function(){function e(t){(0,i.Z)(this,e),this.localStorageAPI=t,this.filters=JSON.parse(JSON.stringify(this.getPreset().filters))}var t,n;return(0,a.Z)(e,[{key:"subscribeToEnabledState",value:function(e){throw new Error("subscribeToEnabledState not yet implemented")}},{key:"setEnabledState",value:function(e){throw new Error("setEnabledState not yet implemented")}},{key:"setFilterGain",value:(n=(0,r.Z)(s().mark((function e(t,n){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("setFilterGain not yet implemented");case 1:case"end":return e.stop()}}),e)}))),function(e,t){return n.apply(this,arguments)})},{key:"getFilters",value:(t=(0,r.Z)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("getFilters not yet implemented");case 1:case"end":return e.stop()}}),e)}))),function(){return t.apply(this,arguments)})},{key:"isSupported",value:function(){throw new Error("isSupported not yet implemented")}},{key:"setPreset",value:function(e){var t=this,n="string"==typeof e?u.PG[e]:e;this.localStorageAPI.setItem(c.V,n),n.filters.forEach((function(e){t.setFilterGain(e.key,e.gain)}))}},{key:"getPreset",value:function(){var e=this.localStorageAPI.getItem(c.V);return e instanceof Error?u.PG.flat:e}},{key:"subscribeToPresetChange",value:function(e){var t=this.localStorageAPI.getEvents(),n=function(t){if(t.data.key===c.V){var n=t.data.value;e(n)}};return t.addListener(l.u.UPDATE,n),function(){t.removeListener(l.u.UPDATE,n)}}}]),e}()},67111:(e,t,n)=>{"use strict";n.d(t,{K:()=>r,V:()=>i});var r="audio.equalizer.enabled",i="audio.equalizer.saved_preset"},9446:(e,t,n)=>{"use strict";n.d(t,{PG:()=>d,f8:()=>m,l5:()=>l});n(47941),n(82526),n(57327),n(38880),n(89554),n(54747),n(49337),n(33321),n(69070);var r=n(4942),i=n(29439),a=(n(85827),n(41539),n(69720),n(21249),n(43371),n(84944),n(33792),n(96206));function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var l=12,c=[{type:"lowshelf",frequency:60,key:"audio.equalizer.low_shelf_gain_v2",gain:0},{type:"peaking",frequency:150,key:"audio.equalizer.low_peak_gain_v2",gain:0},{type:"peaking",frequency:400,key:"audio.equalizer.low_mid_peak_gain_v2",gain:0},{type:"peaking",frequency:1e3,key:"audio.equalizer.high_mid_peak_gain_v2",gain:0},{type:"peaking",frequency:2400,key:"audio.equalizer.high_peak_gain_v2",gain:0},{type:"highshelf",frequency:15e3,key:"audio.equalizer.high_shelf_gain_v2",gain:0}],u={flat:{gains:[0,0,0,0,0,0],get displayName(){return a.ag.get("equalizer.preset.flat")}},acoustic:{gains:[4.9,3.95,2.15,1.75,3.5,2.15],get displayName(){return a.ag.get("equalizer.preset.acoustic")}},bassBooster:{gains:[4.25,3.5,1.25,0,0,0],get displayName(){return a.ag.get("equalizer.preset.bassBooster")}},bassReducer:{gains:[-4.25,-3.5,-1.25,0,0,0],get displayName(){return a.ag.get("equalizer.preset.bassReducer")}},classical:{gains:[3.75,3,-1.5,-1.5,0,3.75],get displayName(){return a.ag.get("equalizer.preset.classical")}},dance:{gains:[6.55,4.99,1.92,3.65,5.15,0],get displayName(){return a.ag.get("equalizer.preset.dance")}},deep:{gains:[3.55,1.75,2.85,2.5,1.45,-2.15,-3.55,-4.6],get displayName(){return a.ag.get("equalizer.preset.deep")}},electronic:{gains:[3.8,1.2,-2.15,2.25,.85,4.8],get displayName(){return a.ag.get("equalizer.preset.electronic")}},hiphop:{gains:[4.25,1.5,-1,-1,1.5,3],get displayName(){return a.ag.get("equalizer.preset.hiphop")}},jazz:{gains:[3,1.5,-1.5,-1.5,0,3.75],get displayName(){return a.ag.get("equalizer.preset.jazz")}},latin:{gains:[3,0,-1.5,-1.5,-1.5,4.5],get displayName(){return a.ag.get("equalizer.preset.latin")}},loudness:{gains:[4,0,-2,0,-1,1],get displayName(){return a.ag.get("equalizer.preset.loudness")}},lounge:{gains:[-1.5,-.5,4,2.5,0,1],get displayName(){return a.ag.get("equalizer.preset.lounge")}},piano:{gains:[2,0,3,1.5,3.5,3.5],get displayName(){return a.ag.get("equalizer.preset.piano")}},pop:{gains:[-1,0,4,4,2,-1.5],get displayName(){return a.ag.get("equalizer.preset.pop")}},rnb:{gains:[6.92,5.65,-2.19,-1.5,2.32,3.75],get displayName(){return a.ag.get("equalizer.preset.rnb")}},rock:{gains:[4,3,-.5,-1,.5,4.5],get displayName(){return a.ag.get("equalizer.preset.rock")}},smallSpeakers:{gains:[4.25,3.5,1.25,0,-1.25,-4.25],get displayName(){return a.ag.get("equalizer.preset.smallSpeakers")}},spokenWord:{gains:[-.47,0,3.46,4.61,4.84,0],get displayName(){return a.ag.get("equalizer.preset.spokenWord")}},trebleBooster:{gains:[0,0,0,1.25,2.5,5.5],get displayName(){return a.ag.get("equalizer.preset.trebleBooster")}},trebleReducer:{gains:[0,0,0,-1.25,-2.5,-5.5],get displayName(){return a.ag.get("equalizer.preset.trebleReducer")}},vocalBooster:{gains:[-3,-3,3.75,3.75,3,-1.5],get displayName(){return a.ag.get("equalizer.preset.vocalBooster")}}},d=Object.entries(u).reduce((function(e,t){var n=(0,i.Z)(t,2),a=n[0],o=n[1],l=c.map((function(e,t){return Object.freeze(s(s({},e),{},{gain:o.gains[t]}))}));return s(s({},e),{},(0,r.Z)({},a,{filters:l,key:a,get displayName(){return o.displayName}}))}),{});function m(e){return{key:"custom",displayName:a.ag.get("equalizer.preset.manual"),filters:e.map((function(e,t){return{frequency:d.flat.filters[t].frequency,key:d.flat.filters[t].key,type:d.flat.filters[t].type,gain:e}}))}}},22586:(e,t,n)=>{"use strict";n.d(t,{f:()=>o,x:()=>a});n(21703),n(96647);var r=n(67294),i=(0,r.createContext)(null),a=function(e){var t=e.instance,n=e.children;return r.createElement(i.Provider,{value:t},n)},o=function(){var e=(0,r.useContext)(i);if(null===e)throw new Error("useEqualizerAPI must be used within a EqualizerProvider");return e}},37900:(e,t,n)=>{"use strict";n.d(t,{D:()=>r,Z:()=>d});n(41539),n(81299),n(12419);var r,i=n(43144),a=n(15671),o=n(60136),s=n(82963),l=n(61120),c=n(98938);function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,l.Z)(e);if(t){var i=(0,l.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,s.Z)(this,n)}}!function(e){e.CONNECTION_STATE_CHANGE="connection_state_change"}(r||(r={}));var d=function(e){(0,o.Z)(n,e);var t=u(n);function n(){return(0,a.Z)(this,n),t.apply(this,arguments)}return(0,i.Z)(n)}(c.r)},71801:(e,t,n)=>{"use strict";n.d(t,{H:()=>a,e:()=>i});n(21703),n(96647);var r=n(67294),i=(0,r.createContext)(null);function a(){var e=(0,r.useContext)(i);if(null===e)throw new Error("Trying to use FacebookContext without FacebookProvider!");return e}},22647:(e,t,n)=>{"use strict";n.d(t,{BM:()=>r,rA:()=>i,uZ:()=>m});n(41539),n(81299),n(12419);var r,i,a=n(15671),o=n(43144),s=n(60136),l=n(82963),c=n(61120),u=n(98938);function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.Z)(e);if(t){var i=(0,c.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,l.Z)(this,n)}}!function(e){e.FOLLOW_USER="follow_user",e.UNFOLLOW_USER="unfollow_user",e.IS_FOLLOWING_USER="is_following_user"}(r||(r={})),function(e){e.OPERATION="operation",e.OPERATION_COMPLETE="operation_complete"}(i||(i={}));var m=function(e){(0,s.Z)(n,e);var t=d(n);function n(){return(0,a.Z)(this,n),t.apply(this,arguments)}return(0,o.Z)(n,[{key:"emitOperationSync",value:function(e,t){return this.emitSync(i.OPERATION,{operation:e,uris:t}).defaultPrevented}},{key:"emitOperationComplete",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.emit(i.OPERATION_COMPLETE,{operation:e,uris:t,error:n})}}]),n}(u.r)},14411:(e,t,n)=>{"use strict";n.d(t,{$:()=>O});var r=n(29439),i=n(15861),a=n(15671),o=n(43144),s=n(87757),l=n.n(s),c=(n(82526),n(41817),n(41539),n(89554),n(54747),n(69720),n(21703),n(96647),n(69518)),u=n.n(c),d=n(94967),m=(n(21249),n(69600),n(85827),n(56705)),p=n(16516),f=n(15429),v="/me/following";function g(e,t,n,r){return h.apply(this,arguments)}function h(){return h=(0,i.Z)(l().mark((function e(t,n,r,a){var o,s;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=a.map((function(e){return(0,f.C)(e)})),e.next=3,(0,m.s)(o,function(){var e=(0,i.Z)(l().mark((function e(i){var a;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.build().withHost(p.H).withPath(r).withMethod(n).withQueryParameters({type:"user",ids:i.join(",")}).withEndpointIdentifier("".concat(r,"?type=user&ids={ids}")).withoutMarket().send();case 2:return a=e.sent,e.abrupt("return",a.body);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),50);case 3:return s=e.sent,e.abrupt("return",s);case 5:case"end":return e.stop()}}),e)}))),h.apply(this,arguments)}function y(e,t){return k.apply(this,arguments)}function k(){return(k=(0,i.Z)(l().mark((function e(t,n){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n.length>0)){e.next=3;break}return e.next=3,g(t,"PUT",v,n);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(e,t){return b.apply(this,arguments)}function b(){return(b=(0,i.Z)(l().mark((function e(t,n){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n.length>0)){e.next=3;break}return e.next=3,g(t,"DELETE",v,n);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _(e,t){return S.apply(this,arguments)}function S(){return(S=(0,i.Z)(l().mark((function e(t,n){var r,i,a;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n.length>0)){e.next=7;break}return e.next=3,g(t,"GET","".concat(v,"/contains"),n);case 3:return r=e.sent,i=r[0]||[],a=n.reduce((function(e,t,n){var r=i[n];return e[t]=!!r,e}),{}),e.abrupt("return",a);case 7:return e.abrupt("return",{});case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var w=n(22647),N=Symbol(),O=function(){function e(t,n){(0,a.Z)(this,e),this._builder=t,this._events=new w.uZ,this._cache=null!=n?n:new d.Ct}var t,n,s,c;return(0,o.Z)(e,[{key:"getEvents",value:function(){return this._events}},{key:"isFollowing",value:(c=(0,i.Z)(l().mark((function e(t){var n,i,a,o=this;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n={},i=[],this._validateURIs(t),t.forEach((function(e){var t=o._cache.get(e);void 0!==t?n[e]=t:i.push(e)})),!(i.length>0)){e.next=9;break}return e.next=7,this.executeOperation(w.BM.IS_FOLLOWING_USER,i,_);case 7:(a=e.sent)!==N?Object.entries(a).forEach((function(e){var t=(0,r.Z)(e,2),i=t[0],a=t[1];o._cache.set(i,a),n[i]=a})):i.forEach((function(e){n[e]=!1}));case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)}))),function(e){return c.apply(this,arguments)})},{key:"followUsers",value:(s=(0,i.Z)(l().mark((function e(t){var n=this;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._validateURIs(t),e.next=3,this.executeOperation(w.BM.FOLLOW_USER,t,y);case 3:e.sent!==N&&t.forEach((function(e){n._cache.set(e,!0)}));case 5:case"end":return e.stop()}}),e,this)}))),function(e){return s.apply(this,arguments)})},{key:"unfollowUsers",value:(n=(0,i.Z)(l().mark((function e(t){var n=this;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._validateURIs(t),e.next=3,this.executeOperation(w.BM.UNFOLLOW_USER,t,E);case 3:e.sent!==N&&t.forEach((function(e){n._cache.set(e,!1)}));case 5:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"executeOperation",value:(t=(0,i.Z)(l().mark((function e(t,n,r){var i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._events.emitOperationSync(t,n)){e.next=2;break}return e.abrupt("return",N);case 2:return e.prev=2,e.next=5,r(this._builder,n);case 5:return i=e.sent,this._events.emitOperationComplete(t,n),e.abrupt("return",i);case 10:throw e.prev=10,e.t0=e.catch(2),this._events.emitOperationComplete(t,n,e.t0 instanceof Error?e.t0:new Error("Unknown error object")),e.t0;case 14:case"end":return e.stop()}}),e,this,[[2,10]])}))),function(e,n,r){return t.apply(this,arguments)})},{key:"_validateURIs",value:function(e){e.forEach((function(e){if(!u().isProfile(e))throw new Error("Expected a profile URI, but got ".concat(e,"!"))}))}}]),e}()},50266:(e,t,n)=>{"use strict";n.d(t,{R:()=>a,q:()=>o});n(21703),n(96647);var r=n(67294),i=(0,r.createContext)(null),a=function(e){var t=e.instance,n=e.children;return r.createElement(i.Provider,{value:t},n)},o=function(){var e=(0,r.useContext)(i);if(null===e)throw new Error("useFollowAPI must be used within a FollowAPIProvider");return e}},6902:(e,t,n)=>{"use strict";n.d(t,{H:()=>c});var r=n(29439),i=(n(21703),n(96647),n(41539),n(88674),n(26699),n(32023),n(67294)),a=n(69518),o=n.n(a),s=n(22647),l=n(50266),c=function(e){var t=(0,l.q)(),n=(0,i.useState)(!1),a=(0,r.Z)(n,2),c=a[0],u=a[1];if(!o().isProfile(e))throw new Error("Expected a Spotify uri in format 'spotify:user:***', got \"".concat(e,'"'));var d=(0,i.useCallback)((function(n){return n&&!c?t.followUsers([e]):!n&&c?t.unfollowUsers([e]):Promise.resolve()}),[t,c,e]);return(0,i.useEffect)((function(){u(!1),t.isFollowing([e]).then((function(t){var n;u(null!==(n=t[e])&&void 0!==n&&n)}))}),[t,e]),function(e,t){var n=(0,l.q)();(0,i.useEffect)((function(){var r=n.getEvents();return r.addListener(e,t),function(){r.removeListener(e,t)}}),[e,n,t])}(s.rA.OPERATION_COMPLETE,(function(t){t.data.uris.includes(e)&&!t.data.error&&(t.data.operation===s.BM.FOLLOW_USER?u(!0):t.data.operation===s.BM.UNFOLLOW_USER&&u(!1))})),[c,d]}},44314:(e,t,n)=>{"use strict";n.d(t,{N:()=>i,u:()=>a});var r=n(67294),i=(0,r.createContext)(null),a=function(e){var t=e.platformData,n=e.children;return r.createElement(i.Provider,{value:t},n)}},30282:(e,t,n)=>{"use strict";n.d(t,{R:()=>$e});var r=n(15861),i=n(87757),a=n.n(i),o=n(15671),s=n(43144),l=n(4942);n(68309),n(21249),n(47941),n(82526),n(57327),n(41539),n(38880),n(89554),n(54747),n(49337),n(33321),n(69070);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,l.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d=function(){function e(t,n,r){var i=this;(0,o.Z)(this,e),(0,l.Z)(this,"mapEpisode",(function(e){return u(u({},e),{},{episodeShowUri:e.show.uri})})),(0,l.Z)(this,"mapTrack",(function(e){return u(u({},e),{},{smallImage:i.imageSelection(e.album.images||[],{desiredSize:210})})})),(0,l.Z)(this,"mapDefaultData",(function(e){var t=e.body;return u(u({},t),{},{smallImage:i.imageSelection(t.images||[],{desiredSize:210}),name:t.name,artists:t.artists?t.artists.map((function(e){return{name:e.name,uri:e.uri}})):[]})})),this.spotifyTransport=t,this.endpoints=n,this.imageSelection=r}return(0,s.Z)(e,[{key:"getAlbum",value:function(e){return this.endpoints.Album.getAlbum(this.spotifyTransport,e).then(this.mapDefaultData)}},{key:"getArtist",value:function(e){return this.endpoints.Artist.getArtist(this.spotifyTransport,e).then(this.mapDefaultData)}},{key:"getEpisode",value:function(e){return this.endpoints.Show.getEpisode(this.spotifyTransport,e).then(this.mapDefaultData).then(this.mapEpisode)}},{key:"getPlaylist",value:function(e){return this.endpoints.Playlist.getPlaylist(this.spotifyTransport,e).then(this.mapDefaultData)}},{key:"getShow",value:function(e){return this.endpoints.Show.getShow(this.spotifyTransport,e).then(this.mapDefaultData)}},{key:"getTrack",value:function(e){return this.endpoints.Track.getTrack(this.spotifyTransport,e).then(this.mapDefaultData).then(this.mapTrack)}}]),e}(),m=n(84297),p=(n(91058),n(21703),n(96647),"stream"),f=function(){function e(t,n){var r=this;(0,o.Z)(this,e),(0,l.Z)(this,"enabled",!1),(0,l.Z)(this,"onAdMessage",(function(e){if("audio"===e.format&&"play"===e.event){var t,n,i,a,o,s,l="Play"===(null===(t=e.ad)||void 0===t||null===(n=t.metadata)||void 0===n?void 0:n.featuredAction),c={buttonMessage:null===(i=e.ad)||void 0===i||null===(a=i.metadata)||void 0===a?void 0:a.buttonMessage,clickUrl:e.ad.click_url,isFeaturedActionPlay:l,skippableAdDelaySeconds:parseInt(null===(o=e.ad)||void 0===o||null===(s=o.metadata)||void 0===s?void 0:s.skippable_ad_delay,10)||0};r.onInfoCallback&&r.onInfoCallback(c)}})),this.audioApi=t,this.getContextAdInfo=n}var t,n,i;return(0,s.Z)(e,[{key:"enable",value:(i=(0,r.Z)(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.enabled=!0,this.onInfoCallback=t,e.next=4,this.audioApi.addNewSlot(p,"audio");case 4:this.subscription=this.audioApi.subscribeToSlotType(p,this.onAdMessage);case 5:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})},{key:"disable",value:(n=(0,r.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.enabled=!1,this.subscription&&this.subscription.cancel();case 2:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"logClick",value:(t=(0,r.Z)(a().mark((function e(){var t,n,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.enabled){e.next=2;break}throw new Error("You have to enable the manager before calling logEvent");case 2:return e.next=4,this.getContextAdInfo();case 4:if(null!==(t=e.sent)){e.next=7;break}return e.abrupt("return");case 7:if(n=t.positionMs,null!==(r=t.adId)){e.next=10;break}return e.abrupt("return");case 10:this.audioApi.postEvent(r,"clicked",null!==n?{playback_position:Math.round(n)}:{});case 11:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"getEnabled",value:function(){return this.enabled}}]),e}(),v=function(){function e(t){(0,o.Z)(this,e),this.cosmosConnector=t}return(0,s.Z)(e,[{key:"postEvent",value:function(e,t,n){return this.cosmosConnector.postEvent(e,t,n)}},{key:"addNewSlot",value:function(e,t){return this.cosmosConnector.addNewSlot(e,t)}},{key:"subscribeToSlotType",value:function(e,t){return this.cosmosConnector.subscribeToSlotType(e,t)}}]),e}();function g(e){return new f(new v(m.gN),e)}n(32564);var h=function(){function e(){(0,o.Z)(this,e)}return(0,s.Z)(e,null,[{key:"reset",value:function(){e.listeners=[],e.previousFocus=!1,e.intervalId&&(clearInterval(e.intervalId),e.intervalId=null)}},{key:"maybeStartPolling",value:function(){null===e.intervalId&&(e.intervalId=setInterval(e.checkFocusState,e.kPollTimeout))}},{key:"maybeStopPolling",value:function(){e.intervalId&&0===e.listeners.length&&(clearInterval(e.intervalId),e.intervalId=null)}},{key:"addFocusListener",value:function(t){t.onFocusChanged(document.hasFocus()),e.listeners.push(t),e.maybeStartPolling()}},{key:"removeFocusListener",value:function(t){e.listeners=e.listeners.filter((function(e){return e!==t})),e.maybeStopPolling()}}]),e}();(0,l.Z)(h,"listeners",[]),(0,l.Z)(h,"intervalId",null),(0,l.Z)(h,"previousFocus",!1),(0,l.Z)(h,"kPollTimeout",500),(0,l.Z)(h,"checkFocusState",(function(){var e=document.hasFocus();e!==h.previousFocus&&(h.previousFocus=e,h.listeners.forEach((function(t){t.onFocusChanged(e)})))}));var y=function(){function e(){(0,o.Z)(this,e),this.listeners=[]}return(0,s.Z)(e,[{key:"addFocusListener",value:function(e){this.listeners.push(e),h.addFocusListener(e)}},{key:"removeFocusListener",value:function(e){this.listeners=this.listeners.filter((function(t){return t!==e})),h.removeFocusListener(e)}},{key:"removeAllFocusListeners",value:function(){this.listeners.forEach((function(e){return h.removeFocusListener(e)})),this.listeners=[]}},{key:"hasFocus",value:function(){return document.hasFocus()}}]),e}(),k=(n(83710),n(24812),n(40561),n(5212),[]);function E(e,t){var n=N(t);if(-1===n)k.push({fn:t,msInactive:e,isActive:!1});else{var r=k[n];r.msInactive=e,clearTimeout(r.inactiveTimeout),r.inactiveTimeout=setTimeout(r.fn.bind(null,false),r.msInactive)}return b.bind(null,t)}function b(e){var t=N(e);return-1!==t&&(k.splice(t,1),!0)}function _(e){return e.addEventListener("mousemove",w),e.addEventListener("mouseup",w),e.addEventListener("keydown",w),e.addEventListener("scroll",w,!0),S.bind(null,e)}function S(e){e.removeEventListener("mousemove",w),e.removeEventListener("mouseup",w),e.removeEventListener("keydown",w),e.removeEventListener("scroll",w,!0)}function w(){k.forEach((function(e){e.isActive||(e.isActive=!0,e.fn(true)),clearTimeout(e.inactiveTimeout),e.inactiveTimeout=setTimeout((function(){e.isActive=!1,e.fn(false)}),e.msInactive)}))}function N(e){var t=-1;return k.some((function(n,r){return n.fn===e&&(t=r,!0)})),t}function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){(0,l.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var T="billboard",I="foregrounded",A="backgrounded",P=function(){function e(t,n){var i=this;(0,o.Z)(this,e),(0,l.Z)(this,"enabled",!1),(0,l.Z)(this,"activating",!1),(0,l.Z)(this,"viewedTimestamp",0),(0,l.Z)(this,"onActivity",function(){var e=(0,r.Z)(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=5;break}return e.next=3,i.displayBillboard();case 3:e.next=6;break;case 5:i.focusState.hasFocus()&&i.triggerAutoMinimizeIfPossible();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),(0,l.Z)(this,"onAdMessage",(function(e){if(i.isPreviewServiceAd(e.ad.metadata))i.handlePreview(e);else if(i.listener)switch(e.event){case"available":i.adId=e&&e.ad?e.ad.id:void 0,i.listener.canShow()?i.listener.create(e):i.clearSlot();break;case"play":break;case"discard":i.handleDiscard();break;default:throw new Error("[Billboard] Unsupported event type: ".concat(e.event))}})),(0,l.Z)(this,"focusMinimize",(function(){clearInterval(i.focusMinimizeTimeoutId),i.listener&&i.listener.isActive()&&(i.listener.minimize(),i.minimize())})),(0,l.Z)(this,"finish",(function(){clearInterval(i.minimizeTimeoutId),i.listener&&i.listener.isActive()&&(i.listener.destroy(),i.logEvent("ended"),i.resetState())})),(0,l.Z)(this,"triggerAutoMinimizeIfPossible",(function(){i.listener&&i.listener.isActive()&&!i.focusMinimizeTimeoutId&&(i.focusMinimizeTimeoutId=window.setTimeout(i.focusMinimize,3e4),i.viewedTimestamp=(new Date).getTime(),i.logEvent("viewed"))})),(0,l.Z)(this,"displayBillboard",(0,r.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(clearTimeout(i.displayTimeoutId),clearTimeout(i.retryTimoutId),!i.listener||!i.listener.isActive()){e.next=4;break}return e.abrupt("return");case 4:if(!i.listener||!i.listener.canShow()){e.next=11;break}return e.next=7,i.clearSlot();case 7:return e.next=9,i.billboardApi.postToSlot(T,"fetch");case 9:e.next=12;break;case 11:i.retryTimoutId=window.setTimeout((function(){i.displayBillboard()}),5e3);case 12:case"end":return e.stop()}}),e)})))),this.billboardApi=t,this.focusState=n}var t,n,i,c,u;return(0,s.Z)(e,[{key:"enable",value:(u=(0,r.Z)(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.enabled){e.next=9;break}return this.enabled=!0,this.listener=t,this.focusState.addFocusListener(this),this.disableWindow=_(window),this.activitySubscription=E(18e4,this.onActivity),e.next=8,this.billboardApi.addNewSlot(T,"video");case 8:this.subscription=this.billboardApi.subscribeToSlotType(T,this.onAdMessage);case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,this)}))),function(e){return u.apply(this,arguments)})},{key:"disable",value:(c=(0,r.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.enabled&&(this.resetState(),this.enabled=!1,this.listener=void 0,this.subscription&&this.subscription.cancel(),this.activitySubscription&&this.activitySubscription(),this.disableWindow&&this.disableWindow(),this.focusState.removeAllFocusListeners());case 1:case"end":return e.stop()}}),e,this)}))),function(){return c.apply(this,arguments)})},{key:"minimize",value:function(){clearInterval(this.focusMinimizeTimeoutId),clearInterval(this.minimizeTimeoutId),this.minimizeTimeoutId=window.setTimeout(this.finish,3e4),this.logEvent("collapsed",{msSinceViewed:String((new Date).getTime()-this.viewedTimestamp)})}},{key:"adClick",value:function(){this.logEvent("clicked")}},{key:"onRender",value:function(){this.logEvent(this.focusState.hasFocus()?I:A)}},{key:"onError",value:function(){this.handleDiscard()}},{key:"onFinish",value:function(){this.finish()}},{key:"onFocusChanged",value:function(e){return e?this.handleApplicationGainedFocus():this.handleApplicationLostFocus()}},{key:"handleDiscard",value:function(){var e=this;if(clearInterval(this.retryDfpTimoutId),this.listener){var t=!this.listener.isActive();this.listener.isActive()&&this.logEvent("terminated"),this.resetState(),this.listener.destroy().then((function(){t&&(e.retryDfpTimoutId=window.setTimeout(e.displayBillboard,1e4))}))}}},{key:"handlePreview",value:function(e){if(this.listener)switch(e.event){case"available":this.adId=e&&e.ad?e.ad.id:void 0,this.listener.create(e),this.billboardApi.postToSlot(T,"now");break;case"play":break;case"discard":this.handleDiscard();break;default:throw new Error("Unknown core event from ".concat(T," slot: ").concat(e.event))}}},{key:"isPreviewServiceAd",value:function(e){return e&&"true"===e.is_preview}},{key:"resetState",value:function(){clearInterval(this.displayTimeoutId),clearInterval(this.retryTimoutId),clearInterval(this.retryDfpTimoutId),clearInterval(this.focusMinimizeTimeoutId),clearInterval(this.minimizeTimeoutId),this.adId=void 0,this.viewedTimestamp=0,this.focusMinimizeTimeoutId=void 0}},{key:"handleApplicationGainedFocus",value:(i=(0,r.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(clearTimeout(this.displayTimeoutId),clearTimeout(this.retryTimoutId),this.listener){e.next=4;break}return e.abrupt("return");case 4:if(!this.activating){e.next=6;break}return e.abrupt("return");case 6:if(!this.listener.isActive()){e.next=10;break}return this.logEvent(I),this.triggerAutoMinimizeIfPossible(),e.abrupt("return");case 10:return this.activating=!0,e.prev=11,e.next=14,this.billboardApi.patchTargeting("focus","true");case 14:return e.next=16,this.billboardApi.postToSlot(T,"now");case 16:e.next=20;break;case 18:e.prev=18,e.t0=e.catch(11);case 20:return e.prev=20,this.activating=!1,e.finish(20);case 23:case"end":return e.stop()}}),e,this,[[11,18,20,23]])}))),function(){return i.apply(this,arguments)})},{key:"handleApplicationLostFocus",value:(n=(0,r.Z)(a().mark((function e(){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.listener||!this.listener.isActive()){e.next=3;break}return this.logEvent(A),e.abrupt("return");case 3:return clearTimeout(this.displayTimeoutId),e.next=6,this.getFocusTimeoutMs();case 6:t=e.sent,this.displayTimeoutId=window.setTimeout(this.displayBillboard,t);case 8:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"getFocusTimeoutMs",value:(t=(0,r.Z)(a().mark((function e(){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.billboardApi.getSlotConfiguration(T,"display_time_interval").catch((function(){return null}));case 2:if(!((t=e.sent)&&t>0)){e.next=5;break}return e.abrupt("return",1e3*t);case 5:return e.abrupt("return",18e4);case 6:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"logEvent",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.adId&&this.billboardApi.postEvent(this.adId,e,{event_data:C({clientReportedUserAgent:navigator.userAgent},t)})}},{key:"clearSlot",value:function(){return this.billboardApi.triggerSlotClearAll(T)}}]),e}(),D=function(){function e(t){(0,o.Z)(this,e),this.cosmosConnector=t}return(0,s.Z)(e,[{key:"addNewSlot",value:function(e,t){return this.cosmosConnector.addNewSlot(e,t)}},{key:"getSlotConfiguration",value:function(e,t){return this.cosmosConnector.getSlotConfiguration(e,t)}},{key:"patchTargeting",value:function(e,t){return this.cosmosConnector.patchTargeting(e,t)}},{key:"postEvent",value:function(e,t,n){return this.cosmosConnector.postEvent(e,t,n)}},{key:"postToSlot",value:function(e,t){return this.cosmosConnector.postToSlot(e,t)}},{key:"subscribeToSlotType",value:function(e,t){return this.cosmosConnector.subscribeToSlotType(e,t)}},{key:"triggerSlotClearAll",value:function(e){return this.cosmosConnector.triggerSlotClearAll(e)}}]),e}();var R=n(71002),x=(n(38862),n(69720),n(69600),n(92222),n(19601),n(75853)),L=n(13552),F=n(22179),U=(0,n(21270).v)(),Z=0;function M(e,t){var n=t.type;return null===e?"":"string"==typeof e?e:"object"===(0,R.Z)(e)&&"object"===(0,R.Z)(n)&&"map"===n.type?function(e,t){var n=Object.entries(e);if(0===n.length)return"";return n.map((function(e){var n=e[0],r=M(e[1],t);return"".concat(n,":").concat(r)})).join(",")}(e,n):JSON.stringify(e)}function B(e,t){var n=(0,x.Z)(e,Object.assign({},{message_name:e.name,message_version:e.schema_version},t));n.fields=n.fields.map((function(t,n){return M(t,e.fields[n+2])}));var r=e.name+e.schema_version;return(0,L.Z)("logger:".concat(r))("REQ %s#%s %s",r,++Z,JSON.stringify(n)),U.post("",n).catch((function(e){(0,F.H)("log error",e,n)}))}var j="visible_unknown",V="visible_0",H="visible_50",G="visible_100",W={root:null,rootMargin:"",thresholds:[],observe:function(){},disconnect:function(){},takeRecords:function(){return[]},unobserve:function(){}},z=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{threshold:[0,.5,1]};(0,o.Z)(this,e),(0,l.Z)(this,"onObservation",(function(e){var n=e[0].intersectionRatio,r=j;1===n?r=G:n>=.5?r=H:n<.5&&(r=V),r!==t.currentState&&(t.currentState=r,t.callback&&t.callback(t.currentState))})),this.currentState=j,this.intersectionObserver=W,IntersectionObserver&&(this.intersectionObserver=new IntersectionObserver(this.onObservation,n))}return(0,s.Z)(e,[{key:"observe",value:function(e,t){this.callback=t,this.intersectionObserver.observe(e)}},{key:"disconnect",value:function(){this.intersectionObserver.disconnect()}}]),e}(),K=(n(74916),n(15306),n(88674),n(23123),n(3843),n(69518)),Y=n.n(K),q=n(10522);function Q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function J(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(n),!0).forEach((function(t){(0,l.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var X="hpto",$=function(){function e(t,n,i,s){var c=this;(0,o.Z)(this,e),(0,l.Z)(this,"lastOnlineStatus",!0),(0,l.Z)(this,"timeOfLastViewUpdate",0),(0,l.Z)(this,"refreshCallback",(function(){})),(0,l.Z)(this,"visibilityState",""),(0,l.Z)(this,"createTrackingPixelImage",(function(e,t){var n=document.createElement("img");return n.src=e,n.alt="",n.style.display="none",n.style.height="1px",n.style.width="1px",n.classList.add("pixel",t),n})),(0,l.Z)(this,"onVisibilityChanged",(function(e){var t=c.visibilityState;c.visibilityState=e,"visible_0"===t&&("visible_50"===e||"visible_100"===e)&&c.maybeTriggerRefresh(),c.log("event_".concat(e))})),(0,l.Z)(this,"log",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(c.currentAd){var n={slot:X,event:e,lineitem_id:String(c.currentAd.lineItemId),creative_id:String(c.currentAd.creativeId),ad_id:String(c.currentAd.creativeId),ad_format:"hpto ".concat(c.currentAd.bannerMode),ad_playback_id:String(c.currentAd.adPlaybackId),context:t,jsondata:JSON.stringify({clientReportedUserAgent:navigator.userAgent})};c.hptoApi.logEvent(J({},n))}})),(0,l.Z)(this,"mapData",function(){var e=(0,r.Z)(a().mark((function e(t){var n,r,i,o,s,l,u,d,m,p,f,v,g,h;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c.currentAd=J({},t),r=t["target-uri"],i=null===(n=Y().from(r))||void 0===n?void 0:n.type,o={episodeShowUri:""},s=t.playBtnUri||r,"native"!==t.bannerMode){e.next=13;break}return e.next=8,c.hptoApi.getAlgoPlaylistInfo(r);case 8:return(l=e.sent)&&(r=l.uri,s=l.playBtnUri,i=l.uriType),e.next=12,c.getNativeData(r,i);case 12:o=e.sent;case 13:return u=t.blurb,d=(t.badge||"").toLowerCase(),m=t["background-color"],p=m&&"#"===m[0]?m:"#".concat(m),f=t["background-url"],v=t["background-image"],g=f&&f.replace(/&amp;/g,"&"),h="sponsored"===t.nativeHptoType,e.abrupt("return",J(J(J({},t),o),{},{isSponsored:h,uri:o.episodeShowUri||r,uriType:i,badgeType:d,playBtnUri:s,backgroundColor:p,backgroundUrl:f,backgroundImage:v,clickThroughUrl:g,description:u}));case 22:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.hptoApi=t,this.focusState=n,this.visibilityObserver=i,this.eventSender=s,this.trackingPixelDiv=document.createElement("div"),this.trackingPixelDiv.setAttribute("id","ad-tracking-pixel"),this.trackingPixelDiv.style.display="none",document.body.appendChild(this.trackingPixelDiv)}return(0,s.Z)(e,[{key:"subscribeToPreview",value:function(e){var t=this;this.hptoApi.subscribeToPreview(function(){var n=(0,r.Z)(a().mark((function n(r){var i;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.mapData(r);case 2:i=n.sent,e(i);case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}())}},{key:"onRefresh",value:function(e){this.refreshCallback=e}},{key:"fetchTemplate",value:function(){var e=this;return this.hptoApi.getSlot(X).catch((function(t){throw e.logErrorEvent("enable error: ".concat(t)),t}))}},{key:"fetchCreative",value:function(e){var t,n=this,r=e.media;return new Promise((function(i,a){window.addEventListener("message",(function n(r){if("object"===(0,R.Z)(r.data)&&"string"==typeof r.data.type){var o=r.data.type.split(":");if("ads"!==o[0]||"hpto"!==o[1])return;if("error"===o[2]||"no-ad"===o[2])a(o[2]);else if("init"===o[2]){var s=J(J({},r.data.data.data),{},{loaderFrame:t,adPlaybackId:e.adPlaybackId});i(s)}else a("unsupported hpto message");window.removeEventListener("message",n)}})),(t=n.createInteractiveIframe(r)).style.display="none",document.body.appendChild(t)})).then(this.mapData).catch((function(e){throw n.logErrorEvent("enable error: ".concat(e)),e}))}},{key:"logEvent",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.log(e,t),"event_clicked"===e&&this.trackPixelClicked()}},{key:"logErrorEvent",value:function(e){this.eventSender.send((0,q.v)({request_type:X,error_message:e}))}},{key:"trackPixelClicked",value:function(){if(this.currentAd){var e=this.currentAd.click,t=e?decodeURIComponent(e.replace(/&amp;/g,"&")):null;if(t){this.trackingPixelDiv.innerHTML="";var n=this.createTrackingPixelImage(t,"event_clicked");this.trackingPixelDiv.appendChild(n)}}}},{key:"trackPixelViewed",value:function(){var e=this;if(this.currentAd){this.trackingPixelDiv.innerHTML="";var t=this.currentAd["tracking-urls"],n=this.currentAd["tracking-url"];this.createTrackingList(t,n).map((function(t){return e.createTrackingPixelImage(t,"view-tracking")})).forEach((function(t){e.trackingPixelDiv.appendChild(t)}))}}},{key:"logHptoHidden",value:function(){this.logErrorEvent("attempted to enable but user has hpto hidden")}},{key:"logViewed",value:function(){this.timeOfLastViewUpdate=Date.now(),this.log("event_viewed"),this.trackPixelViewed()}},{key:"maybeTriggerRefresh",value:function(){var e;!0===this.lastOnlineStatus&&(Date.now()-this.timeOfLastViewUpdate>=18e5&&this.focusState.hasFocus()&&("visible_50"===this.visibilityState||"visible_100"===this.visibilityState)&&(null===(e=this.refreshCallback)||void 0===e||e.call(this)))}},{key:"onlineStateChanged",value:function(e){e!==this.lastOnlineStatus&&(this.lastOnlineStatus=e)}},{key:"viewRendered",value:function(e){this.timeOfLastViewUpdate=Date.now(),this.focusState.removeAllFocusListeners(),this.focusState.addFocusListener(this),this.visibilityObserver.observe(e,this.onVisibilityChanged)}},{key:"viewDestroyed",value:function(){this.focusState.removeAllFocusListeners(),this.visibilityObserver.disconnect(),this.log("event_unload"),this.currentAd=null}},{key:"onFocusChanged",value:function(e){e?(this.maybeTriggerRefresh(),this.log("event_foregrounded")):this.log("event_backgrounded")}},{key:"createTrackingList",value:function(e,t){return e?e.filter(Boolean).map((function(e){return decodeURIComponent(e.replace(/&amp;/g,"&"))})):t?[decodeURIComponent(t.replace(/&amp;/g,"&"))]:[]}},{key:"createInteractiveIframe",value:function(e){var t=encodeURIComponent(e),n=document.createElement("iframe");return n.className="ad-iframe",n.src="data:text/html;charset=utf-8,".concat(t),n.srcdoc=e,n.scrolling="no",n.marginWidth="0",n.marginHeight="0",n}},{key:"getNativeData",value:function(e,t){if(!e||!t)return Promise.reject("error when getting native data: uri: ".concat(e," uriType: ").concat(t));var n=e.split(":").pop();if(!n)return Promise.reject("error when getting native data: id not found");switch(t){case Y().Type.SHOW:return this.hptoApi.getShow(n);case Y().Type.TRACK:return this.hptoApi.getTrack(n);case Y().Type.ALBUM:return this.hptoApi.getAlbum(n);case Y().Type.PLAYLIST:case Y().Type.PLAYLIST_V2:return this.hptoApi.getPlaylist(n);case Y().Type.EPISODE:return this.hptoApi.getEpisode(n);default:return Promise.reject("error when getting native data ".concat(e," is not valid"))}}}]),e}();const ee=JSON.parse('{"type":"record","name":"AdEvent","namespace":"com.spotify.Message","doc":"Ad-Specific Event","fields":[{"name":"message_name","type":"string"},{"name":"message_version","type":"int"},{"name":"ad_playback_id","type":["null","string"],"doc":"Identifies each ad serving which can be used to tie together related ad events","default":null},{"name":"app_startup_id","type":["null","string"],"doc":"Identifies a users app session as defined by each time the app is restarted","default":null},{"name":"ad_id","type":["null","string"],"doc":"id of the Ad for this event.  In most cases, this maps to creative id","default":null},{"name":"lineitem_id","type":["null","string"],"doc":"id of DFP line item","default":null},{"name":"creative_id","type":["null","string"],"doc":"id of DFP creative asset","default":null},{"name":"ad_format","type":["null","string"],"doc":"format of ad this event occurred during","default":null},{"name":"source","type":["null","string"],"doc":"Source which generated the event, will mostly be set to the App-ID","default":null},{"name":"context","type":["null","string"],"doc":"Context and targeting parameters, same set as passed in ad requests","default":null},{"name":"event","type":["null","string"],"doc":"Event name","default":null},{"name":"event_version","type":["null","string"],"doc":"Optional event version, can be used as a version or sub-type","default":null},{"name":"jsondata","type":["null","string"],"doc":"json encoded map which is specific to the event being sent","default":null},{"name":"source_version","type":["null","string"],"doc":"Source stitch app version","default":null},{"name":"slot","type":["null","string"],"doc":"Ad slot identifier","default":null},{"name":"ms_from_start","type":["null","long"],"doc":"Time elapsed since the ad started playback, with ms precision","default":null},{"name":"in_focus","type":["null","boolean"],"doc":"Indicates whether the app was in focus when the AdEvent was fired","default":null}],"schema_version":4}');var te=function(e){return function(t){return e(ee,t)}};n(69826),n(26699),n(32023);function ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function re(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ne(Object(n),!0).forEach((function(t){(0,l.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ne(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ie=function(){function e(t,n,r,i){(0,o.Z)(this,e),this.cosmosConnector=t,this.webApi=n,this.previewParser=r,this.logger=i}var t,n;return(0,s.Z)(e,[{key:"getSlot",value:function(e){return this.cosmosConnector.fetchAdForSlot(e).then((function(e){var t=e.display.find((function(e){return"text/html"===e.mime_type}));if(!t)throw Error("No template");return re({adPlaybackId:e.ad_playback_id},t)}))}},{key:"logEvent",value:(n=(0,r.Z)(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.logger(re({},t));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"getAlgoPlaylistInfo",value:function(e){var t=this,n={"discover-weekly":"666f726d61740004","release-radar":"666f726d61740000","time-machine":"666f726d6174f00d","summerjams-a":"666f726d6174f011","summerjams-b":"666f726d6174f012","summerjams-c":"666f726d6174f013","friends-weekly":"666f726d6174f119","on-repeat":"666f726d6174f152"};return new Promise((function(r){Object.prototype.hasOwnProperty.call(n,e)?t.cosmosConnector.getSponsoredUris().then((function(t){for(var i=t.sponsorships,a=0;a<i.length;a++){var o=i[a].spotifyUri.split(":");if(Y().idToHex(o[o.length-1]).includes(n[e]))return void r({uri:i[a].spotifyUri,playBtnUri:i[a].spotifyUri,uriType:Y().Type.PLAYLIST})}r()})):r()}))}},{key:"getAlbum",value:function(e){return this.webApi.getAlbum(e)}},{key:"getArtist",value:function(e){return this.webApi.getArtist(e)}},{key:"getEpisode",value:function(e){return this.webApi.getEpisode(e)}},{key:"getPlaylist",value:function(e){return this.webApi.getPlaylist(e)}},{key:"getShow",value:function(e){return this.webApi.getShow(e)}},{key:"getTrack",value:function(e){return this.webApi.getTrack(e)}},{key:"subscribeToPreview",value:(t=(0,r.Z)(a().mark((function e(t){var n=this;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.cosmosConnector.addNewSlot("hpto","banner");case 2:return e.next=4,this.cosmosConnector.enableSlot("hpto");case 4:return e.abrupt("return",this.cosmosConnector.subscribeToSlot("sp://ads/v1/slots/hpto",function(){var e=(0,r.Z)(a().mark((function e(r){var i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"available"===r.event&&n.previewParser.isPreviewServiceAd(r.ad)&&(i=n.previewParser.parsePreview(r),t(re({},i)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),e}();n(64765);function ae(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ae(Object(n),!0).forEach((function(t){(0,l.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ae(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var se=function(){function e(){(0,o.Z)(this,e)}return(0,s.Z)(e,[{key:"parsePreview",value:function(e){var t=e.ad,n=t.creative_id,r=t.id,i=t.display,a={creativeId:parseInt(n,10),gid:r,hpto:JSON.parse(i[0]&&i[0].media||"")},o=a.hpto||a,s=null,l=o.html&&-1!==o.html.search(/id="native-elements"/),c=!o.html&&"html"===o["banner-mode"];if(l?s=this.handleNativeEl(o):c&&(s=this.renameImageBannerField(o)),(s=s||o).bannerMode=s["banner-mode"],!s.bannerMode)throw new TypeError("hpto data looks invalid");var u=this.createInteractiveIframe(s.html);return oe(oe({},s),{},{adPlaybackId:t.ad_playback_id,loaderFrame:u})}},{key:"isPreviewServiceAd",value:function(e){return e.metadata&&"true"===e.metadata.is_preview}},{key:"getKeyByValue",value:function(e,t){return Object.keys(t).find((function(n){return t[n]===e}))||""}},{key:"renameImageBannerField",value:function(e){return delete e[this.getKeyByValue("html",e)],Object.assign({},e,{"banner-mode":"image"})}},{key:"handleNativeEl",value:function(e){var t=document.implementation.createHTMLDocument("");t.documentElement.innerHTML=e.html;var n="",r=t.getElementById("native-elements"),i=this.getKeyByValue("html",e);return["data-is-spotlight","data-is-exclusive","data-is-sponsored"].some((function(e){return r&&r.hasAttribute(e)&&(n=e),n})),n=n.split("-").pop()||"",delete e[i],Object.assign({},e,{version:2,badge:n,"banner-mode":"native",blurb:r&&r.getAttribute("data-blurb"),"target-uri":r&&r.getAttribute("data-uri"),playBtnUri:r&&r.getAttribute("data-track-override")})}},{key:"createInteractiveIframe",value:function(e){var t=encodeURIComponent(e),n=document.createElement("iframe");return n.className="ad-iframe",n.src="data:text/html;charset=utf-8,".concat(t),n.srcdoc=e,n.scrolling="no",n.marginWidth="0",n.marginHeight="0",n}}]),e}();function le(e,t){var n=e.webHptoApi;return new $(new ie(m.gN,n,new se,te(B)),new y,new z,t)}var ce=n(87961),ue=n(6024),de=(n(77601),n(82772),n(47042),n(62808)),me=n.n(de),pe=n(29254);function fe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ve(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fe(Object(n),!0).forEach((function(t){(0,l.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ge="leaderboard",he="728",ye="90",ke=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,s=arguments.length>4?arguments[4]:void 0,c=arguments.length>5?arguments[5]:void 0;(0,o.Z)(this,e),(0,l.Z)(this,"useIframeSrcDoc",!1),(0,l.Z)(this,"fetching",!1),(0,l.Z)(this,"enabled",!1),(0,l.Z)(this,"currentAd",{creativeId:null,lineitemId:null}),(0,l.Z)(this,"handleLeaderboardMessage",(function(e){var n,r,i,a;switch(t.currentAd.lineitemId=String((null===(n=e.data)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.lineItemId)||""),t.currentAd.creativeId=String((null===(i=e.data)||void 0===i||null===(a=i.data)||void 0===a?void 0:a.creativeId)||""),e.data&&e.data.type){case"ads-leaderboard-rendered":""!==t.currentAd.lineitemId&&null!==t.currentAd.creativeId&&t.logLeaderboardEvent("event_viewed");break;case"ads-leaderboard-failed":t.logLeaderboardEvent("event_errored",{dfp_returned_empty:!0}),t.handleBadLeaderboard()}})),(0,l.Z)(this,"onAdMessage",(function(e){if(t.isPreviewServiceAd(e.ad.metadata)){if(!e.ad.display||e.ad.display.length<1)throw new Error("Unknown core event from ".concat(ge," slot: ").concat(e.event));var n=e.ad.display[0],r=n.media,i=n&&n.width?n.width:he,a=n&&n.height?n.height:ye;t.renderLeaderboard(r,i,a)}})),this.frameSrc=n.frameSrc,this.useIframeSrcDoc=n.useIframeSrcDoc||!1,this.appStartupId=me().create().hex,this.focusState=a,this.leaderboardApi=r,this.refreshDecisioner=i,this.refreshDecisioner.setRefreshDelegate(this),this.leaderboardWrapper=null,this.eventSender=s,this.history=c}var t,n;return(0,s.Z)(e,[{key:"enableLeaderboard",value:function(){this.enabled=!0,this.enableLeaderboardMessageHandler(),this.refreshDecisioner.onLeaderboardEnabled(),this.subscription=this.leaderboardApi.subscribeToSlotType(ge,this.onAdMessage)}},{key:"setLeaderboardElement",value:function(e){this.domTarget=e}},{key:"setLoggingFunction",value:function(e){this.loggingFunction=e}},{key:"onNavigationChanged",value:function(){this.refreshDecisioner.onNavigationChanged()}},{key:"onlineStateChanged",value:function(e){this.refreshDecisioner.onlineStateChanged(e)}},{key:"enableLeaderboardMessageHandler",value:function(){window.removeEventListener("message",this.handleLeaderboardMessage),window.addEventListener("message",this.handleLeaderboardMessage)}},{key:"disableLeaderboardMessageHandler",value:function(){window.removeEventListener("message",this.handleLeaderboardMessage)}},{key:"logLeaderboardEvent",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.eventSender.send((0,pe.u)({ad_playback_id:this.adPlaybackId,view_uri:this.history.location.pathname,event:e})),this.loggingFunction&&this.loggingFunction({event:e,slot:"leaderboard",ad_format:"banner",app_startup_id:this.appStartupId,ad_playback_id:this.adPlaybackId,lineitem_id:this.currentAd.lineitemId,creative_id:this.currentAd.creativeId,ad_id:this.currentAd.creativeId,in_focus:document.hasFocus?document.hasFocus():null,jsondata:JSON.stringify(ve({leaderboardVersion:3,clientReportedUserAgent:navigator.userAgent},t))})}},{key:"requestConfig",value:(n=(0,r.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.cachedConfig){e.next=2;break}return e.abrupt("return",Promise.resolve(this.cachedConfig));case 2:return e.next=4,this.leaderboardApi.getConfig();case 4:return this.cachedConfig=e.sent,e.abrupt("return",this.cachedConfig);case 6:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"requestSlot",value:function(e){var t=this;return this.leaderboardApi.getSlot(e).then((function(e){return t.adPlaybackId=me().create().hex,e})).catch((function(e){throw new Error("LeaderboardManager: cant get slot. ".concat(e))}))}},{key:"fetchAndDisplayLeaderboard",value:(t=(0,r.Z)(a().mark((function e(){var t=this;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.frameSrc){e.next=2;break}throw new Error("LeaderboardManager: frameSrc must be specified in options. Point it to a blank page on the same domain.");case 2:if(this.domTarget){e.next=4;break}return e.abrupt("return");case 4:if(!this.fetching){e.next=6;break}return e.abrupt("return");case 6:if(this.enabled){e.next=8;break}return e.abrupt("return");case 8:this.fetching=!0,this.requestSlot(ge).then((function(e){var n=e.html,r=e.adDisplay&&e.adDisplay.width?e.adDisplay.width:he,i=e.adDisplay&&e.adDisplay.height?e.adDisplay.height:ye;return t.fetching=!1,t.renderLeaderboard(n,r,i)})).catch((function(e){throw t.fetching=!1,Error("Slot Request and display failed: ".concat(e))}));case 10:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"isPreviewServiceAd",value:function(e){return e&&"true"===e.is_preview}},{key:"renderLeaderboard",value:function(e,t,n){var r=document.createElement("iframe");r.addEventListener("load",this.adFrameLoaded.bind(this,e,r)),r.setAttribute("sandbox",["allow-top-navigation-by-user-activation","allow-forms","allow-modals","allow-popups","allow-popups-to-escape-sandbox","allow-same-origin","allow-scripts",/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?"":"allow-presentation"].join(" ")),r.setAttribute("width",t),r.setAttribute("height",n),r.setAttribute("id","leaderboard-ad-element"),r.setAttribute("src",this.frameSrc),this.useIframeSrcDoc&&r.setAttribute("srcdoc",e),r.setAttribute("tab-index","-1"),this.leaderboardWrapper=document.createElement("div"),this.leaderboardWrapper.setAttribute("aria-hidden","true"),this.leaderboardWrapper.appendChild(r),this.domTarget.innerHTML="",this.domTarget.appendChild(this.leaderboardWrapper)}},{key:"adFrameLoaded",value:function(e,t,n){var r=this,i=n.composedPath&&n.composedPath()&&n.composedPath()[0].contentWindow||t.contentWindow;this.refreshDecisioner.onViewLoaded(),this.focusState.addFocusListener(this),this.useIframeSrcDoc||i.postMessage({type:"html",html:e},this.getFrameSrcOrigin());i.addEventListener("unload",(function e(){r.logLeaderboardEvent("event_unload"),r.refreshDecisioner.onViewUnloaded(),r.focusState.removeFocusListener(r),i.removeEventListener("unload",e)}))}},{key:"getFrameSrcOrigin",value:function(){return this.frameSrc.indexOf("http")>-1?this.frameSrc.slice(0,this.frameSrc.indexOf("/","https://".length)):location.origin}},{key:"disableLeaderboard",value:function(){this.enabled=!1,this.disableLeaderboardMessageHandler(),this.refreshDecisioner.onLeaderboardDisabled(),this.focusState.removeFocusListener(this),this.subscription&&this.subscription.cancel(),this.leaderboardWrapper&&this.leaderboardWrapper.firstChild&&this.leaderboardWrapper.removeChild(this.leaderboardWrapper.firstChild),this.leaderboardWrapper&&this.leaderboardWrapper.parentNode&&this.leaderboardWrapper.parentNode.removeChild(this.leaderboardWrapper),this.leaderboardWrapper=null}},{key:"handleBadLeaderboard",value:function(){this.currentAd.creativeId=null,this.currentAd.lineitemId=null,this.domTarget&&(this.domTarget.innerHTML="")}},{key:"onFocusChanged",value:function(e){this.logLeaderboardEvent("event_".concat(e?"foregrounded":"backgrounded"))}},{key:"refreshLeaderboard",value:function(){this.fetchAndDisplayLeaderboard()}}]),e}(),Ee=2e4,be={displayTimeIntervalMs:Ee,timeInViewThresholdMs:15e3},_e=function(){function e(t,n){(0,o.Z)(this,e),this.cosmosConnector=t,this.logger=n}var t,n,i;return(0,s.Z)(e,[{key:"addSlot",value:(i=(0,r.Z)(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.cosmosConnector.addNewSlot(t,"banner");case 2:return e.next=4,this.cosmosConnector.enableSlot(t);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})},{key:"getConfig",value:(n=(0,r.Z)(a().mark((function e(){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.cosmosConnector.getAdSlotConfig("leaderboard");case 3:return t=e.sent,e.abrupt("return",this.normalizeConfig(t));case 7:if(e.prev=7,e.t0=e.catch(0),!(e.t0 instanceof Error)){e.next=14;break}if("DUPLICATE_REQUEST_ERROR"===e.t0.name){e.next=12;break}throw e.t0;case 12:e.next=15;break;case 14:throw e.t0;case 15:return e.abrupt("return",be);case 16:case"end":return e.stop()}}),e,this,[[0,7]])}))),function(){return n.apply(this,arguments)})},{key:"normalizeConfig",value:function(e){if(e){var t={displayTimeIntervalMs:Ee,timeInViewThresholdMs:15e3};return Object.prototype.hasOwnProperty.call(e,"display_time_interval")&&(t.displayTimeIntervalMs=1e3*e.display_time_interval),t}return be}},{key:"getSlot",value:(t=(0,r.Z)(a().mark((function e(t){var n,r,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.cosmosConnector.fetchAdForSlot(t);case 3:return n=e.sent,r=n.display.find((function(e){return"text/html"===e.mime_type})),i=r?r.media:n.html,e.abrupt("return",{html:i,adDisplay:r});case 9:throw e.prev=9,e.t0=e.catch(0),Error("Slot Request failed ".concat(e.t0));case 12:case"end":return e.stop()}}),e,this,[[0,9]])}))),function(e){return t.apply(this,arguments)})},{key:"logEvent",value:function(e){return this.logger(e)}},{key:"subscribeToSlotType",value:function(e,t){return this.cosmosConnector.subscribeToSlotType(e,t)}}]),e}(),Se={"Spotify-App-Version":"WebPlayer","App-Platform":"1.0.0"},we=function(){function e(t,n){(0,o.Z)(this,e),this.adsApi=t,this.spotifyTransport=n}return(0,s.Z)(e,[{key:"addSlot",value:function(){return Promise.resolve()}},{key:"getConfig",value:function(){var e=this;return this.adsApi.getAdsManagerConfig(this.spotifyTransport,Se).then((function(t){return t&&t.ok&&t.body?e.normalizeConfig(t.body.leaderboard):be}),(function(e){if("DUPLICATE_REQUEST_ERROR"!==e.name)throw e;return be}))}},{key:"normalizeConfig",value:function(e){if(e){var t={displayTimeIntervalMs:Ee,timeInViewThresholdMs:15e3};return Object.prototype.hasOwnProperty.call(e,"focus_time_elapsed_ms")&&(t.displayTimeIntervalMs=e.focus_time_elapsed_ms),t}return be}},{key:"getSlot",value:function(e){return this.adsApi.getAdsManagerSlot(this.spotifyTransport,e,Se).then((function(t){if(t&&t.ok&&t.body)return t.body.pod[e][0];throw Error("Slot Request failed")})).then((function(e){var t=e.display.find((function(e){return"text/html"===e.mimetype}));return{html:e.html,displayAd:t}}))}},{key:"logEvent",value:function(){return Promise.resolve()}},{key:"subscribeToSlotType",value:function(){return{cancel:function(){}}}}]),e}(),Ne=function(){function e(t){(0,o.Z)(this,e),(0,l.Z)(this,"viewTimer",0),(0,l.Z)(this,"lastOnlineStatus",!0),this.focusState=t}var t,n,i;return(0,s.Z)(e,[{key:"setRefreshDelegate",value:function(e){this.delegate=e}},{key:"onViewLoaded",value:(i=(0,r.Z)(a().mark((function e(){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.delegate.requestConfig();case 2:t=e.sent,this.viewTimer=t.displayTimeIntervalMs,this.timeOfLastViewUpdate=Date.now(),this.focusState.addFocusListener(this),this.startRefreshTimer();case 7:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"onViewUnloaded",value:function(){this.focusState.removeFocusListener(this),clearTimeout(this.refreshTimeout)}},{key:"onLeaderboardEnabled",value:function(){this.triggerRefresh()}},{key:"onLeaderboardDisabled",value:function(){this.onViewUnloaded()}},{key:"onNavigationChanged",value:function(){return this.updateViewTimer()}},{key:"onlineStateChanged",value:function(e){e!==this.lastOnlineStatus&&(this.lastOnlineStatus=e,e&&this.triggerRefresh())}},{key:"onFocusChanged",value:function(e){e?(this.timeOfLastViewUpdate=Date.now(),this.notifyRefreshIfPossible(),this.startRefreshTimer()):(this.updateViewTimer(),clearTimeout(this.refreshTimeout))}},{key:"updateViewTimer",value:(n=(0,r.Z)(a().mark((function e(){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null===this.timeOfLastViewUpdate&&(this.timeOfLastViewUpdate=Date.now()),t=Date.now()-this.timeOfLastViewUpdate,this.viewTimer=this.viewTimer-t,this.timeOfLastViewUpdate=Date.now(),e.abrupt("return",this.notifyRefreshIfPossible());case 5:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"isPastViewThreshold",value:function(){var e=this;return this.delegate.requestConfig().then((function(t){return t.displayTimeIntervalMs-e.viewTimer>t.timeInViewThresholdMs}))}},{key:"notifyRefreshIfPossible",value:(t=(0,r.Z)(a().mark((function e(){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.isPastViewThreshold();case 2:return(t=e.sent)&&this.triggerRefresh(),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"startRefreshTimer",value:function(){clearTimeout(this.refreshTimeout),this.refreshTimeout=setTimeout(this.triggerRefresh.bind(this),this.viewTimer)}},{key:"triggerRefresh",value:function(){document.hasFocus()&&this.delegate&&this.delegate.refreshLeaderboard()}}]),e}(),Oe=function(){function e(){(0,o.Z)(this,e),this.bindedVisibilityHandler=this.handleAppVisibilityChange.bind(this)}var t,n;return(0,s.Z)(e,[{key:"onNavigationChanged",value:function(){}},{key:"onlineStateChanged",value:function(){}},{key:"setRefreshDelegate",value:function(e){this.delegate=e}},{key:"onViewLoaded",value:(n=(0,r.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.scheduleRefresh();case 2:document.addEventListener("visibilitychange",this.bindedVisibilityHandler);case 3:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"onViewUnloaded",value:function(){document.removeEventListener("visibilitychange",this.bindedVisibilityHandler),this.disableRefresh()}},{key:"onLeaderboardEnabled",value:function(){this.triggerRefresh()}},{key:"onLeaderboardDisabled",value:function(){this.onViewUnloaded()}},{key:"handleAppVisibilityChange",value:(t=(0,r.Z)(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!("function"==typeof t.composedPath&&t.composedPath()&&t.composedPath()[0]||document).hidden){e.next=5;break}this.disableRefresh(),e.next=7;break;case 5:return e.next=7,this.scheduleRefresh();case 7:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"scheduleRefresh",value:function(){var e=this;return this.delegate.requestConfig().then((function(t){clearTimeout(e.refreshTimeout),e.refreshTimeout=setTimeout(e.triggerRefresh.bind(e),t.displayTimeIntervalMs)}))}},{key:"disableRefresh",value:function(){clearTimeout(this.refreshTimeout)}},{key:"triggerRefresh",value:function(){this.delegate&&this.delegate.refreshLeaderboard()}}]),e}();function Ce(e,t,n){var r=new y,i=e?new _e(m.gN,te(B)):new we(ue.fi,ce.b.getInstance()),a=e?new Ne(r):new Oe;return new ke({frameSrc:e?"/blank.html":"/blank",useIframeSrcDoc:e},i,a,r,t,n)}var Te=function(){function e(t){(0,o.Z)(this,e),(0,l.Z)(this,"enabled",!1),this.sponsoredPlaylistApi=t}var t,n,i,c;return(0,s.Z)(e,[{key:"enable",value:(c=(0,r.Z)(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.enabled=!0,e.next=3,this.sponsoredPlaylistApi.subscribeToPreview(t);case 3:this.subscription=e.sent;case 4:case"end":return e.stop()}}),e,this)}))),function(e){return c.apply(this,arguments)})},{key:"disable",value:function(){this.enabled=!1,this.subscription&&(this.subscription.cancel(),this.subscription=void 0)}},{key:"requestSponsoredPlaylists",value:(i=(0,r.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.enabled){e.next=2;break}throw new Error("You have to enable the manager before calling requestSponsoredPlaylists");case 2:return e.abrupt("return",this.sponsoredPlaylistApi.getSponsoredUris());case 3:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"requestSponsoredPlaylistAd",value:(n=(0,r.Z)(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.enabled){e.next=2;break}throw new Error("You have to enable the manager before calling requestSponsoredPlaylistAd");case 2:return e.abrupt("return",this.sponsoredPlaylistApi.getSponsorshipAd(t));case 3:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"logEvent",value:(t=(0,r.Z)(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.enabled){e.next=2;break}throw new Error("You have to enable the manager before calling logEvent");case 2:return e.abrupt("return",this.sponsoredPlaylistApi.logEvent(t));case 3:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),e}();function Ie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ae(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ie(Object(n),!0).forEach((function(t){(0,l.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ie(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Pe=function(){function e(t,n){(0,o.Z)(this,e),this.logger=t,this.eventSender=n}var t,n,i;return(0,s.Z)(e,[{key:"getSponsoredUris",value:(i=(0,r.Z)(a().mark((function e(){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.gN.getSponsoredUris();case 2:return t=e.sent,e.abrupt("return",t.sponsorships);case 4:case"end":return e.stop()}}),e)}))),function(){return i.apply(this,arguments)})},{key:"getSponsorshipAd",value:function(e){var t=this;return m.gN.getSponsorshipAd(e).catch((function(e){t.eventSender.send((0,q.v)({request_type:"sponsored",error_message:JSON.stringify({reason:e})}))}))}},{key:"subscribeToPreview",value:(n=(0,r.Z)(a().mark((function e(t){var n,r=this;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="sponsored-playlist",e.next=3,m.gN.addNewSlot(n).catch((function(e){r.eventSender.send((0,q.v)({request_type:"sponsored playlist",error_message:JSON.stringify({error:e})}))}));case 3:return e.abrupt("return",m.gN.subscribeToSlot("sp://ads/v1/slots/".concat(n),(function(e){var n=(new DOMParser).parseFromString(e.ad.display[0].media,"text/html"),r=JSON.parse(n.querySelector('[data-template="sponsored-playlist"]').innerText);t(Ae(Ae({},r.sponsoredPlaylist),{},{logoUrl:r.sponsoredPlaylist.logo}))})));case 4:case"end":return e.stop()}}),e)}))),function(e){return n.apply(this,arguments)})},{key:"logEvent",value:(t=(0,r.Z)(a().mark((function e(t){var n,r,i,o,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.event,r=t.ad_format,i=t.lineitem_id,o=t.creative_id,s=t.ad_id,this.logger({event:n,ad_format:r,lineitem_id:i,creative_id:o,ad_id:s});case 2:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),e}(),De=n(79638);function Re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Re(Object(n),!0).forEach((function(t){(0,l.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Re(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Le=function(){function e(t){(0,o.Z)(this,e),this.eventSender=t}var t,n,i;return(0,s.Z)(e,[{key:"getSponsoredUris",value:(i=(0,r.Z)(a().mark((function e(){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ue.OK.getSponsoredPlaylists(ce.b.getInstance());case 2:return t=e.sent,e.abrupt("return",t.body.sponsorships);case 4:case"end":return e.stop()}}),e)}))),function(){return i.apply(this,arguments)})},{key:"getSponsorshipAd",value:(n=(0,r.Z)(a().mark((function e(t){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ue.OK.getSponsoredPlaylistAd(ce.b.getInstance(),t);case 2:return n=e.sent,e.abrupt("return",n.body);case 4:case"end":return e.stop()}}),e)}))),function(e){return n.apply(this,arguments)})},{key:"logEvent",value:function(e){return this.eventSender.send((0,De.X)(xe(xe({},e),{},{format:e.ad_format})))}},{key:"subscribeToPreview",value:(t=(0,r.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{cancel:function(){}});case 1:case"end":return e.stop()}}),e)}))),function(){return t.apply(this,arguments)})}]),e}();function Fe(e,t){var n=e?new Pe(te(B),t):new Le(t);return new Te(n)}var Ue,Ze=n(1684),Me=function(){function e(t){(0,o.Z)(this,e),this.cosmosConnector=t}return(0,s.Z)(e,[{key:"addNewSlot",value:function(e,t){return this.cosmosConnector.addNewSlot(e,t)}},{key:"patchTargeting",value:function(e,t){return this.cosmosConnector.patchTargeting(e,t)}},{key:"subscribeToSlotType",value:function(e,t){return this.cosmosConnector.subscribeToSlotType(e,t)}},{key:"postEvent",value:function(e,t,n){return this.cosmosConnector.postEvent(e,t,n)}}]),e}(),Be=(n(39714),n(2575));!function(e){e.STARTED="started",e.RESUMED="resumed",e.PAUSED="paused",e.MUTED="muted",e.UNMUTED="unmuted",e.FIRST_QUARTILE="first_quartile",e.MIDPOINT="midpoint",e.THIRD_QUARTILE="third_quartile",e.ENDED="ended",e.SKIPPED="skipped",e.ERRORED="errored",e.EVENTS="EVENTS",e.VOLUME_CHANGE="volume_change"}(Ue||(Ue={}));var je=function(){function e(t){(0,o.Z)(this,e),this.trackingCallback=t,this.lastLadderPosition=0,this.isMuted=!1,this.isStarted=!1,this.isPaused=!1,this.volume=-1,this.duration=-1,this.position=-1}return(0,s.Z)(e,[{key:"getVastEventLadderPosition",value:function(e){switch(e){case Ue.STARTED:return 1;case Ue.FIRST_QUARTILE:return 2;case Ue.MIDPOINT:return 3;case Ue.THIRD_QUARTILE:return 4;case Ue.SKIPPED:case Ue.ENDED:case Ue.ERRORED:return 5;default:return null}}},{key:"createPayload",value:function(){return{volume:this.volume,duration:this.duration,position:this.position}}},{key:"processEvent",value:function(e){var t=this.getVastEventLadderPosition(e);t?t>this.lastLadderPosition&&(this.lastLadderPosition=t,this.trackingCallback(e,this.createPayload())):this.trackingCallback(e,this.createPayload())}},{key:"onResumed",value:function(){this.isStarted?this.isPaused&&(this.isPaused=!1,this.processEvent(Ue.RESUMED)):(this.isStarted=!0,this.processEvent(Ue.STARTED))}},{key:"onPaused",value:function(){this.isPaused=!0,this.processEvent(Ue.PAUSED)}},{key:"onVolumeChanged",value:function(e){var t=e.volume;this.volume=t,this.processEvent(Ue.VOLUME_CHANGE),t>0&&this.isMuted?(this.isMuted=!1,this.processEvent(Ue.UNMUTED)):0!==t||this.isMuted||(this.isMuted=!0,this.processEvent(Ue.MUTED))}},{key:"onPlaybackEnded",value:function(e){switch(e.reason){case Be.xu.REQUESTED:this.processEvent(Ue.SKIPPED);break;case Be.xu.FATAL_ERROR:case Be.xu.NETWORK_ERROR:this.processEvent(Ue.ERRORED);break;case Be.xu.PLAYED_TO_END:this.processEvent(Ue.ENDED)}}},{key:"onDurationChanged",value:function(e){var t=e.duration;this.duration=t}},{key:"onPlaybackCreated",value:function(e){var t=this,n=e.initialConfiguration,r=e.timeObservable;this.position=n.position,this.volume=n.volume,this.isMuted=0===this.volume,r.addObserverForPeriodicEvents(.4,(function(e){t.position=e})),r.addObserverForMediaPositions([.25,.5,.75],(function(e){e>=.25&&t.processEvent(Ue.FIRST_QUARTILE),e>=.5&&t.processEvent(Ue.MIDPOINT),e>=.75&&t.processEvent(Ue.THIRD_QUARTILE)}))}}]),e}(),Ve=function(){function e(t,n){(0,o.Z)(this,e),this.listener=t,this.adId=n,this.isStarted=!1,this.firstReadyDone=!1,this.volume=-1,this.duration=-1,this.position=-1}return(0,s.Z)(e,[{key:"createPayload",value:function(){return{adId:this.adId,volume:this.volume,duration:this.duration,position:this.position}}},{key:"onResumed",value:function(){this.isStarted||(this.isStarted=!0,this.listener.onStarted(this.createPayload()))}},{key:"onVolumeChanged",value:function(e){var t=e.volume;this.volume=t,this.listener.onStateUpdate(this.createPayload())}},{key:"onDurationChanged",value:function(e){var t=e.duration;this.duration=t,this.listener.onStateUpdate(this.createPayload())}},{key:"onPlaybackCreated",value:function(e){var t=this,n=e.initialConfiguration,r=e.timeObservable;this.position=n.position,this.volume=n.volume,r.addObserverForPeriodicEvents(.4,(function(e){t.position=e,t.listener.onStateUpdate(t.createPayload())})),this.listener.onCreated(this.createPayload())}},{key:"onPlaybackEnded",value:function(e){var t=e.reason;this.listener.onEnded(this.createPayload(),t)}},{key:"onReady",value:function(){this.firstReadyDone||this.listener.onReady(),this.firstReadyDone=!0}}]),e}(),He=function(){function e(t,n){(0,o.Z)(this,e),this.vastEventsTracker=t,this.vtoTracker=n}return(0,s.Z)(e,[{key:"onResumed",value:function(){this.vtoTracker.onResumed(),this.vastEventsTracker.onResumed()}},{key:"onPaused",value:function(){this.vastEventsTracker.onPaused()}},{key:"onVolumeChanged",value:function(e){this.vtoTracker.onVolumeChanged(e),this.vastEventsTracker.onVolumeChanged(e)}},{key:"onPlaybackEnded",value:function(e){this.vtoTracker.onPlaybackEnded(e),this.vastEventsTracker.onPlaybackEnded(e)}},{key:"onDurationChanged",value:function(e){this.vtoTracker.onDurationChanged(e),this.vastEventsTracker.onDurationChanged(e)}},{key:"onPlaybackCreated",value:function(e){this.vtoTracker.onPlaybackCreated(e),this.vastEventsTracker.onPlaybackCreated(e)}},{key:"onReady",value:function(){this.vtoTracker.onReady()}},{key:"onSeeking",value:function(){}},{key:"onSubtitleChanged",value:function(){}},{key:"onVideoFormatChanged",value:function(){}}]),e}(),Ge=function(e){return function(t,n){return m.gN.postEvent(e,t,{event_data:{clientReportedUserAgent:navigator.userAgent,volume:n.volume.toString(),duration:n.duration.toString()},playback_position:Math.floor(1e3*n.position)})}};var We=function(){function e(t,n,r){var i=this;(0,o.Z)(this,e),this.focusState=n,this.setAdStateKey=t,this.focusState.addFocusListener(this),this.history=r,this.history.listen((function(e){i.setAdStateKey("view_uri",e.pathname)}))}return(0,s.Z)(e,[{key:"onFocusChanged",value:function(e){this.setAdStateKey("focus",e?"true":"false")}}]),e}();function ze(e){return new We(m.gN.setAdStateKey,new y,e)}function Ke(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Ye=function(e,t,n,r,i){var a=t.webHptoApi;return function(){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ke(Object(n),!0).forEach((function(t){(0,l.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ke(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({audio:g(i),vto:(s=new Ze.hf(new y,new Me(m.gN)),{manager:s,factories:[(t=Ge,o=s,function(e){var n;return"true"===(null===(n=e.metadata)||void 0===n?void 0:n.is_advertisement)?new He(new je(t(e.metadata.ad_id)),new Ve(o,e.metadata.ad_id)):null})]}),hpto:le({webHptoApi:a},r),billboard:new P(new D(m.gN),new y),leaderboard:Ce(e,r,n),sponsoredPlaylist:Fe(e,r)},e?{adStateReporter:ze(n)}:{});var t,o,s}},qe=n(63767),Qe=n(89952),Je=n(5944),Xe=n(49104);function $e(e,t,n,i){return Ye(e===qe.W.Desktop,{webHptoApi:new d(ce.b.getInstance(),{Album:ue.dp,Artist:ue.xh,Playlist:ue.gO,Track:ue.fQ,Show:ue.di},Xe.o)},t,n,(0,r.Z)(a().mark((function e(){var t,n,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.getState(),r=null!==(t=null==n?void 0:n.item)&&void 0!==t?t:void 0,null!==n&&(0,Qe.k6)(r)){e.next=4;break}return e.abrupt("return",null);case 4:return e.abrupt("return",{positionMs:(0,Je.k)(n),adId:r.id});case 5:case"end":return e.stop()}}),e)}))))()}},86458:(e,t,n)=>{"use strict";n.d(t,{d:()=>o});var r=n(96206),i=n(87961),a=n(97194);function o(e,t,n,o,s){(0,a.J)(e),i.b.setLocale(t.locale),i.b.setMarket(t.market),i.b.setSession(t),i.b.setGlobalRequestHeaders([["App-Platform",s],["Spotify-App-Version",o]]),r.ag.setDictionary(n),r.ag.setLocale(t.locale)}},38868:(e,t,n)=>{"use strict";n.d(t,{J:()=>Bu,q:()=>Ru});var r=n(93433),i=n(29439),a=n(4942),o=n(15861),s=(n(41539),n(88674),n(92222),n(89554),n(54747),n(66992),n(78783),n(33948),n(47941),n(82526),n(57327),n(38880),n(49337),n(33321),n(69070),n(87757)),l=n.n(s),c=n(92876),u=n(90071),d=n(19325),m=n(43867),p=n(17178),f=n(3578),v=n(88005),g=n(96206),h=(n(81299),n(12419),n(15671)),y=n(43144),k=n(97326),E=n(60136),b=n(82963),_=n(61120),S=(n(60086),n(14723)),w=n(51340);function N(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,_.Z)(e);if(t){var i=(0,_.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,b.Z)(this,n)}}var O=function(e){(0,E.Z)(i,e);var t,n,r=N(i);function i(e,t,n,o){var s;return(0,h.Z)(this,i),s=r.call(this,e,t,n),(0,a.Z)((0,k.Z)(s),"set","ENHANCED"),(0,a.Z)((0,k.Z)(s),"headers",{"content-type":"application/json"}),s._cosmos=o,s}return(0,y.Z)(i,[{key:"setIsEnhanced",value:(n=(0,o.Z)(l().mark((function e(t,n,r){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(navigator.onLine||!n){e.next=3;break}return this.getEvents().emit(w.c.ENHANCE_OFFLINE_FAILURE,{uri:t}),e.abrupt("return");case 3:return n&&(this._getPageShouldEmitEnhancedWithRecs=!0),e.next=6,this._cosmos[n?"post":"del"]("sp://collection-platform/items?responseFormat=json",{set:this.set,items:[t]},this.headers);case 6:this.getEvents().emit(n?w.c.ENHANCED:w.c.DEHANCED,{uri:t}),this.updatePlayContextIfApplicable(t,r);case 8:case"end":return e.stop()}}),e,this)}))),function(e,t,r){return n.apply(this,arguments)})},{key:"getContextState",value:(t=(0,o.Z)(l().mark((function e(t){var n,r,i,a,o,s;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._cosmos.get("sp://collection-platform/items?responseFormat=json",{set:this.set,items:[t]},this.headers);case 2:if(r=e.sent,i=r.items,!(o=(null==i||null===(n=i[0])||void 0===n?void 0:n.uri)===t)){e.next=8;break}return a=null==i||null===(s=i[0])||void 0===s?void 0:s.addTime,e.abrupt("return",{isEnhanced:o,iteration:a});case 8:return e.abrupt("return",{isEnhanced:!1,iteration:void 0});case 9:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"subscribeToContextState",value:function(e,t){var n=this;this.getContextState(e).then((function(e){return t(null,e)}));var r=this._cosmos.sub("sp://collection-platform/contains?responseFormat=json",function(){var r=(0,o.Z)(l().mark((function r(i){var a;return l().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(a=i.found,!(!0===(null==a?void 0:a[0]))){r.next=10;break}return r.t0=t,r.next=6,n.getContextState(e);case 6:r.t1=r.sent,(0,r.t0)(null,r.t1),r.next=11;break;case 10:t(null,{isEnhanced:!1,iteration:void 0});case 11:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}(),(function(e){t(e)}),{set:this.set,items:[e]},this.headers);return r.cancel}}]),i}(S.t),C=function(){function e(){(0,h.Z)(this,e)}return(0,y.Z)(e,[{key:"cleanActions",value:function(){}},{key:"triggerActions",value:function(){}},{key:"storeAction",value:function(){}}]),e}(),T=function(){function e(t){(0,h.Z)(this,e),this._cosmos=t}var t,n;return(0,y.Z)(e,[{key:"copy",value:(n=(0,o.Z)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._cosmos.put("sp://desktop/v1/clipboard",t);case 2:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"paste",value:(t=(0,o.Z)(l().mark((function e(){var t;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._cosmos.get("sp://desktop/v1/clipboard");case 2:return t=e.sent,e.abrupt("return",null==t?void 0:t.data);case 4:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}]),e}(),I=n(55758),A="sp://collection-platform/items?responseFormat=json",P="sp://collection-platform/contains?responseFormat=json",D={artist:"FOLLOWED_ARTISTS",artistban:"BANNED_ARTISTS",ban:"BAN",collection:"COLLECTION",enhanced:"ENHANCED",ignoreinrecs:"IGNOREINRECS",listenlater:"LISTENLATER",show:"SHOW",ylpin:"PINNED_YOUR_LIBRARY"},R=function(){function e(t){(0,h.Z)(this,e),(0,a.Z)(this,"events",new I.yF),(0,a.Z)(this,"headers",{"content-type":"application/json"}),this._cosmos=t}var t,n,r;return(0,y.Z)(e,[{key:"getEvents",value:function(){return this.events}},{key:"add",value:(r=(0,o.Z)(l().mark((function e(t,n){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._cosmos.post(A,{set:D[t],items:n},this.headers);case 2:this.events.emit(I.zy.ADDED,{set:t,uris:n,source:"client"});case 3:case"end":return e.stop()}}),e,this)}))),function(e,t){return r.apply(this,arguments)})},{key:"remove",value:(n=(0,o.Z)(l().mark((function e(t,n){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._cosmos.del(A,{set:D[t],items:n},this.headers);case 2:this.events.emit(I.zy.REMOVED,{set:t,uris:n,source:"client"});case 3:case"end":return e.stop()}}),e,this)}))),function(e,t){return n.apply(this,arguments)})},{key:"contains",value:(t=(0,o.Z)(l().mark((function e(t,n){var r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._cosmos.get(P,{set:D[t],items:n},this.headers);case 2:return r=e.sent,e.abrupt("return",r.found);case 4:case"end":return e.stop()}}),e,this)}))),function(e,n){return t.apply(this,arguments)})},{key:"subscribeContains",value:function(e,t,n){return this._cosmos.sub(P,(function(e){var t=e.found;n(t)}),void 0,{set:D[e],items:t},this.headers).cancel}}]),e}(),x=n(97397);n(47042),n(68309),n(91038),n(74916),n(77601),n(41817),n(32165),n(79753),n(21703),n(96647),n(24812);function L(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return F(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return F(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function F(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function U(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,_.Z)(e);if(t){var i=(0,_.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,b.Z)(this,n)}}var Z=function(e){(0,E.Z)(n,e);var t=U(n);function n(e,r){var i;return(0,h.Z)(this,n),i=t.call(this),(0,a.Z)((0,k.Z)(i),"_numListeners",0),(0,a.Z)((0,k.Z)(i),"_subscriptions",[]),i._cosmos=e,i._endpoints=r,i.onAddListener("message",i.onListenerAdded.bind((0,k.Z)(i))),i.onRemoveListener("message",i.onListenerRemoved.bind((0,k.Z)(i))),i}return(0,y.Z)(n,[{key:"onListenerAdded",value:function(){var e=this;if(++this._numListeners,0===this._subscriptions.length){var t,n=L(this._endpoints);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=this._cosmos.sub(r,(function(t){e.emit("message",t)}),(function(){}));this._subscriptions.push(i)}}catch(e){n.e(e)}finally{n.f()}}}},{key:"onListenerRemoved",value:function(){0==--this._numListeners&&this._subscriptions.length>0&&(this._subscriptions.forEach((function(e){return e.cancel()})),this._subscriptions=[])}}]),n}(n(92357).z);var M=function(){function e(t){(0,h.Z)(this,e),this._cosmos=t}var t,n,r,i;return(0,y.Z)(e,[{key:"enableMenuItem",value:(i=(0,o.Z)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._cosmos.post("sp://messages/v1/container/control",(0,a.Z)({type:"update_menu_state"},t,!0));case 2:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})},{key:"disableMenuItem",value:(r=(0,o.Z)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._cosmos.post("sp://messages/v1/container/control",(0,a.Z)({type:"update_menu_state"},t,!1));case 2:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"setTitlebarHeight",value:(n=(0,o.Z)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._cosmos.post("sp://messages/v1/container/control",{type:"update_titlebar",height:t});case 2:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"notifyUsableStateReached",value:(t=(0,o.Z)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._cosmos.post("sp://messages/v1/container/control",{type:"loaded_initial_state",name:t});case 2:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"getEvents",value:function(){return function(e){return new Z(e,["sp://messages/v1/container/control","sp://desktop/v1/navigation"])}(this._cosmos)}}]),e}(),B=(n(83710),n(39714),n(9653),n(34553),n(21249),n(88074)),j=n(9446);function V(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,_.Z)(e);if(t){var i=(0,_.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,b.Z)(this,n)}}var H=Math.pow(2,31)-1,G=function(e){return Math.round(e/j.l5*H).toString()},W=function(e){(0,E.Z)(i,e);var t,n,r=V(i);function i(e,t){var n;return(0,h.Z)(this,i),(n=r.call(this,t)).prefs=e,n}return(0,y.Z)(i,[{key:"subscribeToEnabledState",value:function(e){return this.prefs.sub({key:"audio.equalizer_v2"},(function(t){var n=!!t.entries["audio.equalizer_v2"].bool;e(n)})).cancel}},{key:"setEnabledState",value:function(e){this.prefs.set({entries:(0,a.Z)({},"audio.equalizer_v2",{bool:e})})}},{key:"setFilterGain",value:(n=(0,o.Z)(l().mark((function e(t,n){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.prefs.set({entries:(0,a.Z)({},t,{number:G(n)})});case 2:this.filters[this.filters.findIndex((function(e){return e.key===t}))].gain=n;case 3:case"end":return e.stop()}}),e,this)}))),function(e,t){return n.apply(this,arguments)})},{key:"getFilters",value:(t=(0,o.Z)(l().mark((function e(){var t,n,r,i,a,o=this;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(this.filters.map((function(e){return o.prefs.get({key:e.key})})));case 2:for(t=e.sent,n=0;n<this.filters.length;n++)r=t[n],i=this.filters[n],(a=r.entries[i.key].number)&&(this.filters[n].gain=Number(a)/H*j.l5);return e.abrupt("return",this.filters);case 5:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"isSupported",value:function(){return!0}}]),i}(B.t),z=n(37900);function K(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,_.Z)(e);if(t){var i=(0,_.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,b.Z)(this,n)}}var Y="sp://facebook/v1/connection",q=function(e){(0,E.Z)(n,e);var t=K(n);function n(e){var r;return(0,h.Z)(this,n),r=t.call(this),(0,a.Z)((0,k.Z)(r),"_numListeners",0),(0,a.Z)((0,k.Z)(r),"_subscription",null),r._cosmos=e,r.onAddListener(z.D.CONNECTION_STATE_CHANGE,(function(){r._numListeners++,null===r._subscription&&(r._subscription=r._cosmos.sub(Y,(function(e){r.emit(z.D.CONNECTION_STATE_CHANGE,e)})))})),r.onRemoveListener(z.D.CONNECTION_STATE_CHANGE,(function(){r._numListeners--,null!==r._subscription&&0===r._numListeners&&(r._subscription.cancel(),r._subscription=null)})),r}return(0,y.Z)(n,[{key:"connect",value:function(e){return this._cosmos.put(Y,e)}},{key:"disconnect",value:function(){return this._cosmos.del(Y)}}]),n}(z.Z),Q=n(14411),J=n(30282),X=n(86458),$=n(8495),ee=n(88914),te=function(e,t,n){var r=e.event_sender_context_information,i=[(0,ee.UR)({version:r.client_version_string}),(0,ee.jx)(n),(0,ee.IE)(r.installation_id),(0,ee.Hv)({name:r.platform_type,version:r.os_version}),(0,ee.yD)({manufacturer:r.device_manufacturer||"",model:r.device_model||""})];return(0,$.mi)({transport:t,suppressPersist:false,context:i})},ne=n(21270),re=(0,ne.v)();function ie(){return ae.apply(this,arguments)}function ae(){return(ae=(0,o.Z)(l().mark((function e(){var t;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,re.get("sp://remote-config-overrides/v1/values");case 3:return t=e.sent,e.abrupt("return",f.VK.fromJSON(t["desktop-ui"]||{}));case 7:return e.prev=7,e.t0=e.catch(0),console.warn(e.t0),e.abrupt("return",f.VK.builder().build());case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}n(24603),n(28450),n(88386),n(4129),n(85827),n(78011),n(83510),n(15306);var oe=n(71002),se=n(89611);n(4723);function le(){le=function(e,t){return new n(e,void 0,t)};var e=RegExp.prototype,t=new WeakMap;function n(e,r,i){var a=new RegExp(e,r);return t.set(a,i||t.get(e)),(0,se.Z)(a,n.prototype)}function r(e,n){var r=t.get(n);return Object.keys(r).reduce((function(t,n){return t[n]=e[r[n]],t}),Object.create(null))}return(0,E.Z)(n,RegExp),n.prototype.exec=function(t){var n=e.exec.call(this,t);return n&&(n.groups=r(n,this)),n},n.prototype[Symbol.replace]=function(n,i){if("string"==typeof i){var a=t.get(this);return e[Symbol.replace].call(this,n,i.replace(/\$<([^>]+)>/g,(function(e,t){return"$"+a[t]})))}if("function"==typeof i){var o=this;return e[Symbol.replace].call(this,n,(function(){var e=arguments;return"object"!=(0,oe.Z)(e[e.length-1])&&(e=[].slice.call(e)).push(r(e,o)),i.apply(this,e)}))}return e[Symbol.replace].call(this,n,i)},le.apply(this,arguments)}var ce=le(/Spotify\/(.+)\s/,{version:1});function ue(){return window.navigator.userAgent.match(ce).groups.version}var de=n(57481),me=n(87331),pe={"Master Build":"(master)","Release Build":"(release)","PR Build":"(pull request)","Local Build":"(local development)"},fe=function(){function e(t){(0,h.Z)(this,e),this._cosmos=t}var t,n,r;return(0,y.Z)(e,[{key:"getVersionInfo",value:(r=(0,o.Z)(l().mark((function e(){var t,n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._cosmos.get("sp://desktop/v1/version");case 2:return t=e.sent,n=pe[t.build_type]||"Spotify (unknown)",e.abrupt("return",{containerVersion:t.version,containerBuildType:n,containerPlatform:t.platform,uiVersion:"xpui_2022-08-26_1661529059895_3ae3b4f"});case 5:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"subscribe",value:function(e){return this._cosmos.sub("sp://desktop/v1/upgrade/status",(function(t){void 0!==t.pending?e({state:me.J.UPDATE_AVAILABLE,version:t.pending.version}):void 0!==t.downloading?e({state:me.J.UPDATE_PROCESSING,version:t.downloading.version}):void 0!==t.prepared?e({state:me.J.UPDATE_READY,version:t.prepared.version}):e({state:me.J.UPDATE_NONE,version:null})}))}},{key:"prepareUpdate",value:(n=(0,o.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._cosmos.post("sp://desktop/v1/upgrade/download");case 2:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"applyUpdate",value:(t=(0,o.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._cosmos.post("sp://desktop/v1/restart");case 2:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}]),e}(),ve=n(94967),ge=(n(91058),n(69518)),he=n.n(ge),ye=n(76189),ke=n(42781);function Ee(e){var t,n,r,i;return he().isTrack(e.uri)||he().isLocalTrack(e.uri)?{type:ke.p.TRACK,uri:e.uri,name:e.metadata.title,duration:{milliseconds:parseInt(e.metadata.duration,10)},isExplicit:"true"===e.metadata.is_explicit,isLocal:"true"===e.metadata.is_local,images:[{url:e.metadata.image_url}],album:{type:ke.p.ALBUM,uri:null!==(t=e.album_uri)&&void 0!==t?t:"",name:e.metadata.album_title,images:[{url:e.metadata.image_url}]},artists:[{type:ke.p.ARTIST,uri:null!==(n=e.artist_uri)&&void 0!==n?n:"",name:null!==(r=e.metadata.artist_name)&&void 0!==r?r:""}],mediaType:"audio",provider:null,uid:null}:he().isEpisode(e.uri)?{type:ke.p.EPISODE,uri:e.uri,name:e.metadata.title,duration:{milliseconds:parseInt(e.metadata.duration,10)},images:[{url:e.metadata.image_url}],show:{type:ke.p.SHOW,uri:null!==(i=e.album_uri)&&void 0!==i?i:"",name:e.metadata.album_title,images:[{url:e.metadata.image_url}]},mediaType:"audio",provider:null,uid:null}:null}function be(e,t,n){return _e.apply(this,arguments)}function _e(){return(_e=(0,o.Z)(l().mark((function e(t,n,r){var i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=r.tracks.filter((function(e){return!!e.uri})).slice(1).map((function(e){return Ee(e)})).filter((function(e){return null!==e})),e.prev=1,e.next=4,(0,ye.f_)(t,n,i);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),console.error(e.t0);case 9:return e.abrupt("return",{items:i.map((function(e){var t;return null!==(t=n.get(e.uri))&&void 0!==t?t:e}))});case 10:case"end":return e.stop()}}),e,null,[[1,6]])})))).apply(this,arguments)}n(32564);var Se=function(e){return function(t){var n,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];r?r=!1:(clearTimeout(n),n=setTimeout((function(){e.apply(e,a)}),t))}}},we=n(9204);function Ne(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,_.Z)(e);if(t){var i=(0,_.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,b.Z)(this,n)}}var Oe=function(e){(0,E.Z)(n,e);var t=Ne(n);function n(e,r,i){var o;return(0,h.Z)(this,n),o=t.call(this),(0,a.Z)((0,k.Z)(o),"_subscriptions",(0,a.Z)({},we.G.UPDATE,null)),o._cosmos=e,o._loader=r,o._cache=i,o}return(0,y.Z)(n,[{key:"startListening",value:function(){var e=this;null===this._subscriptions[we.G.UPDATE]&&(this._subscriptions[we.G.UPDATE]=this._cosmos.sub("sp://play-history/v1",Se(function(){var t=(0,o.Z)(l().mark((function t(n){return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=e,t.t1=we.G.UPDATE,t.next=4,be(e._loader,e._cache,n);case 4:t.t2=t.sent,t.t0.emit.call(t.t0,t.t1,t.t2);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())(100,true),(function(){})))}},{key:"stopListening",value:function(){var e=this._subscriptions[we.G.UPDATE];null!==e&&(e.cancel(),this._subscriptions[we.G.UPDATE]=null)}}]),n}(we.k),Ce=function(){function e(t,n){(0,h.Z)(this,e),(0,a.Z)(this,"_cache",new ve.tp(36e5,3e5)),this._cosmos=t,this._loader=n,this._events=new Oe(this._cosmos,this._loader,this._cache)}var t;return(0,y.Z)(e,[{key:"getContents",value:(t=(0,o.Z)(l().mark((function e(){var t;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._cosmos.get("sp://play-history/v1");case 2:return t=e.sent,e.abrupt("return",be(this._loader,this._cache,t));case 4:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"getEvents",value:function(){return this._events}},{key:"getCapabilities",value:function(){return{isSupported:!0}}}]),e}(),Te="sp://scrobble/v1/incognito",Ie=function(){function e(t){(0,h.Z)(this,e),this._cosmos=t}var t;return(0,y.Z)(e,[{key:"subscribeToPrivateSession",value:function(e){var t=this._cosmos.sub(Te,(function(t){e(t.enabled)}));return function(){t.cancel()}}},{key:"setPrivateSession",value:(t=(0,o.Z)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._cosmos.put(Te,{enabled:t});case 2:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"getCapabilities",value:function(){return{isSupported:!0}}}]),e}(),Ae=n(91385),Pe=n(74670),De=n(86649),Re=n(76271),xe=function(){function e(t,n,r){(0,h.Z)(this,e),this._productState=t,this._playlistAPI=n,this._showAPI=r}var t;return(0,y.Z)(e,[{key:"getReportURL",value:(t=(0,o.Z)(l().mark((function e(t){var n,r,i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._productState.getValues(p.GetValuesRequest.fromPartial({}));case 2:return n=e.sent,r=n.pairs["ugc-abuse-report-url"],i="".concat(r.replace("{uri}",t),"&platform=desktop&version=").concat("1.1.93.896.g3ae3b4f3"),e.abrupt("return",i);case 6:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"isURIReportable",value:function(e){return(0,Re.g)(e)}},{key:"canReportPlaylist",value:function(e,t){return(0,Re.R)(this._playlistAPI,e,t)}},{key:"canReportEpisode",value:function(e){return this._showAPI.getEpisodeOrChapter(e).then(De.Qj)}}]),e}(),Le=(n(40561),n(69826),n(12643),n(38470));function Fe(e,t){return Ue.apply(this,arguments)}function Ue(){return Ue=(0,o.Z)(l().mark((function e(t,n){var r,i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.get("sp://podcast-segments/v1/decorated",{episode_uris:[n],segments_policy:{playback:!0},track_decoration_policy:{track_policy:{name:!0,length:!0,playable:!0},album_policy:{name:!0,link:!0,covers:!0},artists_policy:{name:!0,link:!0}},episode_decoration_policy:{episode_policy:{is_music_and_talk:!0},show_decoration_policy:{name:!0,link:!0}}});case 2:if((r=e.sent)&&r.success&&r.episodeSegments){e.next=5;break}return e.abrupt("return",[]);case 5:return i=r.episodeSegments.find((function(e){return e.episodeUri===n})),e.abrupt("return",(null==i?void 0:i.segments.map((function(e){switch(e.type){case"MUSIC":return Be(e);case"TALK":return je(e);default:return(0,Le.U)(e)}})))||[]);case 7:case"end":return e.stop()}}),e)}))),Ue.apply(this,arguments)}function Ze(e,t){return Me.apply(this,arguments)}function Me(){return Me=(0,o.Z)(l().mark((function e(t,n){var r,i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.get("sp://podcast-segments/v1/decorated",{episode_uris:[n]});case 2:if((r=e.sent)&&r.success&&r.episodeSegments){e.next=5;break}return e.abrupt("return",[]);case 5:return i=r.episodeSegments.find((function(e){return e.episodeUri===n})),e.abrupt("return",(null==i?void 0:i.artists)||[]);case 7:case"end":return e.stop()}}),e)}))),Me.apply(this,arguments)}function Be(e){var t,n=null!==(t=e.startMs)&&void 0!==t?t:0;return{type:"MUSIC",uri:e.uri,start:n,stop:e.stopMs,duration:e.stopMs-n,track:{playable:e.trackMetadata.playable,name:e.trackMetadata.name,album:{uri:e.trackMetadata.album.link,name:e.trackMetadata.album.name,image:e.trackMetadata.album.covers.standardLink},artists:e.trackMetadata.artist.map((function(e){return{uri:e.link,name:e.name}}))}}}function je(e){var t,n=null!==(t=e.startMs)&&void 0!==t?t:0;return{type:"TALK",uri:e.uri,start:n,stop:e.stopMs,duration:e.stopMs-n,title:e.title,subtitle:e.subtitle,show:{uri:e.episodeMetadata.show.link,name:e.episodeMetadata.show.name}}}var Ve=function(){function e(t){(0,h.Z)(this,e),this.cosmos=t}var t,n,r;return(0,y.Z)(e,[{key:"getCapabilities",value:function(){return{isSupported:!0}}},{key:"getSegments",value:(r=(0,o.Z)(l().mark((function e(t,n,r){var i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fe(this.cosmos,t);case 2:return i=e.sent,e.abrupt("return",i.splice(n,r));case 4:case"end":return e.stop()}}),e,this)}))),function(e,t,n){return r.apply(this,arguments)})},{key:"getSegmentByTimestamp",value:(n=(0,o.Z)(l().mark((function e(t,n){var r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fe(this.cosmos,t);case 2:return r=e.sent,e.abrupt("return",r.find((function(e){return n>=e.start&&n<e.stop})));case 4:case"end":return e.stop()}}),e,this)}))),function(e,t){return n.apply(this,arguments)})},{key:"getArtists",value:(t=(0,o.Z)(l().mark((function e(t){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ze(this.cosmos,t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),e}(),He=n(86597),Ge=function(){function e(t){var n=this;(0,h.Z)(this,e),(0,a.Z)(this,"incognito",!1),this.cosmos=t,this.cosmos.sub("sp://scrobble/v1/incognito",(function(e){n.incognito=e&&!!e.enabled}),(function(){}))}return(0,y.Z)(e,[{key:"isIncognito",value:function(){return this.incognito}}]),e}(),We=function(){function e(t){var n=this;(0,h.Z)(this,e),this.productStateClient=t,this.rules="",this.productStateClient.subValues(p.SubValuesRequest.fromPartial({}),(function(e){n.rules=e.pairs["streaming-rules"]}))}return(0,y.Z)(e,[{key:"streamingRules",value:function(){return this.rules}}]),e}(),ze=n(64781),Ke=function(){function e(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];(0,h.Z)(this,e),(0,a.Z)(this,"store",[]),(0,a.Z)(this,"pendingPromise",!1),(0,a.Z)(this,"emptyQueueResolver",(function(){})),(0,a.Z)(this,"paused",!1),this.stopOnError=t}var t,n;return(0,y.Z)(e,[{key:"push",value:function(e,t){var n=this;return new Promise((function(r,i){n.store.push({action:e,resolve:r,reject:i,preRunCheck:t}),n.pop()}))}},{key:"unshift",value:function(e,t){var n=this;return new Promise((function(r,i){n.store.unshift({action:e,resolve:r,reject:i,preRunCheck:t}),n.pop()}))}},{key:"pause",value:function(){this.paused=!0}},{key:"resume",value:(n=(0,o.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.paused=!1,e.abrupt("return",this.pop());case 2:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"waitForIdle",value:function(){var e=this;return 0!==this.size()||this.pendingPromise?new Promise((function(t){var n=e.emptyQueueResolver;e.emptyQueueResolver=function(){n(),t()}})):Promise.resolve()}},{key:"size",value:function(){return this.store.length}},{key:"clearPendingQueue",value:function(){var e=this.size();return this.store=[],e}},{key:"pop",value:(t=(0,o.Z)(l().mark((function e(){var t,n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.paused){e.next=2;break}return e.abrupt("return",!1);case 2:if(!this.pendingPromise){e.next=4;break}return e.abrupt("return",!1);case 4:if(t=this.store.shift()){e.next=7;break}return e.abrupt("return",!1);case 7:if(e.prev=7,!(!t.preRunCheck||t.preRunCheck&&t.preRunCheck())){e.next=15;break}return this.pendingPromise=!0,e.next=12,t.action();case 12:n=e.sent,this.pendingPromise=!1,t.resolve(n);case 15:this.pop(),e.next=23;break;case 18:e.prev=18,e.t0=e.catch(7),this.pendingPromise=!1,t.reject(e.t0),this.stopOnError||this.pop();case 23:return 0!==this.size()||this.pendingPromise||this.emptyQueueResolver(),e.abrupt("return",!0);case 25:case"end":return e.stop()}}),e,this,[[7,18]])}))),function(){return t.apply(this,arguments)})}]),e}(),Ye=n(28664),qe=(n(17727),n(9342)),Qe=(n(69600),n(83112),n(98145),n(39575),n(82472),n(48675),n(92990),n(18927),n(33105),n(35035),n(74345),n(7174),n(32846),n(44731),n(77209),n(96319),n(58867),n(37789),n(33739),n(29368),n(14483),n(12056),n(3462),n(30678),n(27462),n(33824),n(55021),n(12974),n(15016),n(37380),n(1118),n(82481),n(89952));function Je(e){return void 0===e?[]:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){var t=e.url,n=e.label;return t&&n})).map((function(e){return{url:e.url,label:e.label}}))}({url:e.image_url,label:"standard"},{url:e.image_small_url,label:"small"},{url:e.image_large_url,label:"large"},{url:e.image_xlarge_url,label:"xlarge"})}function Xe(e){return{milliseconds:(t=e,n=-1,t?parseInt(t,10):n)};var t,n}function $e(e){return"true"===(null==e?void 0:e.toLowerCase())}function et(e,t){var n,r;if(void 0===e)return[];for(var i="artist_uri",a="artist_name",o=[{type:t,uri:null!==(n=e[i])&&void 0!==n?n:"",name:null!==(r=e[a])&&void 0!==r?r:""}],s=1;s<=9;++s){var l,c,u="".concat(i,":").concat(s),d="".concat(a,":").concat(s);if(!e[u]||!e[d])break;o.push({type:t,uri:null!==(l=e[u])&&void 0!==l?l:"",name:null!==(c=e[d])&&void 0!==c?c:""})}return o}function tt(e){var t,n;return{type:ke.p.ALBUM,uri:null!==(t=e.album_uri)&&void 0!==t?t:"",name:null!==(n=e.album_title)&&void 0!==n?n:"",images:Je(e)}}function nt(e){var t,n;return{type:ke.p.SHOW,uri:null!==(t=e.album_uri)&&void 0!==t?t:"",name:null!==(n=e.album_title)&&void 0!==n?n:"",images:Je(e)}}function rt(e){var t,n;return{type:ke.p.ALBUM,uri:null!==(t=e.album_uri)&&void 0!==t?t:"",name:null!==(n=e.album_title)&&void 0!==n?n:"",images:Je(e)}}function it(e){var t,n;return{type:ke.p.AUDIOBOOK,uri:null!==(t=e.album_uri)&&void 0!==t?t:"",name:null!==(n=e.album_title)&&void 0!==n?n:"",images:Je(e)}}function at(e,t){return he().isTrack(t.uri)||he().isLocalTrack(t.uri)?function(e,t){var n,r,i=t.metadata;return{type:ke.p.TRACK,uri:t.uri,uid:t.uid,name:null!==(n=i.title)&&void 0!==n?n:"",mediaType:null!==(r=i["media.type"])&&void 0!==r?r:"audio",duration:Xe(i.duration),album:tt(i),artists:et(i,ke.p.ARTIST),isLocal:$e(i.is_local),isExplicit:$e(i.is_explicit),is19PlusOnly:$e(i.is_19_plus),provider:e.provider.length>0?e.provider:null,metadata:t.metadata,get images(){return this.album.images}}}(e,t):he().isEpisode(t.uri)?function(e){return"true"===e.metadata.is_audiobook_chapter}(t)?function(e,t){var n,r,i=t.metadata;return{type:ke.p.CHAPTER,uri:t.uri,uid:t.uid,name:null!==(n=i.title)&&void 0!==n?n:"",mediaType:null!==(r=i["media.type"])&&void 0!==r?r:"audio",duration:Xe(i.duration),book:it(i),provider:e.provider.length>0?e.provider:null,metadata:t.metadata,get images(){return this.book.images}}}(e,t):function(e,t){var n,r,i=t.metadata;return{type:ke.p.EPISODE,uri:t.uri,uid:t.uid,name:null!==(n=i.title)&&void 0!==n?n:"",mediaType:null!==(r=i["media.type"])&&void 0!==r?r:"audio",duration:Xe(i.duration),show:nt(i),provider:e.provider.length>0?e.provider:null,metadata:t.metadata,get images(){return this.show.images}}}(e,t):he().isAd(t.uri)?function(e,t){var n,r,i,a,o,s,l=t.metadata,c=$e(l.is_podcast_advertisement),u=null!==(n=l.artist_name)&&void 0!==n?n:null;return{type:ke.p.AD,uri:t.uri,uid:t.uid,title:null!==(r=l.title)&&void 0!==r?r:null,advertiser:c?u:null!==(i=l.advertiser)&&void 0!==i?i:null,url:null!==(a=l.click_url)&&void 0!==a?a:null,id:null!==(o=l.ad_id)&&void 0!==o?o:null,mediaType:null!==(s=l["media.type"])&&void 0!==s?s:"audio",duration:Xe(l.duration),images:Je(l),videoOrientation:l["ad.video_orientation"],isPodcastAd:c,isSkippableAd:$e(l["ad.is_skippable"]),isTestAd:$e(l["ad.is_test"]),provider:e.provider.length>0?e.provider:null,metadata:t.metadata}}(e,t):function(e,t){var n,r,i,a=t.metadata;return{type:ke.p.UNKNOWN,uri:t.uri,uid:null!==(n=t.uid)&&void 0!==n?n:null,name:null!==(r=a.title)&&void 0!==r?r:"",mediaType:null!==(i=a["media.type"])&&void 0!==i?i:"audio",duration:Xe(a.duration),album:rt(a),artists:et(a,ke.p.ARTIST),provider:e.provider.length>0?e.provider:null,metadata:t.metadata,get images(){return this.album.images}}}(e,t)}n(26699),n(32023);var ot={canPause:!0,canResume:!0,canSeek:!0,canSkipPrevious:!0,canSkipNext:!0,canToggleRepeatContext:!0,canToggleRepeatTrack:!0,canToggleShuffle:!0,disallowPausingReasons:[],disallowResumingReasons:[],disallowSeekingReasons:[],disallowSkippingPreviousReasons:[],disallowSkippingNextReasons:[],disallowTogglingRepeatContextReasons:[],disallowTogglingRepeatTrackReasons:[],disallowTogglingShuffleReasons:[]};function st(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map((function(e){return Qe.Fd.includes(e)?e:"unknown"}))}function lt(e){return{canPause:0===e.disallowPausingReasons.length,canResume:0===e.disallowResumingReasons.length,canSeek:0===e.disallowSeekingReasons.length,canSkipPrevious:0===e.disallowSkippingPrevReasons.length,canSkipNext:0===e.disallowSkippingNextReasons.length,canToggleRepeatContext:0===e.disallowTogglingRepeatContextReasons.length,canToggleRepeatTrack:0===e.disallowTogglingRepeatTrackReasons.length,canToggleShuffle:0===e.disallowTogglingShuffleReasons.length,disallowPausingReasons:st(e.disallowPausingReasons),disallowResumingReasons:st(e.disallowResumingReasons),disallowSeekingReasons:st(e.disallowSeekingReasons),disallowSkippingPreviousReasons:st(e.disallowSkippingPrevReasons),disallowSkippingNextReasons:st(e.disallowSkippingNextReasons),disallowTogglingRepeatContextReasons:st(e.disallowTogglingRepeatContextReasons),disallowTogglingRepeatTrackReasons:st(e.disallowTogglingRepeatTrackReasons),disallowTogglingShuffleReasons:st(e.disallowTogglingShuffleReasons)}}var ct=n(87531),ut={bitrateLevel:Qe.M4.UNKNOWN,strategy:Qe.kZ.UNKNOWN,targetBitrateLevel:Qe.M4.UNKNOWN,targetBitrateAvailable:!1,hifiStatus:Qe.dR.NONE};function dt(e){var t=function(e){switch(e){case ct.oW.LOW:return Qe.M4.LOW;case ct.oW.NORMAL:return Qe.M4.NORMAL;case ct.oW.HIGH:return Qe.M4.HIGH;case ct.oW.VERY_HIGH:return Qe.M4.VERY_HIGH;case ct.oW.HIFI:return Qe.M4.HIFI;default:return Qe.M4.UNKNOWN}};return{bitrateLevel:t(e.bitrateLevel),strategy:function(){switch(e.strategy){case ct.dj.BEST_MATCHING:return Qe.kZ.BEST_MATCHING;case ct.dj.BACKEND_ADVISED:return Qe.kZ.BACKEND_ADVISED;case ct.dj.OFFLINED_FILE:return Qe.kZ.OFFLINED_FILE;case ct.dj.CACHED_FILE:return Qe.kZ.CACHED_FILE;case ct.dj.LOCAL_FILE:return Qe.kZ.LOCAL_FILE;default:return Qe.kZ.UNKNOWN}}(),targetBitrateLevel:t(e.targetBitrateLevel),targetBitrateAvailable:e.targetBitrateAvailable,hifiStatus:function(){switch(e.hifiStatus){case ct.Td.UNRECOGNIZED:case ct.Td.NONE:default:return Qe.dR.NONE;case ct.Td.OFF:return Qe.dR.OFF;case ct.Td.ON:return Qe.dR.ON}}()}}function mt(e){var t=e.uri,n=e.url,r=e.pages,i=e.metadata,a=e.restrictions;return void 0!==r?ct._y.fromPartial({uri:t,url:n,pages:r.map(vt),metadata:i,restrictions:bt(a),isLoaded:!0}):ct._y.fromPartial({uri:t,url:null!=n?n:"context://".concat(t),metadata:i,isLoaded:!1})}function pt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ft(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pt(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function vt(e){var t=e.uri,n=e.url,r=e.nextPageUrl,i=e.items,a=e.metadata;if(void 0!==n)return ct.uF.fromPartial({pageUrl:n,nextPageUrl:r,metadata:ft(ft({},a),{},{page_uri:t}),isLoaded:!1});if(void 0!==i)return ct.uF.fromPartial({tracks:i.map(gt),nextPageUrl:r,metadata:a,isLoaded:!0});throw new Error("Invalid 'ContextPage' provided! Either 'url' or 'items' needs to be set.")}function gt(e){var t,n;return ct.nh.fromPartial({uid:null!==(t=e.uid)&&void 0!==t?t:"",uri:e.uri,metadata:null!==(n=e.metadata)&&void 0!==n?n:{}})}n(23123);var ht=n(48896),yt=n(86746);function kt(e){return new ht.jB(function(e){switch(e){case yt.ContextPlayerError_ErrorCode.SUCCESS:return ht.cg.SUCCESS;case yt.ContextPlayerError_ErrorCode.PLAYBACK_STUCK:return ht.cg.PLAYBACK_STUCK;case yt.ContextPlayerError_ErrorCode.PLAYBACK_ERROR:return ht.cg.PLAYBACK_ERROR;case yt.ContextPlayerError_ErrorCode.LICENSE_CHANGE:return ht.cg.LICENSE_CHANGE;case yt.ContextPlayerError_ErrorCode.PLAY_RESTRICTED:return ht.cg.PLAY_RESTRICTED;case yt.ContextPlayerError_ErrorCode.STOP_RESTRICTED:return ht.cg.STOP_RESTRICTED;case yt.ContextPlayerError_ErrorCode.UPDATE_RESTRICTED:return ht.cg.UPDATE_RESTRICTED;case yt.ContextPlayerError_ErrorCode.PAUSE_RESTRICTED:return ht.cg.PAUSE_RESTRICTED;case yt.ContextPlayerError_ErrorCode.RESUME_RESTRICTED:return ht.cg.RESUME_RESTRICTED;case yt.ContextPlayerError_ErrorCode.SKIP_TO_PREV_RESTRICTED:return ht.cg.SKIP_TO_PREV_RESTRICTED;case yt.ContextPlayerError_ErrorCode.SKIP_TO_NEXT_RESTRICTED:return ht.cg.SKIP_TO_NEXT_RESTRICTED;case yt.ContextPlayerError_ErrorCode.SKIP_TO_NON_EXISTENT_TRACK:return ht.cg.SKIP_TO_NON_EXISTENT_TRACK;case yt.ContextPlayerError_ErrorCode.SEEK_TO_RESTRICTED:return ht.cg.SEEK_TO_RESTRICTED;case yt.ContextPlayerError_ErrorCode.TOGGLE_REPEAT_CONTEXT_RESTRICTED:return ht.cg.TOGGLE_REPEAT_CONTEXT_RESTRICTED;case yt.ContextPlayerError_ErrorCode.TOGGLE_REPEAT_TRACK_RESTRICTED:return ht.cg.TOGGLE_REPEAT_TRACK_RESTRICTED;case yt.ContextPlayerError_ErrorCode.SET_OPTIONS_RESTRICTED:return ht.cg.SET_OPTIONS_RESTRICTED;case yt.ContextPlayerError_ErrorCode.TOGGLE_SHUFFLE_RESTRICTED:return ht.cg.TOGGLE_SHUFFLE_RESTRICTED;case yt.ContextPlayerError_ErrorCode.SET_QUEUE_RESTRICTED:return ht.cg.SET_QUEUE_RESTRICTED;case yt.ContextPlayerError_ErrorCode.INTERRUPT_PLAYBACK_RESTRICTED:return ht.cg.INTERRUPT_PLAYBACK_RESTRICTED;case yt.ContextPlayerError_ErrorCode.ONE_TRACK_UNPLAYABLE:return ht.cg.ONE_TRACK_UNPLAYABLE;case yt.ContextPlayerError_ErrorCode.ONE_TRACK_UNPLAYABLE_AUTO_STOPPED:return ht.cg.ONE_TRACK_UNPLAYABLE_AUTO_STOPPED;case yt.ContextPlayerError_ErrorCode.ALL_TRACKS_UNPLAYABLE_AUTO_STOPPED:return ht.cg.ALL_TRACKS_UNPLAYABLE_AUTO_STOPPED;case yt.ContextPlayerError_ErrorCode.SKIP_TO_NON_EXISTENT_TRACK_AUTO_STOPPED:return ht.cg.SKIP_TO_NON_EXISTENT_TRACK_AUTO_STOPPED;case yt.ContextPlayerError_ErrorCode.QUEUE_REVISION_MISMATCH:return ht.cg.QUEUE_REVISION_MISMATCH;case yt.ContextPlayerError_ErrorCode.VIDEO_PLAYBACK_ERROR:return ht.cg.VIDEO_PLAYBACK_ERROR;case yt.ContextPlayerError_ErrorCode.VIDEO_GEOGRAPHICALLY_RESTRICTED:return ht.cg.VIDEO_GEORESTRICTED;case yt.ContextPlayerError_ErrorCode.VIDEO_UNSUPPORTED_PLATFORM_VERSION:return ht.cg.VIDEO_UNSUPPORTED_PLATFORM_VERSION;case yt.ContextPlayerError_ErrorCode.VIDEO_UNSUPPORTED_CLIENT_VERSION:return ht.cg.VIDEO_UNSUPPORTED_CLIENT_VERSION;case yt.ContextPlayerError_ErrorCode.VIDEO_UNSUPPORTED_KEY_SYSTEM:return ht.cg.VIDEO_UNSUPPORTED_KEY_SYSTEM;case yt.ContextPlayerError_ErrorCode.VIDEO_MANIFEST_DELETED:return ht.cg.VIDEO_MANIFEST_DELETED;case yt.ContextPlayerError_ErrorCode.VIDEO_COUNTRY_RESTRICTED:return ht.cg.VIDEO_COUNTRY_RESTRICTED;case yt.ContextPlayerError_ErrorCode.VIDEO_UNAVAILABLE:return ht.cg.VIDEO_UNAVAILABLE;case yt.ContextPlayerError_ErrorCode.VIDEO_CATALOGUE_RESTRICTED:return ht.cg.VIDEO_CATALOGUE_RESTRICTED;case yt.ContextPlayerError_ErrorCode.INVALID:return ht.cg.INVALID;case yt.ContextPlayerError_ErrorCode.TIMEOUT:return ht.cg.TIMEOUT;case yt.ContextPlayerError_ErrorCode.PLAYBACK_REPORTING_ERROR:return ht.cg.PLAYBACK_REPORTING_ERROR;case yt.ContextPlayerError_ErrorCode.UNKNOWN:return ht.cg.UNKNOWN;case yt.ContextPlayerError_ErrorCode.UNRECOGNIZED:default:return ht.cg.UNRECOGNIZED}}(e.code),e.data.reasons?e.data.reasons.split(","):[])}function Et(e){var t,n,r,i,a;return ct.Yr.fromPartial({featureIdentifier:null!==(t=e.featureIdentifier)&&void 0!==t?t:"",featureVersion:null!==(n=e.featureVersion)&&void 0!==n?n:"",referrerIdentifier:null!==(r=e.referrerIdentifier)&&void 0!==r?r:"",viewUri:null!==(i=e.viewURI)&&void 0!==i?i:"",externalReferrer:null!==(a=e.externalReferrer)&&void 0!==a?a:""})}function bt(e){return ct.aS.fromPartial({disallowPausingReasons:null==e?void 0:e.disallowPausingReasons,disallowResumingReasons:null==e?void 0:e.disallowResumingReasons,disallowSeekingReasons:null==e?void 0:e.disallowSeekingReasons,disallowSkippingPrevReasons:null==e?void 0:e.disallowSkippingPreviousReasons,disallowSkippingNextReasons:null==e?void 0:e.disallowSkippingNextReasons,disallowTogglingRepeatContextReasons:null==e?void 0:e.disallowTogglingRepeatContextReasons,disallowTogglingRepeatTrackReasons:null==e?void 0:e.disallowTogglingRepeatTrackReasons,disallowTogglingShuffleReasons:null==e?void 0:e.disallowTogglingShuffleReasons})}function _t(e,t){var n=t.shuffle,r=t.repeat,i=ct.ST.fromPartial({});return void 0!==n?i.shufflingContext={value:n}:he().isShow(e.uri)&&(i.shufflingContext={value:!1}),void 0!==r?(i.repeatingContext={value:r!==Qe.zq.REPEAT_NONE},i.repeatingTrack={value:r===Qe.zq.REPEAT_TRACK}):he().isShow(e.uri)&&(i.repeatingContext={value:!1},i.repeatingTrack={value:!1}),i}function St(e,t){return ct.Nr.fromPartial({skipTo:void 0!==t.skipTo?(n=t.skipTo,{pageUrl:null!==(r=n.pageURL)&&void 0!==r?r:"",pageIndex:void 0!==n.pageIndex?{value:n.pageIndex.toString()}:void 0,trackUid:null!==(i=n.uid)&&void 0!==i?i:"",trackUri:null!==(a=n.uri)&&void 0!==a?a:"",trackIndex:void 0!==n.index?{value:n.index.toString()}:void 0}):void 0,seekTo:void 0!==t.seekTo?{value:t.seekTo.toString()}:void 0,playerOptionsOverride:_t(e,t)});var n,r,i,a}function wt(e){var t,n,r,i;return{feature_identifier:e.featureIdentifier,feature_version:null!==(t=e.featureVersion)&&void 0!==t?t:"",referrer_identifier:null!==(n=e.referrerIdentifier)&&void 0!==n?n:"",view_uri:null!==(r=e.viewURI)&&void 0!==r?r:"",external_referrer:null!==(i=e.externalReferrer)&&void 0!==i?i:"",device_identifier:""}}function Nt(e,t){var n={},r=function(e,t){var n=t.shuffle,r=t.repeat,i={};return void 0!==n?i.shuffling_context=n:he().isShow(e.uri)&&(i.shuffling_context=!1),void 0!==r?(i.repeating_context=r!==Qe.zq.REPEAT_NONE,i.repeating_track=r===Qe.zq.REPEAT_TRACK):he().isShow(e.uri)&&(i.repeating_context=!1,i.repeating_track=!1),i}(e,t);0!==Object.keys(r).length&&(n.player_options_override=r);var i=function(e){var t=e.skipTo,n=null!=t?t:{},r=n.pageURL,i=n.pageIndex,a=n.uid,o=n.uri,s=n.index;if(void 0!==a||void 0!==o||void 0!==s||void 0!==i||void 0!==r){var l={};return void 0!==r&&(l.page_url=r),void 0!==i&&(l.page_index=i),void 0!==a&&(l.track_uid=a),void 0!==o&&(l.track_uri=o),void 0!==s&&(l.track_index=s),l}}(t);return void 0!==i&&(n.skip_to=i),void 0!==t.seekTo&&(n.seek_to=t.seekTo),n}function Ot(e){for(var t=Math.ceil(e.length/2),n=new Array(t),r=0,i=0;r<t;++r,i+=2)n[r]=parseInt(e.slice(i,i+2),16);return Uint8Array.from(n)}var Ct=n(2575);function Tt(e){switch(e){case"unknown":return ze.VL.PLAY_REASON_UNKNOWN;case"appload":return ze.VL.PLAY_REASON_APP_LOAD;case"backbtn":return ze.VL.PLAY_REASON_BACK_BTN;case"clickrow":return ze.VL.PLAY_REASON_CLICK_ROW;case"clickside":return ze.VL.PLAY_REASON_CLICK_SIDE;case"endplay":return ze.VL.PLAY_REASON_END_PLAY;case"fwdbtn":return ze.VL.PLAY_REASON_FWD_BTN;case"interupted":return ze.VL.PLAY_REASON_INTERRUPTED;case"logout":return ze.VL.PLAY_REASON_LOGOUT;case"playbtn":return ze.VL.PLAY_REASON_PLAY_BTN;case"popup":return ze.VL.PLAY_REASON_POPUP;case"remote":return ze.VL.PLAY_REASON_REMOTE;case"songdone":return ze.VL.PLAY_REASON_SONG_DONE;case"trackdone":return ze.VL.PLAY_REASON_TRACK_DONE;case"trackerror":return ze.VL.PLAY_REASON_TRACK_ERROR;case"preview":return ze.VL.PLAY_REASON_PREVIEW;case"uriopen":return ze.VL.PLAY_REASON_URI_OPEN;case"backgrounded":return ze.VL.PLAY_REASON_BACKGROUNDED;case"offline":return ze.VL.PLAY_REASON_OFFLINE;case"unexpected-exit":return ze.VL.PLAY_REASON_UNEXPECTED_EXIT;case"unexpected-exit-while-paused":return ze.VL.PLAY_REASON_UNEXPECTED_EXIT_WHILE_PAUSED;default:throw new Error("Could not map reason start to PlayReason: ".concat(e))}}function It(e){switch(e){case Ct.xu.FATAL_ERROR:case Ct.xu.NETWORK_ERROR:return ze.VL.PLAY_REASON_TRACK_ERROR;case Ct.xu.PLAYED_TO_END:return ze.VL.PLAY_REASON_TRACK_DONE;case Ct.xu.REQUESTED:case Ct.xu.SHUTDOWN:return ze.VL.PLAY_REASON_END_PLAY;default:return(0,Le.U)(e),ze.VL.UNRECOGNIZED}}function At(e){switch(e){case"none":case"":return ze.lS.STREAMING_RULE_NONE;case"dmca-radio":return ze.lS.STREAMING_RULE_DMCA_RADIO;case"preview":return ze.lS.STREAMING_RULE_PREVIEW;case"wifi":return ze.lS.STREAMING_RULE_WIFI;case"shuffle-mode":return ze.lS.STREAMING_RULE_SHUFFLE_MODE;default:throw new Error("Unrecognized StreamingRule ".concat(e))}}function Pt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,_.Z)(e);if(t){var i=(0,_.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,b.Z)(this,n)}}var Dt=function(e){(0,E.Z)(n,e);var t=Pt(n);function n(e,r,i){var a;return(0,h.Z)(this,n),(a=t.call(this,e)).reason=e,a.responseStatusCode=r,a.responseReason=i,a}return(0,y.Z)(n)}((0,Ye.Z)(Error)),Rt=function(){function e(t,n,r,i){var s=this;(0,h.Z)(this,e),(0,a.Z)(this,"PERIODIC_STREAM_REPORTING_INTERVAL_IN_SEC",15),(0,a.Z)(this,"SECONDS_TO_MILLISECONDS",1e3),(0,a.Z)(this,"streamHandleTask",function(){var e=(0,o.Z)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===s.streamHandle&&Promise.reject("A valid stream handle does not exist"),t.streamHandle=s.streamHandle,e.abrupt("return",t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),(0,a.Z)(this,"currentPositionMs",0),(0,a.Z)(this,"playbackSpeed",0),(0,a.Z)(this,"paused",!0),(0,a.Z)(this,"fullscreen",!1),(0,a.Z)(this,"seekInProgress",!1),this.streamReportingService=t,this.requestQueue=n,this.productStateProvider=r,this.eventSender=i}return(0,y.Z)(e,[{key:"addPeriodicObserver",value:function(){var e=this;void 0===this.periodicEventsObserverToken&&void 0!==this.timeObservable&&(this.periodicEventsObserverToken=this.timeObservable.addObserverForPeriodicEvents(this.PERIODIC_STREAM_REPORTING_INTERVAL_IN_SEC,(function(t){e.seekInProgress||(e.currentPositionMs=Math.round(t*e.SECONDS_TO_MILLISECONDS),e.enqueueStreamProgressRequest())})))}},{key:"removePeriodicObserver",value:function(){void 0!==this.periodicEventsObserverToken&&void 0!==this.timeObservable&&(this.timeObservable.removePeriodicObserver(this.periodicEventsObserverToken),this.periodicEventsObserverToken=void 0)}},{key:"sendPlaybackError",value:function(e,t,n){var r,i,a,o,s,l={feature_identifier:null===(r=this.metadata)||void 0===r?void 0:r.endvideo_feature_identifier,media_url:null===(i=this.metadata)||void 0===i?void 0:i.endvideo_play_track,session_id:null===(a=this.playbackIdentity)||void 0===a?void 0:a.sessionId,error_domain:"StreamReportingTracker",error_code:t,error_description:e,error_extra1:n,error_extra2:null===(o=this.metadata)||void 0===o?void 0:o.playback_id,desktop_ui:null===(s=this.metadata)||void 0===s?void 0:s.desktop_ui};this.eventSender.send((0,qe.c)(l))}},{key:"handleStatusResponse",value:function(e,t){if(e.statusCode!==ze.GL.SUCCESS)throw this.streamHandle=void 0,new Dt("Error returned from StreamReportingService.".concat(t),e.statusCode,e.reason)}},{key:"handleFailure",value:function(e){this.requestQueue.clearPendingQueue(),e instanceof Dt?this.sendPlaybackError(e.reason,e.responseStatusCode,e.responseReason):e instanceof Error?this.sendPlaybackError(e.message):this.sendPlaybackError(e)}},{key:"streamStartedPreRunCheck",value:function(){var e=this;return function(){return!!e.streamHandle}}},{key:"enqueueStreamProgressRequest",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=ze.Mk.fromPartial({currentPosition:this.currentPositionMs.toString(),isPaused:this.paused,isPlayingVideo:!0,isFullscreen:this.fullscreen,playbackSpeed:this.playbackSpeed}),r=function(){return e.streamHandleTask(n).then((function(t){return e.streamReportingService.streamProgress(t)})).then((function(t){return e.handleStatusResponse(t,"StreamProgress")})).catch((function(t){return e.handleFailure(t)}))};t?this.requestQueue.unshift(r,this.streamStartedPreRunCheck()):this.requestQueue.push(r,this.streamStartedPreRunCheck())}},{key:"getHandle",value:function(){return this.streamHandle}},{key:"onPlaybackCreated",value:function(e){var t=e.playbackIdentity,n=e.initialConfiguration,r=e.timeObservable;if(this.playbackSpeed=n.playbackSpeed,this.currentPositionMs=Math.round(n.position*this.SECONDS_TO_MILLISECONDS),this.playbackIdentity=t,this.metadata=t.metadata,!this.metadata)throw new Error("Metadata does not exist on PlaybackIdentity");this.timeObservable=r,this.addPeriodicObserver()}},{key:"onResumed",value:function(e){var t=e.position;this.paused=!1,this.currentPositionMs=Math.round(t*this.SECONDS_TO_MILLISECONDS),this.enqueueStreamProgressRequest()}},{key:"onPaused",value:function(e){var t=e.position;this.paused=!0,this.currentPositionMs=Math.round(t*this.SECONDS_TO_MILLISECONDS),this.enqueueStreamProgressRequest()}},{key:"onReady",value:function(e,t){var n,r=this,i=e.position,a=e.streamingType;if(this.currentPositionMs=Math.round(i*this.SECONDS_TO_MILLISECONDS),!this.playbackIdentity)throw new Error("PlaybackIdentity not found onReady");if(!this.metadata)throw new Error("Metadata not found onReady");var o=this.playbackIdentity.userTracking,s=ze.Ce.fromPartial({playbackId:Ot(this.metadata.playback_id),videoSessionId:this.playbackIdentity.sessionId,playContext:this.metadata.endvideo_play_context,contentUri:this.metadata.endvideo_play_track,provider:this.metadata.endvideo_provider,referrer:this.metadata.endvideo_referrer,streamingRule:At(this.productStateProvider.streamingRules()),connectControllerDeviceId:this.metadata.endvideo_gaia_dev_id,pageInstanceId:null==o?void 0:o.page_instance_id,interactionId:null==o?void 0:o.interaction_id,reasonStart:Tt(this.metadata.endvideo_reason_start),isShuffle:"true"===this.metadata.endvideo_shuffle,isIncognito:this.productStateProvider.isIncognito(),clientOffline:"true"===this.metadata.endvideo_client_offline,mediaId:null===(n=this.metadata)||void 0===n?void 0:n["media.manifest_id"],mediaType:ze.DD.VIDEO,playbackStartTime:t.toString(),startPosition:Math.round(i*this.SECONDS_TO_MILLISECONDS).toString(),isLive:"live"===a,contentIsDownloaded:"offline"===a});this.requestQueue.push((function(){return r.streamReportingService.streamStart(s).then((function(e){var t,n,i;if((null===(t=e.status)||void 0===t?void 0:t.statusCode)!==ze.GL.SUCCESS)throw new Dt("Error returned from StreamReportingService.StreamStart",null===(n=e.status)||void 0===n?void 0:n.statusCode,null===(i=e.status)||void 0===i?void 0:i.reason);r.streamHandle=e.streamHandle})).catch((function(e){return r.handleFailure(e)}))}),(function(){return!r.streamHandle}))}},{key:"onSeeking",value:function(){this.seekInProgress=!0,this.requestQueue.pause()}},{key:"onSeeked",value:function(e){var t=this,n=e.fromPosition,r=e.toPosition;this.currentPositionMs=Math.round(n*this.SECONDS_TO_MILLISECONDS);var i=ze.LI.fromPartial({fromPosition:Math.round(n*this.SECONDS_TO_MILLISECONDS).toString(),toPosition:Math.round(r*this.SECONDS_TO_MILLISECONDS).toString()});this.requestQueue.unshift((function(){return t.streamHandleTask(i).then((function(e){return t.streamReportingService.streamSeek(e)})).then((function(e){return t.handleStatusResponse(e,"StreamSeek")})).catch((function(e){return t.handleFailure(e)}))}),this.streamStartedPreRunCheck()),this.enqueueStreamProgressRequest(!0),this.seekInProgress=!1,this.requestQueue.resume()}},{key:"onPlaybackEnded",value:function(e){var t=this,n=e.reason,r=e.position;this.removePeriodicObserver(),this.currentPositionMs=Math.round(r*this.SECONDS_TO_MILLISECONDS),this.enqueueStreamProgressRequest();var i=ze.OE.fromPartial({reasonEnd:It(n)});this.requestQueue.push((function(){return t.streamHandleTask(i).then((function(e){return t.streamReportingService.streamEnd(e)})).then((function(e){return t.handleStatusResponse(e,"StreamEnd")})).catch((function(e){return t.handleFailure(e)})).finally((function(){t.streamHandle=void 0;var e=t.requestQueue.clearPendingQueue();if(e>0)throw new Error("Cleared ".concat(e," pending tasks after onPlaybackEnded. Once end is received, no additional updates are expected."))}))}),this.streamStartedPreRunCheck())}},{key:"onFullscreenChanged",value:function(e){var t=e.fullscreen,n=e.position;this.fullscreen=t,this.currentPositionMs=Math.round(n*this.SECONDS_TO_MILLISECONDS),this.enqueueStreamProgressRequest()}},{key:"onPlaybackSpeedChanged",value:function(e){var t=e.position,n=e.speed;this.playbackSpeed=n,this.currentPositionMs=Math.round(t*this.SECONDS_TO_MILLISECONDS),this.enqueueStreamProgressRequest()}}]),e}(),xt=function(e,t,n){return function(r){return r.isRoyaltyMedia?new Rt(new ze.Dx(e),new Ke,t,n):null}},Lt=(n(27852),n(90120));const Ft=JSON.parse('{"type":"record","name":"EndVideo","namespace":"com.spotify.Message","doc":"Information about a video played by the client","fields":[{"name":"message_name","type":"string"},{"name":"message_version","type":"int"},{"name":"sequence_number","type":["null","long"],"doc":"Sequence number of message","default":null},{"name":"sequence_id","type":["null","string"],"doc":"Sequence ID the sequence number belongs to. Combined from cache-id and device-id.","default":null},{"name":"video_session_id","type":["null","string"],"doc":"ID of the video playback session","default":null},{"name":"file_id","type":["null","bytes"],"doc":"ID of the video manifest","default":null},{"name":"playback_id","type":["null","bytes"],"doc":"ID of the unique playback","default":null},{"name":"feature_identifier","type":["null","string"],"doc":"The identifier of the feature that started playback","default":null},{"name":"feature_version","type":["null","string"],"doc":"The version of the feature that started playback","default":null},{"name":"view_uri","type":["null","string"],"doc":"The URI of the view that started playback","default":null},{"name":"reason_start","type":["null","string"],"doc":"Why the video was started","default":null},{"name":"reason_end","type":["null","string"],"doc":"Why the video ended (trackdone, trackerror, etc.)","default":null},{"name":"ms_played","type":["null","long"],"doc":"Total milliseconds played, including overlapping time ranges","default":null},{"name":"ms_nominal_played","type":["null","long"],"doc":"Milliseconds played (amount of time that media would have been outputted, if played in 1x speed, nominal time)","default":null},{"name":"ms_total_est","type":["null","long"],"doc":"Duration of the video in milliseconds (constant if VOD, variable if live)","default":null},{"name":"live","type":["null","boolean"],"doc":"Is the video being streamed live?","default":null},{"name":"ms_manifest_latency","type":["null","long"],"doc":"The time it took to fetch the manifest in milliseconds (may be 0 if cached or prefetched)","default":null},{"name":"n_seekback","type":["null","long"],"doc":"Number of times user seeked backwards","default":null},{"name":"ms_seekback","type":["null","long"],"doc":"The total amount of milliseconds jumped when performing seekbacks throughout playback.","default":null},{"name":"n_seekfwd","type":["null","long"],"doc":"Number of times user seeked forwards","default":null},{"name":"ms_seekfwd","type":["null","long"],"doc":"The total amount of milliseconds jumped when performing seek forwards throughout playback.","default":null},{"name":"ms_latency","type":["null","long"],"doc":"Time from initiating video playback to first frame ready to play in milliseconds","default":null},{"name":"ui_latency","type":["null","long"],"doc":"Time from UI interaction to first frame ready to play in milliseconds (may be -1 if not user-initiated)","default":null},{"name":"start_offset_ms","type":["null","long"],"doc":"The offset at which the video started playing in milliseconds","default":null},{"name":"ms_initial_buffering","type":["null","long"],"doc":"Time between first segment load and first frame ready to play in milliseconds","default":null},{"name":"ms_seek_rebuffering","type":["null","long"],"doc":"Total time spent re-buffering from a seek in milliseconds","default":null},{"name":"ms_stalled","type":["null","long"],"doc":"Total time where playback stalled in milliseconds (excluding initial buffering and seek rebuffering)","default":null},{"name":"max_ms_seek_rebuffering","type":["null","long"],"doc":"Maximum time spent re-buffering from a single seek","default":null},{"name":"max_ms_stalled","type":["null","long"],"doc":"Maximum time stalled from a single stall","default":null},{"name":"n_stalls","type":["null","long"],"doc":"Number of times playback was stopped because of empty buffer (excluding initial buffering and seek rebuffering)","default":null},{"name":"shuffle","type":["null","boolean"],"doc":"If playback was initiated while in shuffle mode","default":null},{"name":"max_continous","type":["null","long"],"doc":"Maximum continuous time range played in milliseconds","default":null},{"name":"union_played","type":["null","long"],"doc":"Union of all played time ranges in milliseconds (cannot exceed duration)","default":null},{"name":"play_context","type":["null","string"],"doc":"The context from which this track was played (spotify URI)","default":null},{"name":"audiocodec","type":["null","string"],"doc":"The primarily played audio codec (in RFC6381 notation)","default":null},{"name":"videocodec","type":["null","string"],"doc":"The primarily played video codec (in RFC6381 notation)","default":null},{"name":"play_track","type":["null","string"],"doc":"Spotify URI for the track (ex. spotify:episode:abc)","default":null},{"name":"incognito_mode","type":["null","boolean"],"doc":"Whether playback was initiated in incognito mode","default":null},{"name":"provider","type":["null","string"],"doc":"The playback rule that provided the video, e.g., \\"mft/inject_random_track\\" or \\"queue\\"","default":null},{"name":"referrer","type":["null","string"],"doc":"Either a remote site or a spotify app which initiated the request","default":null},{"name":"referrer_version","type":["null","string"],"doc":"The version of the referrer, where applicable","default":null},{"name":"referrer_vendor","type":["null","string"],"doc":"The vendor of the referrer, where applicable","default":null},{"name":"streaming_rule","type":["null","string"],"doc":"The streaming rule in effect for this track","default":null},{"name":"gaia_dev_id","type":["null","string"],"doc":"Remote control that started the playback. Same as \\"dev-id\\" in \\"Gaia\\" messages sent by that device. \\"none\\" if non-Gaia playback.","default":null},{"name":"start_bitrate","type":["null","long"],"doc":"Bitrate at which playback started (bits/s)","default":null},{"name":"full_screen","type":["null","long"],"doc":"Milliseconds played while video is in a modal or fullscreen state","default":null},{"name":"time_weighted_bitrate","type":["null","long"],"doc":"Average bitrate weighted by the amount of time video played at each bitrate","default":null},{"name":"prefetched_bytes","type":["null","long"],"doc":"Total number of bytes prefetched for the selected content","default":null},{"name":"prefetched_bytes_loaded","type":["null","long"],"doc":"Total number of prefetched bytes played back","default":null},{"name":"key_system","type":["null","string"],"doc":"The DRM key system","default":null},{"name":"ms_key_latency","type":["null","long"],"doc":"The time it took to fetch and install the DRM key in milliseconds.","default":null},{"name":"total_bytes","type":["null","long"],"doc":"The total segment bytes downloaded","default":null},{"name":"local_time_ms","type":["null","long"],"doc":"The local time at which playback was initiated (Unix timestamp in milliseconds)","default":null},{"name":"connection_type_start","type":["null","string"],"doc":"connection type (i.e. wifi, 3G) at the start of the stream","default":null},{"name":"connection_type_end","type":["null","string"],"doc":"connection type (i.e. wifi, 3G) at the end of the stream","default":null},{"name":"ms_played_background","type":["null","long"],"doc":"Milliseconds played in background (audio-only). Always subset of ms-played.","default":null},{"name":"page_instance_id","type":["null","string"],"doc":"ID of the page where the user triggered this video to play.","default":null},{"name":"interaction_id","type":["null","string"],"doc":"ID of the interaction that triggered this video to play.","default":null},{"name":"core_version","type":"long","doc":"The core version this message was sent from in the form of xxxxyyyyzzzzwwwwwww (major, minor, micro, tiny)","default":0},{"name":"ms_played_video","type":["null","long"],"doc":"Milliseconds played with video rendering enabled, in wall-clock time. Always a subset of ms-played.","default":null}],"schema_version":15}');n(19601),n(38862);var Ut=n(75853),Zt=n(22179),Mt=(0,ne.v)();const Bt={schema:Ft,create:function(e,t){var n={message_name:e.name,version:e.schema_version};Mt.post("",n).then((function(e){e.sequence_number?e.sequence_id?t(null,e.sequence_number,e.sequence_id):t(new Error("pendingLog: sequence_id not present"),null):t(new Error("pendingLog: sequence_number not present"),null)})).catch((function(e){(0,Zt.H)("create error",e,n),t(e,null)}))}.bind(null,Ft),update:function(e,t,n,r){var i=function(e,t){var n=(0,Ut.Z)(e,Object.assign({},{message_name:e.name,message_version:e.schema_version},t));return n.fields=n.fields.map((function(e){return"string"==typeof e?e:null===e?"":JSON.stringify(e)})),n}(e,n);i.sequence_number=t,Mt.post("",i).then((function(){r(null)})).catch((function(e){(0,Zt.H)("update error",e,i),r(e)}))}.bind(null,Ft),send:function(e,t){var n={sequence_number:t,message_name:e.name};Mt.post("",n).catch((function(e){(0,Zt.H)("send error",e,n)}))}.bind(null,Ft)};var jt=n(8247),Vt="video.subtitles",Ht=function(){function e(t,n,r,i,o){(0,h.Z)(this,e),(0,a.Z)(this,"_hasSubtitleSupport",!1),(0,a.Z)(this,"_hasMinimizeBitrateSupport",!1),(0,a.Z)(this,"_events",new Lt.C),(0,a.Z)(this,"_subtitleLanguages",[]),(0,a.Z)(this,"_videoCoordinator",null),(0,a.Z)(this,"_offlineCoordinator",null),this._cosmos=t,this._prefsClient=n,this._resolver=r,this._eventSender=i,this._factories=o,this.initialize()}var t,n,s,c,u,d,m,p,f;return(0,y.Z)(e,[{key:"initialize",value:(f=(0,o.Z)(l().mark((function e(){var t,n,r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ct.ZP.polyfill.installAll(),this._hasSubtitleSupport=this._resolver.getValue(jt.CJ),this._hasMinimizeBitrateSupport=this._resolver.getValue(jt.Qp),e.next=5,this.createBetamaxSDKConfig();case 5:return t=e.sent,e.next=8,Promise.all([this.createVideoCoordinator(t),this.createOfflineCoordinator(t)]);case 8:n=e.sent,r=(0,i.Z)(n,2),this._videoCoordinator=r[0],this._offlineCoordinator=r[1];case 12:case"end":return e.stop()}}),e,this)}))),function(){return f.apply(this,arguments)})},{key:"createBetamaxSDKConfig",value:(p=(0,o.Z)(l().mark((function e(){var t,n,r,i,a,o,s,c,u;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this._resolver.getValue(jt.bw),n=this._resolver.getValue(jt.CJ),r=this._resolver.getValue(jt.sb),i=this._resolver.getValue(jt.Pz),a=this._resolver.getValue(jt.WS),o=this._resolver.getValue(jt.RC),s=this._resolver.getValue(jt.Br),c=this._resolver.getValue(jt.bS),u=this._resolver.getValue(jt.Gx),e.abrupt("return",{streaming:{rebufferingGoal:a,autoplayVideoOnLoad:u},drm:{vmpEnabled:s},subtitles:{enabled:n},offline:{enabled:t,targetBitrate:r},retry:{attempts:o},minimizeBitrate:{bufferMargin:c},analytics:{mux:{enabled:i,token:"2qbjhhcl4u87btjbo7dh8vi2n",appName:"Desktop-X",playerName:"betamax-player-desktop-x"}}});case 10:case"end":return e.stop()}}),e,this)}))),function(){return p.apply(this,arguments)})},{key:"getAccessToken",value:(m=(0,o.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._cosmos.get("sp://auth/v2/token"));case 1:case"end":return e.stop()}}),e,this)}))),function(){return m.apply(this,arguments)})},{key:"getProductState",value:(d=(0,o.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._cosmos.get("sp://product-state/v1/values"));case 1:case"end":return e.stop()}}),e,this)}))),function(){return d.apply(this,arguments)})},{key:"createVideoCoordinator",value:(u=(0,o.Z)(l().mark((function e(t){var n,i,a,o,s,c=this;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this._resolver.getValue(jt.DX),e.next=3,this.getProductState();case 3:return i=e.sent,a={getToken:this.getAccessToken.bind(this),playerDependencies:{factories:[function(){return c}].concat((0,r.Z)(this._factories))},productState:i,cosmos:this._cosmos,eventSenderProvider:function(){return Promise.resolve(c._eventSender)},endVideoLogger:Bt,betamaxSdkConfig:t,ads:{videoOnVideoSaiEnabled:n}},o={videoElementConfig:{controls:!1},containerElementClass:"VideoPlayer__container"},(s=new Ct.KH(a)).initialize(o),e.abrupt("return",s);case 9:case"end":return e.stop()}}),e,this)}))),function(e){return u.apply(this,arguments)})},{key:"createOfflineCoordinator",value:(c=(0,o.Z)(l().mark((function e(t){var n,r,i=this;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=this._cosmos,e.next=3,this.getProductState();case 3:return e.t1=e.sent,e.t2=t,e.t3={getAuthorizationHeader:function(){var e=(0,o.Z)(l().mark((function e(){var t,n,r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.getAccessToken();case 2:return t=e.sent,n=t.accessToken,r=t.tokenType,e.abrupt("return","".concat(r," ").concat(n));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},n={cosmos:e.t0,productState:e.t1,betamaxSdkConfig:e.t2,networkConfiguration:e.t3},(r=new Ct.lA(n)).initialize(),e.abrupt("return",r);case 10:case"end":return e.stop()}}),e,this)}))),function(e){return c.apply(this,arguments)})},{key:"onManifestLoaded",value:function(e){var t=e.availableSubtitles.map((function(e){return e.languageTag}));this.setSubtitleLanguages(t)}},{key:"setSubtitleLanguages",value:function(e){this._subtitleLanguages=e,this._events.emit(Lt.d.SUBTITLE_LANGUAGES_CHANGED,e)}},{key:"getCapabilities",value:function(){return{hasSubtitleSupport:this._hasSubtitleSupport,hasMinimizeBitrateSupport:this._hasMinimizeBitrateSupport}}},{key:"getEvents",value:function(){return this._events}},{key:"getSubtitleLanguages",value:(s=(0,o.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._subtitleLanguages);case 1:case"end":return e.stop()}}),e,this)}))),function(){return s.apply(this,arguments)})},{key:"getPreferredSubtitleLanguage",value:(n=(0,o.Z)(l().mark((function e(){var t,n,r,i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this._prefsClient.get({key:Vt});case 3:return n=e.sent,r=n.entries,i=null===(t=r["video.subtitles"])||void 0===t?void 0:t.string,e.abrupt("return",i&&i.length>0?i:null);case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,this,[[0,9]])}))),function(){return n.apply(this,arguments)})},{key:"setPreferredSubtitleLanguage",value:(t=(0,o.Z)(l().mark((function e(t){var n,r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._prefsClient.set({entries:(r={},(0,a.Z)(r,Vt,{string:null!=t?t:""}),(0,a.Z)(r,"video.subtitles_cc",{bool:null!==(n=null==t?void 0:t.endsWith("-cc"))&&void 0!==n&&n}),r)});case 2:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"reportVideoMode",value:function(e){var t;null===(t=this._videoCoordinator)||void 0===t||t.reportVideoMode(e)}},{key:"setMinimizeBitrate",value:function(e){var t;null===(t=this._videoCoordinator)||void 0===t||t.setMinimizeBitrate(e)}},{key:"setFullscreen",value:function(e){var t;null===(t=this._videoCoordinator)||void 0===t||t.setFullscreen(e)}}]),e}(),Gt=n(49207),Wt=n(87961),zt=n(66124),Kt=n(91334),Yt=(n(3843),n(62227)),qt=n(7092),Qt=n(87717),Jt={baseTime:200,ceiling:9e5,curve:"exponential",jitter:!0},Xt=function(){function e(t,n){(0,h.Z)(this,e),(0,a.Z)(this,"name","desktop-lifecycle-plugin"),(0,a.Z)(this,"_authCounter",new qt.A(Jt)),(0,a.Z)(this,"_authAttempts",0),(0,a.Z)(this,"_authTimeoutId",null),this._transport=t,this._onAuthenticationFailed=n,this.onConnected=this.onConnected.bind(this),this.onDisconnected=this.onDisconnected.bind(this),this.onAuthenticated=this.onAuthenticated.bind(this),this.onAuthenticationFailed=this.onAuthenticationFailed.bind(this),this.onBeforeProcessRequest=this.onBeforeProcessRequest.bind(this),this.onBeforeSendRequest=this.onBeforeSendRequest.bind(this)}return(0,y.Z)(e,[{key:"tryAuthenticate",value:function(){this._transport.isAuthenticated()||(null!==this._authTimeoutId&&(window.clearTimeout(this._authTimeoutId),this._authTimeoutId=null),this._transport.authenticate())}},{key:"onConnected",value:function(){this._transport.isAuthenticated()||this._transport.authenticate()}},{key:"onDisconnected",value:function(){this._transport.connect()}},{key:"onAuthenticated",value:function(){this._authAttempts=0}},{key:"onAuthenticationFailed",value:function(){var e=this;this._authAttempts++;var t=this._authCounter.getTime(this._authAttempts),n=new Date(Date.now()+t);this._onAuthenticationFailed(this._authAttempts,n),console.log("Transport authentication failed, retrying in %.2d seconds...",t/1e3),this._authTimeoutId=window.setTimeout((function(){e._authTimeoutId=null,e._transport.authenticate()}),t)}},{key:"onBeforeProcessRequest",value:function(e){var t,n,r,i=e.data;(null===(t=i.options)||void 0===t||null===(n=t.metadata)||void 0===n?void 0:n.noRequestTransform)||(this._transport.isAuthenticated()||this._authAttempts>0&&(null!==(r=i.options)&&void 0!==r&&r.authorize&&(i.context.isTokenUnavailable=!0),i.options=(0,Qt.F)(i.options,{authorize:!1})))}},{key:"onBeforeSendRequest",value:function(e){if(e.data.context.isTokenUnavailable)throw new Error("Token is currently unavailable.")}},{key:"attach",value:function(e,t){e.addListener(Yt.TransportEvent.CONNECTED,this.onConnected),e.addListener(Yt.TransportEvent.DISCONNECTED,this.onDisconnected),e.addListener(Yt.TransportEvent.AUTHENTICATED,this.onAuthenticated),e.addListener(Yt.TransportEvent.AUTHENTICATION_FAILED,this.onAuthenticationFailed),t.addListener(Yt.PluginEvent.TRANSPORT_BEFORE_PROCESS_REQUEST,this.onBeforeProcessRequest),t.addListener(Yt.PluginEvent.TRANSPORT_BEFORE_SEND_REQUEST,this.onBeforeSendRequest)}},{key:"detach",value:function(e,t){e.removeListener(Yt.TransportEvent.CONNECTED,this.onConnected),e.removeListener(Yt.TransportEvent.DISCONNECTED,this.onDisconnected),e.removeListener(Yt.TransportEvent.AUTHENTICATED,this.onAuthenticated),e.removeListener(Yt.TransportEvent.AUTHENTICATION_FAILED,this.onAuthenticationFailed),t.removeListener(Yt.PluginEvent.TRANSPORT_BEFORE_PROCESS_REQUEST,this.onBeforeProcessRequest),t.removeListener(Yt.PluginEvent.TRANSPORT_BEFORE_SEND_REQUEST,this.onBeforeSendRequest)}}]),e}();function $t(e){return Object.prototype.hasOwnProperty.call(e,"error")}var en=n(74263),tn=n(84553),nn=function(){function e(t){(0,h.Z)(this,e),(0,a.Z)(this,"_events",new en.a),(0,a.Z)(this,"_state",tn.p),(0,a.Z)(this,"_plugin",null),this._cosmos=t,this._tokenProvider=function(e,t){return(0,Kt.k)((0,o.Z)(l().mark((function t(){var n;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.get("sp://auth/v2/token");case 3:if(!$t(n=t.sent)){t.next=6;break}return t.abrupt("return",null);case 6:return t.abrupt("return",{accessToken:n.accessToken,accessTokenExpirationTimestampMs:n.expiresAtTime,isAnonymous:!1});case 9:return t.prev=9,t.t0=t.catch(0),t.abrupt("return",null);case 12:case"end":return t.stop()}}),t,null,[[0,9]])}))),t)}(t,this.onTokenChanged.bind(this))}var t;return(0,y.Z)(e,[{key:"createTransportPlugin",value:function(e){return this._plugin=new Xt(e,this.onAuthenticationFailed.bind(this)),this._plugin}},{key:"onTokenChanged",value:function(e){this._state={isAuthorized:null!==e&&!(0,Kt.p)(e),token:e,retryAttempt:null,retryAt:null},this._events.emit(en.B.UPDATE,this._state)}},{key:"onAuthenticationFailed",value:function(e,t){this._state={isAuthorized:!1,token:null,retryAttempt:e,retryAt:t},this._events.emit(en.B.UPDATE,this._state)}},{key:"getCapabilities",value:function(){return{canGetSessionTransferURL:!0}}},{key:"getEvents",value:function(){return this._events}},{key:"getState",value:function(){return this._state}},{key:"getTokenProvider",value:function(){return this._tokenProvider}},{key:"tryAuthorize",value:function(){null!==this._plugin&&this._plugin.tryAuthenticate()}},{key:"getSessionTransferURL",value:(t=(0,o.Z)(l().mark((function e(t){var n,r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._cosmos.get("".concat("sp://auth/v1/session_transfer_token","?url=").concat(encodeURIComponent(t)));case 2:return n=e.sent,r=n.accessToken,e.abrupt("return","".concat("https://accounts.spotify.com/login/ott/v2","#token=").concat(encodeURIComponent(r)));case 5:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),e}(),rn=n(26222),an=n(21288);function on(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function sn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?on(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):on(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ln(e){switch(e){case"computer":return an.Yi.COMPUTER;case"tablet":return an.Yi.TABLET;case"smartphone":return an.Yi.SMARTPHONE;case"speaker":return an.Yi.SPEAKER;case"tv":return an.Yi.TV;case"avr":return an.Yi.AVR;case"stb":return an.Yi.STB;case"audio_dongle":return an.Yi.AUDIO_DONGLE;case"game_console":return an.Yi.GAME_CONSOLE;case"cast_video":return an.Yi.CAST_VIDEO;case"cast_audio":return an.Yi.CAST_AUDIO;case"automobile":return an.Yi.AUTOMOBILE;case"smartwatch":return an.Yi.SMARTWATCH;case"chromebook":return an.Yi.CHROMEBOOK;case"carthing":return an.Yi.CarThing;case"homething":return an.Yi.HomeThing;default:return an.Yi.UNKNOWN}}function cn(e){switch(e){case"connecting":return an.uP.CONNECTING;case"incompatible":return an.uP.INCOMPATIBLE;case"unavailable":return an.uP.UNAVAILABLE;case"logged_in":return an.uP.LOGGED_IN;case"not_logged_in":return an.uP.NOT_LOGGED_IN;case"sleeping":return an.uP.SLEEPING;case"premium_required":return an.uP.PREMIUM_REQUIRED;case"not_installed":return an.uP.NOT_INSTALLED;case"unsupported_uri":return an.uP.UNSUPPORTED_URI;case"not_authorized":return an.uP.NOT_AUTHORIZED;default:return an.uP.UNKNOWN}}function un(e){var t=e.identifier,n=e.name,r=e.type,i=e.is_group,a=e.is_self,o=e.is_active,s=e.is_being_activated,l=e.is_disabled,c=e.volume,u=e.supports_hifi,d=e.brand_display_name,m=e.model_display_name,p=e.license,f=e.state,v=e.is_local,g=e.is_zeroconf,h=e.is_webapp;return{id:t,name:null!=n?n:"",type:ln(r),isGroup:i,isLocal:a,isActive:o,isConnecting:s,isDisabled:l,volume:c/65535,hifiSupport:{fullySupported:!(null==u||!u.fully_supported),deviceSupported:!(null==u||!u.device_supported),userEligible:!(null==u||!u.user_eligible)},brandDisplayName:d,modelDisplayName:m,license:p,currentState:cn(f),isLocalNetwork:v,isZeroconf:g,isWebApp:h}}function dn(e,t){return t?an.TK.CONNECTING:e&&!e.isLocal?an.TK.CONNECTED:an.TK.NOT_CONNECTED}function mn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,_.Z)(e);if(t){var i=(0,_.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,b.Z)(this,n)}}var pn=function(e){(0,E.Z)(n,e);var t=mn(n);function n(e){var r;return(0,h.Z)(this,n),(r=t.call(this)).cosmos=e,r.cosmos.sub("sp://connect/v1",(function(e){var t=e.devices;t&&r.emit(rn.F.UPDATE,function(e){var t,n=e.map(un),r=n.find((function(e){return e.isActive}));if(!r){var i=n.findIndex((function(e){return e.isLocal}));-1!==i&&(r=sn(sn({},n[i]),{},{isActive:!0}),n[i]=r)}var a=n.find((function(e){return e.isConnecting&&!e.isActive}));return{connectionStatus:dn(r,a),activeDevice:null!==(t=r)&&void 0!==t?t:null,connectingDevice:null!=a?a:null,devices:n}}(t))}),(function(){}),null,{"include-local-device":"1"}),r}return(0,y.Z)(n)}(rn.M),fn=n(58126),vn="sp://connect/v1",gn="discover",hn="logout",yn=function(){function e(t,n){var r=this;(0,h.Z)(this,e),(0,a.Z)(this,"state",null),this.cosmos=t,this.connectServiceClient=n,this.events=new pn(this.cosmos),this.events.addListener(rn.F.UPDATE,(function(e){var t=e.data;r.state=t})),this.initiateLocalDiscovery()}var t,n,r,i,s,c;return(0,y.Z)(e,[{key:"getCapabilities",value:function(){return{supportsLocalDiscovery:!0}}},{key:"getState",value:function(){return this.state}},{key:"getEvents",value:function(){return this.events}},{key:"initiateLocalDiscovery",value:(c=(0,o.Z)(l().mark((function e(){var t;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.connectServiceClient?null===(t=this.connectServiceClient)||void 0===t?void 0:t.startDiscovery(d.bU.fromPartial({})):this.cosmos.post("".concat(vn,"/").concat(gn),"initial_discovery");case 2:case"end":return e.stop()}}),e,this)}))),function(){return c.apply(this,arguments)})},{key:"discoverDevices",value:(s=(0,o.Z)(l().mark((function e(){var t;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.connectServiceClient?null===(t=this.connectServiceClient)||void 0===t?void 0:t.forceDiscover(d.Qb.fromPartial({})):this.cosmos.post("".concat(vn,"/").concat(gn),"");case 2:case"end":return e.stop()}}),e,this)}))),function(){return s.apply(this,arguments)})},{key:"createLoggingParams",value:function(e){return fn.LoggingParams.fromPartial({interactionIds:[e.interactionId],pageInstanceIds:e.pageInstanceId?[e.pageInstanceId]:void 0})}},{key:"pullToLocal",value:(i=(0,o.Z)(l().mark((function e(t){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.connectServiceClient?null===(n=this.connectServiceClient)||void 0===n?void 0:n.pull(fn.PullRequest.fromPartial({loggingParams:this.createLoggingParams(t)})):this.cosmos.post("".concat(vn,"/").concat("pull"));case 2:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})},{key:"transferToRemote",value:(r=(0,o.Z)(l().mark((function e(t,n){var r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.connectServiceClient?null===(r=this.connectServiceClient)||void 0===r?void 0:r.transfer(fn.TransferRequest.fromPartial({connectDeviceIdentifier:t,loggingParams:this.createLoggingParams(n)})):this.cosmos.post("".concat(vn,"/").concat("transfer"),t);case 2:case"end":return e.stop()}}),e,this)}))),function(e,t){return r.apply(this,arguments)})},{key:"transferPlayback",value:(n=(0,o.Z)(l().mark((function e(t,n){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,"local_device"===t?this.pullToLocal(n):this.transferToRemote(t,n);case 2:case"end":return e.stop()}}),e,this)}))),function(e,t){return n.apply(this,arguments)})},{key:"logout",value:(t=(0,o.Z)(l().mark((function e(){var t,n,r=arguments;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>0&&void 0!==r[0]?r[0]:"",e.next=3,this.connectServiceClient?null===(t=this.connectServiceClient)||void 0===t?void 0:t.logout(d.iu.fromPartial({connectDeviceIdentifier:n})):this.cosmos.post("".concat(vn,"/").concat(hn),"");case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}]),e}(),kn="sp://internal/v1/latest_messages";function En(){return En=(0,o.Z)(l().mark((function e(t){var n,r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.get(kn);case 2:if(e.t1=n=e.sent,e.t0=null!==e.t1,!e.t0){e.next=6;break}e.t0=void 0!==n;case 6:if(!e.t0){e.next=10;break}e.t2=n,e.next=11;break;case 10:e.t2=[];case 11:return r=e.t2,e.abrupt("return",r);case 13:case"end":return e.stop()}}),e)}))),En.apply(this,arguments)}function bn(e){n.g.window.getCosmosMessages||(n.g.window.getCosmosMessages=function(){return function(e){return En.apply(this,arguments)}(e)})}var _n=n(22305),Sn=n(3775),wn=(n(51532),n(2707),n(4787),n(31214),n(30826),n(50313),n(25329),n(29701),n(91111),n(49479),n(61200),n(17677),n(15098),n(4295),n(33849),n(71458),n(93284),n(88879),n(6985),n(68225),n(32707),n(43610),n(26982),n(46380)),Nn=n(45057),On=(n(61745),n(44121)),Cn=(n(36166),n(91433)),Tn=(n(62463),n(70633),n(34351)),In=n(6489),An=(n(26833),n(69049)),Pn=n(61957);function Dn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,_.Z)(e);if(t){var i=(0,_.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,b.Z)(this,n)}}var Rn="sp://core-collection/unstable";var xn,Ln=function(e){(0,E.Z)(r,e);var t,n=Dn(r);function r(e,t,i){var o,s;return(0,h.Z)(this,r),s=n.call(this,i),(0,a.Z)((0,k.Z)(s),"_subscriptions",(o={},(0,a.Z)(o,In.XD.ALBUMS,null),(0,a.Z)(o,In.XD.ARTISTS,null),(0,a.Z)(o,In.XD.SHOWS,null),(0,a.Z)(o,In.XD.TRACKS,null),(0,a.Z)(o,In.XD.EPISODES,null),(0,a.Z)(o,In.XD.BOOKS,null),o)),(0,a.Z)((0,k.Z)(s),"_containsSubscription",null),s._cosmos=e,s._listen_later_service_client=t,s}return(0,y.Z)(r,[{key:"subscribeToUpdates",value:function(){for(var e=this,t=function(){var t=r[n];t===In.XD.EPISODES?e._subscriptions[t]=e._listen_later_service_client.streamEpisodes(Pn.ListenLaterGetEpisodesRequest.fromPartial({}),Se((function(){e.emit(In.EW.UPDATE,{list:t})}))(100,true)):e._subscriptions[t]=e._cosmos.sub(function(e){var t="responseFormat=protobufJson&start=0&length=0";switch(e){case In.XD.ALBUMS:return"".concat(Rn,"/@/list/albums/all?").concat(t);case In.XD.ARTISTS:return"".concat(Rn,"/@/list/artists/all?").concat(t);case In.XD.SHOWS:return"".concat(Rn,"/@/list/shows/all?").concat(t);case In.XD.TRACKS:return"".concat(Rn,"/@/list/tracks/all?").concat(t);case In.XD.BOOKS:return"".concat("sp://your-library","/@/all?responseFormat=protobufJson&entity_type=books");default:throw Error("Invalid library event!")}}(t),Se((function(){e.emit(In.EW.UPDATE,{list:t})}))(100,true),(function(){}))},n=0,r=Object.values(In.XD);n<r.length;n++)t()}},{key:"unsubscribeFromUpdates",value:function(){for(var e=0,t=Object.values(In.XD);e<t.length;e++){var n=t[e],r=this._subscriptions[n];null!==r&&(r.cancel(),this._subscriptions[n]=null)}}},{key:"onBatchChanged",value:(t=(0,o.Z)(l().mark((function e(t){var n,r=this;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._containsSubscription&&this._containsSubscription.cancel(),0!==t.size){e.next=3;break}return e.abrupt("return");case 3:n=Array.from(t.keys()),this._containsSubscription=this._cosmos.sub("".concat("sp://core-collection/v1","/contains"),(function(e){return r.emitUpdateItems(n,e.found)}),(function(){}),{items:n});case 5:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),r}(An.w),Fn=(n(28733),n(143)),Un=n(43720),Zn=n.n(Un),Mn=n(62100),Bn=n.n(Mn);function jn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Vn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jn(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}!function(e){e[e.UNKNOWN_EXTENSION=0]="UNKNOWN_EXTENSION",e[e.CANVAZ=1]="CANVAZ",e[e.STORYLINES=2]="STORYLINES",e[e.PODCAST_TOPICS=3]="PODCAST_TOPICS",e[e.PODCAST_SEGMENTS=4]="PODCAST_SEGMENTS",e[e.AUDIO_FILES=5]="AUDIO_FILES",e[e.TRACK_DESCRIPTOR=6]="TRACK_DESCRIPTOR",e[e.PODCAST_COUNTER=7]="PODCAST_COUNTER",e[e.ARTIST_V4=8]="ARTIST_V4",e[e.ALBUM_V4=9]="ALBUM_V4",e[e.TRACK_V4=10]="TRACK_V4",e[e.SHOW_V4=11]="SHOW_V4",e[e.EPISODE_V4=12]="EPISODE_V4",e[e.PODCAST_HTML_DESCRIPTION=13]="PODCAST_HTML_DESCRIPTION",e[e.PODCAST_QUOTES=14]="PODCAST_QUOTES",e[e.USER_PROFILE=15]="USER_PROFILE",e[e.CANVAS_V1=16]="CANVAS_V1",e[e.SHOW_V4_BASE=17]="SHOW_V4_BASE",e[e.SHOW_V4_EPISODES_ASSOC=18]="SHOW_V4_EPISODES_ASSOC",e[e.TRACK_DESCRIPTOR_SIGNATURES=19]="TRACK_DESCRIPTOR_SIGNATURES",e[e.PODCAST_AD_SEGMENTS=20]="PODCAST_AD_SEGMENTS",e[e.EPISODE_TRANSCRIPTS=21]="EPISODE_TRANSCRIPTS",e[e.PODCAST_SUBSCRIPTIONS=22]="PODCAST_SUBSCRIPTIONS",e[e.EXTRACTED_COLOR=23]="EXTRACTED_COLOR",e[e.PODCAST_VIRALITY=24]="PODCAST_VIRALITY",e[e.IMAGE_SPARKLES_HACK=25]="IMAGE_SPARKLES_HACK",e[e.PODCAST_POPULARITY_HACK=26]="PODCAST_POPULARITY_HACK",e[e.AUTOMIX_MODE=27]="AUTOMIX_MODE",e[e.CUEPOINTS=28]="CUEPOINTS",e[e.PODCAST_POLL=29]="PODCAST_POLL",e[e.EPISODE_ACCESS=30]="EPISODE_ACCESS",e[e.SHOW_ACCESS=31]="SHOW_ACCESS",e[e.PODCAST_QNA=32]="PODCAST_QNA",e[e.CLIPS=33]="CLIPS",e[e.SHOW_V5=34]="SHOW_V5",e[e.EPISODE_V5=35]="EPISODE_V5",e[e.PODCAST_CTA_CARDS=36]="PODCAST_CTA_CARDS",e[e.PODCAST_RATING=37]="PODCAST_RATING",e[e.DISPLAY_SEGMENTS=38]="DISPLAY_SEGMENTS",e[e.GREENROOM=39]="GREENROOM",e[e.USER_CREATED=40]="USER_CREATED",e[e.SHOW_DESCRIPTION=41]="SHOW_DESCRIPTION",e[e.SHOW_HTML_DESCRIPTION=42]="SHOW_HTML_DESCRIPTION",e[e.SHOW_PLAYABILITY=43]="SHOW_PLAYABILITY",e[e.EPISODE_DESCRIPTION=44]="EPISODE_DESCRIPTION",e[e.EPISODE_HTML_DESCRIPTION=45]="EPISODE_HTML_DESCRIPTION",e[e.EPISODE_PLAYABILITY=46]="EPISODE_PLAYABILITY",e[e.SHOW_EPISODES_ASSOC=47]="SHOW_EPISODES_ASSOC",e[e.CLIENT_CONFIG=48]="CLIENT_CONFIG",e[e.PLAYLISTABILITY=49]="PLAYLISTABILITY",e[e.AUDIOBOOK_V5=50]="AUDIOBOOK_V5",e[e.CHAPTER_V5=51]="CHAPTER_V5",e[e.AUDIOBOOK_SPECIFICS=52]="AUDIOBOOK_SPECIFICS",e[e.EPISODE_RANKING=53]="EPISODE_RANKING",e[e.HTML_DESCRIPTION=54]="HTML_DESCRIPTION",e[e.CREATOR_CHANNEL=55]="CREATOR_CHANNEL",e[e.AUDIOBOOK_PROVIDERS=56]="AUDIOBOOK_PROVIDERS",e[e.PLAY_TRAIT=57]="PLAY_TRAIT",e[e.CONTENT_INFORMATION=58]="CONTENT_INFORMATION",e[e.AUDIOBOOK_PRICE=64]="AUDIOBOOK_PRICE",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(xn||(xn={})),Bn().util.Long!==Zn()&&(Bn().util.Long=Zn(),Bn().configure());var Hn;!function(e){e[e.SUBSCRIPTION_DIALOG=0]="SUBSCRIPTION_DIALOG",e[e.NONE=1]="NONE",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(Hn||(Hn={}));var Gn={isPaywalled:!1,isUserSubscribed:!1,userExplanation:0},Wn=function(e,t){for(var n=e instanceof Bn().Reader?e:new(Bn().Reader)(e),r=void 0===t?n.len:n.pos+t,i=Vn({},Gn);n.pos<r;){var a=n.uint32();switch(a>>>3){case 1:i.isPaywalled=n.bool();break;case 2:i.isUserSubscribed=n.bool();break;case 3:i.userExplanation=n.int32();break;default:n.skipType(7&a)}}return i};function zn(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Kn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Kn(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function Kn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Bn().util.Long!==Zn()&&(Bn().util.Long=Zn(),Bn().configure());var Yn=function(e,t){for(var n=e instanceof Mn.Reader?e:new Mn.Reader(e),r=void 0===t?n.len:n.pos+t,i={none:void 0,legacy:void 0,basic:void 0,upsellLink:void 0,engagement:void 0,multiPass:void 0,prompt:void 0,isUserMemberOfAtLeastOneGroup:!1};n.pos<r;){var a=n.uint32();switch(a>>>3){case 1:i.none=Jn.decode(n,n.uint32());break;case 2:i.legacy=Qn.decode(n,n.uint32());break;case 3:i.basic=qn.decode(n,n.uint32());break;case 4:i.upsellLink=Xn.decode(n,n.uint32());break;case 6:i.engagement=$n.decode(n,n.uint32());break;case 9:i.multiPass=er.decode(n,n.uint32());break;case 5:i.prompt=nr.decode(n,n.uint32());break;case 8:i.isUserMemberOfAtLeastOneGroup=n.bool();break;default:n.skipType(7&a)}}return i};var qn={encode:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Mn.Writer.create();return""!==e.title&&t.uint32(10).string(e.title),""!==e.body&&t.uint32(18).string(e.body),""!==e.cta&&t.uint32(26).string(e.cta),t},decode:function(e,t){for(var n=e instanceof Mn.Reader?e:new Mn.Reader(e),r=void 0===t?n.len:n.pos+t,i={title:"",body:"",cta:""};n.pos<r;){var a=n.uint32();switch(a>>>3){case 1:i.title=n.string();break;case 2:i.body=n.string();break;case 3:i.cta=n.string();break;default:n.skipType(7&a)}}return i},fromPartial:function(e){var t,n,r,i={title:"",body:"",cta:""};return i.title=null!==(t=e.title)&&void 0!==t?t:"",i.body=null!==(n=e.body)&&void 0!==n?n:"",i.cta=null!==(r=e.cta)&&void 0!==r?r:"",i}};var Qn={encode:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Mn.Writer.create();return t},decode:function(e,t){for(var n=e instanceof Mn.Reader?e:new Mn.Reader(e),r=void 0===t?n.len:n.pos+t,i={};n.pos<r;){var a=n.uint32();n.skipType(7&a)}return i},fromPartial:function(e){return{}}};var Jn={encode:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Mn.Writer.create();return t},decode:function(e,t){for(var n=e instanceof Mn.Reader?e:new Mn.Reader(e),r=void 0===t?n.len:n.pos+t,i={};n.pos<r;){var a=n.uint32();n.skipType(7&a)}return i},fromPartial:function(e){return{}}};var Xn={encode:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Mn.Writer.create();return""!==e.title&&t.uint32(10).string(e.title),""!==e.body&&t.uint32(18).string(e.body),""!==e.cta&&t.uint32(26).string(e.cta),""!==e.url&&t.uint32(34).string(e.url),t},decode:function(e,t){for(var n=e instanceof Mn.Reader?e:new Mn.Reader(e),r=void 0===t?n.len:n.pos+t,i={title:"",body:"",cta:"",url:""};n.pos<r;){var a=n.uint32();switch(a>>>3){case 1:i.title=n.string();break;case 2:i.body=n.string();break;case 3:i.cta=n.string();break;case 4:i.url=n.string();break;default:n.skipType(7&a)}}return i},fromPartial:function(e){var t,n,r,i,a={title:"",body:"",cta:"",url:""};return a.title=null!==(t=e.title)&&void 0!==t?t:"",a.body=null!==(n=e.body)&&void 0!==n?n:"",a.cta=null!==(r=e.cta)&&void 0!==r?r:"",a.url=null!==(i=e.url)&&void 0!==i?i:"",a}};var $n={encode:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Mn.Writer.create();return""!==e.header&&t.uint32(10).string(e.header),""!==e.title&&t.uint32(18).string(e.title),""!==e.body&&t.uint32(26).string(e.body),""!==e.cta&&t.uint32(34).string(e.cta),""!==e.dismiss&&t.uint32(42).string(e.dismiss),""!==e.actionType&&t.uint32(50).string(e.actionType),""!==e.bodySecondary&&t.uint32(58).string(e.bodySecondary),t},decode:function(e,t){for(var n=e instanceof Mn.Reader?e:new Mn.Reader(e),r=void 0===t?n.len:n.pos+t,i={header:"",title:"",body:"",cta:"",dismiss:"",actionType:"",bodySecondary:""};n.pos<r;){var a=n.uint32();switch(a>>>3){case 1:i.header=n.string();break;case 2:i.title=n.string();break;case 3:i.body=n.string();break;case 4:i.cta=n.string();break;case 5:i.dismiss=n.string();break;case 6:i.actionType=n.string();break;case 7:i.bodySecondary=n.string();break;default:n.skipType(7&a)}}return i},fromPartial:function(e){var t,n,r,i,a,o,s,l={header:"",title:"",body:"",cta:"",dismiss:"",actionType:"",bodySecondary:""};return l.header=null!==(t=e.header)&&void 0!==t?t:"",l.title=null!==(n=e.title)&&void 0!==n?n:"",l.body=null!==(r=e.body)&&void 0!==r?r:"",l.cta=null!==(i=e.cta)&&void 0!==i?i:"",l.dismiss=null!==(a=e.dismiss)&&void 0!==a?a:"",l.actionType=null!==(o=e.actionType)&&void 0!==o?o:"",l.bodySecondary=null!==(s=e.bodySecondary)&&void 0!==s?s:"",l}};var er={encode:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Mn.Writer.create();""!==e.title&&t.uint32(10).string(e.title),""!==e.soaDescription&&t.uint32(18).string(e.soaDescription);var n,r=zn(e.soaPartner);try{for(r.s();!(n=r.n()).done;){var i=n.value;tr.encode(i,t.uint32(26).fork()).ldelim()}}catch(e){r.e(e)}finally{r.f()}return t},decode:function(e,t){for(var n=e instanceof Mn.Reader?e:new Mn.Reader(e),r=void 0===t?n.len:n.pos+t,i={title:"",soaDescription:"",soaPartner:[]};n.pos<r;){var a=n.uint32();switch(a>>>3){case 1:i.title=n.string();break;case 2:i.soaDescription=n.string();break;case 3:i.soaPartner.push(tr.decode(n,n.uint32()));break;default:n.skipType(7&a)}}return i},fromPartial:function(e){var t,n,r,i={title:"",soaDescription:"",soaPartner:[]};return i.title=null!==(t=e.title)&&void 0!==t?t:"",i.soaDescription=null!==(n=e.soaDescription)&&void 0!==n?n:"",i.soaPartner=(null===(r=e.soaPartner)||void 0===r?void 0:r.map((function(e){return tr.fromPartial(e)})))||[],i}};var tr={encode:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Mn.Writer.create();return""!==e.displayName&&t.uint32(10).string(e.displayName),""!==e.linkUrl&&t.uint32(18).string(e.linkUrl),""!==e.logoUrl&&t.uint32(26).string(e.logoUrl),t},decode:function(e,t){for(var n=e instanceof Mn.Reader?e:new Mn.Reader(e),r=void 0===t?n.len:n.pos+t,i={displayName:"",linkUrl:"",logoUrl:""};n.pos<r;){var a=n.uint32();switch(a>>>3){case 1:i.displayName=n.string();break;case 2:i.linkUrl=n.string();break;case 3:i.logoUrl=n.string();break;default:n.skipType(7&a)}}return i},fromPartial:function(e){var t,n,r,i={displayName:"",linkUrl:"",logoUrl:""};return i.displayName=null!==(t=e.displayName)&&void 0!==t?t:"",i.linkUrl=null!==(n=e.linkUrl)&&void 0!==n?n:"",i.logoUrl=null!==(r=e.logoUrl)&&void 0!==r?r:"",i}};var nr={encode:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Mn.Writer.create();return""!==e.title&&t.uint32(10).string(e.title),""!==e.body&&t.uint32(18).string(e.body),""!==e.cta&&t.uint32(26).string(e.cta),""!==e.url&&t.uint32(34).string(e.url),t},decode:function(e,t){for(var n=e instanceof Mn.Reader?e:new Mn.Reader(e),r=void 0===t?n.len:n.pos+t,i={title:"",body:"",cta:"",url:""};n.pos<r;){var a=n.uint32();switch(a>>>3){case 1:i.title=n.string();break;case 2:i.body=n.string();break;case 3:i.cta=n.string();break;case 4:i.url=n.string();break;default:n.skipType(7&a)}}return i},fromPartial:function(e){var t,n,r,i,a={title:"",body:"",cta:"",url:""};return a.title=null!==(t=e.title)&&void 0!==t?t:"",a.body=null!==(n=e.body)&&void 0!==n?n:"",a.cta=null!==(r=e.cta)&&void 0!==r?r:"",a.url=null!==(i=e.url)&&void 0!==i?i:"",a}};n(73689);var rr=function(e,t){for(var n=e instanceof Bn().Reader?e:new(Bn().Reader)(e),r=void 0===t?n.len:n.pos+t,i={seconds:"0",nanos:0};n.pos<r;){var a=n.uint32();switch(a>>>3){case 1:i.seconds=n.int64().toString();break;case 2:i.nanos=n.int32();break;default:n.skipType(7&a)}}return i};function ir(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return ar(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ar(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function ar(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Bn().util.Long!==Zn()&&(Bn().util.Long=Zn(),Bn().configure());var or=function(e,t){for(var n=e instanceof Mn.Reader?e:new Mn.Reader(e),r=void 0===t?n.len:n.pos+t,i={uri:"",credits:void 0,edition:"",duration_ms:"0",publish_date:void 0};n.pos<r;){var a=n.uint32();switch(a>>>3){case 1:i.uri=n.string();break;case 2:i.credits=sr.decode(n,n.uint32());break;case 3:i.edition=n.string();break;case 4:i.duration_ms=n.int64().toString();break;case 5:i.publish_date=dr(rr(n,n.uint32()));break;default:n.skipType(7&a)}}return i};var sr={encode:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Mn.Writer.create(),r=ir(e.publishers);try{for(r.s();!(t=r.n()).done;){var i=t.value;lr.encode(i,n.uint32(18).fork()).ldelim()}}catch(e){r.e(e)}finally{r.f()}var a,o=ir(e.authors);try{for(o.s();!(a=o.n()).done;){var s=a.value;cr.encode(s,n.uint32(26).fork()).ldelim()}}catch(e){o.e(e)}finally{o.f()}var l,c=ir(e.narrators);try{for(c.s();!(l=c.n()).done;){var u=l.value;ur.encode(u,n.uint32(34).fork()).ldelim()}}catch(e){c.e(e)}finally{c.f()}return n},decode:function(e,t){for(var n=e instanceof Mn.Reader?e:new Mn.Reader(e),r=void 0===t?n.len:n.pos+t,i={publishers:[],authors:[],narrators:[]};n.pos<r;){var a=n.uint32();switch(a>>>3){case 2:i.publishers.push(lr.decode(n,n.uint32()));break;case 3:i.authors.push(cr.decode(n,n.uint32()));break;case 4:i.narrators.push(ur.decode(n,n.uint32()));break;default:n.skipType(7&a)}}return i},fromPartial:function(e){var t,n,r,i={publishers:[],authors:[],narrators:[]};return i.publishers=(null===(t=e.publishers)||void 0===t?void 0:t.map((function(e){return lr.fromPartial(e)})))||[],i.authors=(null===(n=e.authors)||void 0===n?void 0:n.map((function(e){return cr.fromPartial(e)})))||[],i.narrators=(null===(r=e.narrators)||void 0===r?void 0:r.map((function(e){return ur.fromPartial(e)})))||[],i}};var lr={encode:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Mn.Writer.create();return""!==e.name&&t.uint32(18).string(e.name),t},decode:function(e,t){for(var n=e instanceof Mn.Reader?e:new Mn.Reader(e),r=void 0===t?n.len:n.pos+t,i={name:""};n.pos<r;){var a=n.uint32();if(a>>>3==2)i.name=n.string();else n.skipType(7&a)}return i},fromPartial:function(e){var t,n={name:""};return n.name=null!==(t=e.name)&&void 0!==t?t:"",n}};var cr={encode:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Mn.Writer.create();return""!==e.name&&t.uint32(18).string(e.name),t},decode:function(e,t){for(var n=e instanceof Mn.Reader?e:new Mn.Reader(e),r=void 0===t?n.len:n.pos+t,i={name:""};n.pos<r;){var a=n.uint32();if(a>>>3==2)i.name=n.string();else n.skipType(7&a)}return i},fromPartial:function(e){var t,n={name:""};return n.name=null!==(t=e.name)&&void 0!==t?t:"",n}};var ur={encode:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Mn.Writer.create();return""!==e.name&&t.uint32(18).string(e.name),t},decode:function(e,t){for(var n=e instanceof Mn.Reader?e:new Mn.Reader(e),r=void 0===t?n.len:n.pos+t,i={name:""};n.pos<r;){var a=n.uint32();if(a>>>3==2)i.name=n.string();else n.skipType(7&a)}return i},fromPartial:function(e){var t,n={name:""};return n.name=null!==(t=e.name)&&void 0!==t?t:"",n}};function dr(e){var t=1e3*Number(e.seconds);return t+=e.nanos/1e6,new Date(t)}Mn.util.Long!==Zn()&&(Mn.util.Long=Zn(),Mn.configure());var mr=function(e,t){for(var n=e instanceof Bn().Reader?e:new(Bn().Reader)(e),r=void 0===t?n.len:n.pos+t,i={cardHeaderText:"",cardBodyText:"",buttonText:"",buttonTarget:""};n.pos<r;){var a=n.uint32();switch(a>>>3){case 1:i.cardHeaderText=n.string();break;case 2:i.cardBodyText=n.string();break;case 3:i.buttonText=n.string();break;case 4:i.buttonTarget=n.string();break;default:n.skipType(7&a)}}return i};Bn().util.Long!==Zn()&&(Bn().util.Long=Zn(),Bn().configure());n(5735),n(83753);function pr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pr(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var vr={},gr=function(e,t){var n=e instanceof Bn().Reader?e:new(Bn().Reader)(e),r=void 0===t?n.len:n.pos+t,i=fr({},vr);for(i.topics=[];n.pos<r;){var a=n.uint32();if(a>>>3==1)i.topics.push(yr.decode(n,n.uint32()));else n.skipType(7&a)}return i},hr={uri:"",title:""},yr={encode:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Bn().Writer.create();return""!==e.uri&&t.uint32(10).string(e.uri),""!==e.title&&t.uint32(18).string(e.title),t},decode:function(e,t){for(var n=e instanceof Bn().Reader?e:new(Bn().Reader)(e),r=void 0===t?n.len:n.pos+t,i=fr({},hr);n.pos<r;){var a=n.uint32();switch(a>>>3){case 1:i.uri=n.string();break;case 2:i.title=n.string();break;default:n.skipType(7&a)}}return i},fromJSON:function(e){var t=fr({},hr);return void 0!==e.uri&&null!==e.uri?t.uri=String(e.uri):t.uri="",void 0!==e.title&&null!==e.title?t.title=String(e.title):t.title="",t},toJSON:function(e){var t={};return void 0!==e.uri&&(t.uri=e.uri),void 0!==e.title&&(t.title=e.title),t},fromPartial:function(e){var t=fr({},hr);return void 0!==e.uri&&null!==e.uri?t.uri=e.uri:t.uri="",void 0!==e.title&&null!==e.title?t.title=e.title:t.title="",t}},kr={htmlDescription:""},Er=function(e,t){for(var n=e instanceof Bn().Reader?e:new(Bn().Reader)(e),r=void 0===t?n.len:n.pos+t,i=fr({},kr);n.pos<r;){var a=n.uint32();switch(a>>>3){case 1:i.header=_r.decode(n,n.uint32());break;case 2:i.htmlDescription=n.string();break;default:n.skipType(7&a)}}return i},br={},_r={encode:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Bn().Writer.create();return t},decode:function(e,t){for(var n=e instanceof Bn().Reader?e:new(Bn().Reader)(e),r=void 0===t?n.len:n.pos+t,i=fr({},br);n.pos<r;){var a=n.uint32();n.skipType(7&a)}return i},fromJSON:function(e){return fr({},br)},toJSON:function(e){return{}},fromPartial:function(e){return fr({},br)}};function Sr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Sr(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}Bn().util.Long!==Zn()&&(Bn().util.Long=Zn(),Bn().configure());var Nr;!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.TALK=1]="TALK",e[e.MUSIC=2]="MUSIC",e[e.UPSELL=3]="UPSELL",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(Nr||(Nr={}));var Or={episodeUri:"",canUpsell:!1,albumMosaicUri:"",artists:"",durationMs:0},Cr=function(e,t){var n=e instanceof Bn().Reader?e:new(Bn().Reader)(e),r=void 0===t?n.len:n.pos+t,i=wr({},Or);for(i.playbackSegments=[],i.embeddedSegments=[],i.artists=[];n.pos<r;){var a=n.uint32();switch(a>>>3){case 1:i.episodeUri=n.string();break;case 2:i.playbackSegments.push(Ir.decode(n,n.uint32()));break;case 3:i.embeddedSegments.push(Pr.decode(n,n.uint32()));break;case 4:i.canUpsell=n.bool();break;case 5:i.albumMosaicUri=n.string();break;case 6:i.artists.push(n.string());break;case 7:i.durationMs=n.int32();break;default:n.skipType(7&a)}}return i},Tr={uri:"",startMs:0,stopMs:0,durationMs:0,type:0,title:"",subtitle:"",imageUrl:"",actionUrl:"",isAbridged:!1},Ir={encode:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Bn().Writer.create();return""!==e.uri&&t.uint32(10).string(e.uri),0!==e.startMs&&t.uint32(16).int32(e.startMs),0!==e.stopMs&&t.uint32(24).int32(e.stopMs),0!==e.durationMs&&t.uint32(32).int32(e.durationMs),0!==e.type&&t.uint32(40).int32(e.type),""!==e.title&&t.uint32(50).string(e.title),""!==e.subtitle&&t.uint32(58).string(e.subtitle),""!==e.imageUrl&&t.uint32(66).string(e.imageUrl),""!==e.actionUrl&&t.uint32(74).string(e.actionUrl),!0===e.isAbridged&&t.uint32(80).bool(e.isAbridged),t},decode:function(e,t){for(var n=e instanceof Bn().Reader?e:new(Bn().Reader)(e),r=void 0===t?n.len:n.pos+t,i=wr({},Tr);n.pos<r;){var a=n.uint32();switch(a>>>3){case 1:i.uri=n.string();break;case 2:i.startMs=n.int32();break;case 3:i.stopMs=n.int32();break;case 4:i.durationMs=n.int32();break;case 5:i.type=n.int32();break;case 6:i.title=n.string();break;case 7:i.subtitle=n.string();break;case 8:i.imageUrl=n.string();break;case 9:i.actionUrl=n.string();break;case 10:i.isAbridged=n.bool();break;default:n.skipType(7&a)}}return i},fromJSON:function(e){var t=wr({},Tr);return t.uri=void 0!==e.uri&&null!==e.uri?String(e.uri):"",t.startMs=void 0!==e.startMs&&null!==e.startMs?Number(e.startMs):0,t.stopMs=void 0!==e.stopMs&&null!==e.stopMs?Number(e.stopMs):0,t.durationMs=void 0!==e.durationMs&&null!==e.durationMs?Number(e.durationMs):0,t.type=void 0!==e.type&&null!==e.type?function(e){switch(e){case 0:case"UNKNOWN":return Nr.UNKNOWN;case 1:case"TALK":return Nr.TALK;case 2:case"MUSIC":return Nr.MUSIC;case 3:case"UPSELL":return Nr.UPSELL;default:return Nr.UNRECOGNIZED}}(e.type):0,t.title=void 0!==e.title&&null!==e.title?String(e.title):"",t.subtitle=void 0!==e.subtitle&&null!==e.subtitle?String(e.subtitle):"",t.imageUrl=void 0!==e.imageUrl&&null!==e.imageUrl?String(e.imageUrl):"",t.actionUrl=void 0!==e.actionUrl&&null!==e.actionUrl?String(e.actionUrl):"",t.isAbridged=void 0!==e.isAbridged&&null!==e.isAbridged&&Boolean(e.isAbridged),t},toJSON:function(e){var t={};return void 0!==e.uri&&(t.uri=e.uri),void 0!==e.startMs&&(t.startMs=e.startMs),void 0!==e.stopMs&&(t.stopMs=e.stopMs),void 0!==e.durationMs&&(t.durationMs=e.durationMs),void 0!==e.type&&(t.type=function(e){switch(e){case Nr.UNKNOWN:return"UNKNOWN";case Nr.TALK:return"TALK";case Nr.MUSIC:return"MUSIC";case Nr.UPSELL:return"UPSELL";default:return"UNKNOWN"}}(e.type)),void 0!==e.title&&(t.title=e.title),void 0!==e.subtitle&&(t.subtitle=e.subtitle),void 0!==e.imageUrl&&(t.imageUrl=e.imageUrl),void 0!==e.actionUrl&&(t.actionUrl=e.actionUrl),void 0!==e.isAbridged&&(t.isAbridged=e.isAbridged),t},fromPartial:function(e){var t,n,r,i,a,o,s,l,c,u,d=wr({},Tr);return d.uri=null!==(t=e.uri)&&void 0!==t?t:"",d.startMs=null!==(n=e.startMs)&&void 0!==n?n:0,d.stopMs=null!==(r=e.stopMs)&&void 0!==r?r:0,d.durationMs=null!==(i=e.durationMs)&&void 0!==i?i:0,d.type=null!==(a=e.type)&&void 0!==a?a:0,d.title=null!==(o=e.title)&&void 0!==o?o:"",d.subtitle=null!==(s=e.subtitle)&&void 0!==s?s:"",d.imageUrl=null!==(l=e.imageUrl)&&void 0!==l?l:"",d.actionUrl=null!==(c=e.actionUrl)&&void 0!==c?c:"",d.isAbridged=null!==(u=e.isAbridged)&&void 0!==u&&u,d}},Ar={uri:"",absoluteStartMs:0,absoluteStopMs:0},Pr={encode:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Bn().Writer.create();return""!==e.uri&&t.uint32(10).string(e.uri),0!==e.absoluteStartMs&&t.uint32(16).int32(e.absoluteStartMs),0!==e.absoluteStopMs&&t.uint32(24).int32(e.absoluteStopMs),t},decode:function(e,t){for(var n=e instanceof Bn().Reader?e:new(Bn().Reader)(e),r=void 0===t?n.len:n.pos+t,i=wr({},Ar);n.pos<r;){var a=n.uint32();switch(a>>>3){case 1:i.uri=n.string();break;case 2:i.absoluteStartMs=n.int32();break;case 3:i.absoluteStopMs=n.int32();break;default:n.skipType(7&a)}}return i},fromJSON:function(e){var t=wr({},Ar);return t.uri=void 0!==e.uri&&null!==e.uri?String(e.uri):"",t.absoluteStartMs=void 0!==e.absoluteStartMs&&null!==e.absoluteStartMs?Number(e.absoluteStartMs):0,t.absoluteStopMs=void 0!==e.absoluteStopMs&&null!==e.absoluteStopMs?Number(e.absoluteStopMs):0,t},toJSON:function(e){var t={};return void 0!==e.uri&&(t.uri=e.uri),void 0!==e.absoluteStartMs&&(t.absoluteStartMs=e.absoluteStartMs),void 0!==e.absoluteStopMs&&(t.absoluteStopMs=e.absoluteStopMs),t},fromPartial:function(e){var t,n,r,i=wr({},Ar);return i.uri=null!==(t=e.uri)&&void 0!==t?t:"",i.absoluteStartMs=null!==(n=e.absoluteStartMs)&&void 0!==n?n:0,i.absoluteStopMs=null!==(r=e.absoluteStopMs)&&void 0!==r?r:0,i}};Bn().util.Long!==Zn()&&(Bn().util.Long=Zn(),Bn().configure());var Dr=function(e,t){for(var n=e instanceof Bn().Reader?e:new(Bn().Reader)(e),r=void 0===t?n.len:n.pos+t,i={episodeUri:"",transcripts:[]};n.pos<r;){var a=n.uint32();switch(a>>>3){case 1:i.episodeUri=n.string();break;case 2:i.transcripts.push(Rr.decode(n,n.uint32()));break;default:n.skipType(7&a)}}return i};var Rr={encode:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Bn().Writer.create();return""!==e.uri&&t.uint32(10).string(e.uri),""!==e.language&&t.uint32(18).string(e.language),!0===e.curated&&t.uint32(24).bool(e.curated),""!==e.cdnUrl&&t.uint32(34).string(e.cdnUrl),t},decode:function(e,t){for(var n=e instanceof Bn().Reader?e:new(Bn().Reader)(e),r=void 0===t?n.len:n.pos+t,i={uri:"",language:"",curated:!1,cdnUrl:""};n.pos<r;){var a=n.uint32();switch(a>>>3){case 1:i.uri=n.string();break;case 2:i.language=n.string();break;case 3:i.curated=n.bool();break;case 4:i.cdnUrl=n.string();break;default:n.skipType(7&a)}}return i},fromJSON:function(e){return{uri:xr(e.uri)?String(e.uri):"",language:xr(e.language)?String(e.language):"",curated:!!xr(e.curated)&&Boolean(e.curated),cdnUrl:xr(e.cdnUrl)?String(e.cdnUrl):""}},toJSON:function(e){var t={};return void 0!==e.uri&&(t.uri=e.uri),void 0!==e.language&&(t.language=e.language),void 0!==e.curated&&(t.curated=e.curated),void 0!==e.cdnUrl&&(t.cdnUrl=e.cdnUrl),t},fromPartial:function(e){var t,n,r,i,a={uri:"",language:"",curated:!1,cdnUrl:""};return a.uri=null!==(t=e.uri)&&void 0!==t?t:"",a.language=null!==(n=e.language)&&void 0!==n?n:"",a.curated=null!==(r=e.curated)&&void 0!==r&&r,a.cdnUrl=null!==(i=e.cdnUrl)&&void 0!==i?i:"",a}};function xr(e){return null!=e}Bn().util.Long!==Zn()&&(Bn().util.Long=Zn(),Bn().configure());var Lr;!function(e){e[e.DEFAULT=0]="DEFAULT",e[e.SUBMIT=1]="SUBMIT",e[e.DELETE=2]="DELETE",e[e.UPDATE=3]="UPDATE",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(Lr||(Lr={}));var Fr=function(e,t){for(var n=e instanceof Mn.Reader?e:new Mn.Reader(e),r=void 0===t?n.len:n.pos+t,i={userId:"",showUri:"",rating:0,ratedAt:void 0};n.pos<r;){var a=n.uint32();switch(a>>>3){case 1:i.userId=n.string();break;case 2:i.showUri=n.string();break;case 3:i.rating=n.int32();break;case 4:i.ratedAt=Mr(rr(n,n.uint32()));break;default:n.skipType(7&a)}}return i};var Ur=function(e,t){for(var n=e instanceof Mn.Reader?e:new Mn.Reader(e),r=void 0===t?n.len:n.pos+t,i={average:0,totalRatings:"0",showAverage:!1};n.pos<r;){var a=n.uint32();switch(a>>>3){case 1:i.average=n.double();break;case 2:i.totalRatings=n.int64().toString();break;case 3:i.showAverage=n.bool();break;default:n.skipType(7&a)}}return i};var Zr=function(e,t){for(var n=e instanceof Mn.Reader?e:new Mn.Reader(e),r=void 0===t?n.len:n.pos+t,i={averageRating:void 0,rating:void 0,canRate:!1};n.pos<r;){var a=n.uint32();switch(a>>>3){case 1:i.averageRating=Ur(n,n.uint32());break;case 2:i.rating=Fr(n,n.uint32());break;case 3:i.canRate=n.bool();break;default:n.skipType(7&a)}}return i};function Mr(e){var t=1e3*Number(e.seconds);return t+=e.nanos/1e6,new Date(t)}Mn.util.Long!==Zn()&&(Mn.util.Long=Zn(),Mn.configure());var Br=function(e,t){for(var n=e instanceof Mn.Reader?e:new Mn.Reader(e),r=void 0===t?n.len:n.pos+t,i={entityUri:"",userUri:"",displayName:"",userImages:[],isCreator:!1};n.pos<r;){var a=n.uint32();switch(a>>>3){case 1:i.entityUri=n.string();break;case 2:i.userUri=n.string();break;case 3:i.displayName=n.string();break;case 4:i.userImages.push(jr.decode(n,n.uint32()));break;case 5:i.isCreator=n.bool();break;default:n.skipType(7&a)}}return i};var jr={encode:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Mn.Writer.create();return 0!==e.maxWidth&&t.uint32(8).int32(e.maxWidth),0!==e.maxHeight&&t.uint32(16).int32(e.maxHeight),""!==e.url&&t.uint32(26).string(e.url),t},decode:function(e,t){for(var n=e instanceof Mn.Reader?e:new Mn.Reader(e),r=void 0===t?n.len:n.pos+t,i={maxWidth:0,maxHeight:0,url:""};n.pos<r;){var a=n.uint32();switch(a>>>3){case 1:i.maxWidth=n.int32();break;case 2:i.maxHeight=n.int32();break;case 3:i.url=n.string();break;default:n.skipType(7&a)}}return i},fromJSON:function(e){return{maxWidth:Vr(e.maxWidth)?Number(e.maxWidth):0,maxHeight:Vr(e.maxHeight)?Number(e.maxHeight):0,url:Vr(e.url)?String(e.url):""}},toJSON:function(e){var t={};return void 0!==e.maxWidth&&(t.maxWidth=Math.round(e.maxWidth)),void 0!==e.maxHeight&&(t.maxHeight=Math.round(e.maxHeight)),void 0!==e.url&&(t.url=e.url),t},fromPartial:function(e){var t,n,r,i={maxWidth:0,maxHeight:0,url:""};return i.maxWidth=null!==(t=e.maxWidth)&&void 0!==t?t:0,i.maxHeight=null!==(n=e.maxHeight)&&void 0!==n?n:0,i.url=null!==(r=e.url)&&void 0!==r?r:"",i}};function Vr(e){return null!=e}Mn.util.Long!==Zn()&&(Mn.util.Long=Zn(),Mn.configure());var Hr=function(e,t){for(var n=e instanceof Mn.Reader?e:new Mn.Reader(e),r=void 0===t?n.len:n.pos+t,i={amount:0,currency:"",formattedPrice:""};n.pos<r;){var a=n.uint32();switch(a>>>3){case 1:i.amount=n.double();break;case 2:i.currency=n.string();break;case 3:i.formattedPrice=n.string();break;default:n.skipType(7&a)}}return i};var Gr=function(e,t){for(var n=e instanceof Mn.Reader?e:new Mn.Reader(e),r=void 0===t?n.len:n.pos+t,i={finalPrice:void 0,finalListPrice:void 0};n.pos<r;){var a=n.uint32();switch(a>>>3){case 1:i.finalPrice=Hr(n,n.uint32());break;case 2:i.finalListPrice=Hr(n,n.uint32());break;default:n.skipType(7&a)}}return i};function Wr(e){var t={};return e.forEach((function(e){switch(e.extensionKind){case xn.PODCAST_SUBSCRIPTIONS:t.podcastSubscription=Wn(e.data);break;case xn.SHOW_ACCESS:t.showAccess=Yn(e.data);break;case xn.AUDIOBOOK_SPECIFICS:t.audiobookSpecifics=or(e.data);break;case xn.PODCAST_TOPICS:t.podcastTopics=gr(e.data);break;case xn.PODCAST_SEGMENTS:t.podcastSegments=Cr(e.data);break;case xn.HTML_DESCRIPTION:t.htmlDescription=Er(e.data);break;case xn.PODCAST_RATING:t.rating=Zr(e.data);break;case xn.CONTENT_INFORMATION:t.contentInformation=mr(e.data);break;case xn.EPISODE_TRANSCRIPTS:t.transcripts=Dr(e.data);break;case xn.USER_CREATED:t.userCreated=Br(e.data);break;case xn.AUDIOBOOK_PRICE:t.audiobookPrice=Gr(e.data)}})),t}function zr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Kr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zr(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Yr(e){return void 0===e?[]:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){var t=e.url,n=e.label;return t&&n})).map((function(e){return{url:e.url,label:e.label}}))}({url:e.standardLink,label:"standard"},{url:e.smallLink,label:"small"},{url:e.largeLink,label:"large"},{url:e.xlargeLink,label:"xlarge"})}function qr(e){return void 0!==e?function(e){return new Date(1e3*e)}(e).toISOString():null}function Qr(e){return{milliseconds:1e3*e}}function Jr(e){return{type:ke.p.ARTIST,uri:e.link,name:e.name}}function Xr(e){if(void 0===e.albumMetadata)throw new Error("Invalid collection cosmos albums response!");return Kr({},function(e){return{type:ke.p.ALBUM,uri:e.link,name:e.name,artists:e.artists.map(Jr),images:Yr(e.covers),release:(t=e.year,{date:new Date(t).toISOString(),precision:"year"})};var t}(e.albumMetadata))}function $r(e){var t,n,r,i,a,o,s,l,c;return{type:ke.p.ALBUM,name:null!==(t=null===(n=e.entityInfo)||void 0===n?void 0:n.name)&&void 0!==t?t:"",artists:null!==(r=e.album)&&void 0!==r&&r.artistName?[{type:ke.p.ARTIST,name:null===(i=e.album)||void 0===i?void 0:i.artistName,uri:null!==(a=null===(o=e.album)||void 0===o?void 0:o.artistUri)&&void 0!==a?a:""}]:[],images:null!==(s=e.entityInfo)&&void 0!==s&&s.imageUri?[{url:e.entityInfo.imageUri}]:[],uri:null!==(l=null===(c=e.entityInfo)||void 0===c?void 0:c.uri)&&void 0!==l?l:""}}Mn.util.Long!==Zn()&&(Mn.util.Long=Zn(),Mn.configure());var ei={policy:{groupIndex:!1,list:{index:!1,addTime:!0,link:!0,name:!0,artists:{link:!0,name:!0},covers:!0,year:!0}}};function ti(e,t){if(void 0===e.item)throw new Error("Invalid collection cosmos albums response!");return{items:e.item.map(Xr),offset:t||0,limit:e.item.length,totalLength:e.unrangedLength,unfilteredTotalLength:e.unfilteredLength}}function ni(e,t){var n,r,i,a;if(void 0===e.entity)throw new Error("Invalid collection Esperanto artists response!");return{items:e.entity.map($r),offset:t||0,limit:e.entity.length,totalLength:null!==(n=null===(r=e.header)||void 0===r?void 0:r.totalCount)&&void 0!==n?n:0,unfilteredTotalLength:null!==(i=null===(a=e.header)||void 0===a?void 0:a.totalCount)&&void 0!==i?i:0}}function ri(e){var t,n,r,i,a;return{type:ke.p.ARTIST,uri:null!==(t=null===(n=e.entityInfo)||void 0===n?void 0:n.uri)&&void 0!==t?t:"",name:null!==(r=null===(i=e.entityInfo)||void 0===i?void 0:i.name)&&void 0!==r?r:"",images:null!==(a=e.entityInfo)&&void 0!==a&&a.imageUri?[{url:e.entityInfo.imageUri}]:[]}}var ii={policy:{groupIndex:!1,list:{index:!1,addTime:!0,link:!0,name:!0,portraits:!0}}};function ai(e){if(void 0===e.artistMetadata)throw new Error("Invalid collection cosmos artists response!");return Kr({},function(e){return{type:ke.p.ARTIST,uri:e.link,name:e.name,images:Yr(e.portraits)}}(e.artistMetadata))}function oi(e,t){if(void 0===e.item)throw new Error("Invalid collection cosmos artists response!");return{items:e.item.map(ai),offset:t||0,limit:e.item.length,totalLength:e.unrangedLength,unfilteredTotalLength:e.unfilteredLength}}function si(e){if(void 0===e.showMetadata)throw new Error("Invalid collection cosmos shows response!");return Kr({},function(e){return{type:ke.p.SHOW,uri:e.link,name:e.name,publisher:e.publisher,images:Yr(e.covers)}}(e.showMetadata))}function li(e){var t,n,r,i,a,o,s;return{type:ke.p.SHOW,uri:null!==(t=null===(n=e.entityInfo)||void 0===n?void 0:n.uri)&&void 0!==t?t:"",name:null!==(r=null===(i=e.entityInfo)||void 0===i?void 0:i.name)&&void 0!==r?r:"",publisher:null!==(a=null===(o=e.show)||void 0===o?void 0:o.creatorName)&&void 0!==a?a:"",images:null!==(s=e.entityInfo)&&void 0!==s&&s.imageUri?[{url:e.entityInfo.imageUri}]:[]}}var ci={policy:{groupIndex:!1,list:{index:!1,addTime:!0,link:!0,name:!0,description:!0,publisher:!0,language:!0,isExplicit:!0,covers:!0,mediaTypeEnum:!0}}};function ui(e,t){if(void 0===e.item)throw new Error("Invalid collection cosmos shows response!");return{items:e.item.map(si),offset:t||0,limit:e.item.length,totalLength:e.unrangedLength,unfilteredTotalLength:e.unfilteredLength}}function di(e,t){var n,r,i,a;if(void 0===e.entity)throw new Error("Invalid collection cosmos shows response!");return{items:e.entity.map(li),offset:t||0,limit:e.entity.length,totalLength:null!==(n=null===(r=e.header)||void 0===r?void 0:r.totalCount)&&void 0!==n?n:0,unfilteredTotalLength:null!==(i=null===(a=e.header)||void 0===a?void 0:a.totalCount)&&void 0!==i?i:0}}function mi(e){if(void 0===e.episodeMetadata||void 0===e.episodePlayedState)throw new Error("Invalid listen-later cosmos response!");return Kr({},function(e,t){var n,r,i,a,o={};e.extension&&(o=Wr(e.extension));var s=e.show;return{type:ke.p.EPISODE,uri:e.link,name:e.name,description:e.description,duration:Qr(e.length),timeLeft:Qr(t.isPlayed?0:t.timeLeft),images:Yr(e.covers),isExplicit:e.isExplicit,languages:[e.language],release:{date:new Date(1e3*parseInt(e.publishDate,10)).toISOString(),precision:"day"},podcastSubscription:{isPaywalled:null!==(n=null===(r=o.podcastSubscription)||void 0===r?void 0:r.isPaywalled)&&void 0!==n&&n,isUserSubscribed:null!==(i=null===(a=o.podcastSubscription)||void 0===a?void 0:a.isUserSubscribed)&&void 0!==i&&i},show:{type:ke.p.SHOW,uri:s.link,name:s.name,publisher:s.publisher,images:Yr(s.covers),mediaType:Fn.E.UNKNOWN},isPlayable:t.isPlayable,is19PlusOnly:e.is19PlusOnly}}(e.episodeMetadata,e.episodePlayedState))}function pi(e,t){return{items:(e.episode||[]).map(mi),offset:t||0,limit:(e.episode||[]).length,totalLength:e.unrangedLength,unfilteredTotalLength:e.unfilteredLength}}function fi(e){return{type:ke.p.ARTIST,uri:e.link,name:e.name}}function vi(e){return{type:ke.p.ARTIST,uri:e.link,name:e.name}}function gi(e,t){var n,r,i,a;if(void 0===e.entity)throw new Error("Invalid collection Esperanto artist response!");return{items:e.entity.map(ri),offset:t||0,limit:e.entity.length,totalLength:null!==(n=null===(r=e.header)||void 0===r?void 0:r.totalCount)&&void 0!==n?n:0,unfilteredTotalLength:null!==(i=null===(a=e.header)||void 0===a?void 0:a.totalCount)&&void 0!==i?i:0}}function hi(e){return{type:ke.p.ALBUM,uri:e.link,name:e.name,artist:e.artist&&fi(e.artist),images:Yr(e.covers)}}function yi(e){if(void 0===e.trackMetadata||void 0===e.trackPlayState)throw new Error("Invalid collection cosmos shows response!");return Kr(Kr({},function(e,t){return{type:ke.p.TRACK,uri:e.link,name:e.name,duration:Qr(e.length),album:hi(e.album),artists:e.artist.map(vi),discNumber:e.discNumber,trackNumber:e.trackNumber,isExplicit:e.isExplicit,isPlayable:t.isPlayable,isLocal:e.isLocal,is19PlusOnly:e.is19PlusOnly}}(e.trackMetadata,e.trackPlayState)),{},{addedAt:qr(e.addTime)})}function ki(e){var t,n;if(void 0===e.track||void 0===(null===(t=e.track)||void 0===t?void 0:t.trackMetadata)||void 0===(null===(n=e.track)||void 0===n?void 0:n.trackPlayState))throw new Error("Invalid collection esperanto tracks response!");return function(e){if(void 0===e||void 0===e.trackMetadata)throw new Error("Invalid track data");return{type:ke.p.TRACK,uri:e.trackMetadata.link,name:e.trackMetadata.name,duration:Qr(e.trackMetadata.length),album:hi(e.trackMetadata.album),artists:e.trackMetadata.artist.map(vi),discNumber:e.trackMetadata.discNumber,trackNumber:e.trackMetadata.trackNumber,isExplicit:e.trackMetadata.isExplicit,isPlayable:e.trackMetadata.playable,isLocal:e.trackMetadata.isLocal,is19PlusOnly:e.trackMetadata.is19PlusOnly,addedAt:qr(e.addTime)}}(e.track)}var Ei={policy:{groupIndex:!1,list:{index:!1,addTime:!0,link:!0,name:!0,album:{link:!0,name:!0,artist:{link:!0,name:!0},covers:!0},artists:{link:!0,name:!0},length:!0,discNumber:!0,trackNumber:!0,isExplicit:!0,isLocal:!0,is19PlusOnly:!0,playable:!0}}};function bi(e,t){if(void 0===e.item)throw new Error("Invalid collection cosmos tracks response!");return{items:e.item.map(yi),offset:t||0,limit:e.item.length,totalLength:e.unrangedLength,unfilteredTotalLength:e.unfilteredLength}}function _i(e,t){if(void 0===e.item)throw new Error("Invalid collection esperanto tracks response!");return{items:e.item.map(ki),offset:t||0,limit:e.item.length,totalLength:e.unrangedLength,unfilteredTotalLength:e.unfilteredLength}}function Si(e){var t,n,r,i,a,o,s,l;return{type:ke.p.AUDIOBOOK,uri:null!==(t=null===(n=e.entityInfo)||void 0===n?void 0:n.uri)&&void 0!==t?t:"",name:null!==(r=null===(i=e.entityInfo)||void 0===i?void 0:i.name)&&void 0!==r?r:"",authorName:null!==(a=null===(o=e.book)||void 0===o?void 0:o.authorName)&&void 0!==a?a:"",images:null!==(s=e.entityInfo)&&void 0!==s&&s.imageUri?[{url:e.entityInfo.imageUri}]:[],isLocked:(null===(l=e.book)||void 0===l?void 0:l.access)===Tn.YourLibraryBookExtraInfo_Access.LOCKED}}function wi(e,t){var n,r,i,a;if(void 0===e.entity)throw new Error("Invalid your library esperanto response!");return{items:e.entity.map(Si),offset:t||0,limit:e.entity.length,totalLength:null!==(n=null===(r=e.header)||void 0===r?void 0:r.totalCount)&&void 0!==n?n:0,unfilteredTotalLength:null!==(i=null===(a=e.header)||void 0===a?void 0:a.totalCount)&&void 0!==i?i:0}}var Ni=n(49955),Oi=n(7692),Ci="sp://core-collection";function Ti(e,t){return Ii.apply(this,arguments)}function Ii(){return Ii=(0,o.Z)(l().mark((function e(t,n){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.post("".concat(Ci,"/v1/items"),{items:n});case 2:case"end":return e.stop()}}),e)}))),Ii.apply(this,arguments)}function Ai(e,t){return Pi.apply(this,arguments)}function Pi(){return(Pi=(0,o.Z)(l().mark((function e(t,n){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.add({uris:n});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Di(e,t){return Ri.apply(this,arguments)}function Ri(){return Ri=(0,o.Z)(l().mark((function e(t,n){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.del("".concat(Ci,"/v1/items"),{items:n});case 2:case"end":return e.stop()}}),e)}))),Ri.apply(this,arguments)}function xi(e,t){return Li.apply(this,arguments)}function Li(){return(Li=(0,o.Z)(l().mark((function e(t,n){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.remove({uris:n});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Fi(e,t){return Ui.apply(this,arguments)}function Ui(){return Ui=(0,o.Z)(l().mark((function e(t,n){var r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.post("".concat(Ci,"/v1/contains"),{items:n});case 2:return r=e.sent,e.abrupt("return",r.found||[]);case 4:case"end":return e.stop()}}),e)}))),Ui.apply(this,arguments)}var Zi=n(92510),Mi=n(71538),Bi=n(99161),ji=n(22034),Vi=n(81029),Hi=n(14556);function Gi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Wi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Gi(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var zi={offset:0},Ki="sp://core-collection";function Yi(e){return e?"&start=".concat(e):""}function qi(e){return e?"&length=".concat(e):""}function Qi(e){var t="".concat(Ki,"/unstable/@/list/tracks"),n="?responseFormat=protobufJson",r=he().from(e);return(null==r?void 0:r.type)===he().Type.ARTIST?"".concat(t,"/artist/").concat(r.getBase62Id()).concat(n):(null==r?void 0:r.type)===he().Type.ALBUM?"".concat(t,"/album/").concat(r.getBase62Id()).concat(n):"".concat(t,"/all").concat(n)}var Ji={episodePolicy:{link:!0,length:!0,name:!0,manifestId:!0,previewId:!0,previewManifestId:!0,description:!0,publishDate:!0,covers:!0,freezeFrames:!0,language:!0,available:!0,mediaTypeEnum:!0,number:!0,backgroundable:!0,isExplicit:!0,type:!0,isMusicAndTalk:!0,is19PlusOnly:!0,isBookChapter:!0,extension:[ji.ExtensionKind.PODCAST_SUBSCRIPTIONS]},showPolicy:{name:!0,link:!0,description:!0,publisher:!0,covers:!0,language:!0,isExplicit:!0,mediaTypeEnum:!0},collectionPolicy:{isFollowingShow:!0,isInListenLater:!0,isNew:!0},syncPolicy:{offline:!0,syncProgress:!0},playedStatePolicy:{timeLeft:!0,isPlayed:!0,playable:!0,playabilityRestriction:!0,lastPlayedAt:!0}},Xi=function(){function e(t,n,r){(0,h.Z)(this,e),(0,a.Z)(this,"_cache",new Map),this._cosmos=t,this._listen_later_service_client=n,this._your_library_service_client=r,this._events=new Ln(this._cosmos,this._listen_later_service_client,this._cache)}var t,n,r,i,s,c,u,d,m,p,f;return(0,y.Z)(e,[{key:"getCapabilities",value:function(){return{canSort:!0,canFilter:!0,canModifyOffline:!0,canGetTracksByArtistOrAlbum:!0,canMarkEpisodesAsDone:!0,canFetchAllTracks:!0,canFetchArtistsWithOffset:!0}}},{key:"getAlbums",value:(f=(0,o.Z)(l().mark((function e(){var t,n,r,i,a,o,s=arguments;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=s.length>0&&void 0!==s[0]?s[0]:zi,n=t.sort,r=t.filter,i=t.offset,a=t.limit,void 0===i||"number"==typeof i){e.next=4;break}throw new Error("Invalid offset! Expected a number.");case 4:return e.t0=wn.HM,e.next=7,this._cosmos.get(["".concat(Ki,"/unstable/@/list/albums/all?responseFormat=protobufJson"),(0,Ni.yP)(n),(0,Oi.Qu)((0,Zi.cj)(r)),Yi(i),qi(a)].join(""),ei);case 7:return e.t1=e.sent,o=e.t0.fromJSON.call(e.t0,e.t1),e.abrupt("return",ti(o,i));case 10:case"end":return e.stop()}}),e,this)}))),function(){return f.apply(this,arguments)})},{key:"getArtists",value:(p=(0,o.Z)(l().mark((function e(){var t,n,r,i,a,o,s=arguments;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=s.length>0&&void 0!==s[0]?s[0]:zi,n=t.sort,r=t.filter,i=t.offset,a=t.limit,void 0===i||"number"==typeof i){e.next=4;break}throw new Error("Invalid offset! Expected a number.");case 4:return e.t0=Nn.HM,e.next=7,this._cosmos.get(["".concat(Ki,"/unstable/@/list/artists/all?responseFormat=protobufJson"),(0,Ni.Co)(n),(0,Oi.Qu)((0,Zi.cj)(r)),Yi(i),qi(a)].join(""),ii);case 7:return e.t1=e.sent,o=e.t0.fromJSON.call(e.t0,e.t1),e.abrupt("return",oi(o,i));case 10:case"end":return e.stop()}}),e,this)}))),function(){return p.apply(this,arguments)})},{key:"getTracks",value:(m=(0,o.Z)(l().mark((function e(){var t,n,r,i,a,o,s,c=arguments;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=c.length>0&&void 0!==c[0]?c[0]:zi,n=t.sort,r=t.filter,i=t.offset,a=t.limit,void 0===i||"number"==typeof i){e.next=4;break}throw new Error("Invalid offset! Expected a number.");case 4:return o=Qi(t.uri),e.t0=Cn.HM,e.next=8,this._cosmos.get([o,(0,Ni.Qu)(n),(0,Oi.Qu)((0,Zi.cj)(r)),Yi(i),qi(a)].join(""),Ei);case 8:return e.t1=e.sent,s=e.t0.fromJSON.call(e.t0,e.t1),e.abrupt("return",bi(s,i));case 11:case"end":return e.stop()}}),e,this)}))),function(){return m.apply(this,arguments)})},{key:"getShows",value:(d=(0,o.Z)(l().mark((function e(){var t,n,r,i,a,o,s=arguments;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=s.length>0&&void 0!==s[0]?s[0]:zi,n=t.sort,r=t.filter,i=t.offset,a=t.limit,void 0===i||"number"==typeof i){e.next=4;break}throw new Error("Invalid offset! Expected a number.");case 4:return e.t0=On.HM,e.next=7,this._cosmos.get(["".concat(Ki,"/unstable/@/list/shows/all?responseFormat=protobufJson"),(0,Ni.eY)(n),(0,Oi.Qu)((0,Zi.cj)(r)),Yi(i),qi(a)].join(""),ci);case 7:return e.t1=e.sent,o=e.t0.fromJSON.call(e.t0,e.t1),e.abrupt("return",ui(o,i));case 10:case"end":return e.stop()}}),e,this)}))),function(){return d.apply(this,arguments)})},{key:"getEpisodes",value:(u=(0,o.Z)(l().mark((function e(){var t,n,r,i,a,o,s=arguments;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=s.length>0&&void 0!==s[0]?s[0]:zi,n=t.sort,r=t.filter,i=t.offset,a=t.limit,void 0===i||"number"==typeof i){e.next=4;break}throw new Error("Invalid offset! Expected a number.");case 4:return e.next=6,this._listen_later_service_client.episodes(Pn.ListenLaterGetEpisodesRequest.fromPartial(Wi(Wi({},Ji),{},{sort:(0,Ni.G9)(n),filter:(0,Oi.Yo)((0,Zi.cj)(r)),start:i,length:a})));case 6:return o=e.sent,e.abrupt("return",pi(o,i));case 8:case"end":return e.stop()}}),e,this)}))),function(){return u.apply(this,arguments)})},{key:"getBooks",value:(c=(0,o.Z)(l().mark((function e(){var t,n,r,i,a,o,s=arguments;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=s.length>0&&void 0!==s[0]?s[0]:zi,n=t.filter,r=t.sort,i=t.offset,a=t.limit,void 0===i||"number"==typeof i){e.next=4;break}throw new Error("Invalid offset! Expected a number.");case 4:return e.next=6,this._your_library_service_client.all(Vi.N6.fromPartial({header:{totalCount:!0,skip:i,length:a,filters:{filter:[Hi.YourLibraryFilters_Filter.BOOK]},textFilter:(0,Oi.Vp)((0,Zi.cj)(n)),sortOrder:{sortOrder:(0,Ni.Tk)(r)}}}));case 6:return o=e.sent,e.abrupt("return",wi(o,i));case 8:case"end":return e.stop()}}),e,this)}))),function(){return c.apply(this,arguments)})},{key:"getEvents",value:function(){return this._events}},{key:"add",value:(s=(0,o.Z)(l().mark((function e(){var t,n,r,i=arguments;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=i.length,n=new Array(t),r=0;r<t;r++)n[r]=i[r];if(!this._events.emitOperationSync(In.pT.ADD,n)){e.next=3;break}return e.abrupt("return");case 3:if(e.prev=3,this._events.emitUpdateItems(n,!0),(0,Mi.Nl)(n).type!==he().Type.EPISODE){e.next=11;break}return e.next=9,Ai(this._listen_later_service_client,n);case 9:e.next=13;break;case 11:return e.next=13,Ti(this._cosmos,n);case 13:this._events.emitOperationComplete(In.pT.ADD,n),e.next=21;break;case 16:throw e.prev=16,e.t0=e.catch(3),this._events.emitUpdateItems(n,!1),this._events.emitOperationComplete(In.pT.ADD,n,e.t0 instanceof Error?e.t0:new Error("Unknown error object")),e.t0;case 21:case"end":return e.stop()}}),e,this,[[3,16]])}))),function(){return s.apply(this,arguments)})},{key:"remove",value:(i=(0,o.Z)(l().mark((function e(){var t,n,r,i=arguments;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=i.length,n=new Array(t),r=0;r<t;r++)n[r]=i[r];if(!this._events.emitOperationSync(In.pT.REMOVE,n)){e.next=3;break}return e.abrupt("return");case 3:if(e.prev=3,this._events.emitUpdateItems(n,!1),(0,Mi.Nl)(n).type!==he().Type.EPISODE){e.next=11;break}return e.next=9,xi(this._listen_later_service_client,n);case 9:e.next=13;break;case 11:return e.next=13,Di(this._cosmos,n);case 13:this._events.emitOperationComplete(In.pT.REMOVE,n),e.next=21;break;case 16:throw e.prev=16,e.t0=e.catch(3),this._events.emitUpdateItems(n,!0),this._events.emitOperationComplete(In.pT.REMOVE,n,e.t0 instanceof Error?e.t0:new Error("Unknown error object")),e.t0;case 21:case"end":return e.stop()}}),e,this,[[3,16]])}))),function(){return i.apply(this,arguments)})},{key:"contains",value:(r=(0,o.Z)(l().mark((function e(){var t,n,r,i,a=arguments;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=a.length,n=new Array(t),r=0;r<t;r++)n[r]=a[r];return e.next=3,Fi(this._cosmos,n);case 3:return i=e.sent,this._events.emitUpdateItems(n,i),e.abrupt("return",i);case 6:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"containsSync",value:function(e){return this._cache.get(e)}},{key:"markAsPlayed",value:(n=(0,o.Z)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._cosmos.del("".concat(Ki,"/unstable/unplayed"),{items:[t]});case 2:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"markAsUnPlayed",value:(t=(0,o.Z)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._cosmos.post("".concat(Ki,"/unstable/unplayed"),{items:[t]});case 2:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),e}();function $i(e,t){return new Xi(e,new Bi.ListenLaterServiceClient(t),new Vi.Pn(t))}var ea=n(1245);function ta(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function na(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ta(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ta(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ra={offset:0},ia="sp://core-collection",aa={episodePolicy:{link:!0,length:!0,name:!0,manifestId:!0,previewId:!0,previewManifestId:!0,description:!0,publishDate:!0,covers:!0,freezeFrames:!0,language:!0,available:!0,mediaTypeEnum:!0,number:!0,backgroundable:!0,isExplicit:!0,type:!0,isMusicAndTalk:!0,is19PlusOnly:!0,isBookChapter:!0,extension:[ji.ExtensionKind.PODCAST_SUBSCRIPTIONS]},showPolicy:{name:!0,link:!0,description:!0,publisher:!0,covers:!0,language:!0,isExplicit:!0,mediaTypeEnum:!0},collectionPolicy:{isFollowingShow:!0,isInListenLater:!0,isNew:!0},syncPolicy:{offline:!0,syncProgress:!0},playedStatePolicy:{timeLeft:!0,isPlayed:!0,playable:!0,playabilityRestriction:!0,lastPlayedAt:!0}},oa=function(){function e(t,n,r,i){(0,h.Z)(this,e),(0,a.Z)(this,"_cache",new Map),this._cosmos=t,this._listen_later_service_client=n,this._your_library_service_client=r,this._collection_service_client=i,this._events=new Ln(this._cosmos,this._listen_later_service_client,this._cache)}var t,n,r,i,s,c,u,d,m,p,f;return(0,y.Z)(e,[{key:"getCapabilities",value:function(){return{canSort:!0,canFilter:!0,canModifyOffline:!0,canGetTracksByArtistOrAlbum:!0,canMarkEpisodesAsDone:!0,canFetchAllTracks:!0,canFetchArtistsWithOffset:!0}}},{key:"getAlbums",value:(f=(0,o.Z)(l().mark((function e(){var t,n,r,i,a,o,s=arguments;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=s.length>0&&void 0!==s[0]?s[0]:ra,n=t.sort,r=t.filter,i=t.offset,a=t.limit,void 0===i||"number"==typeof i){e.next=4;break}throw new Error("Invalid offset! Expected a number.");case 4:return e.next=6,this._your_library_service_client.all(Vi.N6.fromPartial({header:{totalCount:!0,skip:i,length:a,filters:{filter:[Hi.YourLibraryFilters_Filter.ALBUM]},textFilter:(0,Oi.Vp)((0,Zi.cj)(r)),sortOrder:{sortOrder:(0,Ni.y0)(n)}}}));case 6:return o=e.sent,e.abrupt("return",ni(o,i));case 8:case"end":return e.stop()}}),e,this)}))),function(){return f.apply(this,arguments)})},{key:"getArtists",value:(p=(0,o.Z)(l().mark((function e(){var t,n,r,i,a,o,s=arguments;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=s.length>0&&void 0!==s[0]?s[0]:ra,n=t.sort,r=t.filter,i=t.offset,a=t.limit,void 0===i||"number"==typeof i){e.next=4;break}throw new Error("Invalid offset! Expected a number.");case 4:return e.next=6,this._your_library_service_client.all(Vi.N6.fromPartial({header:{totalCount:!0,skip:i,length:a,filters:{filter:[Hi.YourLibraryFilters_Filter.ARTIST]},textFilter:(0,Oi.Vp)((0,Zi.cj)(r)),sortOrder:{sortOrder:(0,Ni.AV)(n)}}}));case 6:return o=e.sent,e.abrupt("return",gi(o,i));case 8:case"end":return e.stop()}}),e,this)}))),function(){return p.apply(this,arguments)})},{key:"getTracks",value:(m=(0,o.Z)(l().mark((function e(){var t,n,r,i,a,o,s,c,u,d,m=arguments;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=m.length>0&&void 0!==m[0]?m[0]:ra,i=r.sort,a=r.filter,o=r.offset,s=r.limit,c=r.uri,void 0===o||"number"==typeof o){e.next=4;break}throw new Error("Invalid offset! Expected a number.");case 4:if(u=ea.ow.fromPartial({trackPolicy:{collectionPolicy:{isInCollection:!0},trackPolicy:{link:!0,name:!0,playable:!0,length:!0,trackNumber:!0,discNumber:!0,isExplicit:!0,is19PlusOnly:!0},albumPolicy:{decorated:!0,albumPolicy:{link:!0,name:!0,covers:!0}},artistPolicy:{name:!0,link:!0}},addTime:!0,start:o,length:s,filter:(0,Oi.Yo)((0,Zi.cj)(a)),sort:i?(0,Ni.KO)(i):"",id:c?null===(t=he().from(c))||void 0===t?void 0:t.getBase62Id():void 0}),(null===(n=he().from(c))||void 0===n?void 0:n.type)!==he().Type.ARTIST){e.next=11;break}return e.next=8,this._collection_service_client.getArtistTrackList(u);case 8:d=e.sent,e.next=14;break;case 11:return e.next=13,this._collection_service_client.getTrackList(u);case 13:d=e.sent;case 14:return e.abrupt("return",_i(d,o));case 15:case"end":return e.stop()}}),e,this)}))),function(){return m.apply(this,arguments)})},{key:"getShows",value:(d=(0,o.Z)(l().mark((function e(){var t,n,r,i,a,o,s=arguments;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=s.length>0&&void 0!==s[0]?s[0]:ra,n=t.sort,r=t.filter,i=t.offset,a=t.limit,void 0===i||"number"==typeof i){e.next=4;break}throw new Error("Invalid offset! Expected a number.");case 4:return e.next=6,this._your_library_service_client.all(Vi.N6.fromPartial({header:{totalCount:!0,skip:i,length:a,filters:{filter:[Hi.YourLibraryFilters_Filter.SHOW]},textFilter:(0,Oi.Vp)((0,Zi.cj)(r)),sortOrder:{sortOrder:(0,Ni.Et)(n)}}}));case 6:return o=e.sent,e.abrupt("return",di(o,i));case 8:case"end":return e.stop()}}),e,this)}))),function(){return d.apply(this,arguments)})},{key:"getEpisodes",value:(u=(0,o.Z)(l().mark((function e(){var t,n,r,i,a,o,s=arguments;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=s.length>0&&void 0!==s[0]?s[0]:ra,n=t.sort,r=t.filter,i=t.offset,a=t.limit,void 0===i||"number"==typeof i){e.next=4;break}throw new Error("Invalid offset! Expected a number.");case 4:return e.next=6,this._listen_later_service_client.episodes(Pn.ListenLaterGetEpisodesRequest.fromPartial(na(na({},aa),{},{sort:(0,Ni.G9)(n),filter:(0,Oi.Yo)((0,Zi.cj)(r)),start:i,length:a})));case 6:return o=e.sent,e.abrupt("return",pi(o,i));case 8:case"end":return e.stop()}}),e,this)}))),function(){return u.apply(this,arguments)})},{key:"getBooks",value:(c=(0,o.Z)(l().mark((function e(){var t,n,r,i,a,o,s=arguments;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=s.length>0&&void 0!==s[0]?s[0]:ra,n=t.filter,r=t.sort,i=t.offset,a=t.limit,void 0===i||"number"==typeof i){e.next=4;break}throw new Error("Invalid offset! Expected a number.");case 4:return e.next=6,this._your_library_service_client.all(Vi.N6.fromPartial({header:{totalCount:!0,skip:i,length:a,filters:{filter:[Hi.YourLibraryFilters_Filter.BOOK]},textFilter:(0,Oi.Vp)((0,Zi.cj)(n)),sortOrder:{sortOrder:(0,Ni.Tk)(r)}}}));case 6:return o=e.sent,e.abrupt("return",wi(o,i));case 8:case"end":return e.stop()}}),e,this)}))),function(){return c.apply(this,arguments)})},{key:"getEvents",value:function(){return this._events}},{key:"add",value:(s=(0,o.Z)(l().mark((function e(){var t,n,r,i=arguments;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=i.length,n=new Array(t),r=0;r<t;r++)n[r]=i[r];if(!this._events.emitOperationSync(In.pT.ADD,n)){e.next=3;break}return e.abrupt("return");case 3:if(e.prev=3,this._events.emitUpdateItems(n,!0),(0,Mi.Nl)(n).type!==he().Type.EPISODE){e.next=11;break}return e.next=9,Ai(this._listen_later_service_client,n);case 9:e.next=13;break;case 11:return e.next=13,Ti(this._cosmos,n);case 13:this._events.emitOperationComplete(In.pT.ADD,n),e.next=21;break;case 16:throw e.prev=16,e.t0=e.catch(3),this._events.emitUpdateItems(n,!1),this._events.emitOperationComplete(In.pT.ADD,n,e.t0 instanceof Error?e.t0:new Error("Unknown error object")),e.t0;case 21:case"end":return e.stop()}}),e,this,[[3,16]])}))),function(){return s.apply(this,arguments)})},{key:"remove",value:(i=(0,o.Z)(l().mark((function e(){var t,n,r,i=arguments;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=i.length,n=new Array(t),r=0;r<t;r++)n[r]=i[r];if(!this._events.emitOperationSync(In.pT.REMOVE,n)){e.next=3;break}return e.abrupt("return");case 3:if(e.prev=3,this._events.emitUpdateItems(n,!1),(0,Mi.Nl)(n).type!==he().Type.EPISODE){e.next=11;break}return e.next=9,xi(this._listen_later_service_client,n);case 9:e.next=13;break;case 11:return e.next=13,Di(this._cosmos,n);case 13:this._events.emitOperationComplete(In.pT.REMOVE,n),e.next=21;break;case 16:throw e.prev=16,e.t0=e.catch(3),this._events.emitUpdateItems(n,!0),this._events.emitOperationComplete(In.pT.REMOVE,n,e.t0 instanceof Error?e.t0:new Error("Unknown error object")),e.t0;case 21:case"end":return e.stop()}}),e,this,[[3,16]])}))),function(){return i.apply(this,arguments)})},{key:"contains",value:(r=(0,o.Z)(l().mark((function e(){var t,n,r,i,a=arguments;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=a.length,n=new Array(t),r=0;r<t;r++)n[r]=a[r];return e.next=3,Fi(this._cosmos,n);case 3:return i=e.sent,this._events.emitUpdateItems(n,i),e.abrupt("return",i);case 6:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"containsSync",value:function(e){return this._cache.get(e)}},{key:"markAsPlayed",value:(n=(0,o.Z)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._cosmos.del("".concat(ia,"/unstable/unplayed"),{items:[t]});case 2:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"markAsUnPlayed",value:(t=(0,o.Z)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._cosmos.post("".concat(ia,"/unstable/unplayed"),{items:[t]});case 2:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),e}();function sa(e,t){return new oa(e,new Bi.ListenLaterServiceClient(t),new Vi.Pn(t),new ea.Ul(t))}var la=n(72131);function ca(e){return{type:ke.p.ARTIST,uri:e.link,name:e.name}}function ua(e){var t,n,r,i,a,o=e.metadata;return{type:ke.p.TRACK,uid:e.rowId,addedAt:(a=e.addTime,new Date(1e3*a)),uri:o.link,name:o.name,album:(n=o.album,{type:ke.p.ALBUM,uri:n.link,name:n.name,artist:n.artist&&ca(n.artist),images:(i=null===(r=n.covers)||void 0===r?void 0:r.standardLink,i?[{url:i,label:"standard"}]:[])}),artists:o.artist.map(ca),discNumber:o.discNumber,trackNumber:o.trackNumber,duration:(t=1e3*o.length,{milliseconds:t}),isExplicit:!1,isLocal:o.isLocal,isPlayable:o.playable,is19PlusOnly:!1}}function da(e){return{path:e.path||null}}var ma=n(81052),pa=n(59916);function fa(e){switch(e){case ma.Y.UNKNOWN:return la.G.UNKNOWN;case ma.Y.ITUNES:return la.G.ITUNES;case ma.Y.DOWNLOADS:return la.G.DOWNLOADS;case ma.Y.MY_MUSIC:return la.G.MY_MUSIC;case ma.Y.WINDOWS_MUSIC_LIBRARY:return la.G.WINDOWS_MUSIC_LIBRARY;case ma.Y.ANDROID_MEDIA_STORE:case ma.Y.UNRECOGNIZED:return la.G.UNRECOGNIZED;default:return(0,Le._)(e),la.G.UNRECOGNIZED}}function va(e){switch(e){case la.G.UNKNOWN:return ma.Y.UNKNOWN;case la.G.ITUNES:return ma.Y.ITUNES;case la.G.DOWNLOADS:return ma.Y.DOWNLOADS;case la.G.MY_MUSIC:return ma.Y.MY_MUSIC;case la.G.WINDOWS_MUSIC_LIBRARY:return ma.Y.WINDOWS_MUSIC_LIBRARY;case la.G.UNRECOGNIZED:return ma.Y.UNRECOGNIZED;default:return(0,Le._)(e),ma.Y.UNRECOGNIZED}}var ga=function(e){var t=(null==e?void 0:e.order)===pa.As.DESC?1:0;switch(null==e?void 0:e.field){case pa.bD.TITLE:return ma.uh.NAME_ASC+t;case pa.bD.ADDED_AT:return ma.uh.ADD_TIME_ASC+t;case pa.bD.ALBUM:return ma.uh.ALBUM_NAME_ASC+t;case pa.bD.ARTIST:return ma.uh.ARTIST_NAME_ASC+t;case pa.bD.DURATION:return ma.uh.LENGTH_ASC+t;default:return ma.uh.NO_SORT}};function ha(e){switch(e){case ma.g1.NOT_FOUND:throw new Error("Error adding local files folder: Path not found!");case ma.g1.UNKNOWN:case ma.g1.UNRECOGNIZED:throw new Error("Error adding local files folder!");case ma.g1.SUCCESS:case ma.g1.NOT_CHANGED:return Promise.resolve();default:return(0,Le.U)(e)}}var ya={rowId:!0,addTime:!0,track:{link:!0,name:!0,discNumber:!0,trackNumber:!0,length:!0,isLocal:!0,playable:!0,hasLyrics:!1,is19PlusOnly:!1,isAvailableInMetadataCatalogue:!1,isExplicit:!1,isPremiumOnly:!1,locallyPlayable:!1,playableLocalTrack:!1,playableTrackLink:!1,popularity:!1,previewId:!1,trackDescriptors:!1},album:{album:{link:!0,name:!0,covers:!0,copyrights:!1,isPremiumOnly:!1,numDiscs:!1,numTracks:!1,playability:!1,year:!1},artist:{link:!0,name:!0,isVariousArtists:!1,portraits:!1}},artist:{link:!0,name:!0,isVariousArtists:!1,portraits:!1},addedBy:void 0,canAddToCollection:!1,canBan:!1,displayCovers:!1,formatListAttributes:!1,inCollection:!1,isBanned:!1,localFile:!1,offline:!1},ka=function(){function e(t,n){(0,h.Z)(this,e),this._cosmos=n,this._client=new ma._X(t)}var t,n,r,i,a,s;return(0,y.Z)(e,[{key:"getCapabilities",value:function(){return{canSort:!0,canFilter:!0,canFetchAllTracks:!0}}},{key:"browseForFolder",value:(s=(0,o.Z)(l().mark((function e(){var t;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._cosmos.post("sp://desktop/v1/browse_for_folder");case 2:return t=e.sent,e.abrupt("return",da(t));case 4:case"end":return e.stop()}}),e,this)}))),function(){return s.apply(this,arguments)})},{key:"getSources",value:(a=(0,o.Z)(l().mark((function e(){var t;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._client.getSources({});case 2:return t=e.sent,e.abrupt("return",{defaultSources:t.defaultSources.map((function(e){return{enabled:e.enabled,id:fa(e.id)}})),folders:t.folders});case 4:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"addFolder",value:(i=(0,o.Z)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._client.addFolder({path:t.path});case 2:ha(e.sent.result);case 4:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})},{key:"removeFolder",value:(r=(0,o.Z)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._client.removeFolder({path:t.path});case 2:ha(e.sent.result);case 4:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"mutateDefaultSource",value:(n=(0,o.Z)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._client.mutateDefaultSource({id:va(t.id),enabled:t.enabled});case 2:ha(e.sent.result);case 4:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"getTracks",value:(t=(0,o.Z)(l().mark((function e(t,n){var r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._client.getTracks({query:{sortBy:ga(t),textFilter:null!=n?n:"",range:void 0,minLength:0,removeDuplicateLinks:!1},policy:ya});case 2:if(void 0===(r=e.sent).data){e.next=5;break}return e.abrupt("return",r.data.item.map(ua));case 5:return e.abrupt("return",[]);case 6:case"end":return e.stop()}}),e,this)}))),function(e,n){return t.apply(this,arguments)})}]),e}(),Ea=n(57891),ba=n(16973),_a=n(91042),Sa=n(70167),wa=n(34882),Na=n(26482),Oa=n(75549),Ca=n(56705);function Ta(e,t,n){var r=[];return(0,Oa.V4)((function(n){r.forEach((function(e){return e.cancel()})),r=[];var i=function(e,t){var r;return null===(r=n.get(e))||void 0===r?void 0:r.forEach((function(e){return e(t)}))};(0,Ca.s)(Array.from(n.keys()),(function(t){return r.push(e(t,i))}),t)}),n)}var Ia,Aa=n(69675);function Pa(e,t){if("spotify:user:@:collection:your-episodes"===t)return t;t=t.split(":").map((function(e){return encodeURIComponent(e)})).join(":");var n=he().from(t);if(null===n)throw new Error('URI "'.concat(t,'" is invalid!'));switch(n.type){case he().Type.TRACK:case he().Type.LOCAL:case he().Type.EPISODE:case he().Type.SHOW:case he().Type.PLAYLIST:case he().Type.PLAYLIST_V2:case he().Type.COLLECTION:case he().Type.COLLECTION_ALBUM:case he().Type.COLLECTION_ARTIST:return t;case he().Type.ALBUM:return he().collectionAlbumURI(e,n.getBase62Id()).toURI();case he().Type.ARTIST:return he().collectionArtistURI(e,n.getBase62Id()).toURI();default:throw new Error('URI "'.concat(t,'" is not supported!'))}}function Da(e){if("spotify:user:@:collection:your-episodes"===e)return e;var t=he().from(e);if(null===t)throw new Error('URI "'.concat(e,'" is invalid!'));switch(t.type){case he().Type.ALBUM:case he().Type.ARTIST:case he().Type.TRACK:case he().Type.LOCAL:case he().Type.EPISODE:case he().Type.SHOW:case he().Type.PLAYLIST:case he().Type.PLAYLIST_V2:case he().Type.COLLECTION:return e;case he().Type.COLLECTION_ALBUM:return he().albumURI(t.getBase62Id()).toURI();case he().Type.COLLECTION_ARTIST:return he().artistURI(t.getBase62Id()).toURI();default:throw new Error('URI "'.concat(e,'" is not supported!'))}}function Ra(e){var t=he().from(e);if(null===t)return Ia.UNRECOGNIZED;switch(t.type){case he().Type.ALBUM:case he().Type.ARTIST:case he().Type.SHOW:case he().Type.PLAYLIST:case he().Type.PLAYLIST_V2:case he().Type.COLLECTION:case he().Type.COLLECTION_ALBUM:case he().Type.COLLECTION_ARTIST:return Ia.CONTEXT;case he().Type.TRACK:case he().Type.EPISODE:return Ia.ITEM;default:return Ia.UNRECOGNIZED}}function xa(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t){return he().isEpisode(t)||e?Na.PQ.YES:Na.PQ.NO_PERMISSION}}function La(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,_.Z)(e);if(t){var i=(0,_.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,b.Z)(this,n)}}!function(e){e[e.CONTEXT=0]="CONTEXT",e[e.ITEM=1]="ITEM",e[e.UNRECOGNIZED=2]="UNRECOGNIZED"}(Ia||(Ia={}));var Fa;function Ua(e){switch(e.connection.status){case Fa.ONLINE:return Na.T1.ONLINE;case Fa.OFFLINE:return Na.T1.OFFLINE;case Fa.FORCED_OFFLINE:return Na.T1.FORCED_OFFLINE;case Fa.RECONNECTING:return Na.T1.RECONNECTING;default:return Na.T1.OFFLINE}}function Za(e){var t,n,r=e?parseInt(e.totalTracks,10):0,i=e?parseInt(e.downloadedTracks,10):0;return{syncing:null!==(t=null==e?void 0:e.downloading)&&void 0!==t&&t,percentage:null!==(n=null==e?void 0:e.percentComplete)&&void 0!==n?n:0,totalItems:r,currentItem:Math.min(i+1,r)}}function Ma(e){switch(e){case Sa.Q8.SUCCESS:return Na.jK.SUCCESS;case Sa.Q8.GENERIC:return Na.jK.GENERIC;case Sa.Q8.DISK_FULL:return Na.jK.DISK_FULL;case Sa.Q8.EXPIRED:return Na.jK.EXPIRED;case Sa.Q8.TOO_MANY_TRACKS:return Na.jK.TOO_MANY_TRACKS;case Sa.Q8.NOT_ALLOWED:return Na.jK.NOT_ALLOWED;case Sa.Q8.CONNECTION_DISABLED:return Na.jK.CONNECTION_DISABLED;case Sa.Q8.DEVICE_LIMIT_REACHED:return Na.jK.DEVICE_LIMIT_REACHED;case Sa.Q8.UNRECOGNIZED:default:return Na.jK.UNRECOGNIZED}}!function(e){e.ONLINE="online",e.OFFLINE="offline",e.FORCED_OFFLINE="forced_offline",e.RECONNECTING="reconnecting"}(Fa||(Fa={}));var Ba=function(e){(0,E.Z)(n,e);var t=La(n);function n(e,r,i,a,o){var s;return(0,h.Z)(this,n),(s=t.call(this))._username=e,s._cosmos=r,s._offline=i,s._productState=a,s._cache=o,s.setupConnectivityEvents(),s.setupErrorEvents(),s.setupCapabilitiesEvents(),s.setupTotalProgressEvents(),s.setupContextProgressEvents(),s.setupContextAndItemAvailabilityEvents(),s}return(0,y.Z)(n,[{key:"setupConnectivityEvents",value:function(){var e=this,t=0,n=null;this.onAddListener(Aa.X.UPDATE_CONNECTIVITY,(function(){1==++t&&(n=e._cosmos.sub("sp://connectivity-manager/v1/connection",(function(t){return e.emit(Aa.X.UPDATE_CONNECTIVITY,{connectivity:Ua(t)})})))})),this.onRemoveListener(Aa.X.UPDATE_CONNECTIVITY,(function(){var e;0==--t&&(null===(e=n)||void 0===e||e.cancel(),n=null)}))}},{key:"setupErrorEvents",value:function(){var e=this,t=0,n=null;this.onAddListener(Aa.X.ERROR,(function(){1==++t&&(n=e._offline.subscribeError({},(function(t){var n=t.code;return e.emit(Aa.X.ERROR,{code:Ma(n)})})))})),this.onRemoveListener(Aa.X.ERROR,(function(){var e;0==--t&&(null===(e=n)||void 0===e||e.cancel(),n=null)}))}},{key:"setupCapabilitiesEvents",value:function(){var e=this,t=0,n=null;this.onAddListener(Aa.X.UPDATE_CAPABILITIES,(function(){1==++t&&(n=e._productState.subValues({},(function(t){var n=t.pairs;e.emit(Aa.X.UPDATE_CAPABILITIES,{capabilites:{canDownload:xa("1"===n.offline)}})})))})),this.onRemoveListener(Aa.X.UPDATE_CAPABILITIES,(function(){var e;0==--t&&(null===(e=n)||void 0===e||e.cancel(),n=null)}))}},{key:"setupTotalProgressEvents",value:function(){var e=this,t=0,n=null;this.onAddListener(Aa.X.UPDATE_TOTAL_PROGRESS,(function(){1==++t&&(n=e._offline.subscribeTotalProgress({},(function(t){var n=t.progress;return e.emit(Aa.X.UPDATE_TOTAL_PROGRESS,{progress:Za(n)})})))})),this.onRemoveListener(Aa.X.UPDATE_TOTAL_PROGRESS,(function(){var e;0==--t&&(null===(e=n)||void 0===e||e.cancel(),n=null)}))}},{key:"setupContextProgressEvents",value:function(){var e=this,t=Ta((function(t,n){return e._offline.subscribeContextsProgress({uris:t},(function(e){return e.progresses.forEach((function(e){return n(e.uri,e)}))}))}),100),n=function(t){e.emit(Aa.X.UPDATE_CONTEXT_PROGRESS,{uri:Da(t.uri),progress:Za(t.progress)})},r={};this.onAddListener(Aa.X.UPDATE_CONTEXT_PROGRESS,(function(i){var a=Pa(e._username,i.data.options.uri);r[a]||(r[a]=0),1==++r[a]&&t.subscribe(Pa(e._username,i.data.options.uri),n)})),this.onRemoveListener(Aa.X.UPDATE_CONTEXT_PROGRESS,(function(i){var a=Pa(e._username,i.data.options.uri);r[a]||(r[a]=0),0==--r[a]&&t.unsubscribe(Pa(e._username,i.data.options.uri),n)}))}},{key:"setupContextAndItemAvailabilityEvents",value:function(){var e,t=this,n=Ta((function(e,n){return t._offline.subscribeContexts({uris:e},(function(e){return e.contexts.forEach((function(e){void 0!==e.context&&n(e.context.uri,e.context)}))}))}),100),r=Ta((function(e,n){return t._offline.subscribeItems({uris:e},(function(e){return e.items.forEach((function(e){return n(e.uri,e)}))}))}),100),i=function(e){var n=Da(e.uri),r=function(e){switch(e.state){case Sa.sK.DOWNLOADED:return Na.Om.YES;case Sa.sK.DOWNLOADING:return Na.Om.DOWNLOADING;case Sa.sK.WAITING:case Sa.sK.REQUESTED:return Na.Om.WAITING;case Sa.sK.NOT_DOWNLOADED:case Sa.sK.ERROR:case Sa.sK.UNRECOGNIZED:default:return Na.Om.NO}}(e);t._cache.set(n,r),t.emit(Aa.X.UPDATE_AVAILABILITY,{uri:n,availability:r})},o=function(e){var n=Da(e.uri),r=function(e){switch(e.state){case Sa.Jt.DOWNLOADED:return Na.Om.YES;case Sa.Jt.DOWNLOADING:return Na.Om.DOWNLOADING;case Sa.Jt.WAITING_FOR_REDOWNLOAD:case Sa.Jt.WAITING:case Sa.Jt.WAITING_LIMIT_EXCEEDED:return Na.Om.WAITING;case Sa.Jt.NOT_DOWNLOADED:case Sa.Jt.ERROR:case Sa.Jt.DOWNLOADED_EXPIRED:case Sa.Jt.UNRECOGNIZED:default:return Na.Om.NO}}(e);t._cache.set(n,r),t.emit(Aa.X.UPDATE_AVAILABILITY,{uri:n,availability:r})},s=(e={},(0,a.Z)(e,Ia.CONTEXT,{}),(0,a.Z)(e,Ia.ITEM,{}),e);this.onAddListener(Aa.X.UPDATE_AVAILABILITY,(function(e){var a,l=Pa(t._username,e.data.options.uri),c=Ra(l);c!==Ia.UNRECOGNIZED&&((a=s[c])[l]||(a[l]=0),1==++s[c][l]&&(c===Ia.CONTEXT?n.subscribe(l,i):c===Ia.ITEM&&r.subscribe(l,o)))})),this.onRemoveListener(Aa.X.UPDATE_AVAILABILITY,(function(e){var a,l=Pa(t._username,e.data.options.uri),c=Ra(l);c!==Ia.UNRECOGNIZED&&((a=s[c])[l]||(a[l]=0),0==--s[c][l]&&(delete s[c][l],c===Ia.CONTEXT?n.unsubscribe(l,i):c===Ia.ITEM&&r.unsubscribe(l,o)))}))}}]),n}(Aa.N);function ja(e){var t=e.entityInfo;if(void 0===t)return null;var n=he().from(t.uri);if(null===n)return null;switch(n.type){case he().Type.ARTIST:case he().Type.COLLECTION_ARTIST:return function(e){return{type:ke.p.ARTIST,uri:Da(e.uri),name:e.name,images:[{url:e.imageUri,label:"standard"}]}}(t);case he().Type.ALBUM:case he().Type.COLLECTION_ALBUM:return function(e,t){var n,r;return{type:ke.p.ALBUM,uri:Da(e.uri),name:e.name,artists:[{type:ke.p.ARTIST,uri:null!==(n=null==t?void 0:t.artistUri)&&void 0!==n?n:"",name:null!==(r=null==t?void 0:t.artistName)&&void 0!==r?r:""}],images:[{url:e.imageUri,label:"standard"}]}}(t,e.album);case he().Type.SHOW:return function(e,t){var n;return{type:ke.p.SHOW,uri:e.uri,name:e.name,publisher:null!==(n=null==t?void 0:t.creatorName)&&void 0!==n?n:"",images:[{url:e.imageUri,label:"standard"}]}}(t,e.show);case he().Type.PLAYLIST:case he().Type.PLAYLIST_V2:return function(e,t){var n;return{type:ke.p.PLAYLIST,uri:e.uri,name:e.name,creatorName:null!==(n=null==t?void 0:t.creatorName)&&void 0!==n?n:"",images:[{url:e.imageUri,label:"standard"}]}}(t,e.playlist);case he().Type.COLLECTION:return function(e){return{type:e.uri.endsWith("your-episodes")?ke.p.YOUR_EPISODES:ke.p.LIKED_SONGS,uri:e.uri}}(t);default:return null}}var Va=n(23384),Ha=function(){function e(t,n,r,i,o,s){var l=this;(0,h.Z)(this,e),(0,a.Z)(this,"_cache",new Map),(0,a.Z)(this,"_canDownload",xa()),this._username=t,this._storage=r,this._offline=i,this._yourLibrary=o,this._productState=s,this._events=new Ba(this._username,n,this._offline,this._productState,this._cache),this._events.addListener(Aa.X.UPDATE_CAPABILITIES,(function(e){return l._canDownload=e.data.capabilites.canDownload}))}var t,n,r,i,s,c;return(0,y.Z)(e,[{key:"getCapabilities",value:function(){var e=this;return{canDownload:function(t){return e._canDownload(t)}}}},{key:"getEvents",value:function(){return this._events}},{key:"getDownloads",value:(c=(0,o.Z)(l().mark((function e(){var t;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._yourLibrary.all(Vi.N6.fromPartial({header:{allPlaylists:!0,filters:{filter:[Hi.YourLibraryFilters_Filter.DOWNLOADED]},length:1e3}}));case 2:return t=e.sent,e.abrupt("return",t.entity.map(ja).filter(Va.K));case 4:case"end":return e.stop()}}),e,this)}))),function(){return c.apply(this,arguments)})},{key:"getAvailabilitySync",value:function(e){var t;return null!==(t=this._cache.get(e))&&void 0!==t?t:Na.Om.NO}},{key:"addDownload",value:(s=(0,o.Z)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._offline.addDownload(Sa.db.fromPartial({uri:Pa(this._username,t)}));case 2:case"end":return e.stop()}}),e,this)}))),function(e){return s.apply(this,arguments)})},{key:"removeDownload",value:(i=(0,o.Z)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._offline.removeDownload(Sa.db.fromPartial({uri:Pa(this._username,t)}));case 2:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})},{key:"removeAllDownloads",value:(r=(0,o.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._offline.removeAllDownloads({});case 2:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"removeCache",value:(n=(0,o.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._storage.deleteUnlockedItems({});case 2:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"getStatistics",value:(t=(0,o.Z)(l().mark((function e(){var t;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._storage.getStats({});case 2:return t=e.sent,e.abrupt("return",{currentSizeMB:parseInt(t.currentSize,10),currentLockedSizeMB:parseInt(t.currentLockedSize,10)});case 4:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}]),e}();function Ga(e,t,n){var r=new wa.KQ(n),i=new Sa.BK(n),a=new Vi.Pn(n),o=new p.ProductStateClient(n);return new Ha(e,t,r,i,a,o)}n(9494);var Wa=n(68741),za=n(29403),Ka=n(39275);function Ya(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ya(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ya(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Qa=function(){function e(t,n,r){var i=this;(0,h.Z)(this,e),(0,a.Z)(this,"_info",null),(0,a.Z)(this,"_isLocal",!1),(0,a.Z)(this,"_isAvailable",!1),(0,a.Z)(this,"_volume",-1),this._playbackService=t,this._storageService=n,this._cosmos=r,this._events=new Ka.N,this._playbackService.subPlaybackInfo({},function(){var e=(0,o.Z)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i._info=t,i._events.emit(Ka.r.INFO,t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this._playbackService.subVolume({},(function(e){var t=e.volume;i._volume=t,i.emitVolume()})),this._cosmos.sub("sp://connect/v1",(function(e){var t=e.devices.find((function(e){return e.is_active}));t?(i._isLocal=t.is_self,i._isAvailable=t.supports_volume):(i._isLocal=!1,i._isAvailable=!0),i.emitVolume()}),(function(){}),null,{"include-local-device":"1"})}var t,n,r,i,s,c;return(0,y.Z)(e,[{key:"getCapabilities",value:function(){return{canChangeVolume:!0,canGetPlaybackInfo:!0,canGetFiles:!0}}},{key:"getEvents",value:function(){return this._events}},{key:"getVolume",value:(c=(0,o.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.getVolumeInternal());case 1:case"end":return e.stop()}}),e,this)}))),function(){return c.apply(this,arguments)})},{key:"setVolume",value:(s=(0,o.Z)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._playbackService.setVolume({source:Wa.tp.USER,volume:t});case 1:case"end":return e.stop()}}),e,this)}))),function(e){return s.apply(this,arguments)})},{key:"raiseVolume",value:(i=(0,o.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._playbackService.raiseVolume({source:Wa.tp.USER});case 1:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"lowerVolume",value:(r=(0,o.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._playbackService.lowerVolume({source:Wa.tp.USER});case 1:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"getPlaybackInfo",value:(n=(0,o.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._info);case 1:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"getFiles",value:(t=(0,o.Z)(l().mark((function e(t){var n,r,i=this;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._playbackService.getFiles({uri:t});case 2:if((n=e.sent).status===Wa.ao.GETFILES_OK){e.next=5;break}throw new Error("Failed to get files for URI '".concat(t,"'. Error code: ").concat(n.status));case 5:return e.next=7,Promise.all(n.files.map((function(e){var t=e.fileId;return i._storageService.getFileRanges({fileId:t,realm:za.Realm.STREAM})})));case 7:return r=e.sent,e.abrupt("return",n.files.map((function(e,t){return qa(qa({},e),{},{byteSize:r[t].byteSizeKnown?Number.parseInt(r[t].byteSize,10):-1,byteRanges:r[t].ranges.map((function(e){return{fromByte:Number.parseInt(e.fromByte,10),toByte:Number.parseInt(e.toByte,10)}}))})})));case 9:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"getVolumeInternal",value:function(){return this._isAvailable?this._volume:-1}},{key:"emitVolume",value:function(){this._events.emit(Ka.r.VOLUME,{volume:this.getVolumeInternal(),isLocal:this._isLocal})}}]),e}();function Ja(e,t){var n=new Wa.No(e),r=(0,wa.tu)(e);return new Qa(n,r,t)}var Xa=n(34891),$a="sp://core-playlist/v1";function eo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function to(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eo(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function no(e){return{command_initiated_time:Date.now(),interaction_ids:null!=e&&e.interactionId?[e.interactionId]:[],page_instance_ids:null!=e&&e.pageInstanceId?[e.pageInstanceId]:[]}}function ro(e,t){return io.apply(this,arguments)}function io(){return(io=(0,o.Z)(l().mark((function e(t,n){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.set({entries:(0,a.Z)({},"audio.episode.speed",{number:String(100*n)})});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ao(e){var t,n,r,i,a="".concat("sp://core-collection/unstable","/@/list/tracks"),o="?sort=".concat(encodeURIComponent(null!==(t=null===(n=e.metadata)||void 0===n?void 0:n[Qe.sb.LIST_UTIL_SORT])&&void 0!==t?t:"")),s="&filter=".concat(encodeURIComponent(null!==(r=null===(i=e.metadata)||void 0===i?void 0:i[Qe.sb.LIST_UTIL_FILTER])&&void 0!==r?r:"")),l="".concat(o).concat(s),c=he().from(e.uri);return(null==c?void 0:c.type)===he().Type.COLLECTION_ARTIST?"".concat(a,"/artist/").concat(c.getBase62Id(),"/play").concat(l):(null==c?void 0:c.type)===he().Type.COLLECTION_ALBUM?"".concat(a,"/album/").concat(c.getBase62Id(),"/play").concat(l):"".concat(a,"/all/play").concat(l)}function oo(e,t,n,r){return so.apply(this,arguments)}function so(){return so=(0,o.Z)(l().mark((function e(t,n,r,i){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.post(ao(n),to(to({prepare_play_options:Nt(n,i),play_origin:wt(r)},n.metadata?{context_metadata:n.metadata}:{}),{},{logging_params:no(i.loggingParams)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),so.apply(this,arguments)}function lo(e,t,n,r){return co.apply(this,arguments)}function co(){return co=(0,o.Z)(l().mark((function e(t,n,r,i){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.post("".concat($a,"/playlist/").concat(n.uri,"/play"),to(to({prepare_play_options:Nt(n,i),play_origin:wt(r)},n.metadata?{context_metadata:n.metadata}:{}),{},{logging_params:no(i.loggingParams)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),co.apply(this,arguments)}function uo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function mo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?uo(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function po(e){if(e.error!==ct.a4.OK)throw new Error("Command failed with code '".concat(e.error,"' and reasons '").concat(e.reasons,"'"));return{}}function fo(e){return ct.yb.fromPartial({commandInitiatedTime:{value:"".concat(Date.now())},interactionIds:null!=e&&e.interactionId?[e.interactionId]:void 0,pageInstanceIds:null!=e&&e.pageInstanceId?[e.pageInstanceId]:void 0})}function vo(e,t,n,r){return go.apply(this,arguments)}function go(){return(go=(0,o.Z)(l().mark((function e(t,n,r,i){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.play(ct.l7.fromPartial({preparePlayRequest:ct.vy.fromPartial({context:mt(n),playOrigin:Et(r),options:St(n,i)}),loggingParams:fo(i.loggingParams)})).then(po));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ho(e){return yo.apply(this,arguments)}function yo(){return(yo=(0,o.Z)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.pause(ct.jX.fromPartial({loggingParams:fo()})).then(po));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ko(e){return Eo.apply(this,arguments)}function Eo(){return(Eo=(0,o.Z)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.resume(ct.$5.fromPartial({loggingParams:fo()})).then(po));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bo(e,t,n){return _o.apply(this,arguments)}function _o(){return(_o=(0,o.Z)(l().mark((function e(t,n,r){var i,a;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i={},void 0!==r&&n&&(i.track=null===(a=n.nextTracks.find((function(e){var t,n;return(!r.uid||(null===(t=e.contextTrack)||void 0===t?void 0:t.uid)===r.uid)&&(null===(n=e.contextTrack)||void 0===n?void 0:n.uri)===r.uri})))||void 0===a?void 0:a.contextTrack),e.abrupt("return",t.skipNext(ct.t6.fromPartial(mo(mo({},i),{},{loggingParams:fo()}))).then(po));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function So(e){return wo.apply(this,arguments)}function wo(){return(wo=(0,o.Z)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.skipPrev(ct.n.fromPartial({allowSeeking:!0,loggingParams:fo()})).then(po));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function No(e,t){return Oo.apply(this,arguments)}function Oo(){return Oo=(0,o.Z)(l().mark((function e(t,n){var r,i=arguments;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=i.length>2&&void 0!==i[2]?i[2]:null,e.abrupt("return",t.seekTo(ct.eS.fromPartial({position:Math.floor(n).toString(),relative:ct.RN.BEGINNING,options:{onlyForPlaybackId:null!=r?r:void 0},loggingParams:fo()})).then(po));case 2:case"end":return e.stop()}}),e)}))),Oo.apply(this,arguments)}function Co(e,t){return To.apply(this,arguments)}function To(){return To=(0,o.Z)(l().mark((function e(t,n){var r,i=arguments;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=i.length>2&&void 0!==i[2]?i[2]:null,e.abrupt("return",t.seekTo(ct.eS.fromPartial({position:Math.floor(n).toString(),relative:ct.RN.CURRENT,options:{onlyForPlaybackId:null!=r?r:void 0},loggingParams:fo()})).then(po));case 2:case"end":return e.stop()}}),e)}))),To.apply(this,arguments)}function Io(e,t){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,o.Z)(l().mark((function e(t,n){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.setShufflingContext(ct.ed.fromPartial({shufflingContext:n,loggingParams:fo()})).then(po));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Po(e,t){return Do.apply(this,arguments)}function Do(){return(Do=(0,o.Z)(l().mark((function e(t,n){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.setRepeatingContext(ct.pR.fromPartial({repeatingContext:n,loggingParams:fo()})).then(po));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ro(e,t){return xo.apply(this,arguments)}function xo(){return(xo=(0,o.Z)(l().mark((function e(t,n){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.setRepeatingTrack(ct.HM.fromPartial({repeatingTrack:n,loggingParams:fo()})).then(po));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Lo(e,t,n,r){return Fo.apply(this,arguments)}function Fo(){return(Fo=(0,o.Z)(l().mark((function e(t,n,r,i){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.setQueue(ct.c_.fromPartial({nextTracks:n,prevTracks:r,queueRevision:i,loggingParams:fo()})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Uo(e,t,n,r){return Zo.apply(this,arguments)}function Zo(){return(Zo=(0,o.Z)(l().mark((function e(t,n,r,i){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.updateContext(ct.eB.fromPartial({sessionId:n,context:r,loggingParams:fo(null==i?void 0:i.loggingParams)})).then(po));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}n(26541);var Mo=!1;function Bo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,_.Z)(e);if(t){var i=(0,_.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,b.Z)(this,n)}}var jo=function(e){(0,E.Z)(n,e);var t=Bo(n);function n(e,r){var i;(0,h.Z)(this,n),(i=t.call(this))._client=e;var a=null,o=null;return i._client.getState(ct.o7.fromPartial({prevTracksCap:{value:"0"},nextTracksCap:{value:"".concat(r)}}),(function(e){var t,n,r,s,l,c,u,d,m,p,f,v,g=(t=e,v={timestamp:parseInt(t.timestamp,10),context:{uri:t.contextUri,url:t.contextUrl,metadata:t.contextMetadata},index:{pageURI:null!==(n=t.pageMetadata.page_uri)&&void 0!==n?n:null,pageIndex:void 0!==(null===(r=t.index)||void 0===r?void 0:r.page)?parseInt(null===(s=t.index)||void 0===s?void 0:s.page,10):null,itemIndex:void 0!==(null===(l=t.index)||void 0===l?void 0:l.track)?parseInt(null===(c=t.index)||void 0===c?void 0:c.track,10):null},item:null,shuffle:null,repeat:null,speed:null!==(u=null===(d=t.playbackSpeed)||void 0===d?void 0:d.value)&&void 0!==u?u:null,positionAsOfTimestamp:parseInt(null!==(m=null===(p=t.positionAsOfTimestamp)||void 0===p?void 0:p.value)&&void 0!==m?m:"0",10),duration:void 0!==t.duration?parseInt(t.duration.value,10):null,hasContext:t.isPlaying&&void 0!==t.track,isPaused:t.isPaused,isBuffering:t.isBuffering,restrictions:void 0!==t.restrictions?lt(t.restrictions):ot,previousItems:[],nextItems:[],playbackQuality:void 0!==t.playbackQuality?dt(t.playbackQuality):ut,playbackId:t.playbackId.length>0?(f=t.playbackId,Array.from(f).map((function(e){return e.toString(16).padStart(2,"0")})).join("")):null,sessionId:t.sessionId},void 0!==t.options&&(v.shuffle=t.options.shufflingContext,t.options.repeatingTrack?v.repeat=Qe.zq.REPEAT_TRACK:t.options.repeatingContext?v.repeat=Qe.zq.REPEAT_CONTEXT:v.repeat=Qe.zq.REPEAT_NONE),void 0!==t.track&&void 0!==t.track.contextTrack&&(v.item=at(t.track,t.track.contextTrack)),t.prevTracks.forEach((function(e){e.contextTrack&&v.previousItems.push(at(e,e.contextTrack))})),t.nextTracks.forEach((function(e){e.contextTrack&&v.nextItems.push(at(e,e.contextTrack))})),v);if("0"===e.timestamp)null===o&&(o=setTimeout((function(){i.emit(Xa.rg.UPDATE,g)}),500));else{var h,y,k;if(null!==o&&(clearTimeout(o),o=null),i.emit(Xa.rg.UPDATE,g),null!==a&&function(e,t){var n,r,i,a=e.contextUri===t.contextUri,o=e.sessionId===t.sessionId,s=(r=e.playbackId,i=t.playbackId,r.byteLength===i.byteLength&&r.every((function(e,t){return e===i[t]}))),l=t.isPaused,c="0"===(null===(n=t.positionAsOfTimestamp)||void 0===n?void 0:n.value);return a&&o?(l||(Mo=!0),!s&&Mo&&l&&c):(Mo=!1,!1)}(a,e))i.emit(Xa.rg.CONTEXT_WRAPAROUND,{contextURI:e.contextUri,previousItemURI:null!==(h=null===(y=a.track)||void 0===y||null===(k=y.contextTrack)||void 0===k?void 0:k.uri)&&void 0!==h?h:null});a=e}})),i._client.getError(ct.vf.fromPartial({}),(function(e){i.emit(Xa.rg.ERROR,kt(e))})),i}return(0,y.Z)(n)}(Xa.Bc),Vo=(n(94986),n(5212),n(48993));function Ho(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Go(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ho(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ho(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Wo=function(){function e(t,n,r){var i=this;(0,h.Z)(this,e),(0,a.Z)(this,"_queue",null),this._client=t,this._events=n,this.getRepeatMode=r,this._client.getQueue(ct.as.fromPartial({}),(function(e){i._queue=e,i._queueState=i.convertQueueState(e,i.getRepeatMode()),i._events.emitQueueUpdate(i._queueState)})),this._queueState=(0,Vo.ew)([],this.getRepeatMode())}var t,n,i,s,c;return(0,y.Z)(e,[{key:"convertQueueState",value:function(e,t){var n,i,a,o=null!=e&&e.track&&e.track.contextTrack?at(e.track,e.track.contextTrack):null,s=null!==(n=null===(i=this._queue)||void 0===i||null===(a=i.nextTracks)||void 0===a?void 0:a.filter((function(e){return e.contextTrack})).map((function(e){return at(e,e.contextTrack)})))&&void 0!==n?n:[],l=o?[o].concat((0,r.Z)(s)):s;return(0,Vo.ew)(l,t)}},{key:"isSameItem",value:function(e,t){var n,r,i;return e.uid&&null!==(n=t.contextTrack)&&void 0!==n&&n.uid?e.uid===(null===(i=t.contextTrack)||void 0===i?void 0:i.uid):e.uri===(null===(r=t.contextTrack)||void 0===r?void 0:r.uri)}},{key:"isQueued",value:function(e){return"queue"===e.provider}},{key:"markAsQueued",value:function(e){var t;return ct.L6.fromPartial(Go(Go({},e),{},{contextTrack:ct.nh.fromPartial(Go(Go({},e.contextTrack),{},{metadata:Go(Go({},null===(t=e.contextTrack)||void 0===t?void 0:t.metadata),{},{is_queued:"true"})})),provider:"queue"}))}},{key:"createQueueItem",value:function(e,t){return ct.L6.fromPartial({contextTrack:ct.nh.fromPartial({uri:e.uri,metadata:{is_queued:t.toString()}}),provider:t?"queue":"context"})}},{key:"addToQueue",value:(c=(0,o.Z)(l().mark((function e(t){var n,i,a,o,s=this;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._queue){e.next=2;break}return e.abrupt("return");case 2:return i=t.map((function(e){return s.createQueueItem(e,!0)})),a=(0,r.Z)((null===(n=this._queue)||void 0===n?void 0:n.nextTracks)||[]),o=a.map((function(e){return e.provider})).lastIndexOf("queue"),a.splice.apply(a,[o+1,0].concat((0,r.Z)(i))),e.next=8,Lo(this._client,a,this._queue.prevTracks,this._queue.queueRevision);case 8:case"end":return e.stop()}}),e,this)}))),function(e){return c.apply(this,arguments)})},{key:"removeFromQueue",value:(s=(0,o.Z)(l().mark((function e(t){var n=this;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._queue){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Lo(this._client,this._queue.nextTracks.filter((function(e){return!t.some((function(t){return n.isSameItem(t,e)}))})),this._queue.prevTracks,this._queue.queueRevision);case 4:case"end":return e.stop()}}),e,this)}))),function(e){return s.apply(this,arguments)})},{key:"clearQueue",value:(i=(0,o.Z)(l().mark((function e(){var t=this;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._queue){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Lo(this._client,this._queue.nextTracks.filter((function(e){return!t.isQueued(e)})),this._queue.prevTracks,this._queue.queueRevision);case 4:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"reorderQueue",value:(n=(0,o.Z)(l().mark((function e(t,n){var i,a;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._queue){e.next=2;break}return e.abrupt("return");case 2:return a=(0,r.Z)((null===(i=this._queue)||void 0===i?void 0:i.nextTracks)||[]),e.next=5,Lo(this._client,(0,Vo.iT)(t,a,n,this.isSameItem,this.isQueued,this.markAsQueued),this._queue.prevTracks,this._queue.queueRevision);case 5:case"end":return e.stop()}}),e,this)}))),function(e,t){return n.apply(this,arguments)})},{key:"insertIntoQueue",value:(t=(0,o.Z)(l().mark((function e(t,n){var i,a;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._queue){e.next=2;break}return e.abrupt("return");case 2:return a=(0,r.Z)((null===(i=this._queue)||void 0===i?void 0:i.nextTracks)||[]),e.next=5,Lo(this._client,(0,Vo.LT)(t,a,n,this.isSameItem,this.isQueued,this.createQueueItem),this._queue.prevTracks,this._queue.queueRevision);case 5:case"end":return e.stop()}}),e,this)}))),function(e,n){return t.apply(this,arguments)})},{key:"getQueue",value:function(){return this._queueState}},{key:"getInternalQueue",value:function(){return this._queue}}]),e}(),zo=function(e){return he().isShow(e)};function Ko(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Yo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ko(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ko(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var qo=function(){function e(t,n,r,i){var o=this;(0,h.Z)(this,e),(0,a.Z)(this,"_state",null),(0,a.Z)(this,"forcedShuffle",!1),this._cosmos=t,this._prefs=n,this._contextPlayer=r,this._defaultFeatureVersion=i,this._events=new jo(this._contextPlayer,50),this._queue=new Wo(this._contextPlayer,this._events,(function(){var e,t;return null!==(e=null===(t=o._state)||void 0===t?void 0:t.repeat)&&void 0!==e?e:Qe.zq.REPEAT_NONE})),this._events.addListener(Xa.rg.UPDATE,(function(e){var t=e.data;o._state=t,o.forcedShuffle&&t&&!1===t.shuffle&&t.restrictions.canToggleShuffle&&!zo(t.context.uri)&&o.setShuffle(!0)})),this.referrer="other"}var t,n,r,i,s,c,u,d,m,p,f,v,g,k,E,b,_,S,w,N;return(0,y.Z)(e,[{key:"setDefaultFeatureVersion",value:function(e){void 0===e.featureVersion&&(e.featureVersion=this._defaultFeatureVersion)}},{key:"getCapabilities",value:function(){return{canChangeSpeed:!0,canChangeVolume:!0,canPlayMultipleContextPages:!0,maxNextTracks:50,hasDecoratedQueue:!0}}},{key:"getEvents",value:function(){return this._events}},{key:"getState",value:function(){return this._state}},{key:"getReferrer",value:function(){return this.referrer}},{key:"setReferrer",value:function(e){this.referrer=e}},{key:"play",value:(N=(0,o.Z)(l().mark((function e(t,n){var r,i,a,o,s,c=arguments;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=c.length>2&&void 0!==c[2]?c[2]:{},i=r,this.forcedShuffle&&!zo(t.uri)&&(i=Yo(Yo({},r),{},{shuffle:!0})),!this._events.emitPlaySync(t,n,r)){e.next=5;break}return e.abrupt("return");case 5:if(this.setDefaultFeatureVersion(n),a=he().isPlaylistV1OrV2(t.uri),o=he().isCollection(t.uri)&&!t.uri.endsWith("your-episodes")||he().isCollectionAlbum(t.uri)||he().isCollectionArtist(t.uri),s=!!t.url,!o||s){e.next=14;break}return e.next=12,oo(this._cosmos,t,n,i);case 12:case 17:e.next=21;break;case 14:if(!a||s){e.next=19;break}return e.next=17,lo(this._cosmos,t,n,i);case 19:return e.next=21,vo(this._contextPlayer,t,n,i);case 21:case"end":return e.stop()}}),e,this)}))),function(e,t){return N.apply(this,arguments)})},{key:"pause",value:(w=(0,o.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._events.emitPauseSync()){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,ho(this._contextPlayer);case 4:case"end":return e.stop()}}),e,this)}))),function(){return w.apply(this,arguments)})},{key:"resume",value:(S=(0,o.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._events.emitResumeSync()){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,ko(this._contextPlayer);case 4:case"end":return e.stop()}}),e,this)}))),function(){return S.apply(this,arguments)})},{key:"skipToNext",value:(_=(0,o.Z)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._events.emitSkipToNextSync()){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,bo(this._contextPlayer,this._queue.getInternalQueue(),t);case 4:case"end":return e.stop()}}),e,this)}))),function(e){return _.apply(this,arguments)})},{key:"skipToPrevious",value:(b=(0,o.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._events.emitSkipToPreviousSync()){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,So(this._contextPlayer);case 4:case"end":return e.stop()}}),e,this)}))),function(){return b.apply(this,arguments)})},{key:"seekTo",value:(E=(0,o.Z)(l().mark((function e(t){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,No(this._contextPlayer,t,null!==(n=this._state)&&void 0!==n&&n.playbackId?Ot(this._state.playbackId):null);case 2:case"end":return e.stop()}}),e,this)}))),function(e){return E.apply(this,arguments)})},{key:"seekBy",value:(k=(0,o.Z)(l().mark((function e(t){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Co(this._contextPlayer,t,null!==(n=this._state)&&void 0!==n&&n.playbackId?Ot(this._state.playbackId):null);case 2:case"end":return e.stop()}}),e,this)}))),function(e){return k.apply(this,arguments)})},{key:"seekForward",value:(g=(0,o.Z)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.seekBy(t);case 2:case"end":return e.stop()}}),e,this)}))),function(e){return g.apply(this,arguments)})},{key:"seekBackward",value:(v=(0,o.Z)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.seekBy(-t);case 2:case"end":return e.stop()}}),e,this)}))),function(e){return v.apply(this,arguments)})},{key:"setShuffle",value:(f=(0,o.Z)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Io(this._contextPlayer,this.forcedShuffle||t);case 2:case"end":return e.stop()}}),e,this)}))),function(e){return f.apply(this,arguments)})},{key:"setRepeat",value:(p=(0,o.Z)(l().mark((function e(t){var n,r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=!1,r=!1,e.t0=t,e.next=e.t0===Qe.zq.REPEAT_NONE?5:e.t0===Qe.zq.REPEAT_CONTEXT?8:e.t0===Qe.zq.REPEAT_TRACK?11:14;break;case 5:return n=!1,r=!1,e.abrupt("break",15);case 8:return n=!0,r=!1,e.abrupt("break",15);case 11:return n=!0,r=!0,e.abrupt("break",15);case 14:return e.abrupt("break",15);case 15:return e.next=17,Promise.all([Po(this._contextPlayer,n),Ro(this._contextPlayer,r)]);case 17:case"end":return e.stop()}}),e,this)}))),function(e){return p.apply(this,arguments)})},{key:"setSpeed",value:(m=(0,o.Z)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ro(this._prefs,t);case 2:case"end":return e.stop()}}),e,this)}))),function(e){return m.apply(this,arguments)})},{key:"canPlayEncryptedContent",value:(d=(0,o.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)}))),function(){return d.apply(this,arguments)})},{key:"refreshCurrentContext",value:(u=(0,o.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),function(){return u.apply(this,arguments)})},{key:"updateContext",value:(c=(0,o.Z)(l().mark((function e(t,n,r){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return");case 2:Uo(this._contextPlayer,t,n,r);case 3:case"end":return e.stop()}}),e,this)}))),function(e,t,n){return c.apply(this,arguments)})},{key:"addToQueue",value:(s=(0,o.Z)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._events.emitQueueActionSync(Xa.FE.ADD)){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this._queue.addToQueue(t);case 5:this._events.emitQueueActionComplete(Xa.FE.ADD),e.next=12;break;case 8:throw e.prev=8,e.t0=e.catch(2),this._events.emitQueueActionComplete(Xa.FE.ADD,e.t0 instanceof Error?e.t0:new Error("Unknown error object")),e.t0;case 12:case"end":return e.stop()}}),e,this,[[2,8]])}))),function(e){return s.apply(this,arguments)})},{key:"removeFromQueue",value:(i=(0,o.Z)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._events.emitQueueActionSync(Xa.FE.REMOVE)){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this._queue.removeFromQueue(t);case 5:this._events.emitQueueActionComplete(Xa.FE.REMOVE),e.next=12;break;case 8:throw e.prev=8,e.t0=e.catch(2),this._events.emitQueueActionComplete(Xa.FE.REMOVE,e.t0 instanceof Error?e.t0:new Error("Unknown error object")),e.t0;case 12:case"end":return e.stop()}}),e,this,[[2,8]])}))),function(e){return i.apply(this,arguments)})},{key:"clearQueue",value:(r=(0,o.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._events.emitQueueActionSync(Xa.FE.CLEAR)){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this._queue.clearQueue();case 5:this._events.emitQueueActionComplete(Xa.FE.CLEAR),e.next=12;break;case 8:throw e.prev=8,e.t0=e.catch(2),this._events.emitQueueActionComplete(Xa.FE.CLEAR,e.t0 instanceof Error?e.t0:new Error("Unknown error object")),e.t0;case 12:case"end":return e.stop()}}),e,this,[[2,8]])}))),function(){return r.apply(this,arguments)})},{key:"reorderQueue",value:(n=(0,o.Z)(l().mark((function e(t,n){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._events.emitQueueActionSync(Xa.FE.REORDER)){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this._queue.reorderQueue(t,n);case 5:this._events.emitQueueActionComplete(Xa.FE.REORDER),e.next=12;break;case 8:throw e.prev=8,e.t0=e.catch(2),this._events.emitQueueActionComplete(Xa.FE.REORDER,e.t0 instanceof Error?e.t0:new Error("Unknown error object")),e.t0;case 12:case"end":return e.stop()}}),e,this,[[2,8]])}))),function(e,t){return n.apply(this,arguments)})},{key:"insertIntoQueue",value:(t=(0,o.Z)(l().mark((function e(t,n){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._events.emitQueueActionSync(Xa.FE.INSERT)){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this._queue.insertIntoQueue(t,n);case 5:this._events.emitQueueActionComplete(Xa.FE.INSERT),e.next=12;break;case 8:throw e.prev=8,e.t0=e.catch(2),this._events.emitQueueActionComplete(Xa.FE.INSERT,e.t0 instanceof Error?e.t0:new Error("Unknown error object")),e.t0;case 12:case"end":return e.stop()}}),e,this,[[2,8]])}))),function(e,n){return t.apply(this,arguments)})},{key:"getQueue",value:function(){return this._queue.getQueue()}},{key:"getForcedShuffle",value:function(){return this.forcedShuffle}},{key:"setForcedShuffle",value:function(e){this.forcedShuffle=e}}]),e}();function Qo(e,t,n){return new qo(e,(0,m.makePrefs)(t),new ct.R3(t),n)}var Jo=n(69009),Xo=n.n(Jo),$o=n(36271),es=n(50481),ts=(n(78849),n(93878),n(74514),n(70753),n(44659),n(45690),n(52242),n(52091),n(53131),n(55795),n(15084),n(54918),n(50058),n(80277),n(73933),n(58485),n(95488),n(11076),n(73979),n(94082),n(66982),n(66007),n(3151),n(49816),n(40638),n(83845),n(3854),n(22110),n(76334),n(61634)),ns=n(97908),rs=n(21971),is=n(29173);function as(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function os(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?as(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):as(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ss={},ls={policy:{folder:{rows:!0},playlist:{ownedBySelf:!0},request:ss}},cs={policy:{folder:{addTime:!0,rowId:!0,link:!0,name:!0,rows:!0},playlist:{addTime:!0,allows:{insert:!0,remove:!0},canReportAnnotationAbuse:!0,collaborative:!0,description:!0,duration:!0,formatListAttributes:!0,formatListType:!0,link:!0,loadState:!0,loaded:!0,name:!0,ownedBySelf:!0,owner:{link:!0,name:!0,username:!0},picture:!0,playable:!0,published:!0,rowId:!0,totalLength:!0},request:ss}},us={policy:{addTime:!0,addedBy:{image:!0,link:!0,name:!0,username:!0},album:{artist:{link:!0,name:!0},link:!0,name:!0,covers:!0},artist:{link:!0,name:!0},covers:!0,description:!0,discNumber:!0,formatListAttributes:!0,is19PlusOnly:!0,isExplicit:!0,isLocal:!0,language:!0,length:!0,link:!0,mediaTypeEnum:!0,name:!0,playable:!0,publishDate:!0,rowId:!0,show:{link:!0,name:!0,publisher:!0,covers:!0},trackNumber:!0,extension:[is.ExtensionKind.PODCAST_SUBSCRIPTIONS]}},ds={policy:{playlist:{allows:{insert:!0,remove:!0},canReportAnnotationAbuse:!0,collaborative:!0,containsEpisodes:!0,containsSpotifyTracks:!0,description:!0,duration:!0,followers:!0,formatListAttributes:!0,formatListType:!0,link:!0,madeFor:{image:!0,link:!0,name:!0,username:!0},name:!0,ownedBySelf:!0,owner:{image:!0,link:!0,name:!0,username:!0},picture:!0,playable:!0,published:!0,totalLength:!0,basePermission:!0,userCapabilities:!0,collaboratingUsers:{count:!0,limit:5,collaborator:{user:{username:!0,link:!0,name:!0,image:!0,thumbnail:!0},numberOfItems:!0,numberOfTracks:!0,numberOfEpisodes:!0,isOwner:!0}}},track:us.policy,episode:us.policy}};function ms(e){return void 0===e?[]:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){var t=e.url,n=e.label;return t&&n})).map((function(e){return{url:e.url,label:e.label}}))}({url:e.standardLink,label:"standard"},{url:e.smallLink,label:"small"},{url:e.largeLink,label:"large"},{url:e.xlargeLink,label:"xlarge"},{url:e.imageUri,label:"standard"},{url:e.thumbnailUri,label:"small"})}function ps(e){return new Date(1e3*e)}function fs(e){return{milliseconds:e}}function vs(e){var t,n,r,i;return{isPaywalled:null!==(t=null===(n=e.podcastSubscription)||void 0===n?void 0:n.isPaywalled)&&void 0!==t&&t,isUserSubscribed:null!==(r=null===(i=e.podcastSubscription)||void 0===i?void 0:i.isUserSubscribed)&&void 0!==r&&r}}function gs(e){return{type:ke.p.ARTIST,uri:e.link,name:e.name}}function hs(e){return{type:ke.p.ARTIST,uri:e.link,name:e.name}}function ys(e){return{type:ke.p.ALBUM,uri:e.link,name:e.name,artist:e.artist&&hs(e.artist),images:ms(e.covers)}}function ks(e,t){return{type:ke.p.SHOW,uri:e.link,name:e.name,publisher:e.publisher,images:ms(e.covers),mediaType:t}}function Es(e){var t,n,r,i={id:e.rowId,uid:e.rowId,playIndex:null,addedAt:(t=e.addTime,void 0!==t?ps(t).toISOString():null),addedBy:Ss(e.addedBy),formatListAttributes:ws(e.formatListAttributes)};if(void 0!==e.trackMetadata&&void 0!==e.trackPlayState)return os(os({},i),(n=e.trackMetadata,r=e.trackPlayState,{type:ke.p.TRACK,uri:n.link,name:n.name,album:ys(n.album),artists:n.artist.map(gs),discNumber:n.discNumber,trackNumber:n.trackNumber,duration:fs(1e3*n.length),isExplicit:n.isExplicit,isLocal:n.isLocal,isPlayable:r.isPlayable,is19PlusOnly:n.is19PlusOnly}));if(void 0!==e.episodeMetadata&&void 0!==e.episodePlayState)return os(os({},i),function(e,t){var n,r=Wr(e.extension);return{type:ke.p.EPISODE,uri:e.link,name:e.name,description:e.description,duration:fs(1e3*e.length),timeLeft:fs(1e3*t.timeLeft),images:ms(e.covers),isExplicit:e.isExplicit,isPlayable:t.isPlayable,languages:[e.language],release:(n=e.publishDate,{date:ps(parseInt(n,10)).toISOString(),precision:"day"}),show:ks(e.show,e.mediaTypeEnum),podcastSubscription:vs(r),is19PlusOnly:e.is19PlusOnly}}(e.episodeMetadata,e.episodePlayState));throw new Error("Invalid playlist cosmos response!")}function bs(e,t){if(!e.item)throw new Error("Invalid playlist cosmos response!");return{items:e.item.map((function(e){return Es(e)})),offset:t||0,limit:e.item.length,totalLength:e.unrangedLength}}function _s(e){return{type:ke.p.USER,uri:e.link,username:e.username,displayName:e.displayName,images:ms(e)}}function Ss(e){return void 0===e||""===e.username?null:_s(e)}function ws(e){return e.reduce((function(e,t){return e[t.key]=t.value,e}),{})}function Ns(e){return e.formatListType&&""!==e.formatListType?{type:e.formatListType,attributes:ws(e.formatListAttributes)}:null}function Os(e){return{isOwner:e.isOwner,tracksAdded:e.numberOfItems,user:e.user&&_s(e.user)}}function Cs(e){return{isOwner:e.isOwner,tracksAdded:e.numTracks,user:e.user&&_s(e.user)}}function Ts(e,t){return t&&t.basePermissionLevel!==es.PermissionLevel.CONTRIBUTOR?{count:(null==t?void 0:t.numTotalMembers)||0,items:((null==t?void 0:t.members)||[]).map(Cs)}:{count:(null==e?void 0:e.count)||0,items:((null==e?void 0:e.collaborator)||[]).map(Os)}}function Is(e,t){return{type:ke.p.PLAYLIST,uri:e.link,name:e.name,description:e.description,images:ms(e.pictures),madeFor:Ss(e.madeFor),owner:_s(e.owner),totalLength:e.totalLength,totalLikes:(null==t?void 0:t.totalLikes)||null,duration:null!=t&&t.duration?(o=t.duration,{milliseconds:1e3*parseInt(o,10),isEstimate:!1}):null,isCollaborative:e.collaborative,isLoaded:e.isLoaded,isOwnedBySelf:e.ownedBySelf,isPublished:e.published,hasEpisodes:(null==t?void 0:t.hasEpisodes)||null,hasSpotifyTracks:(null==t?void 0:t.hasSpotifyTracks)||null,canAdd:e.allows.canInsert,canRemove:e.allows.canRemove,canPlay:(null==t?void 0:t.isPlayable)||null,formatListData:Ns(e),canReportAnnotationAbuse:e.canReportAnnotationAbuse,hasDateAdded:(a=e.formatListType,!a||!ns.C.includes(a)),permissions:(n=null==t?void 0:t.userCapabilities,r=null==t?void 0:t.collaborators,i=null==t?void 0:t.basePermission,n||r||i?{canView:!(null==n||!n.canView),canAdministratePermissions:(null==n?void 0:n.canAdministratePermissions)||!1,canCancelMembership:(null==n?void 0:n.canCancelMembership)||!1,isPrivate:(null==i?void 0:i.permissionLevel)===es.PermissionLevel.BLOCKED}:null),collaborators:Ts(null==t?void 0:t.collaborators,null==t?void 0:t.members)};var n,r,i,a,o}function As(e){for(var t=e.item,n=0,i=0;t.length>0;){var a,o,s=t[0];if(s.folder)t.push.apply(t,(0,r.Z)(s.folder.item));else!0===(null===(a=s.playlist)||void 0===a||null===(o=a.playlistMetadata)||void 0===o?void 0:o.ownedBySelf)&&n++,i++;t.shift()}return{ownedPlaylistCount:n,playlistCount:i}}function Ps(e){return"notFound"===e.loadState}function Ds(e){return"forbidden"===e.loadState}function Rs(e){var t=e.playlistMetadata;return Ps(t)||Ds(t)?function(e,t){return{type:"placeholder",id:e.rowId,uid:e.rowId,uri:t.link,addedAt:ps(e.addTime),isNotFound:Ps(t),isForbidden:Ds(t)}}(e,t):os({id:e.rowId,uid:e.rowId,addedAt:ps(e.addTime)},Is(t))}function xs(e,t){var n=e.folderMetadata,r=(e.item||[]).map((function(e){return function(e,t){if(e.folder)return xs(e.folder,t);if(e.playlist)return Rs(e.playlist);throw new Error("Invalid playlist cosmos response!")}(e,t)}));return{type:"folder",id:e.rowId,uid:e.rowId,addedAt:ps(e.addTime),items:r,name:n.name,uri:n.link}}function Ls(e){return e===es.PermissionLevel.BLOCKED?"BLOCKED":e===es.PermissionLevel.CONTRIBUTOR?"CONTRIBUTOR":e===es.PermissionLevel.VIEWER?"VIEWER":"UNKNOWN"}function Fs(e){var t,n,r,i,a;return{canView:null!==(t=null==e?void 0:e.canView)&&void 0!==t&&t,canAdministratePermissions:null!==(n=null==e?void 0:e.canAdministratePermissions)&&void 0!==n&&n,canEditMetadata:null!==(r=null==e?void 0:e.canEditMetadata)&&void 0!==r&&r,canEditItems:null!==(i=null==e?void 0:e.canEditItems)&&void 0!==i&&i,canCancelMembership:null!==(a=null==e?void 0:e.canCancelMembership)&&void 0!==a&&a}}function Us(e){return{isFollowed:e.followState===rs.FollowState.CAN_BE_UNFOLLOWED,isOwner:e.isOwner,permissionLevel:Ls(e.permissionLevel),user:e.user&&_s(e.user),songsAdded:e.numTracks}}function Zs(e){return e.map(Us)}var Ms=n(76460);function Bs(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,_.Z)(e);if(t){var i=(0,_.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,b.Z)(this,n)}}var js=function(e){(0,E.Z)(n,e);var t=Bs(n);function n(e,r,i){var o;return(0,h.Z)(this,n),o=t.call(this),(0,a.Z)((0,k.Z)(o),"_subscriptions",new Map),o._subAggregator=e,o._endpoint=r,o._policy=i,o}return(0,y.Z)(n,[{key:"onBatchChanged",value:function(e){var t=this;this._subscriptions.forEach((function(n,r){e.has(r)||(n.cancel(),t._subscriptions.delete(r))})),e.forEach((function(e,n){t._subscriptions.has(n)||t._subscriptions.set(n,t._subAggregator.sub("".concat(t._endpoint,"/").concat(encodeURIComponent(n),"?start=0&length=0&updateOnIdenticalResponse=true"),Se((function(){t.emit(ts.XL.UPDATE,{uri:n})}))(100,true),(function(){}),t._policy))}))}}]),n}(Ms.n);var Vs=n(32242),Hs=n(20321),Gs=(n(70189),n(96799));function Ws(e){console.error(e)}var zs=function(){function e(t){(0,h.Z)(this,e),(0,a.Z)(this,"_subscriptions",new Set),this._cosmos=t,this._aggregator=(0,Oa.V4)(this.onBatchChanged.bind(this))}return(0,y.Z)(e,[{key:"onBatchChanged",value:function(e){var t=this;this._subscriptions.forEach((function(e){return e.cancel()})),this._subscriptions.clear(),e.forEach((function(e,n){var r=Gs.c.parse(n);t._subscriptions.add(t._cosmos.sub(r.uri,(function(t){e.forEach((function(e){return(0,e.onSuccess)(t)}))}),(function(t){e.forEach((function(e){return(0,e.onError)(t)}))}),r.body,r.headers))}))}},{key:"sub",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ws,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o=new Gs.c(Gs.n.SUB,e,a,i),s=o.stringify(),l={onSuccess:t,onError:r};return this._aggregator.subscribe(s,l),{cancel:function(){n._aggregator.unsubscribe(s,l)}}}}]),e}();function Ks(e){return new zs(e)}var Ys=n(19423),qs=n(87454),Qs=n(88063),Js=n(90658),Xs=n(18228),$s=n(58012);function el(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function tl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?el(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):el(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var nl="sp://core-playlist/v1/playlist",rl="sp://core-playlist/v2/playlist",il="?responseFormat=protobufJson";function al(e){return void 0===e?"":"&start=".concat(e)}function ol(e){return void 0===e?"":"&length=".concat(e)}var sl=function(){function e(t,n){(0,h.Z)(this,e),this._cosmos=t,this._builder=n;var r=Ks(t);this._events=function(e){return new js(e,"sp://core-playlist/v1/playlist",{policy:{}})}(r)}var t,n,r,i,a,s,c,u,d,m,p,f,v;return(0,y.Z)(e,[{key:"getCapabilities",value:function(){return{canSort:!0,canFilter:!0,canModifyOffline:!0,canMoveMultipleItems:!0,canFetchAllTracks:!0,canDecorateAddedBy:!0,canToggleCollaborative:!0,canHandlePermissions:!0,hasUidsGeneratedFromIndicies:!1}}},{key:"getPlaylist",value:(v=(0,o.Z)(l().mark((function e(t){var n,r,i,a,o,s,c,u,d,m,p,f,v,g=arguments;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=g.length>1&&void 0!==g[1]?g[1]:{},a=g.length>2&&void 0!==g[2]?g[2]:{},o=(0,qs.Y)(null==a?void 0:a.sort),s=(0,Qs.x9)((0,Xs.cj)(null==a?void 0:a.filter)),c=al(null!==(n=null==a?void 0:a.offset)&&void 0!==n?n:0),u=ol(null!==(r=null==a?void 0:a.limit)&&void 0!==r?r:0),i.withSync&&this._cosmos.post("".concat(nl,"/").concat(encodeURIComponent(t),"/resync")),e.prev=7,e.next=10,this._cosmos.get("".concat(nl,"/").concat(encodeURIComponent(t),"/").concat(il).concat(o).concat(s).concat(c).concat(u),ds);case 10:if(d=e.sent,(m=$o.playlist_request.Response.fromJSON(d)).playlist&&m.playlist.playlistMetadata){e.next=14;break}throw new Error("Invalid playlist cosmos response!");case 14:if(!i.hydrateCollaboratorsWithMembers){e.next=20;break}return e.t0=$o.members_response.PlaylistMembersResponse,e.next=18,this._cosmos.get("".concat(rl,"/members"),{uri:t});case 18:e.t1=e.sent,p=e.t0.fromJSON.call(e.t0,e.t1);case 20:return f=Is(m.playlist.playlistMetadata,{duration:m.duration,totalLikes:m.numFollowers,isPlayable:m.playable,hasEpisodes:m.containsEpisodes,hasSpotifyTracks:m.containsSpotifyTracks,userCapabilities:m.userCapabilities,collaborators:m.collaborators,basePermission:m.basePermission,members:p}),v=bs(m),e.abrupt("return",{metadata:f,contents:v});case 25:if(e.prev=25,e.t2=e.catch(7),!Xo().isHttpError(e.t2)||403!==e.t2.status){e.next=29;break}return e.abrupt("return",(0,$s.h)(t));case 29:throw e.t2;case 30:case"end":return e.stop()}}),e,this,[[7,25]])}))),function(e){return v.apply(this,arguments)})},{key:"getContents",value:(f=(0,o.Z)(l().mark((function e(t,n){var r,i,a,o,s;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(0,qs.Y)(null==n?void 0:n.sort),i=(0,Qs.x9)((0,Xs.cj)(null==n?void 0:n.filter)),a=al(null==n?void 0:n.offset),o=ol(null==n?void 0:n.limit),e.t0=$o.playlist_request.Response,e.next=7,this._cosmos.get("".concat(nl,"/").concat(encodeURIComponent(t),"/rows").concat(il).concat(r).concat(i).concat(a).concat(o),us);case 7:return e.t1=e.sent,s=e.t0.fromJSON.call(e.t0,e.t1),e.abrupt("return",bs(s));case 10:case"end":return e.stop()}}),e,this)}))),function(e,t){return f.apply(this,arguments)})},{key:"getMetadata",value:(p=(0,o.Z)(l().mark((function e(t,n){var r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getPlaylist(t,n);case 2:return r=e.sent,e.abrupt("return",r.metadata);case 4:case"end":return e.stop()}}),e,this)}))),function(e,t){return p.apply(this,arguments)})},{key:"getEvents",value:function(){return this._events}},{key:"applyModification",value:(m=(0,o.Z)(l().mark((function e(t,n){var r,i,a=arguments;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=!(a.length>2&&void 0!==a[2])||a[2],i=$o.modification_request.ModificationRequest.fromPartial(n),Object.keys(i).forEach((function(e){i[e]||delete i[e]})),e.next=5,this._cosmos.post("".concat(nl,"/").concat(encodeURIComponent(t)).concat(il),r?i:n);case 5:if(e.sent.success){e.next=8;break}throw new Error("Failed to apply playlist modification!");case 8:case"end":return e.stop()}}),e,this)}))),function(e,t){return m.apply(this,arguments)})},{key:"add",value:(d=(0,o.Z)(l().mark((function e(t,n,r){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._events.emitOperationSync(ts.If.ADD,t,n.map((function(e){return{uri:e}})))){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.applyModification(t,tl({operation:"add",uris:n},r));case 5:this._events.emitOperationComplete(ts.If.ADD,t,null,n.map((function(e){return{uri:e}}))),e.next=12;break;case 8:throw e.prev=8,e.t0=e.catch(2),this._events.emitOperationComplete(ts.If.ADD,t,e.t0,n.map((function(e){return{uri:e}}))),e.t0;case 12:case"end":return e.stop()}}),e,this,[[2,8]])}))),function(e,t,n){return d.apply(this,arguments)})},{key:"move",value:(u=(0,o.Z)(l().mark((function e(t,n,r){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._events.emitOperationSync(ts.If.MOVE,t,n.map((function(e){return{id:e}})))){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.applyModification(t,tl({operation:"move",rows:n},r));case 5:this._events.emitOperationComplete(ts.If.MOVE,t,null,n.map((function(e){return{id:e}}))),e.next=12;break;case 8:throw e.prev=8,e.t0=e.catch(2),this._events.emitOperationComplete(ts.If.MOVE,t,e.t0,n.map((function(e){return{id:e}}))),e.t0;case 12:case"end":return e.stop()}}),e,this,[[2,8]])}))),function(e,t,n){return u.apply(this,arguments)})},{key:"remove",value:(c=(0,o.Z)(l().mark((function e(t,n){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._events.emitOperationSync(ts.If.REMOVE,t,n)){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.applyModification(t,{operation:"remove",rows:n.map((function(e){return e.id}))});case 5:this._events.emitOperationComplete(ts.If.REMOVE,t,null,n),e.next=12;break;case 8:throw e.prev=8,e.t0=e.catch(2),this._events.emitOperationComplete(ts.If.REMOVE,t,e.t0,n),e.t0;case 12:case"end":return e.stop()}}),e,this,[[2,8]])}))),function(e,t){return c.apply(this,arguments)})},{key:"uploadImage",value:(s=(0,o.Z)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,Vs.I)(this._builder,t));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return s.apply(this,arguments)})},{key:"updateDetails",value:(a=(0,o.Z)(l().mark((function e(t,n){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._events.emitOperationSync(ts.If.UPDATE,t)){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,(0,Hs.b)(this._builder,t,n);case 5:this._events.emitOperationComplete(ts.If.UPDATE,t),e.next=12;break;case 8:throw e.prev=8,e.t0=e.catch(2),this._events.emitOperationComplete(ts.If.UPDATE,t,e.t0),e.t0;case 12:case"end":return e.stop()}}),e,this,[[2,8]])}))),function(e,t){return a.apply(this,arguments)})},{key:"setCollaborativeState",value:(i=(0,o.Z)(l().mark((function e(t,n){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._events.emitOperationSync(ts.If.SET_COLLABORATIVE,t)){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.applyModification(t,{operation:"set",attributes:{collaborative:n}},!1);case 5:this._events.emitOperationComplete(ts.If.SET_COLLABORATIVE,t),e.next=12;break;case 8:throw e.prev=8,e.t0=e.catch(2),this._events.emitOperationComplete(ts.If.SET_COLLABORATIVE,t,e.t0),e.t0;case 12:case"end":return e.stop()}}),e,this,[[2,8]])}))),function(e,t){return i.apply(this,arguments)})},{key:"resolvePlaylistFormatURI",value:(r=(0,o.Z)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,Ys.J)(this._builder,t));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"getRecommendedTracks",value:(n=(0,o.Z)(l().mark((function e(t,n,r){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,Js.A)(this._builder,t,n,r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)}))),function(e,t,r){return n.apply(this,arguments)})},{key:"resync",value:(t=(0,o.Z)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._cosmos.post("".concat(nl,"/").concat(encodeURIComponent(t),"/resync"));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),e}(),ll=n(10276),cl=n(24641),ul="sp://core-playlist/v2/playlist",dl=function(){function e(t,n){(0,h.Z)(this,e),this._cosmos=t,this._builder=n,this._events=new cl.Ti}var t,n,r,i,a,s,c;return(0,y.Z)(e,[{key:"getCapabilities",value:function(){return{}}},{key:"getEvents",value:function(){return this._events}},{key:"getPermissionGrant",value:(c=(0,o.Z)(l().mark((function e(t,n){var r,i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={operation:cl.Qd.GET_PERMISSION_GRANT,uri:t},this._events.emitOperationSync(r),e.prev=2,e.next=5,(0,ll.Re)(this._builder,t,n);case 5:return i=e.sent,this._events.emitOperationComplete(r),e.abrupt("return",i);case 10:throw e.prev=10,e.t0=e.catch(2),this._events.emitOperationComplete(r,e.t0),e.t0;case 14:case"end":return e.stop()}}),e,this,[[2,10]])}))),function(e,t){return c.apply(this,arguments)})},{key:"claimPermissions",value:(s=(0,o.Z)(l().mark((function e(t,n){var r,i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={operation:cl.Qd.CLAIM_PERMISSION,uri:t,token:n},this._events.emitOperationSync(r),e.prev=2,e.next=5,(0,ll.jw)(this._builder,t,n);case 5:return i=e.sent,this._events.emitOperationComplete(r),e.abrupt("return",i);case 10:throw e.prev=10,e.t0=e.catch(2),this._events.emitOperationComplete(r,e.t0),e.t0;case 14:case"end":return e.stop()}}),e,this,[[2,10]])}))),function(e,t){return s.apply(this,arguments)})},{key:"getMembers",value:(a=(0,o.Z)(l().mark((function e(t){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=$o.members_response.PlaylistMembersResponse,e.next=3,this._cosmos.get("".concat(ul,"/members"),{uri:t});case 3:return e.t1=e.sent,n=e.t0.fromJSON.call(e.t0,e.t1),e.abrupt("return",{basePermissionLevel:Ls(n.basePermissionLevel),capabilities:Fs(n.capabilities),members:Zs(n.members)});case 6:case"end":return e.stop()}}),e,this)}))),function(e){return a.apply(this,arguments)})},{key:"subscribeToMembers",value:function(e,t){return this._cosmos.sub("".concat(ul,"/members"),(function(e){var n=$o.members_response.PlaylistMembersResponse.fromJSON(e),r={members:Zs(n.members),capabilities:Fs(n.capabilities),basePermissionLevel:Ls(n.basePermissionLevel)};t(null,r)}),(function(e){t(e)}),{uri:e}).cancel}},{key:"removeMember",value:(i=(0,o.Z)(l().mark((function e(t,n){var r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={operation:cl.Qd.REMOVE_MEMBER,uri:t,username:n},this._events.emitOperationSync(r),e.prev=2,e.next=5,this._cosmos.post("".concat(ul,"/set-member-permission"),{playlist_uri:t,username:n});case 5:this._events.emitOperationComplete(r),e.next=12;break;case 8:throw e.prev=8,e.t0=e.catch(2),this._events.emitOperationComplete(r,e.t0),e.t0;case 12:case"end":return e.stop()}}),e,this,[[2,8]])}))),function(e,t){return i.apply(this,arguments)})},{key:"setMemberPermission",value:(r=(0,o.Z)(l().mark((function e(t,n,r){var i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i={operation:cl.Qd.SET_MEMBER_PERMISSION,uri:t,permissionLevel:r},this._events.emitOperationSync(i),e.prev=2,e.next=5,this._cosmos.post("".concat(ul,"/set-member-permission"),{playlist_uri:t,username:n,permission_level:r});case 5:this._events.emitOperationComplete(i),e.next=12;break;case 8:throw e.prev=8,e.t0=e.catch(2),this._events.emitOperationComplete(i,e.t0),e.t0;case 12:case"end":return e.stop()}}),e,this,[[2,8]])}))),function(e,t,n){return r.apply(this,arguments)})},{key:"getBasePermission",value:(n=(0,o.Z)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,ll.Du)(this._builder,t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"setBasePermission",value:(t=(0,o.Z)(l().mark((function e(t,n){var r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={operation:cl.Qd.SET_BASE_PERMISSION,uri:t,permissionLevel:n},this._events.emitOperationSync(r),e.prev=2,e.next=5,this._cosmos.post("".concat("sp://core-playlist/v1/playlist","/").concat(encodeURIComponent(t),"/set-base-permission"),{permission_level:n});case 5:this._events.emitOperationComplete(r),e.next=12;break;case 8:throw e.prev=8,e.t0=e.catch(2),this._events.emitOperationComplete(r,e.t0),e.t0;case 12:case"end":return e.stop()}}),e,this,[[2,8]])}))),function(e,n){return t.apply(this,arguments)})}]),e}(),ml=(n(73210),n(86650)),pl=n(9659),fl=n(86063);function vl(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,_.Z)(e);if(t){var i=(0,_.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,b.Z)(this,n)}}var gl=function(e){(0,E.Z)(i,e);var t,n,r=vl(i);function i(e,t,n,o){var s;return(0,h.Z)(this,i),s=r.call(this),(0,a.Z)((0,k.Z)(s),"_subscription",null),s._subAggregator=e,s._endpoint=t,s._policy=n,s._contains=o,s}return(0,y.Z)(i,[{key:"subscribeToUpdates",value:function(){this._subscription=this._subAggregator.sub("".concat(this._endpoint,"?start=0&length=0"),Se(this.onUpdate.bind(this))(100,true),(function(){}),this._policy)}},{key:"unsubscribeFromUpdates",value:function(){null!==this._subscription&&(this._subscription.cancel(),this._subscription=null)}},{key:"onUpdate",value:(n=(0,o.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.emit(ml.Yt.UPDATE,null),this.onContainsItems(this._aggregator.getBatch());case 2:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"onContainsItems",value:(t=(0,o.Z)(l().mark((function e(t){var n,r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.size>0)){e.next=6;break}return n=Array.from(t.keys()),e.next=4,this._contains(n);case 4:r=e.sent,this.emitUpdateItems(n,r);case 6:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),i}(fl.w);var hl,yl,kl=n(10695),El=n(85323),bl=n(15318);function _l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Sl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_l(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var wl="sp://core-playlist/v1/rootlist",Nl="?responseFormat=protobufJson";function Ol(e){if(void 0===e)return"";var t=he().from(e);if(!t||t.type!==he().Type.FOLDER)throw new Error("Invalid rootlist folder URI!");return"/".concat(t.getBase62Id())}var Cl=(hl={},(0,a.Z)(hl,pl.bD.NAME,"name"),(0,a.Z)(hl,pl.bD.ADDED_AT,"addTime"),(0,a.Z)(hl,pl.bD.RECENTLY_PLAYED,"recentlyPlayedRank"),(0,a.Z)(hl,pl.bD.RELEVANCE,"frecencyScore"),(0,a.Z)(hl,pl.bD.AVAILABLE_OFFLINE,"availableOffline"),hl),Tl=(yl={},(0,a.Z)(yl,pl.As.ASC,"ASC"),(0,a.Z)(yl,pl.As.DESC,"DESC"),yl);function Il(e){if(!e)return"";var t=e.field,n=e.order,r=n?Tl[n]:"";return"&sort=".concat(encodeURIComponent("".concat(Cl[t]," ").concat(r).trim()))}var Al=(0,a.Z)({},pl.R0.TEXT,"text"),Pl=(0,a.Z)({},pl.pg.CONTAINS,"contains");function Dl(e){if(null==e||!e.value)return"";var t=e.field,n=e.operator,r=e.value,i=Al[t],a=Pl[n];return"&filter=".concat(encodeURIComponent("".concat(i," ").concat(a," ").concat(encodeURIComponent(r))))}var Rl=function(){function e(t,n){(0,h.Z)(this,e),(0,a.Z)(this,"_cache",null),(0,a.Z)(this,"_decorationCache",new ve.Ct(3e5)),(0,a.Z)(this,"_inFlightCache",new ve.tL),this._cosmos=t,this._builder=n;var r=Ks(t);this._events=function(e,t){return new gl(e,"sp://core-playlist/v1/rootlist",{policy:{folder:{name:!0},playlist:{name:!0,collaborative:!0}}},t)}(r,this.contains.bind(this))}var t,n,r,i,s,c,u,d,m,p,f,v,g;return(0,y.Z)(e,[{key:"getCapabilities",value:function(){return{canSort:!0,canFilter:!0,canModifyOffline:!0}}},{key:"getMetadata",value:(g=(0,o.Z)(l().mark((function e(){var t,n,r=this;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(wl).concat(Nl),e.t0=$o.rootlist_request.Response,e.next=4,this._inFlightCache.create("metadata:".concat(t),(function(){return r._cosmos.get(t,ls)}));case 4:return e.t1=e.sent,n=e.t0.fromJSON.call(e.t0,e.t1),e.abrupt("return",As(n.root));case 7:case"end":return e.stop()}}),e,this)}))),function(){return g.apply(this,arguments)})},{key:"getContents",value:(v=(0,o.Z)(l().mark((function e(t){var n,r,i,a,o,s,c,u,d,m,p=this;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ol(null==t?void 0:t.folderUri),r=Il(null==t?void 0:t.sort),i=Dl((0,bl.cj)(null==t?void 0:t.filter)),v=null==t?void 0:t.offset,a=void 0===v?"":"&start=".concat(v),f=null==t?void 0:t.limit,o=void 0===f?"":"&length=".concat(f),l=null==t?void 0:t.flatten,s=void 0!==l&&l?"&flattenTree":"",c="".concat(wl).concat(n).concat(Nl).concat(r).concat(i).concat(a).concat(o).concat(s),e.t0=$o.rootlist_request.Response,e.next=10,this._inFlightCache.create("contents:".concat(c),(function(){return p._cosmos.get(c,cs)}));case 10:if(e.t1=e.sent,u=e.t0.fromJSON.call(e.t0,e.t1),d=new Set,m=Sl(Sl({},xs(u.root,(function(e){(0,pl.no)(e)&&d.add(e.uri)}))),{},{totalItemCount:u.unrangedLength}),this._cache=d,null==t||!t.decorateImagesAndOwner){e.next=18;break}return e.next=18,(0,El.H)(this._builder,this._decorationCache,(0,kl.qr)(m));case 18:return e.abrupt("return",m);case 19:case"end":return e.stop()}var l,f,v}),e,this)}))),function(e){return v.apply(this,arguments)})},{key:"getEvents",value:function(){return this._events}},{key:"onUpdateItems",value:function(e,t){if(null!==this._cache){var n=this._cache;e.forEach((function(e){return t?n.add(e):n.delete(e)}))}this._events.emitUpdateItems(e,t)}},{key:"applyModification",value:(f=(0,o.Z)(l().mark((function e(t){var n,r,i,a=arguments;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=!(a.length>1&&void 0!==a[1])||a[1],""===(r=$o.modification_request.ModificationRequest.fromPartial(t)).before&&delete r.before,""===r.after&&delete r.after,e.next=6,this._cosmos.post("".concat(wl).concat(Nl),n?r:t);case 6:if((i=e.sent).success){e.next=9;break}throw new Error("Failed to apply rootlist modification!");case 9:return e.abrupt("return",i);case 10:case"end":return e.stop()}}),e,this)}))),function(e){return f.apply(this,arguments)})},{key:"renameFolder",value:(p=(0,o.Z)(l().mark((function e(t,n){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.applyModification({operation:"set",attributes:{name:n},rows:[t.uri]});case 2:case"end":return e.stop()}}),e,this)}))),function(e,t){return p.apply(this,arguments)})},{key:"createFolder",value:(m=(0,o.Z)(l().mark((function e(t,n){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.applyModification(Sl(Sl({operation:"create",playlist:!1},n),{},{name:t}));case 2:case"end":return e.stop()}}),e,this)}))),function(e,t){return m.apply(this,arguments)})},{key:"moveFolder",value:(d=(0,o.Z)(l().mark((function e(t,n){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.move(t.id,n);case 2:case"end":return e.stop()}}),e,this)}))),function(e,t){return d.apply(this,arguments)})},{key:"removeFolder",value:(u=(0,o.Z)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.applyModification({operation:"remove",contents:!0,rows:[t]});case 2:case"end":return e.stop()}}),e,this)}))),function(e){return u.apply(this,arguments)})},{key:"createPlaylist",value:(c=(0,o.Z)(l().mark((function e(t,n){var r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._events.emitOperationSync(ml.aY.CREATE_PLAYLIST,[])){e.next=2;break}return e.abrupt("return","");case 2:return e.prev=2,e.next=5,this.applyModification(Sl(Sl({operation:"create",playlist:!0},n),{},{name:t}));case 5:return r=e.sent,this._events.emitOperationComplete(ml.aY.CREATE_PLAYLIST,[r.uri]),e.abrupt("return",r.uri);case 10:throw e.prev=10,e.t0=e.catch(2),this._events.emitOperationComplete(ml.aY.CREATE_PLAYLIST,[],e.t0 instanceof Error?e.t0:new Error("Unknown error object")),e.t0;case 14:case"end":return e.stop()}}),e,this,[[2,10]])}))),function(e,t){return c.apply(this,arguments)})},{key:"add",value:(s=(0,o.Z)(l().mark((function e(t,n){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._events.emitOperationSync(ml.aY.ADD,t)){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,this.onUpdateItems(t,!0),e.next=6,this.applyModification(Sl({operation:"add",uris:t},n));case 6:this._events.emitOperationComplete(ml.aY.ADD,t),e.next=14;break;case 9:throw e.prev=9,e.t0=e.catch(2),this.onUpdateItems(t,!1),this._events.emitOperationComplete(ml.aY.ADD,t,e.t0 instanceof Error?e.t0:new Error("Unknown error object")),e.t0;case 14:case"end":return e.stop()}}),e,this,[[2,9]])}))),function(e,t){return s.apply(this,arguments)})},{key:"move",value:(i=(0,o.Z)(l().mark((function e(t,n){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.applyModification(Sl({operation:"move",rows:[t]},n));case 3:e.next=7;break;case 5:e.prev=5,e.t0=e.catch(0);case 7:case"end":return e.stop()}}),e,this,[[0,5]])}))),function(e,t){return i.apply(this,arguments)})},{key:"remove",value:(r=(0,o.Z)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._events.emitOperationSync(ml.aY.REMOVE,t)){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,this.onUpdateItems(t,!1),e.next=6,this.applyModification({operation:"remove",rows:t});case 6:this._events.emitOperationComplete(ml.aY.REMOVE,t),e.next=14;break;case 9:throw e.prev=9,e.t0=e.catch(2),this.onUpdateItems(t,!0),this._events.emitOperationComplete(ml.aY.REMOVE,t,e.t0 instanceof Error?e.t0:new Error("Unknown error object")),e.t0;case 14:case"end":return e.stop()}}),e,this,[[2,9]])}))),function(e){return r.apply(this,arguments)})},{key:"contains",value:(n=(0,o.Z)(l().mark((function e(t){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._cosmos.post("".concat(wl,"/contains"),{items:t});case 2:return n=e.sent,e.abrupt("return",n.found);case 4:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"containsSync",value:function(e){return null!==this._cache?this._cache.has(e):void 0}},{key:"setPublishedState",value:(t=(0,o.Z)(l().mark((function e(t,n){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.applyModification({operation:"set",attributes:{published:n},rows:[t]},!1);case 2:case"end":return e.stop()}}),e,this)}))),function(e,n){return t.apply(this,arguments)})}]),e}(),xl=n(11268),Ll=n(71258);function Fl(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,_.Z)(e);if(t){var i=(0,_.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,b.Z)(this,n)}}var Ul=Ll.Dq.fromPartial({includeCollectionSongs:!0,includeYourEpisodes:!0,artistPolicy:{timestamp:!0,artistPolicy:{link:!0,name:!0,portraits:!0}},albumPolicy:{timestamp:!0,albumPolicy:{link:!0,name:!0,covers:!0},artistsPolicy:{link:!0,name:!0}},showPolicy:{timestamp:!0,showPolicy:{link:!0,name:!0,publisher:!0,covers:!0,extension:[xn.AUDIOBOOK_SPECIFICS]}},playlistPolicy:{timestamp:!0,playlistPolicy:{link:!0,name:!0,description:!0,picture:!0,owner:{link:!0,name:!0}}},trackPolicy:{timestamp:!0,trackPolicy:{link:!0,name:!0,isExplicit:!0,is19PlusOnly:!0},albumPolicy:{link:!0,name:!0,covers:!0},artistsPolicy:{link:!0,name:!0}},episodePolicy:{timestamp:!0,showPolicy:{link:!0,name:!0,publisher:!0,covers:!0,extension:[xn.AUDIOBOOK_SPECIFICS]}},collectionTracksPolicy:{link:!0,timestamp:!0}});function Zl(e){return e?[{url:e,label:"standard"}]:[]}var Ml=function(e){(0,E.Z)(n,e);var t=Fl(n);function n(e){var r;return(0,h.Z)(this,n),r=t.call(this),(0,a.Z)((0,k.Z)(r),"_contexts",null),(0,a.Z)((0,k.Z)(r),"_cancellable",null),r._client=new Ll.HB(e),r}return(0,y.Z)(n,[{key:"getContexts",value:function(){var e=this;return null===this._cancellable&&(this._cancellable=this._client.stream(Ul,(function(t){e._contexts=function(e){var t,n;return[].concat((0,r.Z)(e.artist.map((function(e){var t,n,r,i=e.artistMetadata;return{type:xl.hn.ARTIST,uri:null!==(t=null==i?void 0:i.link)&&void 0!==t?t:"",name:null!==(n=null==i?void 0:i.name)&&void 0!==n?n:"",images:Zl(null==i||null===(r=i.portraits)||void 0===r?void 0:r.standardLink),timestampMs:e.addTime}}))),(0,r.Z)(e.album.map((function(e){var t,n,r,i,a=e.albumMetadata;return{type:xl.hn.ALBUM,uri:null!==(t=null==a?void 0:a.link)&&void 0!==t?t:"",name:null!==(n=null==a?void 0:a.name)&&void 0!==n?n:"",images:Zl(null==a||null===(r=a.covers)||void 0===r?void 0:r.standardLink),artists:null!==(i=null==a?void 0:a.artists.map((function(e){return{uri:e.link,name:e.name}})))&&void 0!==i?i:[],timestampMs:e.addTime}}))),(0,r.Z)(e.show.map((function(e){var t,n,r,i,a,o=e.showMetadata,s=Wr(null!==(t=null==o?void 0:o.extension)&&void 0!==t?t:[]);if(void 0!==s.audiobookSpecifics){var l,c,u,d,m,p=s.audiobookSpecifics;return{type:xl.hn.AUDIOBOOK,uri:null!==(l=null==o?void 0:o.link)&&void 0!==l?l:"",name:null!==(c=null==o?void 0:o.name)&&void 0!==c?c:"",images:Zl(null==o||null===(u=o.covers)||void 0===u?void 0:u.standardLink),authors:null!==(d=null===(m=p.credits)||void 0===m?void 0:m.authors.map((function(e){return e.name})))&&void 0!==d?d:[],timestampMs:e.addTime}}return{type:xl.hn.SHOW,uri:null!==(n=null==o?void 0:o.link)&&void 0!==n?n:"",name:null!==(r=null==o?void 0:o.name)&&void 0!==r?r:"",images:Zl(null==o||null===(i=o.covers)||void 0===i?void 0:i.standardLink),publisher:null!==(a=null==o?void 0:o.publisher)&&void 0!==a?a:"",timestampMs:e.addTime}}))),(0,r.Z)(e.playlist.map((function(e){var t,n,r,i,a,o,s,l,c=e.playlistMetadata;return{type:xl.hn.PLAYLIST,uri:null!==(t=null==c?void 0:c.link)&&void 0!==t?t:"",name:null!==(n=null==c?void 0:c.name)&&void 0!==n?n:"",description:null!==(r=null==c?void 0:c.description)&&void 0!==r?r:"",images:Zl(null==c||null===(i=c.pictures)||void 0===i?void 0:i.standardLink),owner:{uri:null!==(a=null==c||null===(o=c.owner)||void 0===o?void 0:o.link)&&void 0!==a?a:"",displayName:null!==(s=null==c||null===(l=c.owner)||void 0===l?void 0:l.displayName)&&void 0!==s?s:""},timestampMs:e.addTime}}))),(0,r.Z)(e.track.map((function(e){var t,n,r,i,a,o,s,l=e.trackMetadata;return{type:xl.hn.TRACK,uri:null!==(t=null==l?void 0:l.link)&&void 0!==t?t:"",name:null!==(n=null==l?void 0:l.name)&&void 0!==n?n:"",images:Zl(null==l||null===(r=l.album)||void 0===r||null===(i=r.covers)||void 0===i?void 0:i.standardLink),artists:null!==(a=null==l?void 0:l.artist.map((function(e){return{uri:e.link,name:e.name}})))&&void 0!==a?a:[],isExplicit:null!==(o=null==l?void 0:l.isExplicit)&&void 0!==o&&o,isMOGEFRestricted:null!==(s=null==l?void 0:l.is19PlusOnly)&&void 0!==s&&s,timestampMs:e.addTime}}))),(0,r.Z)(e.episode.map((function(e){var t,n,r,i,a,o=e.showMetadata,s=Wr(null!==(t=null==o?void 0:o.extension)&&void 0!==t?t:[]);if(void 0!==s.audiobookSpecifics){var l,c,u,d,m,p=s.audiobookSpecifics;return{type:xl.hn.AUDIOBOOK,uri:null!==(l=null==o?void 0:o.link)&&void 0!==l?l:"",name:null!==(c=null==o?void 0:o.name)&&void 0!==c?c:"",images:Zl(null==o||null===(u=o.covers)||void 0===u?void 0:u.standardLink),authors:null!==(d=null===(m=p.credits)||void 0===m?void 0:m.authors.map((function(e){return e.name})))&&void 0!==d?d:[],timestampMs:e.addTime}}return{type:xl.hn.SHOW,uri:null!==(n=null==o?void 0:o.link)&&void 0!==n?n:"",name:null!==(r=null==o?void 0:o.name)&&void 0!==r?r:"",images:Zl(null==o||null===(i=o.covers)||void 0===i?void 0:i.standardLink),publisher:null!==(a=null==o?void 0:o.publisher)&&void 0!==a?a:"",timestampMs:e.addTime}}))),(0,r.Z)(null!==(t=null===(n=e.collectionTracks)||void 0===n?void 0:n.map((function(e){var t,n;return he().isCollection(e.link)?e.link.endsWith("your-episodes")?{type:xl.hn.YOUR_EPISODES,uri:null!==(n=null==e?void 0:e.link)&&void 0!==n?n:"",timestampMs:e.addTime}:{type:xl.hn.LIKED_SONGS,uri:null!==(t=null==e?void 0:e.link)&&void 0!==t?t:"",timestampMs:e.addTime}:null})))&&void 0!==t?t:[])).filter(Va.K).sort((function(e,t){return t.timestampMs-e.timestampMs})).filter((function(e,t,n){return n.findIndex((function(t){return e.uri===t.uri}))===t}))}(t),e.emit(xl.$f.UPDATE,e._contexts)}))),this._contexts}}]),n}(xl.sw),Bl=n(27937),jl=n(75099),Vl=(n(90580),n(41247),n(97583),n(96493)),Hl=(n(54299),n(13705),n(84759),n(26663),n(26382)),Gl=n(7073);function Wl(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return zl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zl(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function zl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Kl(e,t,n){if(!e.item)throw new Error("Invalid show cosmos response!");var r="number"==typeof t&&"number"==typeof n?t+n:0;return{nextOffset:e.unrangedLength<r?null:r,totalCount:e.unrangedLength,items:e.item.map((function(e){return sc(e.episodeMetadata,e.episodePlayState)}))}}function Yl(e){var t,n,r,i,a,o,s,l,c,u,d,m,p,f,v,g,h,y,k={},E=Wl(e.show.map((function(e){var t;return null===(t=e.showMetadata)||void 0===t?void 0:t.extension})).filter((function(e){return null!==e})));try{for(E.s();!(y=E.n()).done;){var b=y.value;if(b&&(k=Wr(b)).showAccess)break}}catch(e){E.e(e)}finally{E.f()}return{prompt:null===(t=k)||void 0===t||null===(n=t.showAccess)||void 0===n?void 0:n.prompt,upsellLink:null===(r=k)||void 0===r||null===(i=r.showAccess)||void 0===i?void 0:i.upsellLink,basic:null===(a=k)||void 0===a||null===(o=a.showAccess)||void 0===o?void 0:o.basic,multiPass:(null===(s=k)||void 0===s||null===(l=s.showAccess)||void 0===l?void 0:l.multiPass)&&{title:null===(c=k)||void 0===c||null===(u=c.showAccess)||void 0===u||null===(d=u.multiPass)||void 0===d?void 0:d.title,body:null===(m=k)||void 0===m||null===(p=m.showAccess)||void 0===p||null===(f=p.multiPass)||void 0===f?void 0:f.soaDescription,soaPartners:null===(v=k)||void 0===v||null===(g=v.showAccess)||void 0===g||null===(h=g.multiPass)||void 0===h?void 0:h.soaPartner}}}function ql(e){var t,n,r,i;return{isPaywalled:null!==(t=null===(n=e.podcastSubscription)||void 0===n?void 0:n.isPaywalled)&&void 0!==t&&t,isUserSubscribed:null!==(r=null===(i=e.podcastSubscription)||void 0===i?void 0:i.isUserSubscribed)&&void 0!==r&&r}}function Ql(e){return e.is19PlusOnly?{label:Gl.KS.NineteenPlus}:e.isExplicit?{label:Gl.KS.Explicit}:{label:Gl.KS.Unknown}}function Jl(e){return void 0===e?[]:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e.url})).map((function(e){return{url:e.url,width:e.width,height:e.height}}))}({url:e.standardLink,width:300,height:300},{url:e.smallLink,width:64,height:64},{url:e.largeLink,width:640,height:640})}function Xl(e,t){var n=e.length-t.timeLeft;return{playPositionMilliseconds:1e3*n,playPosition:n,state:t.isPlayed?Gl.sY.Completed:Gl.sY.NotStarted}}function $l(e){var t=1e3*parseInt(e.publishDate,10);return{isoString:new Date(t).toISOString()}}function ec(e,t){var n,r;if(!e||!t)throw new Error("Error while constructing chapter metadata");var i=Wr(e.extension);return{type:ke.p.CHAPTER,uri:e.link,name:e.name,duration:{milliseconds:1e3*e.length},description:e.description,coverArt:null!==(n=Jl(e.covers))&&void 0!==n?n:[],audio:{items:[]},audioPreview:null,htmlDescription:(null===(r=i.htmlDescription)||void 0===r?void 0:r.htmlDescription)||"",sharingInfo:null,contentRating:Ql(e),playedState:Xl(e,t),book:ac(e.show),playability:rc(t,i),isExplicit:e.isExplicit,is19PlusOnly:e.is19PlusOnly}}function tc(e,t,n){if(!e.item)throw new Error("Invalid show cosmos response!");var r="number"==typeof t&&"number"==typeof n?t+n:0;return{nextOffset:e.unrangedLength<r?null:r,totalCount:e.unrangedLength,items:e.item.map((function(e){return ec(e.episodeMetadata,e.episodePlayState)}))}}function nc(e){return e.isMusicAndTalk?"SHOW":"PODCAST"}function rc(e,t){var n,r,i=!(null==t||null===(n=t.podcastSubscription)||void 0===n||!n.isPaywalled),a=!(null==t||null===(r=t.podcastSubscription)||void 0===r||!r.isUserSubscribed);return{playable:i?a:e.isPlayable,reason:i?De.WY.PaymentRequired:De.WY.Unknown}}function ic(e){var t;return e?{uri:e.link,name:e.name,coverArt:null!==(t=Jl(e.covers))&&void 0!==t?t:[],trailer:null,showTypes:[]}:null}function ac(e){var t;return e?{uri:e.link,name:e.name,coverArt:null!==(t=Jl(e.covers))&&void 0!==t?t:[],trailer:null}:null}function oc(e){var t,n,r=null===(t=e.episode)||void 0===t?void 0:t[0];if(!r||!r.episodeMetadata)throw new Error("Error while constructing episode");if(r.episodeMetadata.isBookChapter)return ec(r.episodeMetadata,r.episodePlayState);if(!r.episodeMetadata)throw new Error("Error while constructing episode");return null!==(n=Wr(r.episodeMetadata.extension).userCreated)&&void 0!==n&&n.userUri?function(e,t){var n,r,i,a;if(!e||!t)throw new Error("Error while constructing episode");var o=Wr(e.extension);return{type:ke.p.PODCAST_SHORT,uri:e.link,name:e.name,description:e.description,htmlDescription:(null===(n=o.htmlDescription)||void 0===n?void 0:n.htmlDescription)||"",episodeType:Gl.Wf.Unknown,coverArt:null!==(r=Jl(e.covers))&&void 0!==r?r:[],playedState:Xl(e,t),audio:{items:[]},audioPreview:null,sharingInfo:null,segmentsCount:(null===(i=o.podcastSegments)||void 0===i?void 0:i.playbackSegments.length)||0,podcast:ic(e.show),podcastSubscription:ql(o),releaseDate:$l(e),playability:rc(t),contentRating:Ql(e),duration:{milliseconds:1e3*e.length},contentInformation:o.contentInformation||null,transcript:(null===(a=o.transcripts)||void 0===a?void 0:a.transcripts)||null,userCreated:o.userCreated||null}}(r.episodeMetadata,r.episodePlayState):sc(r.episodeMetadata,r.episodePlayState)}function sc(e,t){var n,r,i,a;if(!e||!t)throw new Error("Error while constructing episode");var o=Wr(e.extension);return{type:ke.p.EPISODE,uri:e.link,name:e.name,description:e.description,htmlDescription:(null===(n=o.htmlDescription)||void 0===n?void 0:n.htmlDescription)||"",episodeType:Gl.Wf.Unknown,coverArt:null!==(r=Jl(e.covers))&&void 0!==r?r:[],playedState:Xl(e,t),audio:{items:[]},audioPreview:null,sharingInfo:null,segmentsCount:(null===(i=o.podcastSegments)||void 0===i?void 0:i.playbackSegments.length)||0,podcast:ic(e.show),podcastSubscription:ql(o),releaseDate:$l(e),playability:rc(t),contentRating:Ql(e),duration:{milliseconds:1e3*e.length},contentInformation:o.contentInformation||null,transcript:(null===(a=o.transcripts)||void 0===a?void 0:a.transcripts)||null}}function lc(e){return"sequential"===e?"sequential":"episodic"===e?"episodic":"recent"}var cc,uc,dc,mc=function(e){switch(e){case Vl.NextBestEpisodeSection_Label.TRAILER:return De.it.TRAILER;case Vl.NextBestEpisodeSection_Label.CONTINUE_LISTENING:return De.it.CONTINUE_LISTENING;case Vl.NextBestEpisodeSection_Label.LATEST_PUBLISHED:return De.it.LATEST_PUBLISHED;case Vl.NextBestEpisodeSection_Label.UP_NEXT:return De.it.UP_NEXT;case Vl.NextBestEpisodeSection_Label.FIRST_PUBLISHED:return De.it.FIRST_PUBLISHED;default:return De.it.UNKNOWN}};function pc(e){if(null!=e&&e.item)return{type:mc(e.label),data:sc(e.item.episodeMetadata,e.item.episodePlayState)}}function fc(e){var t,n,r,i,a,o,s,l=null===(t=e.auxiliarySections)||void 0===t||null===(n=t.trailerSection)||void 0===n?void 0:n.item,c=l?function(e){var t,n=e.episodeMetadata,r=e.episodePlayState;if(!n||!r)throw new Error("Error while constructing trailer");return{type:ke.p.EPISODE,uri:n.link,name:n.name,coverArt:null!==(t=Jl(n.covers))&&void 0!==t?t:[],audio:{items:[]},audioPreview:null,sharingInfo:null,duration:{milliseconds:1e3*n.length},contentRating:Ql(n)}}(l):null,u=null===(r=e.header)||void 0===r?void 0:r.showMetadata;if(!u)throw new Error("Error while constructing podcast metadata");var d=Wr(u.extension);return{type:ke.p.SHOW,uri:u.link,name:u.name,description:u.description||"",htmlDescription:(null===(i=d.htmlDescription)||void 0===i?void 0:i.htmlDescription)||"",coverArt:null!==(a=Jl(u.covers))&&void 0!==a?a:[],trailer:c,topics:(null===(o=d.podcastTopics)||void 0===o?void 0:o.topics)||[],podcastType:nc(u),showTypes:[],publisherName:u.publisher,consumptionOrder:lc(u.consumptionOrder),nextBestEpisode:pc(null===(s=e.auxiliarySections)||void 0===s?void 0:s.nextBestEpisodeSection)}}function vc(e,t){return{text:e,type:t}}function gc(e){var t,n,i,a,o,s,l,c,u,d,m,p,f=null===(t=e.auxiliarySections)||void 0===t||null===(n=t.trailerSection)||void 0===n?void 0:n.item,v=f?function(e){var t,n,r,i=e.episodeMetadata,a=e.episodePlayState;if(!i||!a)throw new Error("Error while constructing sample");return{type:ke.p.CHAPTER,uri:i.link,name:i.name,coverArt:null!==(t=Jl(i.covers))&&void 0!==t?t:[],audio:{items:[]},audioPreview:null,sharingInfo:null,duration:{milliseconds:1e3*i.length},contentRating:Ql(i),isPlayable:null!==(n=null===(r=e.episodePlayState)||void 0===r?void 0:r.isPlayable)&&void 0!==n&&n}}(f):null,g=null===(i=e.header)||void 0===i?void 0:i.showMetadata;if(!g)throw new Error("Error while constructing book metadata");var h,y,k=Wr(g.extension),E=function(e){var t,n,r;return null!==(t=null==e||null===(n=e.audiobookSpecifics)||void 0===n||null===(r=n.credits)||void 0===r?void 0:r.narrators.map((function(e){return e.name})))&&void 0!==t?t:[]}(k);return{type:ke.p.AUDIOBOOK,uri:g.link,name:g.name,coverArt:null!==(a=Jl(g.covers))&&void 0!==a?a:[],authorName:g.publisher,narrators:E,sample:v,htmlDescriptionPlain:null===(o=k.htmlDescription)||void 0===o?void 0:o.htmlDescription,rating:null==k?void 0:k.rating,isExplicit:g.isExplicit,duration:Number(null===(s=k.audiobookSpecifics)||void 0===s?void 0:s.duration_ms),copyrights:(h=null!==(l=null===(c=k.audiobookSpecifics)||void 0===c||null===(u=c.credits)||void 0===u||null===(d=u.publishers)||void 0===d?void 0:d.map((function(e){return e.name})))&&void 0!==l?l:[],y=g.copyright,[].concat((0,r.Z)(h.map((function(e){return vc(e,"P")}))),(0,r.Z)(y.map((function(e){return vc(e,"C")}))))),publishDate:null===(m=k.audiobookSpecifics)||void 0===m?void 0:m.publish_date,price:null==k?void 0:k.audiobookPrice,isLocked:!1===(null==k||null===(p=k.showAccess)||void 0===p?void 0:p.isUserMemberOfAtLeastOneGroup)}}function hc(e){var t,n,r=null===(t=e.header)||void 0===t?void 0:t.showMetadata;if(null!=r&&r.isBook)return gc(e);if(!r)throw new Error("Error while constructing metadata");return null!==(n=Wr(r.extension).userCreated)&&void 0!==n&&n.userUri?function(e){var t,n,r,i,a,o=null===(t=e.header)||void 0===t?void 0:t.showMetadata;if(!o)throw new Error("Error while constructing podcast metadata");var s=Wr(o.extension);return{type:ke.p.USER_PODCAST,uri:o.link,name:o.name,description:o.description||"",htmlDescription:(null===(n=s.htmlDescription)||void 0===n?void 0:n.htmlDescription)||"",coverArt:null!==(r=Jl(o.covers))&&void 0!==r?r:[],trailer:null,topics:(null===(i=s.podcastTopics)||void 0===i?void 0:i.topics)||[],podcastType:nc(o),showTypes:[],publisherName:o.publisher,consumptionOrder:lc(o.consumptionOrder),userCreated:null!==(a=null==s?void 0:s.userCreated)&&void 0!==a?a:null}}(e):fc(e)}function yc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function kc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yc(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ec,bc,_c={field:Hl.YG.AVAILABLE,operator:Hl.NK.EQUALS,value:!0};!function(e){e.TITLE="TITLE"}(Ec||(Ec={})),function(e){e.CONTAINS="CONTAINS",e.EQUALS="EQUALS",e.NOT_EQUALS="NOT_EQUALS"}(bc||(bc={}));var Sc,wc,Nc=(cc={},(0,a.Z)(cc,Hl.YG.AVAILABLE,Hl.YG.AVAILABLE),(0,a.Z)(cc,Hl.YG.NAME,Ec.TITLE),(0,a.Z)(cc,Hl.YG.TEXT,Hl.YG.TEXT),(0,a.Z)(cc,Hl.YG.ISPLAYED,Hl.YG.ISPLAYED),(0,a.Z)(cc,Hl.YG.STARTEDPLAYING,Hl.YG.STARTEDPLAYING),cc),Oc=(uc={},(0,a.Z)(uc,Hl.YG.AVAILABLE,["available"]),(0,a.Z)(uc,Hl.YG.TEXT,["text"]),(0,a.Z)(uc,Hl.YG.NAME,["name"]),(0,a.Z)(uc,Hl.YG.ISPLAYED,["isPlayed"]),(0,a.Z)(uc,Hl.YG.STARTEDPLAYING,["progress"]),(0,a.Z)(uc,Ec.TITLE,["title"]),uc),Cc=(dc={},(0,a.Z)(dc,Hl.NK.CONTAINS,"contains"),(0,a.Z)(dc,Hl.NK.EQUALS,"eq"),(0,a.Z)(dc,Hl.NK.NOT_EQUALS,"!="),(0,a.Z)(dc,Hl.NK.GREATER_THAN,">"),dc);function Tc(e){return e.map((function(e){var t=e.field,n=e.operator,r=e.value,i=Cc[n];return"".concat(Oc[t]," ").concat(i," ").concat(encodeURIComponent(r))})).join(",")}function Ic(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];e=e||[];var t=Tc([].concat((0,r.Z)(e),[_c]));return t}function Ac(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return"&filter=".concat(encodeURIComponent(Ic(e)))}function Pc(e){return(e=e||[]).map((function(e){var t=Nc[e.field],n=function(e){return"string"==typeof e.value?'"'.concat(e.value,'"'):e.value}(e);return kc(kc({},e),{},{field:t,value:n})}))}!function(e){e.ADDED_AT="ADDED_AT",e.DURATION="DURATION",e.TITLE="TITLE"}(wc||(wc={}));var Dc=(0,a.Z)({},Hl.ay.PUBLISH_DATE,wc.ADDED_AT),Rc=(Sc={},(0,a.Z)(Sc,Hl.ay.PUBLISH_DATE,["number","publishDate","name"]),(0,a.Z)(Sc,wc.ADDED_AT,["added_at"]),(0,a.Z)(Sc,wc.DURATION,["duration"]),(0,a.Z)(Sc,wc.TITLE,["title"]),Sc);function xc(e){return{field:Dc[e.field],order:e.order}}function Lc(e){var t=e.field,n=e.order;return Rc[t].map((function(e){return n?"".concat(e," ").concat(n):e}))}function Fc(e){return"&sort=".concat(encodeURIComponent(function(e){return e?Lc(e).join(","):""}(e)))}var Uc=n(29205),Zc=n(80849),Mc=n(90227),Bc=n(9983),jc="sp://core-show/v1/shows",Vc="responseFormat=protobufJson",Hc={policy:{list:{show:{link:!0,name:!0,publisher:!0,covers:!0},link:!0,length:!0,name:!0,manifestId:!0,previewId:!0,previewManifestId:!0,description:!0,publishDate:!0,covers:!0,freezeFrames:!0,language:!0,available:!0,mediaTypeEnum:!0,number:!0,backgroundable:!0,isExplicit:!0,type:!0,isMusicAndTalk:!0,is19PlusOnly:!0,isBookChapter:!0,timeLeft:!0,isPlayed:!0,playable:!0,playabilityRestriction:!0,lastPlayedAt:!0,isFollowingShow:!0,isInListenLater:!0,offline:!0,syncProgress:!0,progress:!0,isNew:!0,extension:[Mc.ExtensionKind.PODCAST_SUBSCRIPTIONS,Mc.ExtensionKind.CONTENT_WARNING,Mc.ExtensionKind.USER_CREATED]}}},Gc=Zc.ListPolicy.fromPartial({showPolicy:{showPolicy:{link:!0,name:!0,publisher:!0,covers:!0}},episodePolicy:{link:!0,length:!0,name:!0,manifestId:!0,previewId:!0,previewManifestId:!0,description:!0,publishDate:!0,covers:!0,freezeFrames:!0,language:!0,available:!0,mediaTypeEnum:!0,number:!0,backgroundable:!0,isExplicit:!0,type:!0,isMusicAndTalk:!0,is19PlusOnly:!0,isBookChapter:!0,extension:[Mc.ExtensionKind.PODCAST_SUBSCRIPTIONS,Mc.ExtensionKind.CONTENT_WARNING,Mc.ExtensionKind.USER_CREATED]},episodePlayedStatePolicy:{timeLeft:!0,isPlayed:!0,playable:!0,playabilityRestriction:!0,lastPlayedAt:!0},episodeCollectionPolicy:{isFollowingShow:!0,isInListenLater:!0,isNew:!0},episodeSyncPolicy:{offline:!0,syncProgress:!0},progress:!0}),Wc={policy:{header:{link:!0,name:!0,description:!0,publisher:!0,copyright:!0,isExplicit:!0,covers:!0,mediaTypeEnum:!0,copyrights:!0,isMusicAndTalk:!0,isBook:!0,consumptionOrder:!0,publishDate:!0,extension:[Mc.ExtensionKind.AUDIOBOOK_SPECIFICS,Mc.ExtensionKind.PODCAST_SUBSCRIPTIONS,Mc.ExtensionKind.PODCAST_TOPICS,Mc.ExtensionKind.HTML_DESCRIPTION,Mc.ExtensionKind.EPISODE_TRANSCRIPTS,Mc.ExtensionKind.PODCAST_RATING,Mc.ExtensionKind.USER_CREATED,Mc.ExtensionKind.AUDIOBOOK_PRICE,Mc.ExtensionKind.SHOW_ACCESS]},list:{playable:!0,isNew:!0,name:!0,link:!0,length:!0,timeLeft:!0,publishDate:!0,covers:!0,isPlayed:!0,description:!0,mediaTypeEnum:!0,isExplicit:!0,type:!0,isMusicAndTalk:!0,is19PlusOnly:!0,isBookChapter:!0},sections:{trailer:!0,nextBestEpisode:!0}}},zc=Zc.HeaderPolicy.fromPartial({showPolicy:{link:!0,name:!0,description:!0,publisher:!0,isExplicit:!0,covers:!0,mediaTypeEnum:!0,copyrights:!0,isMusicAndTalk:!0,isBook:!0,consumptionOrder:!0,extension:[Mc.ExtensionKind.AUDIOBOOK_SPECIFICS,Mc.ExtensionKind.PODCAST_SUBSCRIPTIONS,Mc.ExtensionKind.PODCAST_TOPICS,Mc.ExtensionKind.HTML_DESCRIPTION,Mc.ExtensionKind.EPISODE_TRANSCRIPTS,Mc.ExtensionKind.PODCAST_RATING,Mc.ExtensionKind.USER_CREATED,Mc.ExtensionKind.SHOW_ACCESS]}}),Kc=Zc.ListPolicy.fromPartial({episodeCollectionPolicy:{isNew:!0},episodePlayedStatePolicy:{playable:!0,timeLeft:!0,isPlayed:!0},episodePolicy:{name:!0,link:!0,length:!0,publishDate:!0,covers:!0,description:!0,mediaTypeEnum:!0,isExplicit:!0,type:!0,isMusicAndTalk:!0,is19PlusOnly:!0,isBookChapter:!0}}),Yc={episode:{show:{link:!0,name:!0,publisher:!0,covers:!0},link:!0,length:!0,name:!0,manifestId:!0,previewId:!0,previewManifestId:!0,description:!0,publishDate:!0,covers:!0,freezeFrames:!0,language:!0,available:!0,mediaTypeEnum:!0,number:!0,backgroundable:!0,isExplicit:!0,type:!0,isMusicAndTalk:!0,is19PlusOnly:!0,isBookChapter:!0,timeLeft:!0,isPlayed:!0,playable:!0,playabilityRestriction:!0,lastPlayedAt:!0,isFollowingShow:!0,isInListenLater:!0,offline:!0,syncProgress:!0,progress:!0,isNew:!0,extension:[Mc.ExtensionKind.SHOW_ACCESS,Mc.ExtensionKind.PODCAST_SEGMENTS,Mc.ExtensionKind.PODCAST_SUBSCRIPTIONS,Mc.ExtensionKind.HTML_DESCRIPTION,Mc.ExtensionKind.CONTENT_WARNING,Mc.ExtensionKind.EPISODE_TRANSCRIPTS,Mc.ExtensionKind.USER_CREATED]}},qc=Zc.ListPolicy.fromPartial({showPolicy:{showPolicy:{link:!0,name:!0,publisher:!0,covers:!0}},episodePolicy:{link:!0,length:!0,name:!0,manifestId:!0,previewId:!0,previewManifestId:!0,description:!0,publishDate:!0,covers:!0,freezeFrames:!0,language:!0,available:!0,mediaTypeEnum:!0,number:!0,backgroundable:!0,isExplicit:!0,type:!0,isMusicAndTalk:!0,is19PlusOnly:!0,isBookChapter:!0,extension:[Mc.ExtensionKind.SHOW_ACCESS,Mc.ExtensionKind.PODCAST_SEGMENTS,Mc.ExtensionKind.PODCAST_SUBSCRIPTIONS,Mc.ExtensionKind.HTML_DESCRIPTION,Mc.ExtensionKind.CONTENT_WARNING,Mc.ExtensionKind.EPISODE_TRANSCRIPTS,Mc.ExtensionKind.USER_CREATED]},episodePlayedStatePolicy:{timeLeft:!0,isPlayed:!0,playable:!0,playabilityRestriction:!0,lastPlayedAt:!0},episodeCollectionPolicy:{isFollowingShow:!0,isInListenLater:!0,isNew:!0},episodeSyncPolicy:{offline:!0,syncProgress:!0},progress:!0}),Qc=function(){function e(t,n,r){(0,h.Z)(this,e),(0,a.Z)(this,"capabilities",{canSort:!0,canFilter:!0,canGetDefaultSort:!0}),this._cosmos=n,this.remote_configuration=r,this._podcast_paywalls_client=new Uc.PodcastPaywallsClient(t),this._show_service_client=new Zc.ShowServiceClient(t),this._is_show_esperanto_enabled=r.getValue(jt.C4)}var t,n,r,i,s,c;return(0,y.Z)(e,[{key:"getMetadata",value:(c=(0,o.Z)(l().mark((function e(t){var n,r,i,a,o,s,c;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=he().from(t).getBase62Id(),this._is_show_esperanto_enabled){e.next=9;break}return i=Jc(0),a=Xc(1),e.next=6,this._cosmos.get("".concat(jc,"/").concat(r,"?").concat(Vc).concat(i).concat(a),Wc);case 6:return o=e.sent,s=Vl.Response.fromJSON(o),e.abrupt("return",hc(s));case 9:return e.next=11,this._show_service_client.getShow(Zc.GetShowRequest.fromPartial({showId:r,range:{start:0,limit:1},headerPolicy:zc,listPolicy:Kc,sectionsPolicy:{trailerSection:!0,nextBestEpisode:!0}}));case 11:if(void 0!==(c=e.sent).response&&(null===(n=c.status)||void 0===n?void 0:n.code)===Zc.Status_Code.SUCCESS){e.next=14;break}throw new Error("Error while getting show metadata");case 14:return e.abrupt("return",hc(c.response));case 15:case"end":return e.stop()}}),e,this)}))),function(e){return c.apply(this,arguments)})},{key:"getAccessInfo",value:(s=(0,o.Z)(l().mark((function e(t){var n,r,i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._is_show_esperanto_enabled){e.next=6;break}return e.next=3,this._cosmos.get("sp://core-show/unstable/decorate?".concat(Vc),{items:[t],policy:{show:{extension:[Mc.ExtensionKind.SHOW_ACCESS]}}});case 3:return n=e.sent,r=jl.Response.fromJSON(n),e.abrupt("return",Yl(r));case 6:return e.next=8,this._show_service_client.getDecorate(Zc.GetDecorateRequest.fromPartial({item:[t],showPolicy:{showPolicy:{extension:[Mc.ExtensionKind.SHOW_ACCESS]}}}));case 8:if(void 0!==(i=e.sent).response){e.next=11;break}throw new Error("decorate request error");case 11:return e.abrupt("return",Yl(i.response));case 12:case"end":return e.stop()}}),e,this)}))),function(e){return s.apply(this,arguments)})},{key:"getBookContents",value:(i=(0,o.Z)(l().mark((function e(t,n){var r,i,a,o,s,c,u;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.doRefreshSubscription){e.next=3;break}return e.next=3,this._podcast_paywalls_client.putShowSubscription(Uc.PodcastPaywallsShowSubscriptionRequest.fromPartial({showUri:t}));case 3:if(i=he().from(t).getBase62Id(),this._is_show_esperanto_enabled){e.next=13;break}return a=Jc(n.offset),o=Xc(n.limit),e.next=9,this._cosmos.get("".concat(jc,"/").concat(i,"?").concat(Vc).concat(a).concat(o),Hc);case 9:return(s=e.sent).item=s.items,c=Vl.Response.fromJSON(s),e.abrupt("return",tc(c,n.offset,n.limit));case 13:return e.next=15,this._show_service_client.getShow(Zc.GetShowRequest.fromPartial({showId:i,range:{start:n.offset,limit:n.limit},listPolicy:Gc}));case 15:if(void 0!==(u=e.sent).response&&(null===(r=u.status)||void 0===r?void 0:r.code)===Zc.Status_Code.SUCCESS){e.next=18;break}throw new Error("Error while getting show metadata");case 18:return e.abrupt("return",tc(u.response,n.offset,n.limit));case 19:case"end":return e.stop()}}),e,this)}))),function(e,t){return i.apply(this,arguments)})},{key:"getContents",value:(r=(0,o.Z)(l().mark((function e(t,n){var r,i,a,o,s,c,u,d,m,p,f,v;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=he().from(t).getBase62Id(),this._is_show_esperanto_enabled){e.next=12;break}return a=Fc(n.sort),o=Ac(n.filters),s=Jc(n.offset),c=Xc(n.limit),e.next=8,this._cosmos.get("".concat(jc,"/").concat(i,"?").concat(Vc).concat(a).concat(o).concat(s).concat(c),Hc);case 8:return(u=e.sent).item=u.items,d=Vl.Response.fromJSON(u),e.abrupt("return",Kl(d,n.offset,n.limit));case 12:return m=$c(n.sort),p=Ic(n.filters),e.next=16,this._show_service_client.getShow(Zc.GetShowRequest.fromPartial({showId:i,sortOrder:m,filter:p,listPolicy:Gc,range:{start:n.offset,limit:n.limit}}));case 16:if(void 0!==(f=e.sent).response&&(null===(r=f.status)||void 0===r?void 0:r.code)===Zc.Status_Code.SUCCESS){e.next=19;break}throw new Error("Error while getting show metadata: ".concat(null===(v=f.status)||void 0===v?void 0:v.reason));case 19:return e.abrupt("return",Kl(f.response,n.offset,n.limit));case 20:case"end":return e.stop()}}),e,this)}))),function(e,t){return r.apply(this,arguments)})},{key:"getEpisodeOrChapter",value:(n=(0,o.Z)(l().mark((function e(t){var n,r,i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._is_show_esperanto_enabled){e.next=6;break}return e.next=3,this._cosmos.get("sp://core-show/unstable/decorate?".concat(Vc),{items:[t],policy:Yc});case 3:return n=e.sent,r=jl.Response.fromJSON(n),e.abrupt("return",oc(r));case 6:return e.next=8,this._show_service_client.getDecorate(Zc.GetDecorateRequest.fromPartial({item:[t],episodePolicy:qc}));case 8:if(void 0!==(i=e.sent).response){e.next=11;break}throw new Error("decorate request error");case 11:return e.abrupt("return",oc(i.response));case 12:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"checkoutBook",value:(t=(0,o.Z)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,Bc.Q)(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),function(e){return t.apply(this,arguments)})},{key:"getPlayerSort",value:function(e){return e?Lc(xc(e)).join(", "):""}},{key:"getPlayerFilter",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Tc(Pc(e))}}]),e}();function Jc(e){return"number"!=typeof e?"":"&start=".concat(e)}function Xc(e){return"number"!=typeof e?"":"&length=".concat(e)}function $c(e){return(null==e?void 0:e.field)===Hl.ay.PUBLISH_DATE&&e.order===Hl.i5.ASC?Zc.SortOrder.PUBLISH_DATE_ASC:(null==e?void 0:e.field)===Hl.ay.PUBLISH_DATE&&e.order===Hl.i5.DESC?Zc.SortOrder.PUBLISH_DATE_DESC:Zc.SortOrder.CONSUMPTION_ORDER_ASC}var eu=n(79742),tu=n(54708),nu=n(66587),ru="sp://karaoke",iu=("".concat(ru,"/status"),"".concat(ru,"/vocal-volume"),function(){function e(t){(0,h.Z)(this,e),this.karaokeServiceClient=new eu.gw(t)}var t,n,r;return(0,y.Z)(e,[{key:"getCapabilities",value:function(){return{isSupported:!0}}},{key:"setVocalVolume",value:(r=(0,o.Z)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.karaokeServiceClient.postVocalVolume({volume:t});case 2:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"setStatus",value:(n=(0,o.Z)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.karaokeServiceClient.postStatus({status:t===nu.q.ENABLED?tu.KaraokeStatus.ENABLED:tu.KaraokeStatus.DISABLED});case 2:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"getStatus",value:(t=(0,o.Z)(l().mark((function e(){var t,n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.karaokeServiceClient.getStatus({});case 2:return t=e.sent,n=t.status,e.abrupt("return",n===tu.KaraokeStatus.ENABLED?nu.q.ENABLED:nu.q.DISABLED);case 5:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}]),e}()),au=n(76715),ou=n(12996),su=n(11281);function lu(e,t){return cu.apply(this,arguments)}function cu(){return(cu=(0,o.Z)(l().mark((function e(t,n){var r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=(0,ou.f)(Yt.createBaseTransport,(0,su.w)(),t)).addPlugin(au.dv,{WebSocket}),r.addPlugin(n),r.connect(),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var uu=n(71641),du=n(45987),mu=["country_code","type","ads","catalogue"];function pu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pu(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var vu=function(){function e(t,n){(0,h.Z)(this,e),this._cosmos=t,this._product_state=n}var t,n;return(0,y.Z)(e,[{key:"getUser",value:(n=(0,o.Z)(l().mark((function e(){var t,n,r,i,a,o,s;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._cosmos.get("sp://desktop/v1/session");case 2:return i=e.sent,a=i.username,e.next=6,this._cosmos.get("sp://core-profile/v1/profiles",{usernames:[a]});case 6:return o=e.sent,s=o.profiles,e.abrupt("return",{type:ke.p.USER,uri:he().profileURI(a).toURI(),username:a,displayName:(null==s||null===(t=s[0])||void 0===t?void 0:t.name)||a,images:(null==s||null===(n=s[0])||void 0===n||null===(r=n.images)||void 0===r?void 0:r.map((function(e){return{url:e.url,width:e.maxWidth,height:e.maxHeight}})))||[],optInTrialPremiumOnlyMarket:!1});case 9:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"getProductState",value:(t=(0,o.Z)(l().mark((function e(){var t,n,r,i,a,o;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._product_state.getValues(p.GetValuesRequest.fromPartial({}));case 2:return t=e.sent.pairs,n=t.country_code,r=t.type,i=t.ads,a=t.catalogue,o=(0,du.Z)(t,mu),e.abrupt("return",fu({country:n,product:r,ads:i,catalogue:a},o));case 9:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}]),e}(),gu=n(15408);function hu(e){return yu.apply(this,arguments)}function yu(){return yu=(0,o.Z)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.get("sp://desktop/v1/platform");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),yu.apply(this,arguments)}var ku=n(49085),Eu=n(32094).L.addMiddleware(ku._),bu=n(6024),_u="app.player.autoplay";function Su(e){return[/^spotify:user:\w+:collection$/,/^spotify:ads?:/,/^spotify:episode:/,/^spotify:local:/,/^spotify:internal:local-files/,/^spotify:series:/,/^spotify:show:/].some((function(t){return e.match(t)}))}function wu(e){return Nu.apply(this,arguments)}function Nu(){return(Nu=(0,o.Z)(l().mark((function e(t){var n,r,i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.get({key:_u});case 2:return r=e.sent,i=r.entries,e.abrupt("return",!(null===(n=i["app.player.autoplay"])||void 0===n||!n.bool));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ou(e){return Cu.apply(this,arguments)}function Cu(){return(Cu=(0,o.Z)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",bu.BC.query(Wt.b.getInstance(),t).then((function(e){return 200===e.status&&e.body?e.body:null})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Tu(e,t,n,r){t.getEvents().addListener(Xa.rg.CONTEXT_WRAPAROUND,function(){var a=(0,o.Z)(l().mark((function a(o){var s,c,u,d,m,p,f,v,g,h,y,k,E,b;return l().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(d=o.data,m=d.contextURI,p=d.previousItemURI,!Su(m)){a.next=3;break}return a.abrupt("return");case 3:if("true"!==(null==(f=t.getState())||null===(s=f.context)||void 0===s||null===(c=s.metadata)||void 0===c?void 0:c["disable-autoplay"])){a.next=6;break}return a.abrupt("return");case 6:if(null!=(v=n.getState())&&null!==(u=v.activeDevice)&&void 0!==u&&u.isLocal){a.next=9;break}return a.abrupt("return");case 9:return a.next=11,Promise.all([wu(e),Ou(m)]);case 11:if(g=a.sent,h=(0,i.Z)(g,2),y=h[0],k=h[1],y&&null!==k){a.next=17;break}return a.abrupt("return");case 17:return a.next=19,r.getContext(k,{previousTrackURIs:he().isTrack(p)?[p]:[],isAutoplay:!0});case 19:E=a.sent,b={shuffle:!1,repeat:Qe.zq.REPEAT_NONE},t.play(E,{featureIdentifier:"infinite-playback",referrerIdentifier:"infinite-playback"},b);case 22:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}())}function Iu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Au(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Iu(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Iu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Pu(e,t){return Du.apply(this,arguments)}function Du(){return(Du=(0,o.Z)(l().mark((function e(t,n){var r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t();case 2:if(null===(r=e.sent)){e.next=5;break}return e.abrupt("return",Au(Au({},r),{},{market:"from_token",locale:n,valid:!0}));case 5:return e.abrupt("return",{accessToken:"accessToken",accessTokenExpirationTimestampMs:0,isAnonymous:!1,market:"from_token",locale:n,valid:!1});case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ru(e){return xu.apply(this,arguments)}function xu(){return(xu=(0,o.Z)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("i18n/".concat(t,".json")).then((function(e){return e.json()}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Lu(e){return Fu.apply(this,arguments)}function Fu(){return(Fu=(0,o.Z)(l().mark((function e(t){var n,r,i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ru(t);case 3:return n=e.sent,e.abrupt("return",[t,n]);case 7:return e.prev=7,e.t0=e.catch(0),r=g.go.en,(0,c.n_)({message:"Attempt to use desired locale '".concat(t,"' failed. Using fallback '").concat(r,"'.")}),(0,Bl.PC)(e.t0),e.next=14,Ru(r);case 14:return i=e.sent,e.abrupt("return",[r,i]);case 16:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function Uu(e,t){return Zu.apply(this,arguments)}function Zu(){return(Zu=(0,o.Z)(l().mark((function e(t,n){var r,a,o,s,c;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Lu(n);case 2:return r=e.sent,a=(0,i.Z)(r,2),o=a[0],s=a[1],e.next=8,Pu(t,o);case 8:return c=e.sent,e.abrupt("return",[s,c]);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Mu(e,t){var n=new We(new p.ProductStateClient(t)),r=new Ge(e);return{streamingRules:function(){return n.streamingRules()},isIncognito:function(){return r.isIncognito()}}}function Bu(e){return ju.apply(this,arguments)}function ju(){return ju=(0,o.Z)(l().mark((function e(t){var n,a,s,c,g,h,y,k,E,b,_,S,w,N,I,A,P,D,L,F,U,Z,B,j,V,H,G,z,K,Y,$,ee,re,ae,oe,se,le,ce,me,pe,ve,ge,he,ye,ke,Ee,be,_e,Se,we,Ne,Oe,Te,De,Re,Le,Fe,Ue,Ze,Me,Be,je;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return navigator.serviceWorker&&navigator.serviceWorker.getRegistrations().then((function(e){return e.forEach((function(e){return e.unregister()}))})),n="65b708073fc0480ea92a077233ca87bd",a=ue(),s=navigator.language,c=(0,ne.v)(),g=(0,_n.G)(),bn(c),h=new nn(c),y=h.getTokenProvider(),e.next=11,lu(y,(function(e){return h.createTransportPlugin(e)}));case 11:return k=e.sent,e.next=14,Promise.all([hu(c),Uu(y,s),(0,zt.B)(),ie()]);case 14:return E=e.sent,b=(0,i.Z)(E,4),_=b[0],S=(0,i.Z)(b[1],2),w=S[0],N=S[1],I=b[2],A=b[3],P=te(_,k,n),D=new Eu({timeout:1e4,clientId:"desktop-ui",transport:k,eventSender:P,version:a}),(0,X.d)(k,N,w,a,_.app_platform),L=new vu(c,new p.ProductStateClient(g)),e.next=28,L.getUser();case 28:return F=e.sent,U=(null==F?void 0:F.username)||null,Z=new _a.K(null!=U?U:"anonymous"),e.next=33,D.resolve({username:U});case 33:return B=e.sent,e.t0=f.VK,e.next=37,D.resolve({username:U});case 37:return e.t1=e.sent,e.t2=A,e.t3=(0,gu.E)(Z),j=e.t0.merge.call(e.t0,e.t1,e.t2,e.t3),V=(0,Sn.PQ)(Wt.b.getInstance()),H=(0,Sn.QM)(V),G=new fe(c),z=Qo(c,g,"xpui_2022-08-26_1661529059895_3ae3b4f"),K=Ja(g,c),Y=Ga(null!=U?U:"anonymous",c,g),$=(0,He.J)(Wt.b.getInstance(),z,window,j.getValue(jt.sT)),ee=j.getValue(Gt.XC)?sa(c,g):$i(c,g),re=new Rl(c,Wt.b.getInstance()),ae=new sl(c,Wt.b.getInstance()),oe=new dl(c,Wt.b.getInstance()),se=new Ae.l(Wt.b.getInstance(),V,z,!1),le=new Qc(g,c,j),ce=new xe(new p.ProductStateClient(g),ae,le),me=new ka(g,c),pe=new Ce(c,H),ve=new M(c),ge=new T(c),he=new q(c),ye=new Q.$(Wt.b.getInstance()),ke=new Ie(c),Ee=new Ve(c),be=new Ml(g),_e=new yn(c,j.getValue(jt.IE)?new d.M$(g):void 0),Se=new uu.z(v.R.getUBILogger({eventSender:P,disableAutoBackgroundMonitoring:!0,playContextUriProvider:{getPlayContextUri:function(){var e,t;return null!==(e=null===(t=z.getState())||void 0===t?void 0:t.context.uri)&&void 0!==e?e:null}},playbackIdProvider:{getPlaybackId:function(){var e,t;return null!==(e=null===(t=z.getState())||void 0===t?void 0:t.playbackId)&&void 0!==e?e:null}}}),null!==F),we=new C,U&&_.is_developer_mode?(Oe="lastVisitedLocation",Te=Z.getItem(Oe),(Ne=Te instanceof Ea.d||Te instanceof ba.y?(0,u.PP)({initialEntries:void 0}):(0,u.PP)({initialEntries:[Te]})).listen((function(e){Z.setItem(Oe,e.pathname)}))):Ne=(0,u.PP)(),j.getValue(jt.Cd)||Tu((0,m.makePrefs)(g),z,_e,se),De=new Pe.U,Re=(0,J.R)(t,Ne,P,z),Le=j.getValue(jt.Lp),Fe=xt(g,Mu(c,g),P),Ue=new Ht(c,(0,m.makePrefs)(g),j,P,Le?[].concat((0,r.Z)(Re.vto.factories),[Fe]):Re.vto.factories),Ze=new O(Wt.b.getInstance(),H,z,c),Me=new iu(g),Be=new R(c),je=new W((0,m.makePrefs)(g),Z),j.getValue(Gt.fS)?ve.setTitlebarHeight(x.J):ve.setTitlebarHeight(x.m),e.abrupt("return",{version:a,container:t,operatingSystem:(0,de.L)(),isDeveloperMode:_.is_developer_mode,isVideoSupported:!0,enableCastConnect:!1,getServiceWorkerMessenger:function(){var e=(0,o.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(function(){return new Promise((function(){}))}));case 1:case"end":return e.stop()}}),e)})));Spicetify.Platform={};Spicetify.Platform["Session"]=N;Spicetify.Platform["Transport"]=k;Spicetify.Platform["EventSender"]=P;Spicetify.Platform["Translations"]=w;Spicetify.Platform["FeatureFlags"]=I;Spicetify.Platform["History"]=Ne;Spicetify.Platform["AdManagers"]=Re;Spicetify.Platform["RemoteConfiguration"]=B;Spicetify.Platform["ActionStoreAPI"]=we;Spicetify.Platform["AuthorizationAPI"]=h;Spicetify.Platform["ClipboardAPI"]=ge;Spicetify.Platform["ConnectAPI"]=_e;Spicetify.Platform["ControlMessageAPI"]=ve;Spicetify.Platform["FacebookAPI"]=he;Spicetify.Platform["FollowAPI"]=ye;Spicetify.Platform["GraphQLLoader"]=V;Spicetify.Platform["LibraryAPI"]=ee;Spicetify.Platform["LocalFilesAPI"]=me;Spicetify.Platform["OfflineAPI"]=Y;Spicetify.Platform["PlatformData"]=_;Spicetify.Platform["PlayerAPI"]=Spicetify.Player.origin=z;Spicetify.Platform["PlayHistoryAPI"]=pe;Spicetify.Platform["PlaylistAPI"]=ae;Spicetify.Platform["PlaylistPermissionsAPI"]=oe;Spicetify.Platform["PrivateSessionAPI"]=ke;Spicetify.Platform["RadioStationAPI"]=se;Spicetify.Platform["RecaptchaLoggerAPI"]=De;Spicetify.Platform["RecentlyPlayedAPI"]=be;Spicetify.Platform["ReportAPI"]=ce;Spicetify.Platform["RootlistAPI"]=re;Spicetify.Platform["SegmentsAPI"]=Ee;Spicetify.Platform["ShowAPI"]=le;Spicetify.Platform["UpdateAPI"]=G;Spicetify.Platform["UserAPI"]=L;Spicetify.Platform["VideoAPI"]=Ue;Spicetify.Platform["EnhanceAPI"]=Ze;Spicetify.Platform["SEOExperiments"]={};Spicetify.Platform["SingAlongAPI"]=Me;Spicetify.Platform["PlaybackAPI"]=K;Spicetify.Platform["UBILogger"]=Se;Spicetify.Platform["CollectionPlatformAPI"]=Be;Spicetify.Platform["LocalStorageAPI"]=Z;Spicetify.Platform["EqualizerAPI"]=je;Spicetify.Platform["SoundtrapAPI"]=$;return function(){return e.apply(this,arguments)}}(),getSession:function(){return N},getTransport:function(){return k},getEventSender:function(){return P},getTranslations:function(){return w},getFeatureFlags:function(){return I},getHistory:function(){return Ne},getAdManagers:function(){return Re},getRemoteConfiguration:function(){return B},getActionStoreAPI:function(){return we},getAuthorizationAPI:function(){return h},getClipboardAPI:function(){return ge},getConnectAPI:function(){return _e},getControlMessageAPI:function(){return ve},getFacebookAPI:function(){return he},getFollowAPI:function(){return ye},getGraphQLLoader:function(){return V},getLibraryAPI:function(){return ee},getLocalFilesAPI:function(){return me},getOfflineAPI:function(){return Y},getPlatformData:function(){return _},getPlayerAPI:function(){return z},getPlayHistoryAPI:function(){return pe},getPlaylistAPI:function(){return ae},getPlaylistPermissionsAPI:function(){return oe},getPrivateSessionAPI:function(){return ke},getRadioStationAPI:function(){return se},getRecaptchaLoggerAPI:function(){return De},getRecentlyPlayedAPI:function(){return be},getReportAPI:function(){return ce},getRootlistAPI:function(){return re},getSegmentsAPI:function(){return Ee},getShowAPI:function(){return le},getUpdateAPI:function(){return G},getUserAPI:function(){return L},getVideoAPI:function(){return Ue},getEnhanceAPI:function(){return Ze},getSEOExperiments:function(){return{}},getSingAlongAPI:function(){return Me},getPlaybackAPI:function(){return K},getUBILogger:function(){return Se},getCollectionPlatformAPI:function(){return Be},getLocalStorageAPI:function(){return Z},getEqualizerAPI:function(){return je},getSoundtrapAPI:function(){return $}});case 81:case"end":return e.stop()}}),e)}))),ju.apply(this,arguments)}},47094:(e,t,n)=>{"use strict";n.d(t,{ZO:()=>u,bX:()=>d,c6:()=>c,wW:()=>m});n(24603),n(28450),n(88386),n(39714),n(66992),n(41539),n(78783),n(4129),n(33948),n(85827),n(47941),n(78011),n(83510),n(15306),n(82526),n(41817),n(47042);var r=n(71002),i=n(60136),a=n(89611),o=(n(74916),n(4723),n(82772),n(64765),n(57481)),s=n(63767);function l(){l=function(e,t){return new n(e,void 0,t)};var e=RegExp.prototype,t=new WeakMap;function n(e,r,i){var o=new RegExp(e,r);return t.set(o,i||t.get(e)),(0,a.Z)(o,n.prototype)}function o(e,n){var r=t.get(n);return Object.keys(r).reduce((function(t,n){return t[n]=e[r[n]],t}),Object.create(null))}return(0,i.Z)(n,RegExp),n.prototype.exec=function(t){var n=e.exec.call(this,t);return n&&(n.groups=o(n,this)),n},n.prototype[Symbol.replace]=function(n,i){if("string"==typeof i){var a=t.get(this);return e[Symbol.replace].call(this,n,i.replace(/\$<([^>]+)>/g,(function(e,t){return"$"+a[t]})))}if("function"==typeof i){var s=this;return e[Symbol.replace].call(this,n,(function(){var e=arguments;return"object"!=(0,r.Z)(e[e.length-1])&&(e=[].slice.call(e)).push(o(e,s)),i.apply(this,e)}))}return e[Symbol.replace].call(this,n,i)},l.apply(this,arguments)}var c=l(/Spotify\/(.+)\s/,{version:1});function u(){if(!!window.navigator.userAgent.match(c))return s.W.Desktop;var e="serviceWorker"in window.navigator,t=window.matchMedia("(display-mode: standalone)").matches,n="Windows"in window;return e&&(t||n)?s.W.PWA:s.W.Web}function d(){var e="serviceWorker"in window.navigator,t=-1!==window.location.search.indexOf("pwa=1"),n=(0,o.L)()===s.U.ChromeOS;return e&&(n||t)}function m(){return u()===s.W.Desktop}},57481:(e,t,n)=>{"use strict";n.d(t,{L:()=>o,y:()=>s});n(68309);var r=n(51206),i=n.n(r),a=n(63767);function o(){var e=i().parse(window.navigator.userAgent).os.name;return"macOS"===e?a.U.macOS:"Windows"===e?a.U.Windows:"Linux"===e?a.U.Linux:"Chrome OS"===e?a.U.ChromeOS:a.U.Other}function s(){return i().getParser(window.navigator.userAgent).getOSName()||"not_applicable"}},56383:(e,t,n)=>{"use strict";n.d(t,{G:()=>a});n(68309);var r=n(51206),i=n.n(r);function a(){return"Safari"===i().parse(window.navigator.userAgent).browser.name}},63767:(e,t,n)=>{"use strict";var r,i;n.d(t,{U:()=>i,W:()=>r}),function(e){e.Web="Web",e.PWA="PWA",e.Desktop="Desktop"}(r||(r={})),function(e){e.macOS="macOS",e.Windows="Windows",e.Linux="Linux",e.ChromeOS="ChromeOS",e.Other="Other"}(i||(i={}))},87331:(e,t,n)=>{"use strict";var r;n.d(t,{J:()=>r}),function(e){e[e.UPDATE_NONE=0]="UPDATE_NONE",e[e.UPDATE_AVAILABLE=1]="UPDATE_AVAILABLE",e[e.UPDATE_PROCESSING=2]="UPDATE_PROCESSING",e[e.UPDATE_READY=3]="UPDATE_READY"}(r||(r={}))},37324:(e,t,n)=>{"use strict";n.d(t,{z:()=>r});var r=(0,n(67294).createContext)(null)},1009:(e,t,n)=>{"use strict";n.d(t,{g:()=>o});var r=n(29439),i=n(67294),a=n(37324);function o(){var e=(0,i.useContext)(a.z),t=(0,i.useState)(null),n=(0,r.Z)(t,2),o=n[0],s=n[1];return(0,i.useEffect)((function(){return e.subscribe(s).cancel}),[e,s]),o}},9204:(e,t,n)=>{"use strict";n.d(t,{G:()=>r,k:()=>p});n(41539),n(81299),n(12419);var r,i=n(15671),a=n(43144),o=n(97326),s=n(60136),l=n(82963),c=n(61120),u=n(4942),d=(n(24812),n(98938));function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.Z)(e);if(t){var i=(0,c.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,l.Z)(this,n)}}!function(e){e.UPDATE="update"}(r||(r={}));var p=function(e){(0,s.Z)(n,e);var t=m(n);function n(){var e;return(0,i.Z)(this,n),e=t.call(this),(0,u.Z)((0,o.Z)(e),"_numListeners",0),e.onAddListener(r.UPDATE,e.onListenerAdded.bind((0,o.Z)(e))),e.onRemoveListener(r.UPDATE,e.onListenerRemoved.bind((0,o.Z)(e))),e}return(0,a.Z)(n,[{key:"onListenerAdded",value:function(){++this._numListeners,this.startListening()}},{key:"onListenerRemoved",value:function(){0==--this._numListeners&&this.stopListening()}}]),n}(d.r)},96335:(e,t,n)=>{"use strict";n.d(t,{Ef:()=>o,nF:()=>p,U5:()=>m});var r=n(67294),i=(n(21703),n(96647),new Error("Play History API used without being initialized.\n   Did you provide the context in a a parent component?'")),a=(0,r.createContext)({getContents:function(){throw i}}),o=function(e){var t=e.instance,n=e.children;return r.createElement(a.Provider,{value:t},n)},s=n(15861),l=n(29439),c=n(87757),u=n.n(c),d=n(9204);function m(){var e=(0,r.useContext)(a),t=(0,r.useState)(null),n=(0,l.Z)(t,2),i=n[0],o=n[1],c=(0,r.useCallback)((0,s.Z)(u().mark((function t(){return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=o,t.next=3,e.getContents();case 3:return t.t1=t.sent,t.abrupt("return",(0,t.t0)(t.t1));case 5:case"end":return t.stop()}}),t)}))),[e]);return function(e,t){var n=(0,r.useContext)(a);(0,r.useEffect)((function(){var r=n.getEvents();return r.addListener(e,t),function(){r.removeListener(e,t)}}),[e,t,n])}(d.G.UPDATE,(function(e){return o(e.data)})),(0,r.useEffect)((function(){c()}),[c]),i}function p(){return(0,r.useContext)(a).getCapabilities().isSupported}},26721:(e,t,n)=>{"use strict";n.d(t,{E:()=>a,i:()=>i});n(21703),n(96647);var r=n(67294),i=(0,r.createContext)(null);function a(){var e=(0,r.useContext)(i);if(null===e)throw new Error("Trying to use 'PrivateSessionContext' without 'PrivateSessionProvider'!");return e}},53602:(e,t,n)=>{"use strict";n.d(t,{M:()=>s});var r=n(29439),i=n(67294),a=n(10912),o=n(26721);function s(){var e=(0,o.E)(),t=(0,i.useState)(!1),n=(0,r.Z)(t,2),s=n[0],l=n[1],c=(0,a.t)();return(0,i.useEffect)((function(){var t=e.subscribeToPrivateSession((function(e){c()&&l(e)}));return function(){t()}}),[e,c]),{isPrivateSession:s,setPrivateSession:(0,i.useCallback)((function(t){e.setPrivateSession(t)}),[e])}}},3644:(e,t,n)=>{"use strict";n.d(t,{B:()=>w});n(68309),n(82526),n(41817),n(32165),n(66992),n(33948),n(79753);var r=n(93433),i=n(15671),a=n(43144);n(74916),n(77601),n(21703),n(96647),n(69600),n(47042),n(91038),n(78783),n(57327),n(41539),n(34553);function o(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){l=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(l)throw a}}}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var l=new Intl.Collator(void 0,{sensitivity:"base",usage:"search"}),c=/[\t-\r \x85\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/,u=/(?:[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDEAD\uDF55-\uDF59\uDF86-\uDF89]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDEB9\uDF3C-\uDF3E]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDFFF]|\uD809[\uDC70-\uDC74]|\uD80B[\uDFF1\uDFF2]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A\uDFE2]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F])/,d=/(?:[\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u3005\u3007\u3021-\u3029\u3038-\u303B\u3400-\u4DBF\u4E00-\u9FFF\uF900-\uFA6D\uFA70-\uFAD9]|\uD81B[\uDFE2\uDFE3\uDFF0\uDFF1]|[\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/;function m(e){return null!==e&&c.test(e)}function p(e){return null!==e&&(e<="/"||e>=":"&&e<="@"||"\\"===e||m(e))}function f(e){return null!==e&&u.test(e)}function v(e){return null!==e&&d.test(e)}var g=function(){function e(t,n,r){if((0,i.Z)(this,e),n<0||r<0||n+r>t.length)throw new RangeError;this.data=t,this.offset=n,this.length=r,this.position=0}return(0,a.Z)(e,[{key:"toString",value:function(){return this.data.slice(this.offset,this.offset+this.length).join("")}},{key:"slice",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.length;if(t<0||n>this.length)throw new RangeError;var r=this.offset+t,i=n-t;return new e(this.data,r,i)}},{key:"nextCodePoint",value:function(){return this.position===this.length?null:this.data[this.offset+this.position++]}}],[{key:"from",value:function(t){var n=Array.from(t.normalize("NFC"));return new e(n,0,n.length)}}]),e}();function h(e){var t;do{t=e.nextCodePoint()}while(null!==t&&m(t)||f(t));return t}function y(e,t){var n=h(e),r=h(t);if(null===r)return{offset:0,length:0};for(var i=e.offset+e.position-1,a=e.offset+e.position;;){if(null===n&&null===r)return{offset:i,length:a-i};if(null===r)return{offset:i,length:a-i};if(null===n)return null;if(0!==l.compare(n,r))return null;a=e.offset+e.position,n=h(e),r=h(t)}}function k(e,t){var n,r,i;do{r=e.position,n=e.nextCodePoint()}while(null!==n&&m(n));if(null!=t&&t.segmentQuotedStrings&&function(e){return null!==e&&('"'===e||"'"===e)}(n)){var a=n;r=e.position;do{i=e.position,n=e.nextCodePoint()}while(null!==n&&n!==a);return null===n&&r===i?null:e.slice(r,i)}do{if(i=e.position,null!=t&&t.segmentCJKUnifieIdeographs&&v(n))break;n=e.nextCodePoint()}while(null!==n&&!p(n));return null===n&&r===i?null:e.slice(r,i)}function E(e){return k(e,{segmentQuotedStrings:!0,segmentCJKUnifieIdeographs:!1})}function b(e){return k(e,{segmentQuotedStrings:!1,segmentCJKUnifieIdeographs:!0})}function _(e,t){for(var n=[],r=b(e);null!==r;r=b(e)){var i=y(r,t.slice());null===i?null===(i=y(e.slice(r.offset),t.slice()))||n.push(i):n.push(i)}return n}function S(e,t){return e.offset===t.offset&&e.length===t.length}function w(e){for(var t=g.from(e),n=[],i=E(t);null!==i;i=E(t)){for(var a=[],s=0;s<(arguments.length<=1?0:arguments.length-1);++s){var l,c=s+1<1||arguments.length<=s+1?void 0:arguments[s+1],u=_(g.from(c),i),d=o(u);try{for(d.s();!(l=d.n()).done;){var m=l.value;a.push({text:c,range:m})}}catch(e){d.e(e)}finally{d.f()}}if(0===a.length)return null;n.push.apply(n,(0,r.Z)(a.filter((function(e,t,n){return e.range.length>0&&n.findIndex((function(t){return S(e.range,t.range)}))===t}))))}return n.length>0?n:null}},85836:(e,t,n)=>{"use strict";n.d(t,{B:()=>r});var r={disallowTogglingRepeatContextReasons:["endless_context"],disallowTogglingRepeatTrackReasons:["endless_context"],disallowTogglingShuffleReasons:["endless_context"]}},92794:(e,t,n)=>{"use strict";n.d(t,{Ap:()=>a,tv:()=>o});n(21703),n(96647);var r=n(67294),i=(0,r.createContext)(void 0),a=function(e){var t=e.instance,n=e.children;return r.createElement(i.Provider,{value:t},n)},o=function(){var e=(0,r.useContext)(i);if(!e)throw new Error("useRadioStationAPI must be used within a RadioStationAPIProvider");return e}},25121:(e,t,n)=>{"use strict";n.d(t,{j:()=>s});var r=n(67294),i=n(86706),a=n(67870),o=n(92794);function s(e,t){var n=(0,o.tv)(),s=(0,i.I0)();return(0,r.useCallback)((function(){s((0,a.pu)()),n.banTrack(e,t)}),[n,s,e,t])}},29066:(e,t,n)=>{"use strict";n.d(t,{S:()=>o,t:()=>s});var r=n(29439),i=n(69518),a=n.n(i);function o(e){var t=a().from(e);if(null===t)return null;switch(t.type){case a().Type.ARTIST:case a().Type.ALBUM:case a().Type.TRACK:return a().stationURI([t.type,t.getBase62Id()]);case a().Type.PLAYLIST:case a().Type.PLAYLIST_V2:return a().stationURI(["playlist",t.getBase62Id()]);default:return null}}function s(e){var t,n,i=a().from(e);if(null===i||i.type!==a().Type.STATION)return null;if(2===(null===(t=i.args)||void 0===t?void 0:t.length)){var o=(0,r.Z)(i.args,2),s=o[0],l=o[1];switch(s){case a().Type.ARTIST:return a().artistURI(l);case a().Type.ALBUM:return a().albumURI(l);case a().Type.TRACK:return a().trackURI(l);case a().Type.PLAYLIST:case a().Type.PLAYLIST_V2:return a().playlistV2URI(l);default:return null}}if(4===(null===(n=i.args)||void 0===n?void 0:n.length)){var c=(0,r.Z)(i.args,4),u=c[0],d=c[2],m=c[3];if(u===a().Type.USER&&d===a().Type.PLAYLIST)return a().playlistV2URI(m)}return null}},91385:(e,t,n)=>{"use strict";n.d(t,{l:()=>B});var r,i=n(15861),a=n(15671),o=n(43144),s=n(4942),l=n(93433),c=n(87757),u=n.n(c),d=(n(66992),n(41539),n(78783),n(33948),n(60285),n(41637),n(69600),n(21249),n(92222),n(57327),n(47042),n(26541),n(74916),n(15306),n(21703),n(96647),n(85827),n(88674),n(47941),n(82526),n(38880),n(89554),n(54747),n(49337),n(33321),n(69070),n(69518)),m=n.n(d),p=n(85836),f=n(16516),v=n(34891),g=n(89952),h=n(76303),y=n(42781),k=(n(81299),n(12419),n(60136)),E=n(82963),b=n(61120),_=n(98938);function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,b.Z)(e);if(t){var i=(0,b.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,E.Z)(this,n)}}!function(e){e.BAN="ban"}(r||(r={}));var w=function(e){(0,k.Z)(n,e);var t=S(n);function n(){return(0,a.Z)(this,n),t.apply(this,arguments)}return(0,o.Z)(n)}(_.r),N=(n(68309),n(98984),{kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"fetchTracksForRadioStation"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uris"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"tracks"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uris"},value:{kind:"Variable",name:{kind:"Name",value:"uris"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Track"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"album"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"artists"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"profile"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"duration"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalMilliseconds"}}]}},{kind:"Field",name:{kind:"Name",value:"contentRating"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"label"}}]}}]}}]}}]}}]}),O=n(7073);function C(e,t){var n,r,i,a;if("Track"!==t.__typename)return function(e){return{type:y.p.TRACK,uri:e.uri,uid:e.uid,name:e.name,album:{type:y.p.ALBUM,uri:e.album_uri,name:e.metadata.album_title,images:[]},artists:[{type:y.p.ARTIST,uri:e.artist_uri,name:e.metadata.artist_name}],images:[{url:e.metadata.image_url}],duration:{milliseconds:0},mediaType:"audio",isExplicit:"true"===e.metadata.is_explicit,is19PlusOnly:!1,isLocal:!1,metadata:e.metadata,provider:"context"}}(e);var o=null!==(n=null===(r=t.album.coverArt)||void 0===r?void 0:r.sources.map((function(e){return{url:e.url,width:e.width,height:e.height}})))&&void 0!==n?n:[];return{type:y.p.TRACK,uri:t.uri,uid:e.uid,name:t.name,album:{type:y.p.ALBUM,uri:t.album.uri,name:t.album.name,images:o},artists:t.artists.items.map((function(e){return{type:y.p.ARTIST,uri:e.uri,name:e.profile.name}})),images:o,duration:{milliseconds:t.duration.totalMilliseconds},mediaType:"audio",isExplicit:(null===(i=t.contentRating)||void 0===i?void 0:i.label)===O.KS.Explicit,is19PlusOnly:(null===(a=t.contentRating)||void 0===a?void 0:a.label)===O.KS.NineteenPlus,isLocal:!1,metadata:e.metadata,provider:"context"}}function T(e,t){return I.apply(this,arguments)}function I(){return(I=(0,i.Z)(u().mark((function e(t,n){var r,i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(N,{uris:n.map((function(e){return e.uri}))});case 2:if(r=e.sent,(null==(i=null==r?void 0:r.data.tracks)?void 0:i.length)===n.length){e.next=6;break}throw new Error("Error decorating tracks for radio station! Mismatch in array sizes.");case 6:return e.abrupt("return",n.map((function(e,t){return C(e,i[t])})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function D(e){var t;return null===e?null:null!==(t=new URL(e).searchParams.get("salt"))&&void 0!==t?t:null}function R(e,t,n){var r=[];if(null!==t&&r.push("salt=".concat(t)),n.length>0){var i=n.map((function(e){return m().from(e.uri).getBase62Id()})).join(",");r.push("prev_tracks=".concat(i))}return"".concat("hm://radio-apollo/v3/tracks/").concat(e,"?").concat(r.join("&"))}function x(e,t,n){return{uri:e,pages:[{items:n,nextPageUrl:t}],restrictions:p.B}}function L(e,t,n){var r,i,a,o=D(null!==(r=null===(i=e.context.pages)||void 0===i||null===(a=i[0])||void 0===a?void 0:a.nextPageUrl)&&void 0!==r?r:null),s=t.item,c=t.nextItems,u=[].concat((0,l.Z)(s?[s]:[]),(0,l.Z)(c.slice(0,n))).filter(g.G_),d=R(t.context.uri,o,u),m=x(t.context.uri,d,u);return P(P({},e),{},{context:m,tracks:u})}function F(e,t,n,r){var i,a,o,s=null!==n?n:e.tracks.filter((function(e){return e.uri!==t})),l=null!==r?r:D(null!==(i=null===(a=e.context.pages)||void 0===a||null===(o=a[0])||void 0===o?void 0:o.nextPageUrl)&&void 0!==i?i:null),c=R(e.stationURI,l,s),u=x(e.stationURI,c,s);return P(P({},e),{},{context:u,tracks:s})}function U(e,t,n){return{stationURI:e.uri,entityURI:e.titleUri,title:e.title,image:{url:e.imageUri},relatedArtists:e.related_artists.map((function(e){return{type:y.p.ARTIST,uri:e.artistUri,name:e.artistName,images:[{url:e.imageUri}]}})),context:t,tracks:n}}function Z(e,t){var n,r;return null===e||null===t?e===t:(null===(n=e.item)||void 0===n?void 0:n.uid)===(null===(r=t.item)||void 0===r?void 0:r.uid)&&e.nextItems.length===t.nextItems.length&&e.nextItems.every((function(e,n){var r;return e.uid===(null===(r=t.nextItems[n])||void 0===r?void 0:r.uid)}))}var M={isAutoplay:!1,previousTrackURIs:[]},B=function(){function e(t,n,r,i){(0,a.Z)(this,e),(0,s.Z)(this,"_events",new w),this._builder=t,this._loader=n,this._playerAPI=r,this._isAnonymous=i}var t,n,l,c,d;return(0,o.Z)(e,[{key:"getCapabilities",value:function(){return{canGetStation:!1===this._isAnonymous}}},{key:"getEvents",value:function(){return this._events}},{key:"fetchStation",value:(d=(0,i.Z)(u().mark((function e(t,n){var r,i,a,o,s=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=s.length>2&&void 0!==s[2]?s[2]:M,a=t.replace("spotify:station:","spotify:"),e.next=4,this._builder.build().withMethod("GET").withHost(f.AA).withPath("/stations/".concat(a)).withQueryParameters({count:Math.min(1+n,5),prev_tracks:i.previousTrackURIs.map((function(e){return m().from(e).getBase62Id()})).join(","),autoplay:null!==(r=null==i?void 0:i.isAutoplay)&&void 0!==r&&r}).withEndpointIdentifier("/stations/{uri}").send();case 4:return o=e.sent,e.abrupt("return",o.body);case 6:case"end":return e.stop()}}),e,this)}))),function(e,t){return d.apply(this,arguments)})},{key:"createStation",value:(c=(0,i.Z)(u().mark((function e(t,n){var r,i,a,o,s;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetchStation(t,n);case 2:return r=e.sent,e.next=5,T(this._loader,r.tracks);case 5:if(i=e.sent,a=x(r.uri,r.next_page_url,i),o=U(r,a,i),s=this._playerAPI.getState(),!(0,h.QL)(s,t)){e.next=11;break}return e.abrupt("return",L(o,s,n));case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e,this)}))),function(e,t){return c.apply(this,arguments)})},{key:"getContext",value:(l=(0,i.Z)(u().mark((function e(t,n){var r,i,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this._playerAPI.getCapabilities(),i=r.maxNextTracks,e.next=3,this.fetchStation(t,i,n);case 3:return a=e.sent,e.abrupt("return",x(a.uri,a.next_page_url,a.tracks.map((function(e){return{type:y.p.TRACK,uid:e.uid,uri:e.uri,provider:"context"}}))));case 5:case"end":return e.stop()}}),e,this)}))),function(e,t){return l.apply(this,arguments)})},{key:"getStation",value:(n=(0,i.Z)(u().mark((function e(t,n){var a,o,s,l,c,d,p,f,y,k=this;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==(a=m().from(t))&&a.type===m().Type.STATION){e.next=3;break}throw new Error("Invalid station URI!");case 3:return o=this._playerAPI.getCapabilities(),s=o.maxNextTracks,l=this._playerAPI.getState(),e.next=7,this.createStation(t,s);case 7:return c=e.sent,d=function(){var e=(0,i.Z)(u().mark((function e(r){var i,a,o;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=r.data,a=(0,h.QL)(l,t)!==g.PO.NOT_ACTIVE,o=(0,h.QL)(i,t)!==g.PO.NOT_ACTIVE,a!==o||!Z(l,i)){e.next=5;break}return e.abrupt("return");case 5:if(!o){e.next=10;break}c=L(c,i,s),n(c),e.next=15;break;case 10:if(!a){e.next=15;break}return e.next=13,k.createStation(t,s);case 13:c=e.sent,n(c);case 15:l=i;case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(e){var r=e.data;r.stationURI!==t||(0,h.QL)(l,t)||(c=F(c,r.trackURI,r.newTracks,r.newSalt),n(c))},f=this._playerAPI.getEvents(),y=this._events,f.addListener(v.rg.UPDATE,d),y.addListener(r.BAN,p),e.abrupt("return",[c,{cancel:function(){f.removeListener(v.rg.UPDATE,d),y.removeListener(r.BAN,p)}}]);case 15:case"end":return e.stop()}}),e,this)}))),function(e,t){return n.apply(this,arguments)})},{key:"banTrack",value:(t=(0,i.Z)(u().mark((function e(t,n){var i,a,o,s,l,c,d,p,v=this;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==(i=m().from(n))&&i.type===m().Type.TRACK){e.next=3;break}throw new Error("Only tracks can be banned from radio stations!");case 3:return a=this._playerAPI.getCapabilities(),o=a.maxNextTracks,s=this._playerAPI.getState(),(0,h.QL)(s,t)&&((l=[]).push((function(){return v._playerAPI.removeFromQueue([{uri:n,uid:null}])})),(0,h.oT)(s,n)&&l.push((function(){return v._playerAPI.skipToNext()})),l.reduce((function(e,t){return e.then(t)}),Promise.resolve())),e.prev=6,e.next=9,this._builder.build().withMethod("POST").withHost(f.AA).withPath("/stations/".concat(t,"/downs/").concat(i.getBase62Id())).withQueryParameters({count:Math.min(1+o,5)}).withEndpointIdentifier("/stations/{stationURI}/downs/{id}").send().then((function(e){return e.body}));case 9:return c=e.sent,d=D(c.next_page_url),e.next=13,T(this._loader,c.tracks);case 13:p=e.sent,this._events.emit(r.BAN,{stationURI:t,trackURI:n,newTracks:p,newSalt:d}),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(6),this._events.emit(r.BAN,{stationURI:t,trackURI:n,newTracks:null,newSalt:null});case 20:case"end":return e.stop()}}),e,this,[[6,17]])}))),function(e,n){return t.apply(this,arguments)})}]),e}()},74670:(e,t,n)=>{"use strict";n.d(t,{U:()=>a});var r=n(15671),i=n(43144),a=function(){function e(){(0,r.Z)(this,e)}return(0,i.Z)(e,[{key:"log",value:function(){}}]),e}()},14644:(e,t,n)=>{"use strict";n.d(t,{P:()=>u,j:()=>d});var r=n(29439),i=(n(5735),n(83753),n(21703),n(96647),n(67294)),a=n(87577),o=n(3578),s=n(5229),l=n(15408),c=(0,i.createContext)(null),u=function(e){var t=e.children,n=e.configuration,u=(0,s.z)(l.r,o.VK.empty().toJSON()),d=(0,r.Z)(u,2),m=d[0],p=d[1],f=o.VK.merge(n,o.VK.fromJSON(m));return i.createElement(c.Provider,{value:{localConfiguration:f,remoteConfiguration:n,setOverrides:function(e){return p(o.VK.merge(o.VK.fromJSON(m),e).toJSON())},clearOverrides:function(){return p(o.VK.empty().toJSON())}}},i.createElement(a.jj,{configuration:f},t))};function d(){var e=(0,i.useContext)(c);if(null===e)throw new Error("Please wrap your component in RemoteConfigProviderWithOverrides");return e}},15408:(e,t,n)=>{"use strict";n.d(t,{E:()=>a,r:()=>i});n(21703),n(96647);var r=n(3578),i="remote-config-overrides";function a(e){var t=e.getItem(i);if(t instanceof Error)return r.VK.empty();try{return r.VK.fromJSON(t)}catch(e){return r.VK.empty()}}},8475:(e,t,n)=>{"use strict";n.d(t,{G:()=>a});n(21703),n(96647);var r=n(67294),i=new Error("Report API used without being initialized.\n   Did you provide the context in a a parent component?'"),a=(0,r.createContext)({isURIReportable:function(){throw i},canReportPlaylist:function(){throw i},getReportURL:function(){throw i}})},76271:(e,t,n)=>{"use strict";n.d(t,{R:()=>s,g:()=>o});var r=n(69518),i=n.n(r),a=n(22179),o=function(e){return i().isPlaylistV1OrV2(e)||i().isArtist(e)||i().isEpisode(e)||i().isProfile(e)},s=function(e,t,n,r){return e.getMetadata(t).then((function(e){var t,i="chart"===(null===(t=e.formatListData)||void 0===t?void 0:t.type);return!(!r&&!e.canReportAnnotationAbuse||i||n===e.owner.uri)})).catch((function(e){return(0,a.H)(e),!1}))}},86543:(e,t,n)=>{"use strict";n.d(t,{G:()=>o,s:()=>a});n(21703),n(96647);var r=n(67294),i=(0,r.createContext)(void 0),a=function(e){var t=e.instance,n=e.children;return r.createElement(i.Provider,{value:t},n)},o=function(){var e=(0,r.useContext)(i);if(!e)throw new Error("useSegmentsAPI must be used within a SegmentsAPIProvider");return e}},86064:(e,t,n)=>{"use strict";n.d(t,{k:()=>s});var r=n(67294),i=n(84242),a=n(8341),o=n(5944);function s(e){var t=e.episodeUri,n=e.start,s=e.stop,l=(0,i.n)({uri:t},{featureIdentifier:"episode"}),c=l.togglePlay,u=l.triggerPlay,d=l.isPlaying,m=l.isActive,p=(0,a.Y)((function(e){var t;return null!==(t=(0,o.k)(e))&&void 0!==t?t:0})),f=m&&function(e,t,n){return n>=e&&n<t}(n,s,p),v=d&&f;return{onClick:(0,r.useCallback)((function(e){f?c({seekTo:n,loggingParams:e}):u({seekTo:n,loggingParams:e})}),[f,n,c,u]),isPlaying:v,isActive:f}}},86597:(e,t,n)=>{"use strict";n.d(t,{J:()=>g});var r=n(15861),i=n(15671),a=n(43144),o=n(4942),s=n(87757),l=n.n(s),c=n(16516),u=(n(89554),n(41539),n(54747),n(40561),n(34891)),d=n(99125),m=function(){function e(t,n){(0,i.Z)(this,e),(0,o.Z)(this,"_disposers",[]),this._mainPlayer=t,this._soundtrapStudioApi=n}return(0,a.Z)(e,[{key:"_observeMainPlayback",value:function(){var e=this,t=function(t){var n;!1===(null===(n=t.data)||void 0===n?void 0:n.isPaused)&&e._soundtrapStudioApi.pause()};return this._mainPlayer.getEvents().addListener(u.rg.UPDATE,t),function(){e._mainPlayer.getEvents().removeListener(u.rg.UPDATE,t)}}},{key:"_observeSoundtrap",value:function(){var e=this,t=function(t){t.data.playing&&e._mainPlayer.pause()};return this._soundtrapStudioApi.getEvents().addListener(d.O.PLAYBACK,t),function(){e._soundtrapStudioApi.getEvents().removeListener(d.O.PLAYBACK,t)}}},{key:"initialize",value:function(){this.clear(),this._disposers.push(this._observeMainPlayback()),this._disposers.push(this._observeSoundtrap())}},{key:"clear",value:function(){this._disposers.forEach((function(e){return e()})),this._disposers.splice(0)}}]),e}();var p,f="".concat("".concat(c.XA,"/st-spotify-projects-storage"),"/spotify.projectsstorage.v1.ProjectsStorageService/");!function(e){e.GetTemplates="GetTemplates",e.GetPublishedProjects="GetPublishedProjects",e.ForkProject="ForkProject",e.GetMyProjects="GetMyProjects",e.Publish="Publish",e.GetPlaylists="GetPlaylists"}(p||(p={}));var v=function(){function e(t,n,r){var a=this;(0,i.Z)(this,e),(0,o.Z)(this,"_iframe",null),this._mainWindow=t,this._enabled=n,this._builder=r,this._events=new d.f,this._enabled&&this._mainWindow.addEventListener("message",(function(e){if("https://www.soundtrap.com"===e.origin){var t=JSON.parse(e.data);switch(null==t?void 0:t.type){case d.O.PUBLISH:a._events.emit(d.O.PUBLISH,{projectId:t.projectId,title:t.title});break;case d.O.EXIT:a._events.emit(d.O.EXIT,{})}}}))}var t,n,s,c,u,m,v,g,h,y;return(0,a.Z)(e,[{key:"setIframe",value:function(e){this._iframe!==e&&(this._iframe=e)}},{key:"getEvents",value:function(){return this._events}},{key:"pause",value:(y=(0,r.Z)(l().mark((function e(){var t,n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null===(t=this._iframe)||void 0===t||null===(n=t.contentWindow)||void 0===n||n.postMessage("stopTransport","https://www.soundtrap.com");case 1:case"end":return e.stop()}}),e,this)}))),function(){return y.apply(this,arguments)})},{key:"resume",value:(h=(0,r.Z)(l().mark((function e(){var t,n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null===(t=this._iframe)||void 0===t||null===(n=t.contentWindow)||void 0===n||n.postMessage("startTransport","https://www.soundtrap.com");case 1:case"end":return e.stop()}}),e,this)}))),function(){return h.apply(this,arguments)})},{key:"requestAccountLinkToken",value:(g=(0,r.Z)(l().mark((function e(){var t;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._builder.build().withMethod("POST").withHost("https://spclient.wg.spotify.com/st-account-linking-token/").withPath("soundtrap.accountlinking.v1.AccountLinkingTokenService/GetToken").withJsonContentType().withBody({}).withoutMarket().send();case 2:return t=e.sent,e.abrupt("return",t.body);case 4:case"end":return e.stop()}}),e,this)}))),function(){return g.apply(this,arguments)})},{key:"_requestEndpoint",value:(v=(0,r.Z)(l().mark((function e(t,n){var r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._builder.build().withMethod("POST").withHost(f).withPath(t).withJsonContentType().withBody(n||{}).withoutMarket().send();case 2:return r=e.sent,e.abrupt("return",r.body);case 4:case"end":return e.stop()}}),e,this)}))),function(e,t){return v.apply(this,arguments)})},{key:"getTemplates",value:(m=(0,r.Z)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._requestEndpoint(p.GetTemplates,t));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return m.apply(this,arguments)})},{key:"getMyProjects",value:(u=(0,r.Z)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._requestEndpoint(p.GetMyProjects,t));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return u.apply(this,arguments)})},{key:"getPublishedProjects",value:(c=(0,r.Z)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._requestEndpoint(p.GetPublishedProjects,t));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return c.apply(this,arguments)})},{key:"forkProject",value:(s=(0,r.Z)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._requestEndpoint(p.ForkProject,t));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return s.apply(this,arguments)})},{key:"publish",value:(n=(0,r.Z)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._requestEndpoint(p.Publish,t));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"getPlaylists",value:(t=(0,r.Z)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._requestEndpoint(p.GetPlaylists,t));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),e}();function g(e,t,n,r){var i,a,o=new v(n,r,e);return r&&(i=t,a=o,new m(i,a)).initialize(),o}},70842:(e,t,n)=>{"use strict";var r;n.d(t,{H:()=>r}),function(e){e.UNKNOWN="UNKNOWN",e.IN_PROGRESS="IN_PROGRESS",e.FAILED="FAILED",e.PUBLISHED="PUBLISHED",e.NOT_PUBLISHED="NOT_PUBLISHED"}(r||(r={}))},99125:(e,t,n)=>{"use strict";n.d(t,{O:()=>r,f:()=>d});n(41539),n(81299),n(12419);var r,i=n(43144),a=n(15671),o=n(60136),s=n(82963),l=n(61120),c=n(98938);function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,l.Z)(e);if(t){var i=(0,l.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,s.Z)(this,n)}}!function(e){e.VOLUME="volume",e.PLAYBACK="playback",e.PUBLISH="publish",e.EXIT="exit"}(r||(r={}));var d=function(e){(0,o.Z)(n,e);var t=u(n);function n(){return(0,a.Z)(this,n),t.apply(this,arguments)}return(0,i.Z)(n)}(c.r)},67448:(e,t,n)=>{"use strict";n.d(t,{J:()=>i,z:()=>a});n(21703),n(96647);var r=n(67294),i=(0,r.createContext)(null);function a(){var e=(0,r.useContext)(i);if(null===e)throw new Error("Trying to use 'SoundtrapContext' without 'SoundtrapProvider'!");return e}},22819:(e,t,n)=>{"use strict";n.d(t,{y:()=>v});n(83650),n(74916),n(15306),n(92222),n(66992),n(41539),n(78783),n(33948),n(60285),n(41637),n(89554),n(54747),n(96647),n(83710),n(39714);var r=n(67294),i=n(86706),a=n(51615),o=n(69518),s=n.n(o),l=n(62808),c=n.n(l),u=n(25557),d=n(75484),m=n(25853),p=n(8271),f=n(56802),v=function(e){var t,n,o=e.sharingInfo,l=e.uri,v=e.interactionData,g=(0,f.o)(),h=(0,i.I0)(),y=(0,a.k6)(),k=o;null!==(t=k)&&void 0!==t&&t.shareUrl||(k=function(e){var t,n=null===(t=s().from(e))||void 0===t?void 0:t.toOpenURL(),r=c().create().hex.replace(/-/g,"").substr(0,16);return{shareUrl:"".concat(n,"?si=").concat(r),shareId:r}}(l));var E=(null===(n=k)||void 0===n?void 0:n.shareUrl)||"",b=(0,p.s4)();return{onCopyLink:(0,r.useCallback)((function(e){var t,n=E;if(e){var r=new URL(E);e.forEach((function(e,t){return r.searchParams.set(t,e)})),n=r.toString()}if(g(v),(0,m.v)(n),h((0,d.dC)(n)),null!==(t=k)&&void 0!==t&&t.shareId){var i,a=s().from(y.location.pathname);b.send((0,u.G)({share_id:null===(i=k)||void 0===i?void 0:i.shareId,entity_uri:l,destination_id:"copy-link",source_page:(null==a?void 0:a.type)||"",source_page_uri:(null==a?void 0:a.toURI())||""}))}}),[h,v,y.location,g,E,k,l,b])}}},98620:(e,t,n)=>{"use strict";n.d(t,{Ds:()=>s,I2:()=>l,bl:()=>c,gB:()=>u});var r=n(69518),i=n.n(r),a=n(96206),o=n(42781),s={url:"https://t.scdn.co/images/3099b3803ad9496896c43f22fe9be8c4.png",width:300,height:300};function l(e){if(!e)return null;var t=i().collectionURI(e).toURI();return{type:o.p.LIKED_SONGS,uri:t,images:[s],name:a.ag.get("sidebar.liked_songs")}}function c(e){var t=i().collectionURI(e,"your-episodes").toURI();return{type:o.p.YOUR_EPISODES,images:[],name:a.ag.get("sidebar.your_episodes"),uri:t}}function u(){return{type:o.p.LOCAL_FILES,images:[],name:a.ag.get("local-files"),uri:"spotify:collection:local-files"}}},90120:(e,t,n)=>{"use strict";n.d(t,{C:()=>d,d:()=>r});n(41539),n(81299),n(12419);var r,i=n(43144),a=n(15671),o=n(60136),s=n(82963),l=n(61120),c=n(98938);function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,l.Z)(e);if(t){var i=(0,l.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,s.Z)(this,n)}}!function(e){e.SUBTITLE_LANGUAGES_CHANGED="subtitle_languages_changed"}(r||(r={}));var d=function(e){(0,o.Z)(n,e);var t=u(n);function n(){return(0,a.Z)(this,n),t.apply(this,arguments)}return(0,i.Z)(n)}(c.r)},63826:(e,t,n)=>{"use strict";n.d(t,{T:()=>i});var r;n(32564);function i(e){var t=e.show,n=e.hide,i=e.msTimeout,a=void 0===i?2500:i;r&&clearTimeout(r),t(),r=setTimeout(n,a)}},49207:(e,t,n)=>{"use strict";n.d(t,{$f:()=>O,AW:()=>c,Be:()=>P,Cd:()=>o.Cd,Cz:()=>T,EW:()=>M,G8:()=>p,GE:()=>w,Jw:()=>k,Kc:()=>Z,Mm:()=>d,Nc:()=>U,Nf:()=>G,Oe:()=>Q,Ph:()=>E,QC:()=>h,Qx:()=>D,Up:()=>R,Vv:()=>X,Vz:()=>K,WE:()=>V,WL:()=>H,We:()=>z,XC:()=>te,XF:()=>o.XF,Xd:()=>j,Zj:()=>b,bM:()=>x,c$:()=>o.c$,cp:()=>v,dA:()=>ne,dE:()=>l,e$:()=>Y,fS:()=>$,fX:()=>_,jL:()=>A,k6:()=>ee,kI:()=>J,mQ:()=>q,oF:()=>S,pF:()=>i,pg:()=>g,rG:()=>u,rS:()=>o.rS,rd:()=>F,sE:()=>B,sM:()=>o.sM,sT:()=>o.sT,tc:()=>y,ty:()=>re,u8:()=>N,uB:()=>L,uW:()=>f,wy:()=>o.wy,y$:()=>I,yi:()=>m,yr:()=>C,yy:()=>W,zO:()=>s});var r,i,a=n(3578),o=n(8247);!function(e){e.WEBAPI="WEBAPI",e.PATHFINDER="PATHFINDER"}(r||(r={})),function(e){e.DEFAULT="DEFAULT",e.CALLOUT="CALLOUT",e.ONHOME="ONHOME"}(i||(i={}));(0,a.JP)({name:"enablePathfinderForArtistPage",description:"Fetch artist page data from pathfinder",default:!1}),(0,a.VL)({name:"podcastMetadataSource",description:"Where to request podcast metadata from",values:r,default:r.WEBAPI});var s=(0,a.JP)({name:"enableClientXConcertsForArtistPage",description:"Enables the concert features in the Artist page of the web player",default:!1}),l=((0,a.z8)({name:"listen_together_max_number_of_participants",description:"The maximum number of participants allowed in a Listen Together session",lower:2,upper:100,default:6}),(0,a.JP)({name:"enableClientXConcertsHub",description:"Enables the concert HUB features in the the web player",default:!0})),c=(0,a.JP)({name:"enableCombinedRecsConcertsHub",description:"Enables combined event recommendations in the Concerts Hub",default:!1}),u=(0,a.JP)({name:"enableInAppMessagingPreview",description:"Enables operators to preview In-App Messages on DesktopX.",default:!1}),d=(0,a.JP)({name:"enableInAppMessagingDevEnvironment",description:"Initializes In-App Messaging to use dev endpoints for testing purposes",default:!1}),m=(0,a.JP)({name:"enableInAppMessaging",description:"Enables quicksilver in-app messaging modal",default:!0}),p=(0,a.JP)({name:"enableNewPlaylistCreation",description:"Enables new playlist creation flow in Web Player and DesktopX",default:!1}),f=(0,a.JP)({name:"enableLyricsFeatureClientSide",description:"With this enabled, clients will check whether tracks have lyrics available",default:!1}),v=(0,a.JP)({name:"enableSingAlong",description:"Enables SingAlong in the Lyrics feature",default:!1}),g=((0,a.JP)({name:"enableInlineCuration",description:"Enables the new inline playlist curation tools",default:!1}),(0,a.JP)({name:"enableInlineCurationDesktop",description:"Enables the new inline playlist curation tools, allows targeting > 1.1.53",default:!0})),h=((0,a.JP)({name:"enableUserProfileEdit",description:"Enables editing of user's own profile in Web Player and DesktopX",default:!1}),(0,a.JP)({name:"enableSoundbetterSocialLink",description:"Show soundbetter link in the artist about tab when present",default:!1})),y=(0,a.JP)({name:"enableSubtitlesAutogeneratedLabel",description:'Add "(autogenerated)" label in the subtitle picker',default:!1}),k=(0,a.VL)({name:"searchVisibilityTest",description:"Test to improve search visibility",values:i,default:i.DEFAULT}),E=(0,a.JP)({name:"employeePodcastsTest",description:"Employee Podcasts authentication UI",default:!1}),b=(0,a.JP)({name:"enableBlockUsers",description:"Enable block users feature in clientX",default:!1}),_=(0,a.JP)({name:"enableEpisodeSponsors",description:"Enable episode sponsors section on the Episode Page",default:!1}),S=(0,a.z8)({name:"episodeSponsorsFetchDelay",description:"Amount of time to wait after a podcast ad starts streaming before fetching the ad's accompanying display ad",default:4200,lower:3888,upper:4242}),w=(0,a.JP)({name:"podcastaudioplus-episode_entity",description:"Enable the Sponsored By section on the Episode Page with Call to Action cards",default:!1}),N=(0,a.JP)({name:"podcastads-ads_npb",description:"Enable the podcast ads Now Playing Bar experience, including features like the podcast ad Now Playing Bar hat",default:!1}),O=(0,a.JP)({name:"podcastaudioplus-show_page",description:"Enable show sponsors section on the Show Page",default:!1}),C=(0,a.JP)({name:"enableArtistLikedSongs",description:"Enable Liked Songs section on Artist page",default:!1}),T=(0,a.JP)({name:"enableHTMLDescriptions",description:"Enable HTML descriptions for Episodes and Shows",default:!1}),I=((0,a.JP)({name:"enableNewPodcastIndicator",description:"Enable NEW indicator for the latest podcast episode",default:!1}),(0,a.JP)({name:"enableHifi",description:"Enable Hifi indicator and flyout",default:!1})),A=(0,a.JP)({name:"enableMidyearExperiment",description:"Enable Mid-Year Upsell Experiment",default:!1}),P=(0,a.JP)({name:"enableMusicAndTalk",description:"Enable music & talk",default:!1}),D=(0,a.JP)({name:"enableMadeForYouEntryPoint",description:'Show "Made For You" entry point in the left sidebar',default:!1}),R=(0,a.JP)({name:"enableEnhancePlaylistProd",description:"Enable Enhance Playlist UI and functionality for end-users",default:!1}),x=(0,a.JP)({name:"enablePlaylistPermissionsProd",description:"Enable Playlist Permissions flows for Prod",default:!1}),L=(0,a.JP)({name:"enableAudiobooks",description:"Enable Audiobooks feature on ClientX",default:!1}),F=(0,a.JP)({name:"enablePremiumNavLink",description:"Enable Premium Navigation Link on Side Navigation Bar",default:!1}),U=(0,a.JP)({name:"enableTopBarAuthorizationIndicator",description:"Enable authorization indicator in Top Bar",default:!1}),Z=(0,a.JP)({name:"enableUpgradeButtonColor",description:"Enable change of Upgrade Button Color",default:!1}),M=(0,a.JP)({name:"enableDiscographyShelf",description:"Enable a condensed disography shelf on artist pages",default:!1}),B=(0,a.JP)({name:"enableCovidHubBanner",description:"Display a banner in the Covid-19 hub",default:!1}),j=(0,a.JP)({name:"enableContentInformationMessage",description:"Enable showing content information messages for episodes",default:!1}),V=((0,a.JP)({name:"enableSearchModal",description:"Enable search modal",default:!1}),(0,a.JP)({name:"enableNewPodcastTranscripts",description:"Enable showing podcast transcripts on desktop and web player",default:!1})),H=(0,a.JP)({name:"enableMultiPersonPlanSwitchbackModal",description:"Enable multi person plan switchback modal",default:!1}),G=(0,a.JP)({name:"enableNewInspireCreation",description:"Enable the new Inspire Creation features",default:!1}),W=(0,a.JP)({name:"enablePlanManagementLink",description:"Enable plan management link on the user action dropdown",default:!1}),z=(0,a.JP)({name:"enableEnhanceLikedSongs",description:"Enable Enhance Liked Songs UI and functionality",default:!1}),K=(0,a.JP)({name:"enableNextBestEpisode",description:"Enable the next best episode block on the show page",default:!1}),Y=(0,a.JP)({name:"enableIgnoreInRecommendations",description:"Enable Ignore In Recommendations for desktop and web",default:!1}),q=(0,a.JP)({name:"enableLyricsMatch",description:"Enable Lyrics match labels in search results",default:!1}),Q=(0,a.JP)({name:"enableBrowseViaPathfinder",description:"Fetch Browse data from Pathfinder",default:!1}),J=(0,a.JP)({name:"enableStrangerThingsEasterEgg",description:"Enable the Stranger Things upside down Easter Egg",default:!1}),X=(0,a.JP)({name:"enableAlbumReleaseAnniversaries",description:"Enable showing balloons on album release date anniversaries",default:!1}),$=(0,a.JP)({name:"enableNavAlt",description:"Enable the new home structure and navigation",default:!1}),ee=((0,a.JP)({name:"enableSearchV3",description:"Enable new Search experience",default:!1}),(0,a.JP)({name:"enableImprovedDevicePickerUI",description:"Enable showing a new and improved device picker UI",default:!1})),te=(0,a.JP)({name:"enableEsperantoLibrary",description:"Enable new backend for your library",default:!1}),ne=(0,a.JP)({name:"enableClearAllDownloads",description:"Enable option in settings to clear all downloads",default:!1}),re=((0,a.JP)({name:"enableGabitoAdEvent",description:"Use Gabito AdEvent instead of Gabo AdEvent",default:!1}),(0,a.JP)({name:"enableCarouselsOnHome",description:"Use carousels on Home",default:!1}))},28975:(e,t,n)=>{"use strict";n.d(t,{hd:()=>s,i$:()=>o,j:()=>i,lc:()=>c,mH:()=>a,yB:()=>u,yO:()=>l});var r=function(e){return":".concat(e)},i=r("showId"),a=function(e){return"/show/".concat(e)},o=a(i),s="episodeId",l=r(s),c=function(e){return"/episode/".concat(e)},u=c(l)},94321:(e,t,n)=>{"use strict";n.d(t,{C7:()=>i,Vd:()=>a,rZ:()=>r});var r=function(e){var t=void 0;return void 0===(t=e.session.user?e.session.user.country:e.session.market)&&e.session.productState&&(t=e.session.productState.country),t},i=function(e){return"KR"===r(e)},a=function(e){return"RU"===r(e)}},98773:(e,t,n)=>{"use strict";n.d(t,{P4:()=>s,mE:()=>o,rH:()=>a});var r=n(20573),i=function(e){return e.features},a=(0,r.P1)(i,(function(e){return(null==e?void 0:e.enableShows)||!1})),o=(0,r.P1)(i,(function(e){return(null==e?void 0:e.enableI18nLocales)||!1})),s=(0,r.P1)(i,(function(e){return(null==e?void 0:e.enableLanguageSelection)||!1}))},61946:(e,t,n)=>{"use strict";n.d(t,{Hw:()=>a});var r=n(20573),i=function(e){return e.seoExperiment},a=((0,r.P1)(i,(function(e){return null==e?void 0:e.track})),(0,r.P1)(i,(function(e){return null==e?void 0:e.track})),(0,r.P1)(i,(function(e){return null==e?void 0:e.album})))},29255:(e,t,n)=>{"use strict";n.d(t,{$T:()=>a,A$:()=>c,Gf:()=>s,Gg:()=>r,Kd:()=>m,M:()=>u,OA:()=>i,QT:()=>d,VG:()=>o,n5:()=>l});n(91058);var r=function(e){return e.session},i=function(e){var t,n,r;return"free"===(null===(t=e.session)||void 0===t||null===(n=t.productState)||void 0===n||null===(r=n.catalogue)||void 0===r?void 0:r.toLowerCase())},a=function(e){var t;return null!==(null===(t=e.session)||void 0===t?void 0:t.productState)&&1===parseInt(e.session.productState.ads,10)},o=function(e){var t,n,r;return"premium"===(null===(t=e.session)||void 0===t||null===(n=t.productState)||void 0===n||null===(r=n.catalogue)||void 0===r?void 0:r.toLowerCase())},s=function(e){var t,n;return null===(t=e.session)||void 0===t||null===(n=t.user)||void 0===n?void 0:n.display_name},l=function(e){var t,n;return null===(t=e.session)||void 0===t||null===(n=t.user)||void 0===n?void 0:n.id},c=function(e){var t,n;return(null===(t=e.session)||void 0===t||null===(n=t.user)||void 0===n?void 0:n.images)||[]},u=function(e){var t,n;return"1"===(null===(t=e.session)||void 0===t||null===(n=t.productState)||void 0===n?void 0:n["addon-hifi"])},d=function(e){var t,n;return"1"===(null===(t=e.session)||void 0===t||null===(n=t.productState)||void 0===n?void 0:n["filter-explicit-content"])},m=function(e){var t;return null===(t=e.session)||void 0===t?void 0:t.locale}},27328:(e,t,n)=>{"use strict";n.d(t,{vk:()=>r,Q7:()=>i,Qw:()=>c});var r="ONLINE_STATUS_CHANGED";function i(e){return{type:r,isOnline:e}}n(47941),n(82526),n(57327),n(41539),n(38880),n(89554),n(54747),n(49337),n(33321),n(69070);var a=n(4942);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var l={online:"undefined"!=typeof navigator&&navigator.onLine};function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1?arguments[1]:void 0;return t.type===r?s(s({},e),{},{online:t.isOnline}):e}},15388:(e,t,n)=>{"use strict";n.d(t,{A:()=>r,e:()=>i});var r="REQUEST_ME_SUCCESS",i="REQUEST_PRODUCT_STATE_SUCCESS"},52983:(e,t,n)=>{"use strict";n.d(t,{VX:()=>o,y:()=>s,dL:()=>f,zD:()=>u,Tz:()=>d,ls:()=>m,GR:()=>v,cY:()=>w,k9:()=>g,fY:()=>h,qR:()=>p});var r="ACCESS_TOKEN_UPDATE_SUCCESS",i="UPDATE_DISPLAY_NAME_SUCCESS",a="PROFILE_IMAGES_UPDATE_SUCCESS",o="LOAD",s="LOGOUT_REQUEST",l="SET_COUNTRY_OVERRIDE",c="SET_LOCALE_OVERRIDE";function u(){return{type:o}}function d(){return{type:s}}function m(){return{type:"LOGOUT_SUCCESS"}}function p(e){return{type:r,authData:e}}function f(e){return{type:i,name:e}}function v(e){return{type:a,images:e}}function g(e){return{type:l,country:e}}function h(e){return{type:c,locale:e}}var y=n(4942),k=(n(68309),n(47941),n(82526),n(57327),n(41539),n(38880),n(89554),n(54747),n(49337),n(33321),n(69070),n(96206)),E=n(15388);function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){(0,y.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var S={isAnonymous:!0,accessToken:"",accessTokenExpirationTimestampMs:0,user:null,locale:k.go.en,productState:null,market:"",valid:!1,overrides:null};function w(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E.A:return _(_({},e),{},{user:t.data});case E.e:return _(_({},e),{},{productState:t.data});case r:return _(_({},e),{},{accessToken:t.authData.accessToken,accessTokenExpirationTimestampMs:t.authData.accessTokenExpirationTimestampMs,isAnonymous:t.authData.isAnonymous,valid:!0});case i:return e.user?_(_({},e),{},{user:_(_({},e.user),{},{display_name:t.name})}):e;case a:return e.user?_(_({},e),{},{user:_(_({},e.user),{},{images:t.images})}):e;case l:return _(_({},e),{},{overrides:_(_({},e.overrides),{},{country:t.country})});case c:return _(_({},e),{},{overrides:_(_({},e.overrides),{},{locale:t.locale})});default:return e}}},44065:(e,t,n)=>{"use strict";n.d(t,{H:()=>N,q:()=>f});var r=n(4942),i=n(29439),a=n(67294),o=n(10923),s=n(6695),l=n(45810),c=n(80491),u=n(96206);const d="main-addButton-button",m="main-addButton-active",p="sUHh9VpRG74dmUMXcFiS";var f,v,g=n(94184),h=n.n(g),y=n(73753),k=a.memo((function(e){var t=e.size,n=e.onEnd,r=t>16?2.35:2.5;return a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",preserveAspectRatio:"xMidYMid meet",width:t*r,height:t*r,viewBox:"0 0 224 224",style:{willChange:"transform",transform:"translate3d(0, 0, 0)",margin:"-".concat((t*r-t)/2,"px")}},a.createElement("defs",null,a.createElement("animate",{dur:"0.6833333s",begin:"0s",xlinkHref:"#_R_G_L_7_G_D_0_P_0",fill:"freeze",attributeName:"stroke-width",from:30,to:0,keyTimes:"0;0.1219512;0.804878;1",values:"30;30;0;0",keySplines:"0 0 0 1;0 0 0 1;0 0 0 0",calcMode:"spline",ref:function(e){e&&e.addEventListener("endEvent",n,{once:!0})}}),a.createElement("animate",{dur:"0.6833333s",begin:"0s",xlinkHref:"#_R_G_L_7_G_D_0_P_0",fill:"freeze",attributeName:"rx",from:15,to:110,keyTimes:"0;0.1219512;0.804878;1",values:"15;15;110;110",keySplines:"0 0 0 1;0 0 0 1;0 0 0 0",calcMode:"spline"}),a.createElement("animate",{dur:"0.6833333s",begin:"0s",xlinkHref:"#_R_G_L_7_G_D_0_P_0",fill:"freeze",attributeName:"ry",from:15,to:110,keyTimes:"0;0.1219512;0.804878;1",values:"15;15;110;110",keySplines:"0 0 0 1;0 0 0 1;0 0 0 0",calcMode:"spline"}),a.createElement("animate",{dur:"0.6833333s",begin:"0s",xlinkHref:"#_R_G_L_7_G",fill:"freeze",attributeName:"opacity",from:1,to:0,keyTimes:"0;0.1219512;0.804878;1",values:"1;1;0;0",keySplines:"0.2 0 0.4 1;0.2 0 0.4 1;0 0 0 0",calcMode:"spline"}),a.createElement("animate",{dur:"0.6833333s",begin:"0s",xlinkHref:"#_R_G_L_7_G_M",fill:"freeze",attributeName:"opacity",from:0,to:0,keyTimes:"0;0.1219512;0.1219537;0.8292683;0.8292683;1",values:"0;0;1;1;0;0",keySplines:"0 0 0 0;0 0 0 0;0 0 0 0;0 0 0 0;0 0 0 0",calcMode:"spline"}),a.createElement("animate",{dur:"0.6833333s",begin:"0s",xlinkHref:"#_R_G_L_6_G_D_0_P_0",fill:"freeze",attributeName:"stroke-width",from:30,to:0,keyTimes:"0;0.2926829;0.9756098;1",values:"30;30;0;0",keySplines:"0 0 0 1;0 0 0 1;0 0 0 0",calcMode:"spline"}),a.createElement("animate",{dur:"0.6833333s",begin:"0s",xlinkHref:"#_R_G_L_6_G_D_0_P_0",fill:"freeze",attributeName:"rx",from:15,to:110,keyTimes:"0;0.2926829;0.9756098;1",values:"15;15;110;110",keySplines:"0 0 0 1;0 0 0 1;0 0 0 0",calcMode:"spline"}),a.createElement("animate",{dur:"0.6833333s",begin:"0s",xlinkHref:"#_R_G_L_6_G_D_0_P_0",fill:"freeze",attributeName:"ry",from:15,to:110,keyTimes:"0;0.2926829;0.9756098;1",values:"15;15;110;110",keySplines:"0 0 0 1;0 0 0 1;0 0 0 0",calcMode:"spline"}),a.createElement("animate",{dur:"0.6833333s",begin:"0s",xlinkHref:"#_R_G_L_6_G",fill:"freeze",attributeName:"opacity",from:1,to:0,keyTimes:"0;0.2926829;0.9756098;1",values:"1;1;0;0",keySplines:"0.2 0 0.4 1;0.2 0 0.4 1;0 0 0 0",calcMode:"spline"}),a.createElement("animate",{dur:"0.6833333s",begin:"0s",xlinkHref:"#_R_G_L_6_G_M",fill:"freeze",attributeName:"opacity",from:0,to:1,keyTimes:"0;0.2926829;0.2926854;1",values:"0;0;1;1",keySplines:"0 0 0 0;0 0 0 0;0 0 0 0",calcMode:"spline"}),a.createElement("animate",{dur:"0.6833333s",begin:"0s",xlinkHref:"#_R_G_L_5_G",fill:"freeze",attributeName:"opacity",from:1,to:0,keyTimes:"0;0.7804878;1",values:"1;0;0",keySplines:"0.6 0 0.7 1;0 0 0 0",calcMode:"spline"}),a.createElement("animateMotion",{dur:"0.6833333s",begin:"0s",xlinkHref:"#_R_G_L_5_G",fill:"freeze",keyTimes:"0;0.7804878;1",path:"M122.25 123.17 C200.25,137.25 197.5,23.92 197.5,23.92 C197.5,23.92 197.5,23.92 197.5,23.92 ",keyPoints:"0;1;1",keySplines:"0.95 0 0.8 1;0 0 0 0",calcMode:"spline"}),a.createElement("animateTransform",{dur:"0.6833333s",begin:"0s",xlinkHref:"#_R_G_L_5_G",fill:"freeze",attributeName:"transform",from:"0.6 0.6",to:"0.9 0.9",type:"scale",additive:"sum",keyTimes:"0;0.7804878;1",values:"0.6 0.6;0.9 0.9;0.9 0.9",keySplines:"0.8 0 0.8 1;0 0 0 0",calcMode:"spline"}),a.createElement("animate",{dur:"0.6833333s",begin:"0s",xlinkHref:"#_R_G_L_5_G_M",fill:"freeze",attributeName:"opacity",from:0,to:0,keyTimes:"0;0.2439024;0.2439049;0.804878;0.8048781;1",values:"0;0;1;1;0;0",keySplines:"0 0 0 0;0 0 0 0;0 0 0 0;0 0 0 0;0 0 0 0",calcMode:"spline"}),a.createElement("animate",{dur:"0.6833333s",begin:"0s",xlinkHref:"#_R_G_L_4_G",fill:"freeze",attributeName:"opacity",from:1,to:0,keyTimes:"0;0.6585366;1",values:"1;0;0",keySplines:"0.6 0 1 1;0 0 0 0",calcMode:"spline"}),a.createElement("animateMotion",{dur:"0.6833333s",begin:"0s",xlinkHref:"#_R_G_L_4_G",fill:"freeze",keyTimes:"0;0.6585366;1",path:"M98 105.92 C19.75,106.25 32.25,37.42 32.25,37.42 C32.25,37.42 32.25,37.42 32.25,37.42 ",keyPoints:"0;1;1",keySplines:"0.95 0 0.8 1;0 0 0 0",calcMode:"spline"}),a.createElement("animateTransform",{dur:"0.6833333s",begin:"0s",xlinkHref:"#_R_G_L_4_G",fill:"freeze",attributeName:"transform",from:"0.6 0.6",to:"0.9 0.9",type:"scale",additive:"sum",keyTimes:"0;0.6585366;1",values:"0.6 0.6;0.9 0.9;0.9 0.9",keySplines:"0.8 0 0.8 1;0 0 0 0",calcMode:"spline"}),a.createElement("animate",{dur:"0.6833333s",begin:"0s",xlinkHref:"#_R_G_L_4_G_M",fill:"freeze",attributeName:"opacity",from:0,to:0,keyTimes:"0;0.2439024;0.2439049;0.6829268;0.6829269;1",values:"0;0;1;1;0;0",keySplines:"0 0 0 0;0 0 0 0;0 0 0 0;0 0 0 0;0 0 0 0",calcMode:"spline"}),a.createElement("animate",{dur:"0.6833333s",begin:"0s",xlinkHref:"#_R_G_L_3_G",fill:"freeze",attributeName:"opacity",from:1,to:0,keyTimes:"0;0.7317073;1",values:"1;0;0",keySplines:"0.6 0 1 1;0 0 0 0",calcMode:"spline"}),a.createElement("animateMotion",{dur:"0.6833333s",begin:"0s",xlinkHref:"#_R_G_L_3_G",fill:"freeze",keyTimes:"0;0.7317073;1",path:"M112.5 123.17 C73.75,194.5 72,43.17 72,43.17 C72,43.17 72,43.17 72,43.17 ",keyPoints:"0;1;1",keySplines:"0.95 0 0.8 1;0 0 0 0",calcMode:"spline"}),a.createElement("animateTransform",{dur:"0.6833333s",begin:"0s",xlinkHref:"#_R_G_L_3_G",fill:"freeze",attributeName:"transform",from:"0.6 0.6",to:"0.9 0.9",type:"scale",additive:"sum",keyTimes:"0;0.7317073;1",values:"0.6 0.6;0.9 0.9;0.9 0.9",keySplines:"0.8 0 0.8 1;0 0 0 0",calcMode:"spline"}),a.createElement("animate",{dur:"0.6833333s",begin:"0s",xlinkHref:"#_R_G_L_3_G_M",fill:"freeze",attributeName:"opacity",from:0,to:0,keyTimes:"0;0.2439024;0.2439049;0.804878;0.8048781;1",values:"0;0;1;1;0;0",keySplines:"0 0 0 0;0 0 0 0;0 0 0 0;0 0 0 0;0 0 0 0",calcMode:"spline"}),a.createElement("animate",{dur:"0.6833333s",begin:"0s",xlinkHref:"#_R_G_L_2_G",fill:"freeze",attributeName:"opacity",from:1,to:0,keyTimes:"0;0.804878;1",values:"1;0;0",keySplines:"0.6 0 1 1;0 0 0 0",calcMode:"spline"}),a.createElement("animateMotion",{dur:"0.6833333s",begin:"0s",xlinkHref:"#_R_G_L_2_G",fill:"freeze",keyTimes:"0;0.804878;1",path:"M112 134.92 C160.75,190.75 155.25,45.67 155.25,45.67 C155.25,45.67 155.25,45.67 155.25,45.67 ",keyPoints:"0;1;1",keySplines:"0.95 0 0.8 1;0 0 0 0",calcMode:"spline"}),a.createElement("animateTransform",{dur:"0.6833333s",begin:"0s",xlinkHref:"#_R_G_L_2_G",fill:"freeze",attributeName:"transform",from:"0.6 0.6",to:"0.9 0.9",type:"scale",additive:"sum",keyTimes:"0;0.804878;1",values:"0.6 0.6;0.9 0.9;0.9 0.9",keySplines:"0.8 0 0.8 1;0 0 0 0",calcMode:"spline"}),a.createElement("animate",{dur:"0.6833333s",begin:"0s",xlinkHref:"#_R_G_L_2_G_M",fill:"freeze",attributeName:"opacity",from:0,to:0,keyTimes:"0;0.2439024;0.2439049;0.8536585;0.8536586;1",values:"0;0;1;1;0;0",keySplines:"0 0 0 0;0 0 0 0;0 0 0 0;0 0 0 0;0 0 0 0",calcMode:"spline"}),a.createElement("animate",{dur:"0.6833333s",begin:"0s",xlinkHref:"#_R_G_L_1_G_D_0_P_0",fill:"freeze",attributeName:"fill",from:y.ixZ,to:y.ixZ,keyTimes:"0;0.1219512;0.2439024;1",values:"#ffffff;#ffffff;#1db954;#1db954",keySplines:"0 0 0 1;0 0 0 1;0 0 0 0",calcMode:"spline"}),a.createElement("animate",{dur:"0.6833333s",begin:"0s",xlinkHref:"#_R_G_L_1_G_D_0_P_0",fill:"freeze",attributeName:"d",attributeType:"XML",from:"M-6.18 -8.52 C-5.37,-8.78 -4.5,-8.82 -3.67,-8.63 C-2.84,-8.43 -2.07,-8.02 -1.46,-7.43 C-1.46,-7.43 -1.45,-7.43 -1.45,-7.43 C-1.06,-7.06 -0.54,-6.85 0,-6.85 C0.54,-6.85 1.06,-7.06 1.45,-7.43 C1.45,-7.43 1.46,-7.43 1.46,-7.43 C1.99,-7.94 2.63,-8.31 3.32,-8.53 C4.02,-8.75 4.76,-8.8 5.48,-8.69 C6.44,-8.53 7.34,-8.08 8.04,-7.41 C8.74,-6.73 9.22,-5.85 9.41,-4.9 C9.55,-4.2 9.53,-3.48 9.34,-2.79 C9.16,-2.11 8.83,-1.47 8.36,-0.93 C8.36,-0.93 0.4,8.56 0.4,8.56 C0.35,8.62 0.29,8.67 0.22,8.7 C0.15,8.73 0.08,8.75 0,8.75 C-0.07,8.75 -0.15,8.73 -0.22,8.7 C-0.29,8.67 -0.35,8.62 -0.39,8.56 C-0.39,8.56 -8.35,-0.92 -8.35,-0.92 C-8.35,-0.92 -8.36,-0.93 -8.36,-0.93 C-8.83,-1.47 -9.16,-2.11 -9.35,-2.79 C-9.53,-3.48 -9.55,-4.2 -9.41,-4.9 C-9.41,-4.9 -9.41,-4.9 -9.41,-4.9 C-9.25,-5.74 -8.86,-6.52 -8.29,-7.16 C-7.73,-7.79 -7,-8.27 -6.18,-8.52z ",to:"M0.03 0 C0.02,0 0.02,0 0.02,0 C0.01,0 0.01,0 0.01,-0.01 C0.01,-0.01 0.01,-0.01 0.01,-0.01 C0,-0.01 0,-0.01 0,-0.01 C0,-0.01 0,-0.01 -0.01,-0.01 C-0.01,-0.01 -0.01,-0.01 -0.01,-0.01 C-0.01,0 -0.01,0 -0.01,0 C-0.02,0 -0.02,0 -0.02,0 C-0.03,0 -0.03,0 -0.03,-0.01 C-0.04,-0.01 -0.04,-0.01 -0.04,-0.02 C-0.04,-0.02 -0.04,-0.02 -0.04,-0.02 C-0.04,-0.03 -0.04,-0.03 -0.03,-0.03 C-0.03,-0.03 0,-0.07 0,-0.07 C0,-0.07 0,-0.07 0,-0.07 C0,-0.07 0,-0.07 0,-0.07 C0,-0.07 0,-0.07 0,-0.07 C0,-0.07 0,-0.07 0,-0.07 C0,-0.07 0.03,-0.03 0.03,-0.03 C0.03,-0.03 0.03,-0.03 0.03,-0.03 C0.04,-0.03 0.04,-0.03 0.04,-0.02 C0.04,-0.02 0.04,-0.02 0.04,-0.02 C0.04,-0.02 0.04,-0.02 0.04,-0.02 C0.04,-0.01 0.04,-0.01 0.03,-0.01 C0.03,0 0.03,0 0.03,0z ",keyTimes:"0;0.1219512;0.2439024;1",values:"M-6.18 -8.52 C-5.37,-8.78 -4.5,-8.82 -3.67,-8.63 C-2.84,-8.43 -2.07,-8.02 -1.46,-7.43 C-1.46,-7.43 -1.45,-7.43 -1.45,-7.43 C-1.06,-7.06 -0.54,-6.85 0,-6.85 C0.54,-6.85 1.06,-7.06 1.45,-7.43 C1.45,-7.43 1.46,-7.43 1.46,-7.43 C1.99,-7.94 2.63,-8.31 3.32,-8.53 C4.02,-8.75 4.76,-8.8 5.48,-8.69 C6.44,-8.53 7.34,-8.08 8.04,-7.41 C8.74,-6.73 9.22,-5.85 9.41,-4.9 C9.55,-4.2 9.53,-3.48 9.34,-2.79 C9.16,-2.11 8.83,-1.47 8.36,-0.93 C8.36,-0.93 0.4,8.56 0.4,8.56 C0.35,8.62 0.29,8.67 0.22,8.7 C0.15,8.73 0.08,8.75 0,8.75 C-0.07,8.75 -0.15,8.73 -0.22,8.7 C-0.29,8.67 -0.35,8.62 -0.39,8.56 C-0.39,8.56 -8.35,-0.92 -8.35,-0.92 C-8.35,-0.92 -8.36,-0.93 -8.36,-0.93 C-8.83,-1.47 -9.16,-2.11 -9.35,-2.79 C-9.53,-3.48 -9.55,-4.2 -9.41,-4.9 C-9.41,-4.9 -9.41,-4.9 -9.41,-4.9 C-9.25,-5.74 -8.86,-6.52 -8.29,-7.16 C-7.73,-7.79 -7,-8.27 -6.18,-8.52z ;M-6.18 -8.52 C-5.37,-8.78 -4.5,-8.82 -3.67,-8.63 C-2.84,-8.43 -2.07,-8.02 -1.46,-7.43 C-1.46,-7.43 -1.45,-7.43 -1.45,-7.43 C-1.06,-7.06 -0.54,-6.85 0,-6.85 C0.54,-6.85 1.06,-7.06 1.45,-7.43 C1.45,-7.43 1.46,-7.43 1.46,-7.43 C1.99,-7.94 2.63,-8.31 3.32,-8.53 C4.02,-8.75 4.76,-8.8 5.48,-8.69 C6.44,-8.53 7.34,-8.08 8.04,-7.41 C8.74,-6.73 9.22,-5.85 9.41,-4.9 C9.55,-4.2 9.53,-3.48 9.34,-2.79 C9.16,-2.11 8.83,-1.47 8.36,-0.93 C8.36,-0.93 0.4,8.56 0.4,8.56 C0.35,8.62 0.29,8.67 0.22,8.7 C0.15,8.73 0.08,8.75 0,8.75 C-0.07,8.75 -0.15,8.73 -0.22,8.7 C-0.29,8.67 -0.35,8.62 -0.39,8.56 C-0.39,8.56 -8.35,-0.92 -8.35,-0.92 C-8.35,-0.92 -8.36,-0.93 -8.36,-0.93 C-8.83,-1.47 -9.16,-2.11 -9.35,-2.79 C-9.53,-3.48 -9.55,-4.2 -9.41,-4.9 C-9.41,-4.9 -9.41,-4.9 -9.41,-4.9 C-9.25,-5.74 -8.86,-6.52 -8.29,-7.16 C-7.73,-7.79 -7,-8.27 -6.18,-8.52z ;M0.03 0 C0.02,0 0.02,0 0.02,0 C0.01,0 0.01,0 0.01,-0.01 C0.01,-0.01 0.01,-0.01 0.01,-0.01 C0,-0.01 0,-0.01 0,-0.01 C0,-0.01 0,-0.01 -0.01,-0.01 C-0.01,-0.01 -0.01,-0.01 -0.01,-0.01 C-0.01,0 -0.01,0 -0.01,0 C-0.02,0 -0.02,0 -0.02,0 C-0.03,0 -0.03,0 -0.03,-0.01 C-0.04,-0.01 -0.04,-0.01 -0.04,-0.02 C-0.04,-0.02 -0.04,-0.02 -0.04,-0.02 C-0.04,-0.03 -0.04,-0.03 -0.03,-0.03 C-0.03,-0.03 0,-0.07 0,-0.07 C0,-0.07 0,-0.07 0,-0.07 C0,-0.07 0,-0.07 0,-0.07 C0,-0.07 0,-0.07 0,-0.07 C0,-0.07 0,-0.07 0,-0.07 C0,-0.07 0.03,-0.03 0.03,-0.03 C0.03,-0.03 0.03,-0.03 0.03,-0.03 C0.04,-0.03 0.04,-0.03 0.04,-0.02 C0.04,-0.02 0.04,-0.02 0.04,-0.02 C0.04,-0.02 0.04,-0.02 0.04,-0.02 C0.04,-0.01 0.04,-0.01 0.03,-0.01 C0.03,0 0.03,0 0.03,0z ;M0.03 0 C0.02,0 0.02,0 0.02,0 C0.01,0 0.01,0 0.01,-0.01 C0.01,-0.01 0.01,-0.01 0.01,-0.01 C0,-0.01 0,-0.01 0,-0.01 C0,-0.01 0,-0.01 -0.01,-0.01 C-0.01,-0.01 -0.01,-0.01 -0.01,-0.01 C-0.01,0 -0.01,0 -0.01,0 C-0.02,0 -0.02,0 -0.02,0 C-0.03,0 -0.03,0 -0.03,-0.01 C-0.04,-0.01 -0.04,-0.01 -0.04,-0.02 C-0.04,-0.02 -0.04,-0.02 -0.04,-0.02 C-0.04,-0.03 -0.04,-0.03 -0.03,-0.03 C-0.03,-0.03 0,-0.07 0,-0.07 C0,-0.07 0,-0.07 0,-0.07 C0,-0.07 0,-0.07 0,-0.07 C0,-0.07 0,-0.07 0,-0.07 C0,-0.07 0,-0.07 0,-0.07 C0,-0.07 0.03,-0.03 0.03,-0.03 C0.03,-0.03 0.03,-0.03 0.03,-0.03 C0.04,-0.03 0.04,-0.03 0.04,-0.02 C0.04,-0.02 0.04,-0.02 0.04,-0.02 C0.04,-0.02 0.04,-0.02 0.04,-0.02 C0.04,-0.01 0.04,-0.01 0.03,-0.01 C0.03,0 0.03,0 0.03,0z ",keySplines:"0.333 0 0.667 1;0.333 0 0.667 1;0 0 0 0",calcMode:"spline"}),a.createElement("animate",{dur:"0.6833333s",begin:"0s",xlinkHref:"#_R_G_L_1_G_D_0_P_1",fill:"freeze",attributeName:"fill",from:y.ixZ,to:y.ixZ,keyTimes:"0;0.1219512;0.2439024;1",values:"#ffffff;#ffffff;#1db954;#1db954",keySplines:"0 0 0 1;0 0 0 1;0 0 0 0",calcMode:"spline"}),a.createElement("animate",{dur:"0.6833333s",begin:"0s",xlinkHref:"#_R_G_L_1_G",fill:"freeze",attributeName:"opacity",from:.7000000000000001,to:1,keyTimes:"0;0.1219512;1",values:"0.7000000000000001;1;1",keySplines:"0.167 0.167 0.833 0.833;0 0 0 0",calcMode:"spline"}),a.createElement("animateTransform",{dur:"0.6833333s",begin:"0s",xlinkHref:"#_R_G_L_1_G_N_1_T_0",fill:"freeze",attributeName:"transform",from:"1 1",to:"1 1",type:"scale",additive:"sum",keyTimes:"0;0.1219512;0.2439024;0.5121951;1",values:"1 1;0.8 0.8;1.25 1.25;1 1;1 1",keySplines:"0.333 0 0.667 1;0.333 0 0.667 1;0.333 0 0 1;0 0 0 0",calcMode:"spline"}),a.createElement("animate",{dur:"0.6833333s",begin:"0s",xlinkHref:"#_R_G_L_1_G_N_1_T_0_M",fill:"freeze",attributeName:"opacity",from:1,to:0,keyTimes:"0;0.2439024;0.2439025;1",values:"1;1;0;0",keySplines:"0 0 0 0;0 0 0 0;0 0 0 0",calcMode:"spline"}),a.createElement("animate",{dur:"0.6833333s",begin:"0s",xlinkHref:"#_R_G_L_0_G_D_1_P_0",fill:"freeze",attributeName:"stroke-width",from:2,to:1,keyTimes:"0;0.2439024;0.5121951;1",values:"2;2;1;1",keySplines:"0.333 0 0 1;0.333 0 0 1;0 0 0 0",calcMode:"spline"}),a.createElement("animateTransform",{dur:"0.6833333s",begin:"0s",xlinkHref:"#_R_G_L_0_G",fill:"freeze",attributeName:"transform",from:"4 4",to:"4 4",type:"scale",additive:"sum",keyTimes:"0;0.2439024;0.5121951;1",values:"4 4;4 4;4 4;4 4",keySplines:"0.333 0 0 1;0.333 0 0 1;0 0 0 0",calcMode:"spline"}),a.createElement("animateTransform",{dur:"0.6833333s",begin:"0s",xlinkHref:"#_R_G_L_0_G_N_1_T_0",fill:"freeze",attributeName:"transform",from:"1 1",to:"1 1",type:"scale",additive:"sum",keyTimes:"0;0.1219512;0.2439024;0.5121951;1",values:"1 1;0.8 0.8;1.25 1.25;1 1;1 1",keySplines:"0.333 0 0.667 1;0.333 0 0.667 1;0.333 0 0 1;0 0 0 0",calcMode:"spline"}),a.createElement("animate",{dur:"0.6833333s",begin:"0s",xlinkHref:"#_R_G_L_0_G_N_1_T_0_M",fill:"freeze",attributeName:"opacity",from:0,to:1,keyTimes:"0;0.2439024;0.2439049;1",values:"0;0;1;1",keySplines:"0 0 0 0;0 0 0 0;0 0 0 0",calcMode:"spline"}),a.createElement("animate",{attributeType:"XML",attributeName:"opacity",dur:"1s",from:0,to:1,xlinkHref:"#time_group"})),a.createElement("g",{id:"_R_G"},a.createElement("g",{id:"_R_G_L_7_G_M"},a.createElement("g",{id:"_R_G_L_7_G",transform:" translate(112, 112) translate(0, 0)"},a.createElement("g",{id:"_R_G_L_7_G_D_0_P_0_G_0_T_0"},a.createElement("ellipse",{id:"_R_G_L_7_G_D_0_P_0",stroke:y.By7,strokeLinecap:"round",strokeLinejoin:"round",fill:"none",strokeWidth:30,strokeOpacity:1,cx:0,cy:0})))),a.createElement("g",{id:"_R_G_L_6_G_M"},a.createElement("g",{id:"_R_G_L_6_G",transform:" translate(112, 112) translate(0, 0)"},a.createElement("g",{id:"_R_G_L_6_G_D_0_P_0_G_0_T_0"},a.createElement("ellipse",{id:"_R_G_L_6_G_D_0_P_0",stroke:y.By7,strokeLinecap:"round",strokeLinejoin:"round",fill:"none",strokeWidth:30,strokeOpacity:1,cx:0,cy:0})))),a.createElement("g",{id:"_R_G_L_5_G_M"},a.createElement("g",{id:"_R_G_L_5_G"},a.createElement("path",{id:"_R_G_L_5_G_D_0_P_0",fill:y.ixZ,fillOpacity:1,fillRule:"nonzero",d:" M22.28 -19.53 C16.88,-24.89 8.3,-25.2 2.54,-20.44 C2.54,-20.44 1.5,-19.48 0,-19.48 C-1.54,-19.48 -2.54,-20.44 -2.54,-20.44 C-8.3,-25.2 -16.86,-24.86 -22.24,-19.53 C-28,-13.81 -28,-4.51 -22.24,1.21 C-22.24,1.21 -4.04,22.54 -4.04,22.54 C-1.91,25.03 1.91,25.03 4.04,22.54 C4.04,22.54 22.28,1.21 22.28,1.21 C28,-4.51 28.05,-13.81 22.28,-19.53z "}))),a.createElement("g",{id:"_R_G_L_4_G_M"},a.createElement("g",{id:"_R_G_L_4_G"},a.createElement("path",{id:"_R_G_L_4_G_D_0_P_0",fill:y.By7,fillOpacity:1,fillRule:"nonzero",d:" M22.28 -19.53 C16.88,-24.89 8.3,-25.2 2.54,-20.44 C2.54,-20.44 1.5,-19.48 0,-19.48 C-1.54,-19.48 -2.54,-20.44 -2.54,-20.44 C-8.3,-25.2 -16.86,-24.86 -22.24,-19.53 C-28,-13.81 -28,-4.51 -22.24,1.21 C-22.24,1.21 -4.04,22.54 -4.04,22.54 C-1.91,25.03 1.91,25.03 4.04,22.54 C4.04,22.54 22.28,1.21 22.28,1.21 C28,-4.51 28.05,-13.81 22.28,-19.53z "}))),a.createElement("g",{id:"_R_G_L_3_G_M"},a.createElement("g",{id:"_R_G_L_3_G"},a.createElement("path",{id:"_R_G_L_3_G_D_0_P_0",fill:y.ixZ,fillOpacity:1,fillRule:"nonzero",d:" M22.28 -19.53 C16.88,-24.89 8.3,-25.2 2.54,-20.44 C2.54,-20.44 1.5,-19.48 0,-19.48 C-1.54,-19.48 -2.54,-20.44 -2.54,-20.44 C-8.3,-25.2 -16.86,-24.86 -22.24,-19.53 C-28,-13.81 -28,-4.51 -22.24,1.21 C-22.24,1.21 -4.04,22.54 -4.04,22.54 C-1.91,25.03 1.91,25.03 4.04,22.54 C4.04,22.54 22.28,1.21 22.28,1.21 C28,-4.51 28.05,-13.81 22.28,-19.53z "}))),a.createElement("g",{id:"_R_G_L_2_G_M"},a.createElement("g",{id:"_R_G_L_2_G"},a.createElement("path",{id:"_R_G_L_2_G_D_0_P_0",fill:y.By7,fillOpacity:1,fillRule:"nonzero",d:" M22.28 -19.53 C16.88,-24.89 8.3,-25.2 2.54,-20.44 C2.54,-20.44 1.5,-19.48 0,-19.48 C-1.54,-19.48 -2.54,-20.44 -2.54,-20.44 C-8.3,-25.2 -16.86,-24.86 -22.24,-19.53 C-28,-13.81 -28,-4.51 -22.24,1.21 C-22.24,1.21 -4.04,22.54 -4.04,22.54 C-1.91,25.03 1.91,25.03 4.04,22.54 C4.04,22.54 22.28,1.21 22.28,1.21 C28,-4.51 28.05,-13.81 22.28,-19.53z "}))),a.createElement("g",{id:"_R_G_L_1_G_N_1_T_0_M"},a.createElement("g",{id:"_R_G_L_1_G_N_1_T_0",transform:" translate(112, 112)"},a.createElement("g",{id:"_R_G_L_1_G",transform:" scale(4, 4)"},a.createElement("path",{id:"_R_G_L_1_G_D_0_P_0",fill:y.ixZ,fillOpacity:1,fillRule:"nonzero",d:" M-6.18 -8.52 C-5.37,-8.78 -4.5,-8.82 -3.67,-8.63 C-2.84,-8.43 -2.07,-8.02 -1.46,-7.43 C-1.46,-7.43 -1.45,-7.43 -1.45,-7.43 C-1.06,-7.06 -0.54,-6.85 0,-6.85 C0.54,-6.85 1.06,-7.06 1.45,-7.43 C1.45,-7.43 1.46,-7.43 1.46,-7.43 C1.99,-7.94 2.63,-8.31 3.32,-8.53 C4.02,-8.75 4.76,-8.8 5.48,-8.69 C6.44,-8.53 7.34,-8.08 8.04,-7.41 C8.74,-6.73 9.22,-5.85 9.41,-4.9 C9.55,-4.2 9.53,-3.48 9.34,-2.79 C9.16,-2.11 8.83,-1.47 8.36,-0.93 C8.36,-0.93 0.4,8.56 0.4,8.56 C0.35,8.62 0.29,8.67 0.22,8.7 C0.15,8.73 0.08,8.75 0,8.75 C-0.07,8.75 -0.15,8.73 -0.22,8.7 C-0.29,8.67 -0.35,8.62 -0.39,8.56 C-0.39,8.56 -8.35,-0.92 -8.35,-0.92 C-8.35,-0.92 -8.36,-0.93 -8.36,-0.93 C-8.83,-1.47 -9.16,-2.11 -9.35,-2.79 C-9.53,-3.48 -9.55,-4.2 -9.41,-4.9 C-9.41,-4.9 -9.41,-4.9 -9.41,-4.9 C-9.25,-5.74 -8.86,-6.52 -8.29,-7.16 C-7.73,-7.79 -7,-8.27 -6.18,-8.52z "}),a.createElement("path",{id:"_R_G_L_1_G_D_0_P_1",fill:y.ixZ,fillOpacity:1,fillRule:"nonzero",d:" M-3.22 -10.57 C-4.4,-10.85 -5.63,-10.8 -6.79,-10.43 C-7.94,-10.06 -8.98,-9.39 -9.79,-8.49 C-10.59,-7.58 -11.14,-6.47 -11.37,-5.29 C-11.57,-4.29 -11.54,-3.26 -11.28,-2.28 C-11.02,-1.3 -10.54,-0.4 -9.88,0.37 C-9.88,0.37 -1.93,9.85 -1.93,9.85 C-1.69,10.13 -1.4,10.36 -1.06,10.51 C-0.73,10.67 -0.37,10.75 0,10.75 C0.37,10.75 0.73,10.67 1.06,10.51 C1.4,10.36 1.69,10.13 1.93,9.85 C1.93,9.85 9.88,0.37 9.88,0.37 C10.54,-0.4 11.02,-1.3 11.28,-2.28 C11.54,-3.26 11.57,-4.29 11.37,-5.28 C11.37,-5.28 11.37,-5.29 11.37,-5.29 C11.1,-6.64 10.42,-7.89 9.43,-8.85 C8.43,-9.81 7.17,-10.44 5.8,-10.66 C5.8,-10.66 5.8,-10.66 5.8,-10.66 C4.77,-10.83 3.72,-10.75 2.73,-10.44 C1.74,-10.13 0.83,-9.6 0.08,-8.88 C0.06,-8.86 0.03,-8.85 0,-8.85 C-0.03,-8.85 -0.06,-8.86 -0.08,-8.88 C-0.96,-9.72 -2.04,-10.3 -3.22,-10.57z "})))),a.createElement("g",{id:"_R_G_L_0_G_N_1_T_0_M"},a.createElement("g",{id:"_R_G_L_0_G_N_1_T_0",transform:" translate(112, 112)"},a.createElement("g",{id:"_R_G_L_0_G",transform:" translate(0, 0)"},a.createElement("path",{id:"_R_G_L_0_G_D_0_P_0",fill:y.By7,fillOpacity:1,fillRule:"nonzero",d:" M8.73 -8.13 C9.58,-7.31 10.16,-6.25 10.39,-5.09 C10.56,-4.24 10.53,-3.37 10.31,-2.54 C10.09,-1.7 9.68,-0.93 9.12,-0.28 C9.12,-0.28 1.16,9.21 1.16,9.21 C1.02,9.38 0.84,9.51 0.64,9.61 C0.44,9.7 0.22,9.75 0,9.75 C-0.22,9.75 -0.44,9.7 -0.64,9.61 C-0.84,9.51 -1.02,9.38 -1.16,9.21 C-1.16,9.21 -9.12,-0.28 -9.12,-0.28 C-9.68,-0.93 -10.09,-1.7 -10.31,-2.54 C-10.53,-3.37 -10.56,-4.25 -10.39,-5.09 C-10.19,-6.11 -9.73,-7.05 -9.04,-7.82 C-8.35,-8.59 -7.47,-9.16 -6.49,-9.48 C-5.5,-9.79 -4.45,-9.83 -3.45,-9.6 C-2.44,-9.37 -1.51,-8.87 -0.77,-8.16 C-0.56,-7.96 -0.28,-7.85 0,-7.85 C0.28,-7.85 0.56,-7.96 0.77,-8.16 C1.41,-8.77 2.18,-9.22 3.03,-9.49 C3.87,-9.75 4.77,-9.82 5.64,-9.68 C6.8,-9.49 7.88,-8.94 8.73,-8.13z "}),a.createElement("path",{id:"_R_G_L_0_G_D_1_P_0",stroke:y.By7,strokeLinecap:"round",strokeLinejoin:"round",fill:"none",strokeWidth:2,strokeOpacity:1,d:" M8.73 -8.13 C9.58,-7.31 10.16,-6.25 10.39,-5.09 C10.56,-4.24 10.53,-3.37 10.31,-2.54 C10.09,-1.7 9.68,-0.93 9.12,-0.28 C9.12,-0.28 1.16,9.21 1.16,9.21 C1.02,9.38 0.84,9.51 0.64,9.61 C0.44,9.7 0.22,9.75 0,9.75 C-0.22,9.75 -0.44,9.7 -0.64,9.61 C-0.84,9.51 -1.02,9.38 -1.16,9.21 C-1.16,9.21 -9.12,-0.28 -9.12,-0.28 C-9.68,-0.93 -10.09,-1.7 -10.31,-2.54 C-10.53,-3.37 -10.56,-4.25 -10.39,-5.09 C-10.19,-6.11 -9.73,-7.05 -9.04,-7.82 C-8.35,-8.59 -7.47,-9.16 -6.49,-9.48 C-5.5,-9.79 -4.45,-9.83 -3.45,-9.6 C-2.44,-9.37 -1.51,-8.87 -0.77,-8.16 C-0.56,-7.96 -0.28,-7.85 0,-7.85 C0.28,-7.85 0.56,-7.96 0.77,-8.16 C1.41,-8.77 2.18,-9.22 3.03,-9.49 C3.87,-9.75 4.77,-9.82 5.64,-9.68 C6.8,-9.49 7.88,-8.94 8.73,-8.13z "}))))),a.createElement("g",{id:"time_group"}))})),E=a.memo((function(e){var t=e.size,n=e.onEnd,r=2.35;return a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",preserveAspectRatio:"xMidYMid meet",width:t*r,height:t*r,viewBox:"0 0 224 224",style:{willChange:"transform",transform:"translate3d(0, 0, 0)",margin:"-".concat((t*r-t)/2,"px")}},a.createElement("defs",null,a.createElement("animate",{dur:"0.5166667s",begin:"0s",xlinkHref:"#_R_G_L_1_G_D_0_P_0",fill:"freeze",attributeName:"stroke-width",from:1,to:2,keyTimes:"0;0.3225806;0.6451613;1",values:"1;1;2;2",keySplines:"0.6 0 0.7 1;0.6 0 0.7 1;0 0 0 0",calcMode:"spline",ref:function(e){e&&e.addEventListener("endEvent",n,{once:!0})}}),a.createElement("animate",{dur:"0.5166667s",begin:"0s",xlinkHref:"#_R_G_L_1_G",fill:"freeze",attributeName:"opacity",from:0,to:.7000000000000001,keyTimes:"0;0.3225806;0.6451613;1",values:"0;0;0.7000000000000001;0.7000000000000001",keySplines:"0.6 0 0.7 1;0.6 0 0.7 1;0 0 0 0",calcMode:"spline"}),a.createElement("animateMotion",{dur:"0.5166667s",begin:"0s",xlinkHref:"#_R_G_L_1_G_N_2_T_0",fill:"freeze",keyTimes:"0;0.3225806;0.483871;0.6451613;0.9677419;1",path:"M112 140 C112,140 100,140 100,140 C100,140 124,140 124,140 C124,140 100,140 100,140 C100,140 112,140 112,140 C112,140 112,140 112,140 ",keyPoints:"0;0.17;0.5;0.83;1;1",keySplines:"0.8 0 0.8 1;0.8 0 0.8 1;0.8 0 0.8 1;0.2 0 0.2 1;0 0 0 0",calcMode:"spline"}),a.createElement("animateTransform",{dur:"0.5166667s",begin:"0s",xlinkHref:"#_R_G_L_1_G_N_2_T_0",fill:"freeze",attributeName:"transform",from:0,to:0,type:"rotate",additive:"sum",keyTimes:"0;0.2580645;0.3870968;0.5483871;0.7096774;0.9677419;1",values:"0;3;-4;6;-6;0;0",keySplines:"0.6 0 0.667 1;0.333 0 0.667 1;0.333 0 0.667 1;0.333 0 0.667 1;0.6 0 0.667 1;0 0 0 0",calcMode:"spline"}),a.createElement("animate",{dur:"0.5166667s",begin:"0s",xlinkHref:"#_R_G_L_0_G_D_1_P_0",fill:"freeze",attributeName:"stroke-width",from:1,to:2,keyTimes:"0;0.3225806;0.6451613;1",values:"1;1;2;2",keySplines:"0.3 0 0.4 1;0.3 0 0.4 1;0 0 0 0",calcMode:"spline"}),a.createElement("animate",{dur:"0.5166667s",begin:"0s",xlinkHref:"#_R_G_L_0_G",fill:"freeze",attributeName:"opacity",from:1,to:0,keyTimes:"0;0.3225806;0.6451613;1",values:"1;1;0;0",keySplines:"0.3 0 0.4 1;0.3 0 0.4 1;0 0 0 0",calcMode:"spline"}),a.createElement("animateMotion",{dur:"0.5166667s",begin:"0s",xlinkHref:"#_R_G_L_0_G_N_2_T_0",fill:"freeze",keyTimes:"0;0.3225806;0.483871;0.6451613;0.9677419;1",path:"M112 140 C112,140 100,140 100,140 C100,140 124,140 124,140 C124,140 100,140 100,140 C100,140 112,140 112,140 C112,140 112,140 112,140 ",keyPoints:"0;0.17;0.5;0.83;1;1",keySplines:"0.8 0 0.8 1;0.8 0 0.8 1;0.8 0 0.8 1;0.2 0 0.2 1;0 0 0 0",calcMode:"spline"}),a.createElement("animateTransform",{dur:"0.5166667s",begin:"0s",xlinkHref:"#_R_G_L_0_G_N_2_T_0",fill:"freeze",attributeName:"transform",from:0,to:0,type:"rotate",additive:"sum",keyTimes:"0;0.2580645;0.3870968;0.5483871;0.7096774;0.9677419;1",values:"0;3;-4;6;-6;0;0",keySplines:"0.6 0 0.667 1;0.333 0 0.667 1;0.333 0 0.667 1;0.333 0 0.667 1;0.6 0 0.667 1;0 0 0 0",calcMode:"spline"}),a.createElement("animate",{attributeType:"XML",attributeName:"opacity",dur:"1s",from:0,to:1,xlinkHref:"#time_group"})),a.createElement("g",{id:"_R_G"},a.createElement("g",{id:"_R_G_L_1_G_N_2_T_0"},a.createElement("g",{id:"_R_G_L_1_G",transform:" translate(0, -28) scale(4, 4) translate(0, 0)"},a.createElement("path",{id:"_R_G_L_1_G_D_0_P_0",stroke:y.ixZ,strokeLinecap:"round",strokeLinejoin:"round",fill:"none",strokeWidth:1,strokeOpacity:1,d:" M8.73 -8.13 C9.58,-7.31 10.16,-6.25 10.39,-5.09 C10.56,-4.24 10.53,-3.37 10.31,-2.54 C10.09,-1.7 9.68,-0.93 9.12,-0.28 C9.12,-0.28 1.16,9.21 1.16,9.21 C1.02,9.38 0.84,9.51 0.64,9.61 C0.44,9.7 0.22,9.75 0,9.75 C-0.22,9.75 -0.44,9.7 -0.64,9.61 C-0.84,9.51 -1.02,9.38 -1.16,9.21 C-1.16,9.21 -9.12,-0.28 -9.12,-0.28 C-9.68,-0.93 -10.09,-1.7 -10.31,-2.54 C-10.53,-3.37 -10.56,-4.25 -10.39,-5.09 C-10.19,-6.11 -9.73,-7.05 -9.04,-7.82 C-8.35,-8.59 -7.47,-9.16 -6.49,-9.48 C-5.5,-9.79 -4.45,-9.83 -3.45,-9.6 C-2.44,-9.37 -1.51,-8.87 -0.77,-8.16 C-0.56,-7.96 -0.28,-7.85 0,-7.85 C0.28,-7.85 0.56,-7.96 0.77,-8.16 C1.41,-8.77 2.18,-9.22 3.03,-9.49 C3.87,-9.75 4.77,-9.82 5.64,-9.68 C6.8,-9.49 7.88,-8.94 8.73,-8.13z "}))),a.createElement("g",{id:"_R_G_L_0_G_N_2_T_0"},a.createElement("g",{id:"_R_G_L_0_G",transform:" translate(0.214, -27.999) scale(4, 4) translate(0, 0)"},a.createElement("path",{id:"_R_G_L_0_G_D_0_P_0",fill:y.By7,fillOpacity:1,fillRule:"nonzero",d:" M8.73 -8.13 C9.58,-7.31 10.16,-6.25 10.39,-5.09 C10.56,-4.24 10.53,-3.37 10.31,-2.54 C10.09,-1.7 9.68,-0.93 9.12,-0.28 C9.12,-0.28 1.16,9.21 1.16,9.21 C1.02,9.38 0.84,9.51 0.64,9.61 C0.44,9.7 0.22,9.75 0,9.75 C-0.22,9.75 -0.44,9.7 -0.64,9.61 C-0.84,9.51 -1.02,9.38 -1.16,9.21 C-1.16,9.21 -9.12,-0.28 -9.12,-0.28 C-9.68,-0.93 -10.09,-1.7 -10.31,-2.54 C-10.53,-3.37 -10.56,-4.25 -10.39,-5.09 C-10.19,-6.11 -9.73,-7.05 -9.04,-7.82 C-8.35,-8.59 -7.47,-9.16 -6.49,-9.48 C-5.5,-9.79 -4.45,-9.83 -3.45,-9.6 C-2.44,-9.37 -1.51,-8.87 -0.77,-8.16 C-0.56,-7.96 -0.28,-7.85 0,-7.85 C0.28,-7.85 0.56,-7.96 0.77,-8.16 C1.41,-8.77 2.18,-9.22 3.03,-9.49 C3.87,-9.75 4.77,-9.82 5.64,-9.68 C6.8,-9.49 7.88,-8.94 8.73,-8.13z "}),a.createElement("path",{id:"_R_G_L_0_G_D_1_P_0",stroke:y.By7,strokeLinecap:"round",strokeLinejoin:"round",fill:"none",strokeWidth:1,strokeOpacity:1,d:" M8.73 -8.13 C9.58,-7.31 10.16,-6.25 10.39,-5.09 C10.56,-4.24 10.53,-3.37 10.31,-2.54 C10.09,-1.7 9.68,-0.93 9.12,-0.28 C9.12,-0.28 1.16,9.21 1.16,9.21 C1.02,9.38 0.84,9.51 0.64,9.61 C0.44,9.7 0.22,9.75 0,9.75 C-0.22,9.75 -0.44,9.7 -0.64,9.61 C-0.84,9.51 -1.02,9.38 -1.16,9.21 C-1.16,9.21 -9.12,-0.28 -9.12,-0.28 C-9.68,-0.93 -10.09,-1.7 -10.31,-2.54 C-10.53,-3.37 -10.56,-4.25 -10.39,-5.09 C-10.19,-6.11 -9.73,-7.05 -9.04,-7.82 C-8.35,-8.59 -7.47,-9.16 -6.49,-9.48 C-5.5,-9.79 -4.45,-9.83 -3.45,-9.6 C-2.44,-9.37 -1.51,-8.87 -0.77,-8.16 C-0.56,-7.96 -0.28,-7.85 0,-7.85 C0.28,-7.85 0.56,-7.96 0.77,-8.16 C1.41,-8.77 2.18,-9.22 3.03,-9.49 C3.87,-9.75 4.77,-9.82 5.64,-9.68 C6.8,-9.49 7.88,-8.94 8.73,-8.13z "})))),a.createElement("g",{id:"time_group"}))})),b=a.memo((function(e){var t=e.size,n=e.onEnd;return a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",preserveAspectRatio:"xMidYMid meet",width:1.3*t,height:1.3*t,viewBox:"0 0 384 384",style:{willChange:"transform",transform:"translate3d(0, 0, 0)",margin:"-".concat((1.3*t-t)/2,"px")}},a.createElement("g",{id:"_R_G"},a.createElement("g",{id:"_R_G_L_4_G_N_3_N_1_T_0_M"},a.createElement("g",{id:"_R_G_L_4_G_N_3_N_1_T_0"},a.createElement("g",{id:"_R_G_L_4_G_N_3_T_0",transform:" translate(0, 0)"},a.createElement("g",{id:"_R_G_L_4_G",transform:" translate(0, 0.006) translate(0, 0)"},a.createElement("path",{id:"_R_G_L_4_G_D_0_P_0",fill:getComputedStyle(document.body).getPropertyValue("--spice-subtext").trim(),fillOpacity:"1",fillRule:"nonzero",d:" M-156 -0.01 C-156,86.02 -86.02,155.99 0,155.99 C86.02,155.99 156,86.02 156,-0.01 C156,-86.03 86.02,-156.01 0,-156.01 C-86.02,-156.01 -156,-86.02 -156,-0.01z  M-168 0 C-168,-92.78 -92.78,-168 0,-168 C92.78,-168 168,-92.79 168,0 C168,92.78 92.78,168 0,168 C-92.78,168 -168,92.78 -168,0z "}))))),a.createElement("g",{id:"_R_G_L_3_G_N_2_N_1_T_0_M"},a.createElement("g",{id:"_R_G_L_3_G_N_2_N_1_T_0"},a.createElement("g",{id:"_R_G_L_3_G_N_2_T_0",transform:" translate(0, 0)"},a.createElement("g",{id:"_R_G_L_3_G"},a.createElement("path",{id:"_R_G_L_3_G_D_0_P_0",fill:getComputedStyle(document.body).getPropertyValue("--spice-subtext").trim(),fillOpacity:"1",fillRule:"nonzero",d:" M96 -6 C96,-6 96,6 96,6 C96,6 -96,6 -96,6 C-96,6 -96,-6 -96,-6 C-96,-6 96,-6 96,-6z "}))))),a.createElement("g",{id:"_R_G_L_2_G_N_2_N_1_T_0_M"},a.createElement("g",{id:"_R_G_L_2_G_N_2_N_1_T_0"},a.createElement("g",{id:"_R_G_L_2_G_N_2_T_0",transform:" translate(0, 0)"},a.createElement("g",{id:"_R_G_L_2_G"},a.createElement("path",{id:"_R_G_L_2_G_D_0_P_0",stroke:getComputedStyle(document.body).getPropertyValue("--spice-subtext").trim(),strokeLinecap:"round",strokeLinejoin:"round",fill:"none",strokeWidth:"14",strokeOpacity:"1",d:" M0 -162 C89.41,-162 162,-89.41 162,0 C162,89.41 89.41,162 0,162 C-89.41,162 -162,89.41 -162,0 C-162,-89.41 -89.41,-162 0,-162z "}))))),a.createElement("g",{id:"_R_G_L_1_G_N_2_N_1_T_0_M"},a.createElement("g",{id:"_R_G_L_1_G_N_2_N_1_T_0"},a.createElement("g",{id:"_R_G_L_1_G_N_2_T_0",transform:" translate(0, 0)"},a.createElement("g",{id:"_R_G_L_1_G"},a.createElement("path",{id:"_R_G_L_1_G_D_0_P_0",fill:getComputedStyle(document.body).getPropertyValue("--spice-subtext").trim(),fillOpacity:"1",fillRule:"nonzero",d:" M96 -7 C96,-7 96,7 96,7 C96,7 -96,7 -96,7 C-96,7 -96,-7 -96,-7 C-96,-7 96,-7 96,-7z  M7 -96 C7,-96 7,96 7,96 C7,96 -7,96 -7,96 C-7,96 -7,-96 -7,-96 C-7,-96 7,-96 7,-96z "}))))),a.createElement("g",{id:"_R_G_L_0_G_N_2_N_1_T_0_M"},a.createElement("g",{id:"_R_G_L_0_G_N_2_N_1_T_0"},a.createElement("g",{id:"_R_G_L_0_G_N_2_T_0",transform:" translate(0, 0)"},a.createElement("g",{id:"_R_G_L_0_G",transform:" rotate(-130) scale(1.03, 1.03)"},a.createElement("path",{id:"_R_G_L_0_G_D_0_P_0",fill:"#1ed760",fillOpacity:"1",fillRule:"nonzero",d:" M-92.21 15.2 C-92.21,15.2 -27.04,91.53 -27.04,91.53 C-27.04,91.53 94.27,-50.53 94.27,-50.53 C94.27,-50.53 75.27,-66.67 75.27,-66.67 C75.27,-66.67 -27.04,53.15 -27.04,53.15 C-27.04,53.15 -75.83,-3.92 -75.83,-3.92 C-75.83,-3.92 -92.21,15.2 -92.21,15.2z  M-162 0 C-162,-89.47 -89.47,-162 0,-162 C89.47,-162 162,-89.47 162,0 C162,89.47 89.47,162 0,162 C-89.47,162 -162,89.47 -162,0z "})))))),a.createElement("g",{id:"time_group"}),a.createElement("defs",null,a.createElement("animate",{dur:"0.36666666666666664s",begin:"0s",xlinkHref:"#_R_G_L_4_G_D_0_P_0",fill:"freeze",attributeName:"fill",from:getComputedStyle(document.body).getPropertyValue("--spice-subtext").trim(),to:getComputedStyle(document.body).getPropertyValue("--spice-subtext").trim(),keyTimes:"0;0.9090909;0.9545455;1",values:"#b3b3b3;#1db954;#1ed760;#1ed760",keySplines:"0 0 0 1;0.328 0.103 0.661 1;0 0 0 0",calcMode:"spline",ref:function(e){e&&e.addEventListener("endEvent",n,{once:!0})}}),a.createElement("animate",{dur:"0.36666666666666664s",begin:"0s",xlinkHref:"#_R_G_L_4_G_D_0_P_0",fill:"freeze",attributeName:"d",attributeType:"XML",from:"M-156 -0.01 C-156,86.02 -86.02,155.99 0,155.99 C86.02,155.99 156,86.02 156,-0.01 C156,-86.03 86.02,-156.01 0,-156.01 C-86.02,-156.01 -156,-86.02 -156,-0.01z ",to:"M-0.2 -0.01 C-0.2,0.1 -0.11,0.19 0,0.19 C0.11,0.19 0.2,0.1 0.2,-0.01 C0.2,-0.11 0.11,-0.2 0,-0.2 C-0.11,-0.2 -0.2,-0.11 -0.2,-0.01z ",keyTimes:"0;0.9545455;1",values:"M-156 -0.01 C-156,86.02 -86.02,155.99 0,155.99 C86.02,155.99 156,86.02 156,-0.01 C156,-86.03 86.02,-156.01 0,-156.01 C-86.02,-156.01 -156,-86.02 -156,-0.01z  M-168 0 C-168,-92.78 -92.78,-168 0,-168 C92.78,-168 168,-92.79 168,0 C168,92.78 92.78,168 0,168 C-92.78,168 -168,92.78 -168,0z ;M-0.2 -0.01 C-0.2,0.1 -0.11,0.19 0,0.19 C0.11,0.19 0.2,0.1 0.2,-0.01 C0.2,-0.11 0.11,-0.2 0,-0.2 C-0.11,-0.2 -0.2,-0.11 -0.2,-0.01z  M-168 0 C-168,-92.78 -92.78,-168 0,-168 C92.78,-168 168,-92.79 168,0 C168,92.78 92.78,168 0,168 C-92.78,168 -168,92.78 -168,0z ;M-0.2 -0.01 C-0.2,0.1 -0.11,0.19 0,0.19 C0.11,0.19 0.2,0.1 0.2,-0.01 C0.2,-0.11 0.11,-0.2 0,-0.2 C-0.11,-0.2 -0.2,-0.11 -0.2,-0.01z  M-168 0 C-168,-92.78 -92.78,-168 0,-168 C92.78,-168 168,-92.79 168,0 C168,92.78 92.78,168 0,168 C-92.78,168 -168,92.78 -168,0z ",keySplines:"0 0 0.34 1;0 0 0 0",calcMode:"spline"}),a.createElement("animateTransform",{dur:"0.36666666666666664s",begin:"0s",xlinkHref:"#_R_G_L_4_G_N_3_T_0",fill:"freeze",attributeName:"transform",from:"1 1",to:"0.99 0.99",type:"scale",additive:"sum",keyTimes:"0;0.9545455;1",values:"1 1;0.99 0.99;0.99 0.99",keySplines:"0.692 0 0.64 1;0 0 0 0",calcMode:"spline"}),a.createElement("animateMotion",{dur:"0.36666666666666664s",begin:"0s",xlinkHref:"#_R_G_L_4_G_N_3_N_1_T_0",fill:"freeze",keyTimes:"0;0.9545455;1",path:"M192 192 C192,192 192,198 192,198 C192,198 192,198 192,198 ",keyPoints:"0;1;1",keySplines:"0.167 0.167 0.833 0.833;0 0 0 0",calcMode:"spline"}),a.createElement("animate",{dur:"0.36666666666666664s",begin:"0s",xlinkHref:"#_R_G_L_4_G_N_3_N_1_T_0_M",fill:"freeze",attributeName:"opacity",from:"0",to:"0",keyTimes:"0;0.0454545;0.0454591;0.9545455;0.9545455;1",values:"0;0;1;1;0;0",keySplines:"0 0 0 0;0 0 0 0;0 0 0 0;0 0 0 0;0 0 0 0",calcMode:"spline"}),a.createElement("animate",{dur:"0.36666666666666664s",begin:"0s",xlinkHref:"#_R_G_L_3_G_D_0_P_0",fill:"freeze",attributeName:"fill",from:getComputedStyle(document.body).getPropertyValue("--spice-subtext").trim(),to:getComputedStyle(document.body).getPropertyValue("--spice-subtext").trim(),keyTimes:"0;0.1818182;0.4545455;1",values:"#b3b3b3;#b3b3b3;#121212;#121212",keySplines:"0.167 0.167 0.833 0.833;0.167 0.167 0.833 0.833;0 0 0 0",calcMode:"spline"}),a.createElement("animate",{dur:"0.36666666666666664s",begin:"0s",xlinkHref:"#_R_G_L_3_G_D_0_P_0",fill:"freeze",attributeName:"d",attributeType:"XML",from:"M96 -6 C96,-6 96,6 96,6 C96,6 -96,6 -96,6 C-96,6 -96,-6 -96,-6 C-96,-6 96,-6 96,-6z ",to:"M87.22 -37.47 C87.22,-37.47 83.61,-14.6 83.61,-14.6 C83.61,-14.6 -98.73,-15.53 -98.73,-15.53 C-98.73,-15.53 -98.93,-39.44 -98.93,-39.44 C-98.93,-39.44 87.22,-37.47 87.22,-37.47z ",keyTimes:"0;0.9545455;1",values:"M96 -6 C96,-6 96,6 96,6 C96,6 -96,6 -96,6 C-96,6 -96,-6 -96,-6 C-96,-6 96,-6 96,-6z  M6 -96 C6,-96 6,96 6,96 C6,96 -6,96 -6,96 C-6,96 -6,-96 -6,-96 C-6,-96 6,-96 6,-96z ;M87.22 -37.47 C87.22,-37.47 83.61,-14.6 83.61,-14.6 C83.61,-14.6 -98.73,-15.53 -98.73,-15.53 C-98.73,-15.53 -98.93,-39.44 -98.93,-39.44 C-98.93,-39.44 87.22,-37.47 87.22,-37.47z  M87.74 -37.48 C87.74,-37.48 70.28,60.99 70.28,60.99 C70.28,60.99 46.22,61 46.22,61 C46.22,61 62.59,-37.21 62.59,-37.21 C62.59,-37.21 87.74,-37.48 87.74,-37.48z ;M87.22 -37.47 C87.22,-37.47 83.61,-14.6 83.61,-14.6 C83.61,-14.6 -98.73,-15.53 -98.73,-15.53 C-98.73,-15.53 -98.93,-39.44 -98.93,-39.44 C-98.93,-39.44 87.22,-37.47 87.22,-37.47z  M87.74 -37.48 C87.74,-37.48 70.28,60.99 70.28,60.99 C70.28,60.99 46.22,61 46.22,61 C46.22,61 62.59,-37.21 62.59,-37.21 C62.59,-37.21 87.74,-37.48 87.74,-37.48z ",keySplines:"0.66 0 0.34 1;0 0 0 0",calcMode:"spline"}),a.createElement("animateTransform",{dur:"0.36666666666666664s",begin:"0s",xlinkHref:"#_R_G_L_3_G_N_2_T_0",fill:"freeze",attributeName:"transform",from:"0",to:"130",type:"rotate",additive:"sum",keyTimes:"0;0.9545455;1",values:"0;130;130",keySplines:"0.8 0 0.2 1;0 0 0 0",calcMode:"spline"}),a.createElement("animateMotion",{dur:"0.36666666666666664s",begin:"0s",xlinkHref:"#_R_G_L_3_G_N_2_N_1_T_0",fill:"freeze",keyTimes:"0;0.9545455;1",path:"M192 192 C192,192 192,198 192,198 C192,198 192,198 192,198 ",keyPoints:"0;1;1",keySplines:"0.167 0.167 0.833 0.833;0 0 0 0",calcMode:"spline"}),a.createElement("animate",{dur:"0.36666666666666664s",begin:"0s",xlinkHref:"#_R_G_L_3_G_N_2_N_1_T_0_M",fill:"freeze",attributeName:"opacity",from:"0",to:"0",keyTimes:"0;0.0454545;0.0454591;0.9545455;0.9545455;1",values:"0;0;1;1;0;0",keySplines:"0 0 0 0;0 0 0 0;0 0 0 0;0 0 0 0;0 0 0 0",calcMode:"spline"}),a.createElement("animateTransform",{dur:"0.36666666666666664s",begin:"0s",xlinkHref:"#_R_G_L_2_G_N_2_T_0",fill:"freeze",attributeName:"transform",from:"0",to:"130",type:"rotate",additive:"sum",keyTimes:"0;0.9545455;1",values:"0;130;130",keySplines:"0.8 0 0.2 1;0 0 0 0",calcMode:"spline"}),a.createElement("animateMotion",{dur:"0.36666666666666664s",begin:"0s",xlinkHref:"#_R_G_L_2_G_N_2_N_1_T_0",fill:"freeze",keyTimes:"0;0.9545455;1",path:"M192 192 C192,192 192,198 192,198 C192,198 192,198 192,198 ",keyPoints:"0;1;1",keySplines:"0.167 0.167 0.833 0.833;0 0 0 0",calcMode:"spline"}),a.createElement("animate",{dur:"0.36666666666666664s",begin:"0s",xlinkHref:"#_R_G_L_2_G_N_2_N_1_T_0_M",fill:"freeze",attributeName:"opacity",from:"1",to:"0",keyTimes:"0;0.0454545;0.0454546;1",values:"1;1;0;0",keySplines:"0 0 0 0;0 0 0 0;0 0 0 0",calcMode:"spline"}),a.createElement("animateTransform",{dur:"0.36666666666666664s",begin:"0s",xlinkHref:"#_R_G_L_1_G_N_2_T_0",fill:"freeze",attributeName:"transform",from:"0",to:"130",type:"rotate",additive:"sum",keyTimes:"0;0.9545455;1",values:"0;130;130",keySplines:"0.8 0 0.2 1;0 0 0 0",calcMode:"spline"}),a.createElement("animateMotion",{dur:"0.36666666666666664s",begin:"0s",xlinkHref:"#_R_G_L_1_G_N_2_N_1_T_0",fill:"freeze",keyTimes:"0;0.9545455;1",path:"M192 192 C192,192 192,198 192,198 C192,198 192,198 192,198 ",keyPoints:"0;1;1",keySplines:"0.167 0.167 0.833 0.833;0 0 0 0",calcMode:"spline"}),a.createElement("animate",{dur:"0.36666666666666664s",begin:"0s",xlinkHref:"#_R_G_L_1_G_N_2_N_1_T_0_M",fill:"freeze",attributeName:"opacity",from:"1",to:"0",keyTimes:"0;0.0454545;0.0454546;1",values:"1;1;0;0",keySplines:"0 0 0 0;0 0 0 0;0 0 0 0",calcMode:"spline"}),a.createElement("animate",{dur:"0.36666666666666664s",begin:"0s",xlinkHref:"#_R_G_L_0_G",fill:"freeze",attributeName:"opacity",from:"0",to:"1",keyTimes:"0;0.7727273;0.9545455;1",values:"0;0;1;1",keySplines:"0.167 0.167 0.833 0.833;0.167 0.167 0.833 0.833;0 0 0 0",calcMode:"spline"}),a.createElement("animateTransform",{dur:"0.36666666666666664s",begin:"0s",xlinkHref:"#_R_G_L_0_G_N_2_T_0",fill:"freeze",attributeName:"transform",from:"0",to:"130",type:"rotate",additive:"sum",keyTimes:"0;0.9545455;1",values:"0;130;130",keySplines:"0.8 0 0.2 1;0 0 0 0",calcMode:"spline"}),a.createElement("animateMotion",{dur:"0.36666666666666664s",begin:"0s",xlinkHref:"#_R_G_L_0_G_N_2_N_1_T_0",fill:"freeze",keyTimes:"0;0.9545455;1",path:"M192 192 C192,192 192,198 192,198 C192,198 192,198 192,198 ",keyPoints:"0;1;1",keySplines:"0.167 0.167 0.833 0.833;0 0 0 0",calcMode:"spline"}),a.createElement("animate",{dur:"0.36666666666666664s",begin:"0s",xlinkHref:"#_R_G_L_0_G_N_2_N_1_T_0_M",fill:"freeze",attributeName:"opacity",from:"0",to:"1",keyTimes:"0;0.7727273;0.7727318;1",values:"0;0;1;1",keySplines:"0 0 0 0;0 0 0 0;0 0 0 0",calcMode:"spline"}),a.createElement("animate",{attributeType:"XML",attributeName:"opacity",dur:"0s",from:"0",to:"1",xlinkHref:"#time_group"})))})),_=a.memo((function(e){var t=e.size,n=e.onEnd;return a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",preserveAspectRatio:"xMidYMid meet",width:1.3*t,height:1.3*t,viewBox:"0 0 384 384",style:{willChange:"transform",transform:"translate3d(0, 0, 0)",margin:"-".concat((1.3*t-t)/2,"px")}},a.createElement("g",{id:"_R_G"},a.createElement("g",{id:"_R_G_L_4_G_N_3_N_1_T_0_M"},a.createElement("g",{id:"_R_G_L_4_G_N_3_N_1_T_0"},a.createElement("g",{id:"_R_G_L_4_G_N_3_T_0",transform:" translate(0, 0)"},a.createElement("g",{id:"_R_G_L_4_G",transform:" translate(0, 0.006) translate(0, 0)"},a.createElement("path",{id:"_R_G_L_4_G_D_0_P_0",fill:"#1ed760",fillOpacity:"1",fillRule:"nonzero",d:" M-0.2 -0.01 C-0.2,0.1 -0.11,0.19 0,0.19 C0.11,0.19 0.2,0.1 0.2,-0.01 C0.2,-0.11 0.11,-0.2 0,-0.2 C-0.11,-0.2 -0.2,-0.11 -0.2,-0.01z  M-168 0 C-168,-92.78 -92.78,-168 0,-168 C92.78,-168 168,-92.79 168,0 C168,92.78 92.78,168 0,168 C-92.78,168 -168,92.78 -168,0z "}))))),a.createElement("g",{id:"_R_G_L_3_G_N_2_N_1_T_0_M"},a.createElement("g",{id:"_R_G_L_3_G_N_2_N_1_T_0"},a.createElement("g",{id:"_R_G_L_3_G_N_2_T_0",transform:" translate(0, 0)"},a.createElement("g",{id:"_R_G_L_3_G"},a.createElement("path",{id:"_R_G_L_3_G_D_0_P_0",fill:"#121212",fillOpacity:"1",fillRule:"nonzero",d:" M87.22 -37.47 C87.22,-37.47 83.61,-14.6 83.61,-14.6 C83.61,-14.6 -98.73,-15.53 -98.73,-15.53 C-98.73,-15.53 -98.93,-39.44 -98.93,-39.44 C-98.93,-39.44 87.22,-37.47 87.22,-37.47z "}))))),a.createElement("g",{id:"_R_G_L_2_G_N_2_N_1_T_0_M"},a.createElement("g",{id:"_R_G_L_2_G_N_2_N_1_T_0"},a.createElement("g",{id:"_R_G_L_2_G_N_2_T_0",transform:" translate(0, 0)"},a.createElement("g",{id:"_R_G_L_2_G",transform:" rotate(-130) scale(1.03, 1.03)"},a.createElement("path",{id:"_R_G_L_2_G_D_0_P_0",fill:"#1ed760",fillOpacity:"1",fillRule:"nonzero",d:" M-92.21 15.2 C-92.21,15.2 -27.04,91.53 -27.04,91.53 C-27.04,91.53 94.27,-50.53 94.27,-50.53 C94.27,-50.53 75.27,-66.67 75.27,-66.67 C75.27,-66.67 -27.04,53.15 -27.04,53.15 C-27.04,53.15 -75.83,-3.92 -75.83,-3.92 C-75.83,-3.92 -92.21,15.2 -92.21,15.2z  M-162 0 C-162,-89.47 -89.47,-162 0,-162 C89.47,-162 162,-89.47 162,0 C162,89.47 89.47,162 0,162 C-89.47,162 -162,89.47 -162,0z "}))))),a.createElement("g",{id:"_R_G_L_1_G_N_2_N_1_T_0_M"},a.createElement("g",{id:"_R_G_L_1_G_N_2_N_1_T_0"},a.createElement("g",{id:"_R_G_L_1_G_N_2_T_0",transform:" translate(0, 0)"},a.createElement("g",{id:"_R_G_L_1_G"},a.createElement("path",{id:"_R_G_L_1_G_D_0_P_0",fill:getComputedStyle(document.body).getPropertyValue("--spice-subtext").trim(),fillOpacity:"1",fillRule:"nonzero",d:" M96 -7 C96,-7 96,7 96,7 C96,7 -96,7 -96,7 C-96,7 -96,-7 -96,-7 C-96,-7 96,-7 96,-7z  M7 -96 C7,-96 7,96 7,96 C7,96 -7,96 -7,96 C-7,96 -7,-96 -7,-96 C-7,-96 7,-96 7,-96z "}))))),a.createElement("g",{id:"_R_G_L_0_G_N_2_N_1_T_0_M"},a.createElement("g",{id:"_R_G_L_0_G_N_2_N_1_T_0"},a.createElement("g",{id:"_R_G_L_0_G_N_2_T_0",transform:" translate(0, 0)"},a.createElement("g",{id:"_R_G_L_0_G"},a.createElement("path",{id:"_R_G_L_0_G_D_0_P_0",stroke:getComputedStyle(document.body).getPropertyValue("--spice-subtext").trim(),strokeLinecap:"round",strokeLinejoin:"round",fill:"none",strokeWidth:"14",strokeOpacity:"1",d:" M0 -162 C89.41,-162 162,-89.41 162,0 C162,89.41 89.41,162 0,162 C-89.41,162 -162,89.41 -162,0 C-162,-89.41 -89.41,-162 0,-162z "})))))),a.createElement("g",{id:"time_group"}),a.createElement("defs",null,a.createElement("animate",{dur:"0.36666666666666664s",begin:"0s",xlinkHref:"#_R_G_L_4_G_D_0_P_0",fill:"freeze",attributeName:"fill",from:"#1ed760",to:"#1ed760",keyTimes:"0;0.9545455;1",values:"#1ed760;#b3b3b3;#b3b3b3",keySplines:"1 0 1 1;0 0 0 0",calcMode:"spline",ref:function(e){e&&e.addEventListener("endEvent",n,{once:!0})}}),a.createElement("animate",{dur:"0.36666666666666664s",begin:"0s",xlinkHref:"#_R_G_L_4_G_D_0_P_0",fill:"freeze",attributeName:"d",attributeType:"XML",from:"M-0.2 -0.01 C-0.2,0.1 -0.11,0.19 0,0.19 C0.11,0.19 0.2,0.1 0.2,-0.01 C0.2,-0.11 0.11,-0.2 0,-0.2 C-0.11,-0.2 -0.2,-0.11 -0.2,-0.01z ",to:"M-156 -0.01 C-156,86.02 -86.02,155.99 0,155.99 C86.02,155.99 156,86.02 156,-0.01 C156,-86.03 86.02,-156.01 0,-156.01 C-86.02,-156.01 -156,-86.02 -156,-0.01z ",keyTimes:"0;0.9545455;1",values:"M-0.2 -0.01 C-0.2,0.1 -0.11,0.19 0,0.19 C0.11,0.19 0.2,0.1 0.2,-0.01 C0.2,-0.11 0.11,-0.2 0,-0.2 C-0.11,-0.2 -0.2,-0.11 -0.2,-0.01z  M-168 0 C-168,-92.78 -92.78,-168 0,-168 C92.78,-168 168,-92.79 168,0 C168,92.78 92.78,168 0,168 C-92.78,168 -168,92.78 -168,0z ;M-156 -0.01 C-156,86.02 -86.02,155.99 0,155.99 C86.02,155.99 156,86.02 156,-0.01 C156,-86.03 86.02,-156.01 0,-156.01 C-86.02,-156.01 -156,-86.02 -156,-0.01z  M-168 0 C-168,-92.78 -92.78,-168 0,-168 C92.78,-168 168,-92.79 168,0 C168,92.78 92.78,168 0,168 C-92.78,168 -168,92.78 -168,0z ;M-156 -0.01 C-156,86.02 -86.02,155.99 0,155.99 C86.02,155.99 156,86.02 156,-0.01 C156,-86.03 86.02,-156.01 0,-156.01 C-86.02,-156.01 -156,-86.02 -156,-0.01z  M-168 0 C-168,-92.78 -92.78,-168 0,-168 C92.78,-168 168,-92.79 168,0 C168,92.78 92.78,168 0,168 C-92.78,168 -168,92.78 -168,0z ",keySplines:"0 0 0 1;0 0 0 0",calcMode:"spline"}),a.createElement("animateTransform",{dur:"0.36666666666666664s",begin:"0s",xlinkHref:"#_R_G_L_4_G_N_3_T_0",fill:"freeze",attributeName:"transform",from:"0.99 0.99",to:"1 1",type:"scale",additive:"sum",keyTimes:"0;0.9545455;1",values:"0.99 0.99;1 1;1 1",keySplines:"0.66 0 0.34 1;0 0 0 0",calcMode:"spline"}),a.createElement("animateMotion",{dur:"0.36666666666666664s",begin:"0s",xlinkHref:"#_R_G_L_4_G_N_3_N_1_T_0",fill:"freeze",keyTimes:"0;0.9545455;1",path:"M192 198 C192,198 192,192 192,192 C192,192 192,192 192,192 ",keyPoints:"0;1;1",keySplines:"0.167 0.167 0.833 0.833;0 0 0 0",calcMode:"spline"}),a.createElement("animate",{dur:"0.36666666666666664s",begin:"0s",xlinkHref:"#_R_G_L_4_G_N_3_N_1_T_0_M",fill:"freeze",attributeName:"opacity",from:"0",to:"0",keyTimes:"0;0.0454545;0.0454591;0.9545455;0.9545455;1",values:"0;0;1;1;0;0",keySplines:"0 0 0 0;0 0 0 0;0 0 0 0;0 0 0 0;0 0 0 0",calcMode:"spline"}),a.createElement("animate",{dur:"0.36666666666666664s",begin:"0s",xlinkHref:"#_R_G_L_3_G_D_0_P_0",fill:"freeze",attributeName:"fill",from:"#121212",to:"#121212",keyTimes:"0;0.0454545;0.1818182;1",values:"#121212;#121212;#b3b3b3;#b3b3b3",keySplines:"0.167 0.167 0.833 0.833;0.167 0.167 0.833 0.833;0 0 0 0",calcMode:"spline"}),a.createElement("animate",{dur:"0.36666666666666664s",begin:"0s",xlinkHref:"#_R_G_L_3_G_D_0_P_0",fill:"freeze",attributeName:"d",attributeType:"XML",from:"M87.22 -37.47 C87.22,-37.47 83.61,-14.6 83.61,-14.6 C83.61,-14.6 -98.73,-15.53 -98.73,-15.53 C-98.73,-15.53 -98.93,-39.44 -98.93,-39.44 C-98.93,-39.44 87.22,-37.47 87.22,-37.47z ",to:"M96 -6 C96,-6 96,6 96,6 C96,6 -96,6 -96,6 C-96,6 -96,-6 -96,-6 C-96,-6 96,-6 96,-6z ",keyTimes:"0;0.9545455;1",values:"M87.22 -37.47 C87.22,-37.47 83.61,-14.6 83.61,-14.6 C83.61,-14.6 -98.73,-15.53 -98.73,-15.53 C-98.73,-15.53 -98.93,-39.44 -98.93,-39.44 C-98.93,-39.44 87.22,-37.47 87.22,-37.47z  M87.74 -37.48 C87.74,-37.48 70.28,60.99 70.28,60.99 C70.28,60.99 46.22,61 46.22,61 C46.22,61 62.59,-37.21 62.59,-37.21 C62.59,-37.21 87.74,-37.48 87.74,-37.48z ;M96 -6 C96,-6 96,6 96,6 C96,6 -96,6 -96,6 C-96,6 -96,-6 -96,-6 C-96,-6 96,-6 96,-6z  M6 -96 C6,-96 6,96 6,96 C6,96 -6,96 -6,96 C-6,96 -6,-96 -6,-96 C-6,-96 6,-96 6,-96z ;M96 -6 C96,-6 96,6 96,6 C96,6 -96,6 -96,6 C-96,6 -96,-6 -96,-6 C-96,-6 96,-6 96,-6z  M6 -96 C6,-96 6,96 6,96 C6,96 -6,96 -6,96 C-6,96 -6,-96 -6,-96 C-6,-96 6,-96 6,-96z ",keySplines:"0.66 0 0.34 1;0 0 0 0",calcMode:"spline"}),a.createElement("animateTransform",{dur:"0.36666666666666664s",begin:"0s",xlinkHref:"#_R_G_L_3_G_N_2_T_0",fill:"freeze",attributeName:"transform",from:"-230",to:"0",type:"rotate",additive:"sum",keyTimes:"0;0.9545455;1",values:"-230;0;0",keySplines:"0.8 0 0.2 1;0 0 0 0",calcMode:"spline"}),a.createElement("animateMotion",{dur:"0.36666666666666664s",begin:"0s",xlinkHref:"#_R_G_L_3_G_N_2_N_1_T_0",fill:"freeze",keyTimes:"0;0.9545455;1",path:"M192 198 C192,198 192,192 192,192 C192,192 192,192 192,192 ",keyPoints:"0;1;1",keySplines:"0.167 0.167 0.833 0.833;0 0 0 0",calcMode:"spline"}),a.createElement("animate",{dur:"0.36666666666666664s",begin:"0s",xlinkHref:"#_R_G_L_3_G_N_2_N_1_T_0_M",fill:"freeze",attributeName:"opacity",from:"0",to:"0",keyTimes:"0;0.0454545;0.0454591;0.9545455;0.9545455;1",values:"0;0;1;1;0;0",keySplines:"0 0 0 0;0 0 0 0;0 0 0 0;0 0 0 0;0 0 0 0",calcMode:"spline"}),a.createElement("animateTransform",{dur:"0.36666666666666664s",begin:"0s",xlinkHref:"#_R_G_L_2_G_N_2_T_0",fill:"freeze",attributeName:"transform",from:"-230",to:"0",type:"rotate",additive:"sum",keyTimes:"0;0.9545455;1",values:"-230;0;0",keySplines:"0.8 0 0.2 1;0 0 0 0",calcMode:"spline"}),a.createElement("animateMotion",{dur:"0.36666666666666664s",begin:"0s",xlinkHref:"#_R_G_L_2_G_N_2_N_1_T_0",fill:"freeze",keyTimes:"0;0.9545455;1",path:"M192 198 C192,198 192,192 192,192 C192,192 192,192 192,192 ",keyPoints:"0;1;1",keySplines:"0.167 0.167 0.833 0.833;0 0 0 0",calcMode:"spline"}),a.createElement("animate",{dur:"0.36666666666666664s",begin:"0s",xlinkHref:"#_R_G_L_2_G_N_2_N_1_T_0_M",fill:"freeze",attributeName:"opacity",from:"1",to:"0",keyTimes:"0;0.0454545;0.0454546;1",values:"1;1;0;0",keySplines:"0 0 0 0;0 0 0 0;0 0 0 0",calcMode:"spline"}),a.createElement("animateTransform",{dur:"0.36666666666666664s",begin:"0s",xlinkHref:"#_R_G_L_1_G_N_2_T_0",fill:"freeze",attributeName:"transform",from:"-230",to:"0",type:"rotate",additive:"sum",keyTimes:"0;0.9545455;1",values:"-230;0;0",keySplines:"0.8 0 0.2 1;0 0 0 0",calcMode:"spline"}),a.createElement("animateMotion",{dur:"0.36666666666666664s",begin:"0s",xlinkHref:"#_R_G_L_1_G_N_2_N_1_T_0",fill:"freeze",keyTimes:"0;0.9545455;1",path:"M192 198 C192,198 192,192 192,192 C192,192 192,192 192,192 ",keyPoints:"0;1;1",keySplines:"0.167 0.167 0.833 0.833;0 0 0 0",calcMode:"spline"}),a.createElement("animate",{dur:"0.36666666666666664s",begin:"0s",xlinkHref:"#_R_G_L_1_G_N_2_N_1_T_0_M",fill:"freeze",attributeName:"opacity",from:"0",to:"1",keyTimes:"0;0.9545455;0.95455;1",values:"0;0;1;1",keySplines:"0 0 0 0;0 0 0 0;0 0 0 0",calcMode:"spline"}),a.createElement("animateTransform",{dur:"0.36666666666666664s",begin:"0s",xlinkHref:"#_R_G_L_0_G_N_2_T_0",fill:"freeze",attributeName:"transform",from:"-230",to:"0",type:"rotate",additive:"sum",keyTimes:"0;0.9545455;1",values:"-230;0;0",keySplines:"0.8 0 0.2 1;0 0 0 0",calcMode:"spline"}),a.createElement("animateMotion",{dur:"0.36666666666666664s",begin:"0s",xlinkHref:"#_R_G_L_0_G_N_2_N_1_T_0",fill:"freeze",keyTimes:"0;0.9545455;1",path:"M192 198 C192,198 192,192 192,192 C192,192 192,192 192,192 ",keyPoints:"0;1;1",keySplines:"0.167 0.167 0.833 0.833;0 0 0 0",calcMode:"spline"}),a.createElement("animate",{dur:"0.36666666666666664s",begin:"0s",xlinkHref:"#_R_G_L_0_G_N_2_N_1_T_0_M",fill:"freeze",attributeName:"opacity",from:"0",to:"1",keyTimes:"0;0.9545455;0.95455;1",values:"0;0;1;1",keySplines:"0 0 0 0;0 0 0 0;0 0 0 0",calcMode:"spline"}),a.createElement("animate",{attributeType:"XML",attributeName:"opacity",dur:"0s",from:"0",to:"1",xlinkHref:"#time_group"})))})),S=n(49874),w=n(83692);!function(e){e[e.xs=16]="xs",e[e.sm=24]="sm",e[e.md=32]="md",e[e.lg=48]="lg",e[e.xl=64]="xl"}(f||(f={})),function(e){e.none="none",e.positive="positive",e.undo="undo"}(v||(v={}));var N=a.memo((function(e){var t,n,f=e.isAdded,g=void 0!==f&&f,y=e.disabled,N=void 0!==y&&y,O=e.onClick,C=void 0===O?function(){}:O,T=e.size,I=e.isEpisode,A=void 0!==I&&I,P=e.isAudiobook,D=void 0!==P&&P,R=e.className,x=g?u.ag.get("remove_from_your_library"):u.ag.get("save_to_your_library"),L=(0,S.T)(),F=(0,a.useState)(v.none),U=(0,i.Z)(F,2),Z=U[0],M=U[1],B=(0,a.useCallback)((function(){return M(v.none)}),[M]),j=(0,a.useCallback)((function(e){if(!N){var t=e.currentTarget,n=e.detail;M(g?v.undo:v.positive),C(e),n>0&&t&&t.blur()}}),[g,C,N]);return n=L||Z===v.none?A||D?g?a.createElement(o.K,{iconSize:T}):a.createElement(s.G,{iconSize:T}):g?a.createElement(l.a,{iconSize:T}):a.createElement(c.A,{iconSize:T}):A||D?Z===v.positive?a.createElement(b,{size:T,onEnd:B}):a.createElement(_,{size:T,onEnd:B}):Z===v.positive?a.createElement(k,{size:T,onEnd:B}):a.createElement(E,{size:T,onEnd:B}),a.createElement(w.w,{label:x},a.createElement("button",{type:"button",role:"switch","aria-checked":g,"aria-label":x,className:h()(d,R,(t={},(0,r.Z)(t,m,g),(0,r.Z)(t,p,N),t)),onClick:j,"":"add-button"},n))}))},8716:(e,t,n)=>{"use strict";n.d(t,{E:()=>o});var r=n(67294),i=n(83692),a=n(86025),o=r.forwardRef((function(e,t){var n=e.onClick,o=e.ariaLabel,s=e.standalone,l=void 0!==s&&s,c=e.tabIndex,u=void 0===c?0:c,d=e.className,m=void 0===d?"":d,p=e.icon,f=e.size,v=void 0===f?"md":f,g=e.semanticColor,h=e.condensed,y=e.disableTooltip,k=void 0!==y&&y,E=e.testId,b=e.disabled,_=void 0!==b&&b,S=p;return r.createElement(i.w,{label:o,disabled:k},r.createElement(a.oM,{"":E,className:m,onClick:n,"aria-label":o,"aria-hidden":l,tabIndex:u,ref:t,iconOnly:S,buttonSize:v,semanticColor:g,condensed:h,disabled:_}))}))},82627:(e,t,n)=>{"use strict";n.d(t,{u:()=>p,f:()=>f});var r=n(87462),i=n(67294),a=n(96206),o=n(83692),s=n(92386),l=n(15358),c=n(82749),u=n(34011),d=n(86025);const m="main-playButton-PlayButton";var p;!function(e){e.primary="primary",e.secondary="secondary",e.transparent="transparent"}(p||(p={}));var f=i.memo((0,i.forwardRef)((function(e,t){var n=e.onClick,f=e.isPlaying,v=e.locked,g=e.version,h=void 0===g?p.primary:g,y=e.size,k=void 0===y?"md":y,E=e.disabled,b=void 0!==E&&E,_=e.children,S=e.ariaPauseLabel,w=e.ariaPlayLabel,N=e.isLoading,O=function(e){var t=e,r=t.currentTarget,i=t.detail;n(e),i>0&&r&&r.blur()},C=a.ag.get("play"),T=s.J;v?(C=a.ag.get("mwp.header.content.unavailable"),T=l.Z):f?(C=null!=S?S:a.ag.get("pause"),T=c.k):C=null!=w?w:C;return i.createElement(o.w,{label:C},i.createElement(i.Fragment,null,i.createElement("div",{className:m},function(){var e={iconOnly:T,buttonSize:k,onClick:O,disabled:b||N,"aria-label":C,ref:t,"":"play-button"};switch(h){case p.secondary:return i.createElement(u.D,(0,r.Z)({},e,{colorSet:"invertedLight"}));case p.transparent:return i.createElement(d.oM,(0,r.Z)({},e,{semanticColor:"textBase"}));default:return i.createElement(u.D,e)}}()),_))})))},20246:(e,t,n)=>{"use strict";n.d(t,{y:()=>l});var r=n(87462),i=n(45987),a=n(67294),o=n(91396),s=["children"],l=function(e){var t=e.children,n=(0,i.Z)(e,s);return a.createElement(o.x,(0,r.Z)({},n,{action:"toggle",trigger:"click"}),t)}},91396:(e,t,n)=>{"use strict";n.d(t,{x:()=>p});var r=n(67294),i=n(1447),a=n(92042);var o=function(e){var t=e.toggleContextMenu,n=e.children;return r.createElement(r.Fragment,null,r.cloneElement(n,{onClick:function(e){var r,i;null===(r=(i=n.props).onClick)||void 0===r||r.call(i,e),t(e)}}))},s=function(e){var t=e.openContextMenu,n=e.children,a=(0,i.qT)();return r.createElement(r.Fragment,null,r.cloneElement(n,{onFocus:function(e){var r,i;document.documentElement.classList.contains("no-focus-outline")||(null===(r=(i=n.props).onFocus)||void 0===r||r.call(i,e),t(e))},onBlur:function(e){var t,r;null===(t=(r=n.props).onBlur)||void 0===t||t.call(r,e),a({type:"close"})},onMouseEnter:function(e){var r,i;null===(r=(i=n.props).onMouseEnter)||void 0===r||r.call(i,e),t(e)},onMouseLeave:function(e){var t,r;null===(t=(r=n.props).onMouseLeave)||void 0===t||t.call(r,e),a({type:"close"})}}))},l=(n(3843),n(83710),function(e){var t=e.openContextMenu,n=e.children;var a=(0,i.qT)(),o=(0,i.Np)().isTouching,s=(0,r.useRef)();return r.createElement(r.Fragment,null,r.cloneElement(n,{onContextMenu:function(e){var r,i;null===(r=(i=n.props).onContextMenu)||void 0===r||r.call(i,e),o||t(e),e.stopPropagation()},onTouchStart:function(e){var t,r;s.current=Date.now(),null===(t=(r=n.props).onTouchStart)||void 0===t||t.call(r,e),a({type:"touch",value:!0})},onTouchEnd:function(e){var r,i,o;null===(r=(i=n.props).onTouchEnd)||void 0===r||r.call(i,e),(o=s.current)&&Date.now()-500>o&&(a({type:"touch",value:!1}),t(e)),document.body.hasAttribute("data-dragging-type")&&document.body.removeAttribute("data-dragging-type")}}))}),c=r.forwardRef((function(e,t){var n=e.isOpen,i=e.handleContextMenu,a=e.trigger,c=e.children;return function(e){return"function"==typeof e}(c)?r.createElement(r.Fragment,null,c(n,i,t)):"click"===a?r.createElement(o,{toggleContextMenu:i},c):"right-click"===a?r.createElement(l,{openContextMenu:i},c):"hover-or-focus"===a?r.createElement(s,{openContextMenu:i},c):r.createElement(r.Fragment,null,r.cloneElement(c,{ref:t}))})),u=n(84966);function d(e){if(!e)return{x:0,y:0};if(function(e){return"touchend"===e.type||"touchstart"===e.type}(e))return{x:e.changedTouches[0].clientX,y:e.changedTouches[0].clientY};if(function(e){if("clientX"in e&&"clientY"in e)return 0!==e.clientX&&0!==e.clientY;return!1}(e))return{x:e.clientX,y:e.clientY};var t=e.target.getBoundingClientRect();return{x:t.x+t.width/2,y:t.y+t.height}}var m=function(e){var t,n=e.children,o=e.menu,s=e.action,l=void 0===s?"toggle":s,m=e.trigger,p=void 0===m?"click":m,f=e.renderInline,v=void 0!==f&&f,g=e.offset,h=void 0===g?[0,8]:g,y=e.placement,k=void 0===y?"bottom-start":y,E=e.preventScrollingWhileOpen,b=void 0===E||E,_=e.onShow,S=e.onHide,w=(0,i.qT)(),N=(0,i.Np)(),O=(0,a.c)({action:l,menu:o});return r.createElement(u.t,{onClickOutside:function(){w({type:"close"})},placement:k,trigger:p,offset:h,preventScrollingWhileOpen:b,triggerRef:null!==(t=N.triggerElement)&&void 0!==t?t:void 0,appendTo:v?void 0:function(){return document.body},isOpen:N.isOpen,position:d(N.event),menu:N.menu,onShow:_,onHide:function(){w({type:"close"});for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];null==S||S.apply(void 0,t)}},r.createElement(c,{isOpen:N.isOpen,handleContextMenu:O,trigger:p},n))},p=function(e){return r.createElement(i.du,null,r.createElement(m,e))}},18261:(e,t,n)=>{"use strict";n.d(t,{_:()=>o});var r=n(87462),i=n(67294),a=n(91396),o=Spicetify.ReactComponent.RightClickMenu=e=>i.createElement(a.x,(0,r.Z)({},e,{action:"open",trigger:"right-click"}));Spicetify.ReactComponent.ContextMenu=a.x;},30005:(e,t,n)=>{"use strict";n.d(t,{v:()=>u});var r=n(67294),i=n(70750),a=n(21803),o=n(1447),s=n(50114),l=n(56493),c=n(27937),u=Spicetify.ReactComponent.Menu=function(e){var t=e.children,n=e.onClose,u=e.getInitialFocusElement,d=(0,o.qT)(),m=(0,r.useCallback)((function(){null==n||n(),d({type:"close"})}),[d,n]),p=(0,r.useCallback)((function(e){d({type:"modifierKeyHeld",value:e.altKey||e.ctrlKey})}),[d]);return r.createElement(s.S,{onError:function(e){return(0,c.vK)(e,"Menu")}},r.createElement(l.m,null,r.createElement(i.I_,{className:a.Z.menu,onClose:m,onKeyDown:p,onKeyUp:p,getInitialFocusElement:u},t)))}},36652:(e,t,n)=>{"use strict";n.d(t,{F:()=>u});var r=n(4942),i=n(67294),a=n(94184),o=n.n(a),s=n(32667),l=n(21803),c=n(70750),u=function(e){var t,n=e.children,a=e.divider;return i.createElement(c._w,{className:l.Z.menuItem},i.createElement(s.D,{className:o()(l.Z.menuHeading,"ellipsis-one-line",(t={},(0,r.Z)(t,l.Z.dividerBefore,"before"===a),(0,r.Z)(t,l.Z.dividerAfter,"after"===a),t)),variant:"finaleBold",dir:"auto"},n))}},21691:(e,t,n)=>{"use strict";n.d(t,{s:()=>h});var r=n(87462),i=n(4942),a=n(45987),o=n(67294),s=n(94184),l=n.n(s),c=n(21803),u=n(1447),d=n(70750),m=n(47562),p=n(32667),f=n(28066),v=n(86802),g=["children","icon","disabled","divider","onClick","iconPosition","elementRef"],h=Spicetify.ReactComponent.MenuItem=function(e){var t,n=e.children,s=e.icon,h=e.disabled,y=e.divider,k=e.onClick,E=void 0===k?function(){}:k,b=e.iconPosition,_=void 0===b?"trailing":b,S=e.elementRef,w=(0,a.Z)(e,g),N=(0,u.qT)(),O=(0,o.useRef)(null),C=(0,o.useCallback)((function(e){O.current=e,S&&S(e)}),[S]),T=(0,v.n)(O),I=T.handleMouseEnter,A=T.handleMouseLeave,P=T.handleFocus,D=(0,o.useCallback)((function(e){e.stopPropagation(),E(e),h||N({type:"close"})}),[E,N,h]),R=(0,o.useCallback)((function(e){e.stopPropagation()}),[]);return o.createElement(m._,{className:c.Z.menuItem},o.createElement(d.IZ,(0,r.Z)({className:l()(c.Z.menuItemButton,(t={},(0,i.Z)(t,c.Z.disabled,h),(0,i.Z)(t,c.Z.dividerBefore,"before"===y||"both"===y),(0,i.Z)(t,c.Z.dividerAfter,"after"===y||"both"===y),t)),"aria-disabled":h,onClick:D,onFocus:P,onMouseEnter:I,onMouseLeave:A,onContextMenu:R,ref:C},w),"leading"===_?s:null,o.createElement(p.D,{variant:"mesto",dir:"auto",className:l()("ellipsis-one-line",c.Z.menuItemLabel)},n),"trailing"===_?s:null,w["aria-checked"]&&o.createElement(f.N,{iconSize:16})))}},25059:(e,t,n)=>{"use strict";n.d(t,{W:()=>g});var r=n(29439),i=n(67294),a=n(21803),o=n(71215),s=n(70750),l=n(4942),c=n(94184),u=n.n(c),d=n(47562),m=n(86802),p=(0,i.forwardRef)((function(e,t){var n,r=e.children,o=e.disabled,c=void 0!==o&&o,p=e.onClick,f=void 0===p?function(){}:p,v=e.setIsOpen,g=e.onTouchStart,h=e.outerRef,y=e.divider,k=(0,m.n)(h,v),E=k.handleMouseEnter,b=k.handleMouseLeave,_=k.handleFocus,S=(0,i.useCallback)((function(e){e.stopPropagation(),f(e)}),[f]),w=(0,i.useCallback)((function(e){e.stopPropagation()}),[]);return i.createElement(d._,{className:a.Z.menuItem},i.createElement(s.IZ,{className:u()(a.Z.menuItemButton,(n={},(0,l.Z)(n,a.Z.disabled,c),(0,l.Z)(n,a.Z.dividerBefore,"before"===y),(0,l.Z)(n,a.Z.dividerAfter,"after"===y),n)),onClick:S,onFocus:_,onMouseEnter:E,onMouseLeave:b,onTouchStart:g,onContextMenu:w,ref:t,role:"menuitem"},r))})),f=n(34142),v=n(32667),g=function(e){var t=e.displayText,n=e.depth,l=void 0===n?1:n,c=e.children,u=e.divider,d=e.placement,m=void 0===d?"right-start":d,g=(0,i.useState)(!1),h=(0,r.Z)(g,2),y=h[0],k=h[1],E=(0,i.useRef)(null),b=(0,i.useCallback)((function(){k((function(e){return!e}))}),[]);return i.createElement(o.ZP,{render:function(){return i.createElement(s.so,{className:a.Z.menu,depth:l},c)},offset:[0,0],interactive:!0,visible:y,arrow:!1,animation:!1,placement:m,popperOptions:{modifiers:[{name:"preventOverflow",options:{boundary:document.body,altAxis:!0}},{name:"flip",options:{boundary:document.body}}]}},i.createElement(p,{divider:u,setIsOpen:k,onTouchStart:b,ref:E,outerRef:E},i.createElement(v.D,{variant:"mesto",dir:"auto",className:"ellipsis-one-line"},t),i.createElement("span",null,i.createElement(f.U,{className:a.Z.subMenuIcon,iconSize:16}))))}},32626:(e,t,n)=>{"use strict";n.d(t,{_P:()=>a._,xV:()=>r.x,yj:()=>i.y});var r=n(91396),i=n(20246),a=n(18261)},84966:(e,t,n)=>{"use strict";n.d(t,{t:()=>l,x:()=>s});var r=n(87462),i=(n(24812),n(67294)),a=n(71215),o=n(42922),s="context-menu",l=function(e){var t=e.menu,n=e.onClickOutside,l=e.children,c=e.trigger,u=e.offset,d=e.placement,m=e.isOpen,p=e.preventScrollingWhileOpen,f=e.triggerRef,v=e.position,g=e.onShow,h=e.onHide,y=e.appendTo,k=(0,i.useRef)(null),E=(0,i.useRef)(null);!function(e,t){(0,i.useEffect)((function(){var n=function(e){t.current&&!t.current.contains(e.target)&&e.preventDefault()};if(e){var r={passive:!1};window.addEventListener("mousewheel",n,r),window.addEventListener("touchmove",n,r)}return function(){window.removeEventListener("mousewheel",n),window.removeEventListener("touchmove",n)}}),[e,t])}(m&&p,k);var b=function(e,t){var n=(0,i.useRef)(0),r=(0,i.useCallback)((function(){cancelAnimationFrame(n.current)}),[]),a=(0,i.useCallback)((function(){var r,i,o;e.current&&0!==(null===(r=e.current)||void 0===r?void 0:r.getBoundingClientRect().width)?(null===(i=t.current)||void 0===i||null===(o=i.popperInstance)||void 0===o||o.update(),cancelAnimationFrame(n.current)):n.current=requestAnimationFrame(a)}),[e,t]);return(0,i.useEffect)((function(){return function(){cancelAnimationFrame(n.current)}}),[a]),{updateAfterFirstLayout:a,cancel:r}}(k,E),_=b.updateAfterFirstLayout,S=b.cancel,w=(0,i.useCallback)((function(e){S(),e.reference.removeAttribute("data-context-menu-open"),h()}),[S,h]);return(0,i.useEffect)((function(){var e=E.current;if(!e||!e.reference||"click"===c)return function(){};var t=e.reference,n=w.bind(undefined,e);return t.addEventListener("click",n),function(){t.removeEventListener("click",n)}}),[k,E,w,c]),i.createElement(i.Fragment,null,l,m&&i.createElement(a.ZP,(0,r.Z)({onCreate:function(e){E.current=e},onShow:function(e){_(),e.reference.setAttribute("data-context-menu-open","true"),null==g||g(e)},onHide:w,visible:m,render:function(e){return i.createElement(o.ZP,{value:"contextmenu"},i.createElement("div",{ref:k,id:s,"data-placement":e["data-placement"]},m?t:null))},arrow:!0,popperOptions:{modifiers:[{name:"preventOverflow",options:{rootBoundary:"viewport",altAxis:!0,padding:10,tether:!1}},{name:"arrow",options:{padding:10}}]},placement:d,onClickOutside:function(){null==n||n()},interactive:!0,offset:u},y?{appendTo:y}:{},{reference:f,getReferenceClientRect:"right-click"!==c&&f?null:function(){var e,t,n,r;return{width:0,height:0,top:null!==(e=null==v?void 0:v.y)&&void 0!==e?e:0,bottom:null!==(t=null==v?void 0:v.y)&&void 0!==t?t:0,left:null!==(n=null==v?void 0:v.x)&&void 0!==n?n:0,right:null!==(r=null==v?void 0:v.x)&&void 0!==r?r:0,x:0,y:0,toJSON:function(){}}}})))}},1447:(e,t,n)=>{"use strict";n.d(t,{Np:()=>u,du:()=>f,qT:()=>m});var r=n(29439),i=n(4942),a=(n(21703),n(96647),n(47941),n(82526),n(57327),n(41539),n(38880),n(89554),n(54747),n(49337),n(33321),n(69070),n(67294));function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var l={isOpen:!1,modifierKeyHeld:!1,isTouching:!1,menu:null,event:null,triggerElement:null},c=(0,a.createContext)(l);function u(){var e=a.useContext(c);if(void 0===e)throw new Error("useContextMenuState must be used within a ContextMenuProvider");return e}var d=(0,a.createContext)((function(){}));function m(){var e=a.useContext(d);if(void 0===e)throw new Error("useContextMenuDispatch must be used within a ContextMenuProvider");return e}function p(e,t){switch(t.type){case"open":return s(s({},e),{},{menu:t.menu,isOpen:!0,event:t.event,triggerElement:t.triggerElement});case"toggle":return s(s({},e),{},{isOpen:!e.isOpen,menu:e.isOpen?null:t.menu,event:t.event,triggerElement:t.triggerElement});case"modifierKeyHeld":return s(s({},e),{},{modifierKeyHeld:t.value});case"touch":return s(s({},e),{},{isTouching:t.value});case"close":return s({},l);default:throw new Error("Unknown action recieved!")}}var f=function(e){var t=e.children,n=(0,a.useReducer)(p,l),i=(0,r.Z)(n,2),o=i[0],s=i[1];return a.createElement(d.Provider,{value:s},a.createElement(c.Provider,{value:o},t))}},56493:(e,t,n)=>{"use strict";n.d(t,{i:()=>a,m:()=>o});n(91038),n(78783),n(2707),n(91058);var r=n(67294),i=n(84966),a=(0,r.createContext)({registerCloseCallback:function(){},closeToDepth:function(){},isOnPathToSubmenu:function(){return!1}}),o=function(e){var t=e.children,n=(0,r.useRef)([]),o=(0,r.useRef)(),s=(0,r.useCallback)((function(e,t){n.current.push(e),o.current=t}),[]),l=(0,r.useCallback)((function(e){for(o.current=void 0;n.current.length>e;){var t=n.current.pop();t&&t(!1)}}),[]);return r.createElement(a.Provider,{value:{registerCloseCallback:s,closeToDepth:l,isOnPathToSubmenu:function(e){var t=document.getElementById(i.x);if(!o.current||!t)return!1;var n=Array.from(t.querySelectorAll('[role="menu"]')).sort((function(e,t){return parseInt(e.getAttribute("data-depth")||"0",10)-parseInt(t.getAttribute("data-depth")||"0",10)})).pop();if(!n)return!1;var r=n.getBoundingClientRect(),a=r.left;o.current.x>r.right&&(a=r.right);var s=o.current,l=a,c=r.top,u=a,d=r.bottom,m={x:l-s.x,y:c-s.y},p={x:u-s.x,y:d-s.y},f=function(e,t){return e.x*t.y-e.y*t.x},v=(f(e,p)-f(s,p))/f(m,p),g=-1*(f(e,m)-f(s,m))/f(m,p);return v>0&&g>0&&v+g<1}}},t)}},86802:(e,t,n)=>{"use strict";n.d(t,{n:()=>a});n(91058),n(32564);var r=n(67294),i=n(56493),a=function(e,t){var n=(0,r.useRef)(0),a=(0,r.useContext)(i.i),o=a.registerCloseCallback,s=a.closeToDepth,l=a.isOnPathToSubmenu;(0,r.useEffect)((function(){return function(){return window.clearTimeout(n.current)}}),[]);var c=(0,r.useCallback)((function(e,n){s(e),t&&(o(t,n),t(!0))}),[s,o,t]);return{handleMouseEnter:(0,r.useCallback)((function(t){if(e.current){var r=e.current.closest('[role="menu"]');if(r){var i={x:t.clientX,y:t.clientY},a=l(i),o=parseInt(r.getAttribute("data-depth")||"0",10);a?n.current=window.setTimeout((function(){c(o,i)}),500):c(o,i)}}}),[e,l,c]),handleMouseLeave:(0,r.useCallback)((function(){window.clearTimeout(n.current),n.current=0}),[]),handleFocus:(0,r.useCallback)((function(){if(e.current){var t=e.current.closest('[role="menu"]');if(t){var n=parseInt(t.getAttribute("data-depth")||"0",10);c(n,{x:0,y:0})}}}),[c,e])}}},92042:(e,t,n)=>{"use strict";n.d(t,{c:()=>a});var r=n(67294),i=n(1447),a=function(e){var t=e.action,n=e.menu,a=(0,i.qT)();return(0,r.useCallback)((function(e,r){e.persist(),e.preventDefault(),a({type:t,event:e,triggerElement:e.currentTarget,menu:r||n})}),[n,a,t])}},50114:(e,t,n)=>{"use strict";n.d(t,{S:()=>g,P:()=>h});n(41539),n(81299),n(12419);var r=n(15671),i=n(43144),a=n(97326),o=n(60136),s=n(82963),l=n(61120),c=n(4942),u=(n(92222),n(67294)),d=(n(96647),n(83710),n(39714),n(51615)),m=function(e){var t=e.fallback,n=e.children;return u.createElement(u.Suspense,{fallback:t},n)};function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,l.Z)(e);if(t){var i=(0,l.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,s.Z)(this,n)}}var f={error:null,info:null},v=function(e){(0,o.Z)(n,e);var t=p(n);function n(){var e;(0,r.Z)(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];e=t.call.apply(t,[this].concat(o)),(0,c.Z)((0,a.Z)(e),"state",f);var l=e.props.history;return e.unlisten=l.listen((function(){e.state.error&&e.setState(f)})),e}return(0,i.Z)(n,[{key:"componentWillUnmount",value:function(){this.unlisten()}},{key:"componentDidCatch",value:function(e,t){var n=this.props.onError;if("function"==typeof n)try{n.call(this,e,t?t.componentStack:"")}catch(e){}this.setState({error:e,info:t})}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.FallbackComponent,r=e.SuspenseFallback,i=this.state,a=i.error,o=i.info;return null!==a?u.createElement(n,{componentStack:o?o.componentStack:"",error:a}):u.createElement(m,{fallback:r},t)}}]),n}(u.Component);v.defaultProps={FallbackComponent:function(e){e.componentStack,e.error;return!1},SuspenseFallback:null};var g=(0,d.EN)(v),h=function(e,t,n){return function(r){return u.createElement(g,{FallbackComponent:t,onError:n},u.createElement(e,r))}}},48817:(e,t,n)=>{"use strict";n.d(t,{w:()=>p,T:()=>f});n(47941),n(82526),n(57327),n(41539),n(38880),n(89554),n(54747),n(49337),n(33321),n(69070);var r=n(4942),i=n(29439),a=n(67294),o=n(94184),s=n.n(o),l=n(85951);const c="main-gridContainer-gridContainer",u="main-gridContainer-fixedWidth";function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var p=24,f=a.memo(a.forwardRef((function(e,t){var n=e.onUpdate,o=e.className,d=e.fixedColumnCount,f=void 0===d?0:d,v=e.rowGap,g=e.render,h=e.onLayoutChange,y=e.testId,k=void 0===y?"container":y,E=(0,a.useRef)(null),b=(0,a.useState)({columnCount:-1,columnWidth:-1,rowHeight:-1,gridGap:p}),_=(0,i.Z)(b,2),S=_[0],w=_[1];(0,a.useImperativeHandle)(t,(function(){return E.current})),(0,a.useEffect)((function(){null==h||h(S)}),[h,S]);var N=(0,a.useCallback)((function(){var e,t=E.current;if(t&&t.parentElement){var n=t.parentElement.offsetWidth,r=function(e){return e<500?2:e<700?3:e<850?4:Math.floor((e+p)/(180+p))}(n),i=function(e){return 2===e?12:3===e?18:p}(r),a=Math.floor((n-(r-1)*i)/r),o=(null===(e=t.lastChild)||void 0===e?void 0:e.getBoundingClientRect().height)||-1;w({columnCount:r,columnWidth:a,rowHeight:o,gridGap:i})}}),[]);(0,l.y)({refOrElement:E,observeOnly:"width",onResize:function(){N()}}),(0,a.useLayoutEffect)((function(){N()}),[N]),(0,a.useEffect)((function(){n&&n()}),[e,S,n]);var O=f>0,C={"--column-width":"".concat(S.columnWidth,"px"),"--column-count":"".concat(f||S.columnCount),"--grid-gap":"".concat(S.gridGap,"px")};return a.createElement("div",{"":"grid-".concat(k),ref:E,className:s()(c,o,(0,r.Z)({},u,O)),style:m(m({},C),v?{gridRowGap:v}:{})},g(S.columnCount,S.columnWidth,S.rowHeight,S.gridGap))})));f.displayName="GridContainer"},75032:(e,t,n)=>{"use strict";n.d(t,{NB:()=>p,kf:()=>f});n(74916),n(23123),n(21249);var r=n(67294),i=n(25935),a=n(29439);n(15306),n(85827),n(41539),n(5212),n(23157);var o=[[/<iframe[^>]*>/gi,"<span>"],[/<\/iframe>/gi,"</span>"],[/<script[^>]*>/gi,"<span>"],[/<\/script>/gi,"</span>"],[/srcdoc=/gi,"data-invalid="],[/onerror=/gi,"data-invalid="],[/onload=/gi,"data-invalid="],[/<form[^>]*>/gi,"<span>"],[/<\/form>/gi,"</span>"],[/<input[^>]*>/gi,"<span>"],[/<\/input>/gi,"</span>"],[/<link[^>]*>/gi,"<span>"],[/<\/link>/gi,"</span>"]];function s(e){return["http://","https://","#","/","www","spotify:"].some((function(t){return e.startsWith(t)}))?e:""}var l=n(25678),c=n(99027);const u="N6RtDuJXe5BkIyhxU13g";var d=n(32667);function m(e,t){return e.tagName===t}var p=r.memo((function(e){var t=e.source,n=void 0===t?"":t,d=e.LinkComponent,p=e.onTimeStampClick,f=e.onLinkClick,v=(0,r.useMemo)((function(){return function(e){var t=e.LinkComponent,n=e.onTimeStampClick,a=e.onLinkClick;return{replace:function(e){if(m(e,"a")&&t)try{return r.createElement(t,{to:s(e.attribs.href),onClick:a},(0,i.du)(e.children))}catch(e){return null}else{if(m(e,"img")){var o=e.attribs,d=o.src,p=o.alt,f=o.width,v=o.height;return r.createElement(l.Ee,{src:d,alt:p,loading:"eager",width:f,height:v,className:u})}if(m(e,"time")&&n)return r.createElement(c.E,{onClick:n},(0,i.du)(e.children))}return e}}}({LinkComponent:d,onTimeStampClick:p,onLinkClick:f})}),[d,p,f]),g=(0,r.useMemo)((function(){return(0,i.ZP)((e=n,o.reduce((function(e,t){var n=(0,a.Z)(t,2),r=n[0],i=n[1];return e.replace(r,i)}),e)),v);var e}),[n,v]);return r.createElement(r.Fragment,null,g)})),f=r.memo((function(e){var t=e.source,n=void 0===t?"":t,i=e.paragraphClassName,a=e.variant,o=void 0===a?"ballad":a,s=e.LinkComponent,l=e.onTimeStampClick,c=e.splitter,u=void 0===c?/\n\n/g:c,m=(0,r.useMemo)((function(){return n.split(u).map((function(e,t){return r.createElement(d.D,{as:"p",key:t,className:i,variant:o},r.createElement(p,{source:e,LinkComponent:s,onTimeStampClick:l}))}))}),[n,o,u,i,s,l]);return r.createElement(r.Fragment,null,m)}))},83692:(e,t,n)=>{"use strict";n.d(t,{P:()=>a,w:()=>o});var r=n(67294),i=n(79896),a="hover-or-focus-tooltip",o=Spicetify.ReactComponent.TooltipWrapper=function(e){var t=e.label,n=e.children,o=e.renderInline,s=e.showDelay,l=e.disabled,c=e.placement,u=void 0===c?"top":c,d=e.labelClassName;return r.createElement(i.Nt,{action:"open",trigger:"hover-or-focus",placement:u,content:l?null:r.createElement(i.xX,{showDelay:s,className:d},r.createElement("span",{id:a,role:"tooltip"},t)),renderInline:o},n)}},85576:(e,t,n)=>{"use strict";n.d(t,{G:()=>o});var r=n(67294),i=n(96206),a=n(76748),o=function(e){var t=e.size,n=void 0===t?32:t;return r.createElement(a.g,{iconSize:n,title:i.ag.get("download.available-offline")})}},87257:(e,t,n)=>{"use strict";n.d(t,{N:()=>o});var r=n(67294),i=n(96206),a=n(16281),o=function(e){var t=e.className;return r.createElement(a.V,{ariaLabel:i.ag.get("card.a11y.explicit"),text:"E",className:t})}},57978:(e,t,n)=>{"use strict";n.d(t,{X:()=>a});var r=n(67294),i=n(96206),a=function(e){var t=e.size,n=void 0===t?32:t,a=e.className;return r.createElement("svg",{role:"img",width:n,height:n,viewBox:"0 0 12 12",className:a,"aria-label":i.ag.get("age.restriction.nineeteen-badge")},r.createElement("path",{fill:"#B3B3B3",d:"M4.607 9V3.328h-.96c-.112.592-.68 1.04-1.496 1.064v.752h1.36V9h1.096zm3.82-3.848c0 .616-.488 1.008-1.04 1.008-.568 0-1.04-.384-1.04-1.008 0-.608.48-1 1.04-1 .552 0 1.04.4 1.04 1zm-3 3.656c.288.184.84.312 1.312.312 1.92 0 2.92-1.208 2.92-3.256 0-1.8-1.049-2.656-2.249-2.656-1.208 0-2.144.816-2.144 1.976 0 1.192.92 1.904 1.952 1.904.64 0 1.136-.272 1.352-.632-.056 1.048-.72 1.696-1.84 1.696-.384 0-.8-.12-1.016-.24l-.288.896z"}),r.createElement("g",{transform:"scale(0.85) translate(1.1,1.1)"},r.createElement("path",{fill:"#CD1A2B",d:"M6 11.2A5.2 5.2 0 01.8 6H-.8A6.8 6.8 0 006 12.8v-1.6zM11.2 6A5.2 5.2 0 016 11.2v1.6A6.8 6.8 0 0012.8 6h-1.6zM6 .8A5.2 5.2 0 0111.2 6h1.6A6.8 6.8 0 006-.8V.8zM6-.8A6.8 6.8 0 00-.8 6H.8A5.2 5.2 0 016 .8V-.8z"})))}},89104:(e,t,n)=>{"use strict";n.d(t,{E:()=>f});var r=n(4942),i=n(29439),a=n(67294),o=n(94184),s=n.n(o);const l="main-image-image",c="main-image-loading",u="main-image-loaded";var d=n(40169);function m(e){if(null!==e)return e}var p=function(e){var t=e.children;return"lazy"!==e.loading||"undefined"==typeof HTMLImageElement||"loading"in HTMLImageElement.prototype?a.createElement(a.Fragment,null,t):a.createElement(d.Z,null,t)},f=a.memo((function(e){var t,n=e.ariaHidden,o=void 0!==n&&n,d=e.testid,f=e.src,v=e.alt,g=void 0===v?"":v,h=e.radius,y=void 0===h?0:h,k=e.className,E=void 0===k?"":k,b=e.srcSet,_=e.draggable,S=void 0!==_&&_,w=e.sizes,N=e.children,O=e.loading,C=e.width,T=e.height,I=e.fadeIn,A=void 0!==I&&I,P=(0,a.useState)("loading"),D=(0,i.Z)(P,2),R=D[0],x=D[1];return f&&"error"!==R?a.createElement(p,{loading:O},a.createElement("img",{"aria-hidden":o,draggable:S,loading:O,src:f,"":d,alt:g,className:s()(l,E,(t={},(0,r.Z)(t,c,A),(0,r.Z)(t,u,"loaded"===R),t)),style:{borderRadius:y||void 0},srcSet:b,sizes:w,width:m(C),height:m(T),onLoad:function(){return x("loaded")},onError:function(){return x("error")}})):a.createElement(a.Fragment,null,N)}))},25678:(e,t,n)=>{"use strict";n.d(t,{Ee:()=>i.E,KO:()=>r,VO:()=>s});var r,i=n(89104),a=n(29439),o=n(67294);function s(e,t){var n=e?r.loading:r.error,i=(0,o.useState)(n),s=(0,a.Z)(i,2),l=s[0],c=s[1];return(0,o.useEffect)((function(){var n=function(){c(r.loaded)},i=function(){c(r.error)};if(!e)return c(r.error),function(){};c(r.loading);var a=document.createElement("img");return a.addEventListener("load",n),a.addEventListener("error",i),a.setAttribute("src",e),t&&a.setAttribute("srcSet",t),function(){a.removeEventListener("load",n),a.removeEventListener("error",i)}}),[e,t]),l}!function(e){e[e.loading=0]="loading",e[e.loaded=1]="loaded",e[e.error=2]="error"}(r||(r={}))},42922:(e,t,n)=>{"use strict";n.d(t,{JL:()=>l,ZP:()=>c,ZZ:()=>u});var r=n(87462),i=(n(92222),n(68309),n(67294)),a=n(32648),o=a.H8.Provider,s=a.H8.Consumer,l=function(e){var t=e.value,n=e.index,r=e.children;return i.createElement(s,null,(function(e){var a=""===e?t:"".concat(e,"/").concat(t);return"number"==typeof n&&(a="".concat(a,"/").concat(n)),i.createElement(o,{value:a},r)}))};const c=l;var u=function(e){var t=function(t){return i.createElement(s,null,(function(n){return i.createElement(e,(0,r.Z)({itemId:n},t))}))},n=e.displayName||e.name||"Component";return t.displayName="usingItemId(".concat(n,")"),t}},40169:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(29439),i=n(67294),a=n(97650);const o="VvxVxrxVVFjUD6BNsUub";var s=i.memo((function(e){var t=e.children,n=(0,i.useState)(!1),s=(0,r.Z)(n,2),l=s[0],c=s[1],u=(0,a.YD)({triggerOnce:!0}),d=u.ref,m=u.inView;return(0,i.useEffect)((function(){m&&c(!0)}),[m]),i.createElement("div",{className:l?void 0:o,ref:d},l?t:null)}))},91355:(e,t,n)=>{"use strict";n.d(t,{Fg:()=>g,Rd:()=>v,G3:()=>f});n(83710);var r=n(67294),i=n(69518),a=n.n(i),o=n(94184),s=n.n(o);const l="Ng3dPPA2_1CFYkzPukjM",c="FCFjIabSYtm65p8kSJO0";var u=n(96206),d=n(83692);function m(e){var t=new Date;return!!e&&Math.floor(t.getTime()-Date.parse(e))<6048e5}function p(e,t){return!!e||!!t&&t>3e5}function f(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=a().isEpisode(e),o=m(t),s=p(r,n);return i&&o&&!s}var v=r.memo((function(e){var t=e.className,n=e.label,i=n||u.ag.get("type.newEpisode");return r.createElement(r.Fragment,null,r.createElement(d.w,{label:i},r.createElement("span",{className:s()(l,t),"aria-label":i})),n)})),g=r.memo((function(e){var t=e.isMusicAndTalk,n=e.className,i=t?u.ag.get("type.newEpisode"):u.ag.get("type.newPodcastEpisode");return r.createElement(v,{label:i,className:s()(c,n)})}))},16281:(e,t,n)=>{"use strict";n.d(t,{V:()=>s});var r=n(67294);const i="main-tag-container";var a=n(94184),o=n.n(a),s=function(e){var t=e.text,n=e.ariaLabel,a=void 0===n?t:n,s=e.title,l=void 0===s?a:s,c=e.className;return r.createElement("span",{"aria-label":a,className:o()(i,c),title:l},t)}},99027:(e,t,n)=>{"use strict";n.d(t,{E:()=>s});n(65069),n(74916),n(23123),n(85827),n(41539),n(91058),n(21249);var r=n(67294);const i="NkWIcfgnWR9AXfikmWai",a="OvmkrxKmI82x4jlgEZG0";var o=n(32667),s=r.memo((function(e){var t=e.onClick,n=e.children;return r.createElement("button",{"":"clickable-timestamp",className:a,onClick:function(){var e=l(n),r=1e3*e.split(":").reverse().reduce((function(e,t,n){return e+parseInt(t,10)*Math.pow(60,n)}),0);t(r)}},r.createElement(o.D,{className:i,variant:"ballad"},n))}));function l(e){var t="";return r.Children.map(e,(function(e){"string"==typeof e||"number"==typeof e?t+=e:r.isValidElement(e)&&e.props.children&&(t+=l(e.props.children))})),t}},79896:(e,t,n)=>{"use strict";n.d(t,{yv:()=>u,xX:()=>h,Nt:()=>_});var r=n(67294),i=n(94184),a=n.n(i),o=n(34435),s=n(16554);const l="main-popper-container",c="main-popper-arrow";var u=function(e){var t=e.children,n=e.className,i=e.arrowClassName,u=(0,r.useRef)(null);return(0,s.H)(),(0,o.K)({ref:u,preventScroll:!0}),r.createElement("div",{tabIndex:-1,ref:u,onClick:function(e){e.stopPropagation()},onContextMenu:function(e){e.stopPropagation()},className:a()(l,n)},t,r.createElement("div",{"data-popper-arrow":"",className:a()(c,i)}))},d=n(29439);n(32564);const m="main-contextMenu-tippy",p="main-contextMenu-tippyEnter",f="main-contextMenu-tippyEnterActive";var v=n(61075),g=n(1447),h=function(e){var t=e.children,n=e.className,i=e.showDelay,o=void 0===i?1600:i,s=r.useState(!1),l=(0,d.Z)(s,2),c=l[0],u=l[1],h=(0,g.qT)(),y=(0,r.useRef)(!0);return(0,r.useEffect)((function(){return y.current=!0,function(){y.current=!1}})),(0,r.useEffect)((function(){var e=setTimeout((function(){y.current&&(u(!0),document.addEventListener("click",t,{once:!0}))}),o);function t(){y.current&&(u(!1),h({type:"close"}),clearTimeout(e))}return function(){document.removeEventListener("click",t),clearTimeout(e)}}),[o,h]),r.createElement(v.Z,{in:c,timeout:200,unmountOnExit:!0,classNames:{enter:p,enterActive:f}},r.createElement("div",{className:a()(m,n)},t))},y=n(87462),k=n(45987),E=n(91396),b=["children","content"],_=function(e){var t=e.children,n=e.content,i=(0,k.Z)(e,b);return r.createElement(E.x,(0,y.Z)({renderInline:!0,preventScrollingWhileOpen:!1,placement:"top-start",menu:n},i),t)}},28776:(e,t,n)=>{"use strict";n.d(t,{E:()=>a,y:()=>o});var r=n(29439),i=n(67294),a=i.createContext({}),o=function(e){var t=e.children,n=i.useState(),o=(0,r.Z)(n,2),s=o[0],l=o[1];return i.createElement(a.Provider,{value:{elementRef:s,setElementRef:l}},t)}},63373:(e,t,n)=>{"use strict";n.d(t,{V:()=>c});var r=n(29439),i=(n(89554),n(41539),n(54747),n(67294)),a=n(85951),o=n(68828),s=function(e,t){return i.createElement("div",{key:t,style:{height:e}})},l=function(){return"undefined"!=typeof window&&"requestIdleCallback"in window},c=function(e){var t,n=e.renderRows,c=e.nrRows,u=e.rowHeight,d=e.scrollNodeRef,m=e.nrRowsOverscan,p=void 0===m?10:m,f=e.renderPlaceholder,v=void 0===f?s:f,g=(0,i.useRef)(null),h=(0,i.useRef)(null),y=(0,i.useRef)(null),k=(0,i.useRef)(0),E=(0,i.useState)(l()?0:p),b=(0,r.Z)(E,2),_=b[0],S=b[1],w=(0,i.useState)(null),N=(0,r.Z)(w,2),O=N[0],C=N[1],T=(0,i.useState)(0),I=(0,r.Z)(T,2),A=I[0],P=I[1],D=(0,i.useCallback)((function(){var e=d.current;if(e){var t=Math.ceil(e.offsetHeight/u)+2;P(t)}}),[d,u]),R=(0,i.useCallback)((function(){var e=d.current;if(e){var t=Math.floor((e.scrollTop-k.current-1)/u);C(t)}}),[u,d]);(0,i.useEffect)((function(){l()&&window.requestIdleCallback((function(){S(p)}))}),[p]),(0,i.useEffect)((function(){var e=y.current,t=d.current;e&&t&&(k.current=e.getBoundingClientRect().top-t.getBoundingClientRect().top+t.scrollTop)}),[d,null===(t=y.current)||void 0===t?void 0:t.offsetTop]),(0,i.useEffect)((function(){if(!window.IntersectionObserver)return function(){};var e=new window.IntersectionObserver((function(e){e.forEach((function(e){e.isIntersecting&&R()}))}));return g.current&&e.observe(g.current),h.current&&e.observe(h.current),function(){e.disconnect()}}),[R,O,A,c]),(0,i.useEffect)((function(){D(),R()}),[D,R]),(0,a.y)({refOrElement:d,observeOnly:"height",onResize:D});var x=(null!=O?O:0)-_,L=Math.min(null!==O?x+2*_+A-1:-1,c-1),F=Math.max(x,0),U=Math.max(L,-1),Z=Math.min(A>0?c*u:0,Math.max(u*(_-2),0)),M=u*F,B=u*Math.max(c-(U+1),0);return i.createElement("div",{ref:y,className:o.Z.wrapper,style:{height:"".concat(c*u,"px")}},i.createElement("div",{ref:g,"":"top-sentinel",className:o.Z.topSentinel,style:{height:"".concat(M+Z,"px")}},v("calc(100% - ".concat(Z,"px)"),"top-sentinel"),i.createElement("div",{style:{height:"".concat(Z,"px")}})),i.createElement("div",{style:{transform:"translateY(".concat(M,"px)")}},n(F,U)),i.createElement("div",{ref:h,"":"bottom-sentinel",className:o.Z.bottomSentinel,style:{height:"".concat(B+Z,"px")}},i.createElement("div",{style:{height:"".concat(Z,"px")}}),v("calc(100% - ".concat(Z,"px)"),"bottom-sentinel")))}},47562:(e,t,n)=>{"use strict";n.d(t,{_:()=>l});var r=n(87462),i=n(45987),a=n(67294),o=n(26712),s=["children"],l=function(e){var t=e.children,n=(0,i.Z)(e,s),l=(0,a.useRef)(null);return(0,o.O)(l),a.createElement("li",(0,r.Z)({ref:l,role:"presentation"},n),t)}},70750:(e,t,n)=>{"use strict";n.d(t,{I_:()=>h,IZ:()=>b,_w:()=>y._,so:()=>s});var r=n(87462),i=n(45987),a=n(67294),o=["children","depth"],s=a.forwardRef((function(e,t){var n=e.children,s=e.depth,l=void 0===s?0:s,c=(0,i.Z)(e,o);return a.createElement("ul",(0,r.Z)({tabIndex:-1,ref:t,role:"menu","data-depth":l},c),n)})),l=n(39961),c=n(34435),u=n(12324),d='a[href], button, input[role="searchbox"]';function m(e,t){if(e){if((0,u.lK)(e)){var n=e.querySelector('[tabindex="0"]');t===l.N.UP&&(0,u.Bu)(n,f(e,n,l.N.UP)),t===l.N.DOWN&&(0,u.Bu)(n,f(e,n,l.N.DOWN)),t===l.N.RIGHT&&(0,u.Bu)(n,p(n)),t===l.N.LEFT&&(0,u.Bu)(n,function(e){return e.closest('ul[role="menu"] ul[role="menu"]')?e.closest('ul[role="menu"]').closest('li[role="presentation"]').querySelector('[role="menuitem"]'):null}(n))}}else console.error("No menu element found. Canceling moving focus")}function p(e){if(null==e||!e.hasAttribute("aria-expanded"))return null;var t=e.closest('li[role="presentation"]').querySelector('ul[role="menu"]'),n=null==t?void 0:t.querySelector(d);return null!=n?n:null}function f(e,t,n){var r=t.closest('ul[role="menu"]'),i=t.closest('li[role="presentation"]');if(!r||!i)return t;var a=t;if(n===l.N.UP){var o=r.querySelectorAll(':scope > li[role="presentation"]'),s=i.previousElementSibling;for(document.activeElement===e&&(s=o[o.length-1]);s!==i&&(s||(s=o[o.length-1]),!(a=s.querySelector(d)));)s=s.previousElementSibling}else{var c=i.nextElementSibling;for(document.activeElement===e&&(c=r.querySelector("li"));c!==i&&(c||(c=r.querySelector("li")),!(a=c.querySelector(d)));)c=c.nextElementSibling;a=c.querySelector(d)}return a||t}var v=n(16554),g=["getInitialFocusElement","onKeyDown","onClose"],h=function(e){var t=e.getInitialFocusElement,n=e.onKeyDown,o=e.onClose,d=(0,i.Z)(e,g),f=(0,a.useRef)(null);(0,v.H)(),(0,c.K)({ref:f,getFocusElement:t,onFocus:function(e){(0,u.Bu)(null,e,{preventScroll:!0})}});var h=(0,a.useCallback)((function(e){var t,r;null!==(t=f.current)&&void 0!==t&&t.contains(e.target)&&("ArrowUp"!==e.key&&"ArrowDown"!==e.key||(e.preventDefault(),e.stopPropagation()),"Escape"!==e.key&&"Tab"!==e.key||null==o||o(),"ArrowUp"!==e.key&&"ArrowDown"!==e.key&&"ArrowLeft"!==e.key&&"ArrowRight"!==e.key||document.documentElement.classList.remove("no-focus-outline"),"ArrowUp"===e.key&&m(f.current,l.N.UP),"ArrowDown"===e.key&&m(f.current,l.N.DOWN),"ArrowLeft"===e.key&&m(f.current,l.N.LEFT),"ArrowRight"===e.key&&m(f.current,l.N.RIGHT),"Enter"===e.key&&(r=f.current)&&p(r.querySelector('[tabindex="0"]'))&&(e.preventDefault(),m(f.current,l.N.RIGHT)),null==n||n(e))}),[n,o]);return a.createElement(s,(0,r.Z)({ref:f,onKeyDown:h},d))},y=n(47562),k=n(73727),E=["testid"],b=(0,a.forwardRef)((function(e,t){var n=e.as,o=e.testid,s=(0,i.Z)(e,E);return n?a.createElement(n,(0,r.Z)({ref:t},s)):s.href?a.createElement("a",(0,r.Z)({ref:t,"":o},s)):s.to?a.createElement(k.OL,(0,r.Z)({innerRef:t},s)):a.createElement("button",(0,r.Z)({"":o,ref:t},e))}))},20452:(e,t,n)=>{"use strict";n.d(t,{i:()=>o});var r=n(67294),i=n(54483),a=n.n(i),o=function(e){return r.createElement(a(),e)}},39961:(e,t,n)=>{"use strict";var r;n.d(t,{N:()=>r}),function(e){e.UP="up",e.DOWN="down",e.LEFT="left",e.RIGHT="right"}(r||(r={}))},34435:(e,t,n)=>{"use strict";n.d(t,{K:()=>i});var r=n(67294),i=function(e){var t=e.ref,n=e.getFocusElement,i=e.onFocus,a=e.preventScroll,o=e.deps,s=void 0===o?[]:o,l=(0,r.useRef)(n),c=(0,r.useRef)(i);l.current=n,c.current=i;var u=(0,r.useRef)(null);(0,r.useEffect)((function(){var e,n;u.current=document.activeElement;var r,o=null!==(e=null===(n=l.current)||void 0===n?void 0:n.call(l,t.current))&&void 0!==e?e:t.current;i?null===(r=c.current)||void 0===r||r.call(c,o):null==o||o.focus({preventScroll:a})}),s)}},26712:(e,t,n)=>{"use strict";n.d(t,{O:()=>i});n(91038),n(78783),n(89554),n(41539),n(54747);var r=n(67294),i=function(e){(0,r.useEffect)((function(){e.current&&Array.from(e.current.querySelectorAll('a:not([tabindex="0"]), button:not([tabindex="0"])')).forEach((function(e){return e.setAttribute("tabindex","-1")}))}))}},16554:(e,t,n)=>{"use strict";n.d(t,{H:()=>i});var r=n(67294),i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.onRestoreFocus,n=e.deps,i=void 0===n?[]:n,a=(0,r.useRef)(null),o=(0,r.useRef)(t);o.current=t,(0,r.useEffect)((function(){return a.current=document.activeElement,function(){var e;t?null==t||t(a.current):null===(e=a.current)||void 0===e||e.focus({preventScroll:!0})}}),i)}},12324:(e,t,n)=>{"use strict";function r(e){var t=e.querySelector("a[href], button"),n=e.querySelector('[tabindex="0"]')||t;return!!n&&(n.setAttribute("tabindex","0"),!0)}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{preventScroll:!1},r=n.preventScroll;t&&(e&&(e.tabIndex=-1),t.tabIndex=0,t.focus({preventScroll:r}))}function a(e){return!!e&&!!e.querySelector("a[href], button")}n.d(t,{Bu:()=>i,KX:()=>a,lK:()=>r})},94395:(e,t,n)=>{"use strict";n.d(t,{N:()=>i});n(69600);var r=n(96206);function i(e){var t=e.h,n=e.m,i=e.s;return[t?r.ag.get("time.hours.short",t):"",n?r.ag.get("time.minutes.short",n):"",i?r.ag.get("time.seconds.short",i):""].join(" ")}},33953:(e,t,n)=>{"use strict";n.d(t,{nL:()=>c,jC:()=>v,ng:()=>h});var r=n(67294),i=n(43611);const a="UyzJidwrGk3awngSGIwv";var o=n(94184),s=n.n(o),l=n(94395),c=function(e){var t=e.durationMs,n=e.className,o=(0,i.P)(t),c=o.hours,u=o.minutes,d=o.seconds,m=!c&&d;return r.createElement("span",{className:s()(a,n)},(0,l.N)({h:c,m:u,s:m?d:0}))};const u="poz9gZKE7xqFwgk231J4";var d=n(96206),m=36e5,p=864e5;function f(e,t){return e-e%t}var v=function(e){var t,n,a=e.durationMs,o=e.className,c=a>p;t=c?p:f(n=a,n>36e6?m:n>18e6?18e5:n>36e5?9e5:n>18e5?3e5:6e4);var v=(0,i.P)(t),g=v.hours,h=v.minutes;if(0===g&&0===h)return null;var y=(0,l.N)({h:g,m:h,s:0});return y=c?d.ag.get("time.over",y):d.ag.get("time.estimated",y),r.createElement("span",{className:s()(u,o)},y)};const g="xWm_uA0Co4SXVxaO7wlB";var h=function(e){var t=e.durationMs,n=e.className,a=(0,i.P)(t),o=a.hours,c=a.minutes,u=a.seconds,m=!o&&u,p=(0,l.N)({h:o,m:c,s:m?u:0});return r.createElement("span",{className:s()(g,n)},d.ag.get("time.left",p))}},13947:(e,t,n)=>{"use strict";n.d(t,{IT:()=>d,Ie:()=>f,Np:()=>i,YJ:()=>s,_W:()=>m,ci:()=>r,iz:()=>u,lL:()=>o,li:()=>a,s_:()=>p,vF:()=>c,vL:()=>v,z4:()=>l});var r="https://www.spotify.com/account/overview/",i="https://www.spotify.com/premium/",a="https://www.spotify.com/us/purchase/panel/",o="https://www.spotify.com/legal/privacy-policy/",s="https://support.spotify.com/",l="https://www.spotify.com/legal/cookies-policy/",c="https://spotify.com/download",u="https://support.spotify.com/ru-ru/contact-spotify-legal-form/",d="https://www.spotify.com/premium/?utm_source=app&utm_medium=desktop&utm_campaign=upgrade",m="https://www.spotify.com/premium/?utm_source=app&utm_medium=desktop&utm_campaign=premium_upgrade",p=300,f=["id"],v=["album","artist","track"]},32648:(e,t,n)=>{"use strict";n.d(t,{$8:()=>s,DJ:()=>a,H8:()=>i,VX:()=>o});var r=n(67294),i=(0,r.createContext)(""),a=(0,r.createContext)(null),o=(0,r.createContext)({scrollNodeRef:{current:null},scrollNodeChildRef:{current:null}}),s=(0,r.createContext)({isFriendActivityVisible:!0,isNavBarVisible:!0,isNowPlayingBarVisible:!0,isTopBarVisible:!0,isMainViewExpanded:!1,resetMainView:function(){},collapseMainView:function(){}})},18864:(e,t,n)=>{"use strict";n.d(t,{Uo:()=>r.U,ZU:()=>a,jh:()=>o,Db:()=>s.D});var r=n(82144),i=n(67294),a=(0,i.createContext)(void 0),o=function(){return(0,i.useContext)(a)},s=n(53052)},82144:(e,t,n)=>{"use strict";var r;n.d(t,{U:()=>r}),function(e){e.XSMALL="XSMALL",e.SMALL="SMALL",e.MEDIUM="MEDIUM",e.LARGE="LARGE",e.XLARGE="XLARGE"}(r||(r={}))},53052:(e,t,n)=>{"use strict";n.d(t,{D:()=>o});var r=n(29439),i=(n(2707),n(69720),n(69826),n(41539),n(67294)),a=n(85951);function o(e){var t=(0,i.useState)(),n=(0,r.Z)(t,2),o=n[0],s=n[1],l=Object.entries(e).sort((function(e,t){return t[1]-e[1]}));return{ref:(0,a.y)({observeOnly:"width",onResize:function(e){var t=e.width;if(void 0!==t){var n=l.find((function(e){var n=(0,r.Z)(e,2)[1];return t>=n})),i=n&&n[0];i&&i!==o&&s(i)}}}),breakpoint:o}}},68554:(e,t,n)=>{"use strict";n.d(t,{a:()=>o});var r=n(29439),i=n(67294),a=n(5500),o=function(e){var t=(0,i.useMemo)((function(){return(0,a.O)()?null:window.matchMedia(e)}),[e]),n=(0,i.useState)((function(){return!t||t.matches})),o=(0,r.Z)(n,2),s=o[0],l=o[1];return(0,i.useEffect)((function(){if(!t||!t.addEventListener)return function(){};var e=function(e){l(e.matches)};return t.addEventListener("change",e),function(){t.removeEventListener("change",e)}}),[t]),s}},49874:(e,t,n)=>{"use strict";n.d(t,{T:()=>i});var r=n(68554),i=function(){return(0,r.a)("(prefers-reduced-motion: reduce)")}},69559:(e,t,n)=>{"use strict";n.d(t,{a:()=>a});var r=n(67294),i=n(24697);function a(e){var t=(0,i.y1)(e,100,{leading:!0});(0,r.useEffect)((function(){return window.addEventListener("resize",t),function(){window.removeEventListener("resize",t),t.cancel()}}),[t])}},85951:(e,t,n)=>{"use strict";n.d(t,{y:()=>c});n(66992),n(41539),n(78783),n(4129),n(33948),n(79753),n(89554),n(54747),n(70189);var r,i=n(67294),a=n(91033),o=n(5500);function s(e){return!(0,o.O)()&&e instanceof HTMLElement}var l={subscribersByElement:new WeakMap,get resizeObserver(){return r||(r=new a.Z((function(e){Array.isArray(e)&&e.forEach((function(e){var t,n={width:Math.round(e.contentRect.width),height:Math.round(e.contentRect.height)};(null!==(t=l.subscribersByElement.get(e.target))&&void 0!==t?t:new Set).forEach((function(e){e(n)}))}))}))),r}};function c(e){var t=e.onResize,n=e.refOrElement,r=e.observeOnly,a=(0,i.useRef)(t);a.current=t;var o=(0,i.useRef)(r);o.current=r;var c=(0,i.useRef)({width:void 0,height:void 0}),u=(0,i.useCallback)((function(e){if(a.current){var t=c.current.width!==e.width,n=c.current.height!==e.height;("width"===o.current&&t||"height"===o.current&&n||!o.current&&(t||n))&&a.current(e),c.current.width=e.width,c.current.height=e.height}}),[]),d=function(e){var t,n=e.refOrElement,r=e.subscriber,a=null,o=(0,i.useRef)(null),l=(0,i.useRef)(null),c=(0,i.useRef)(null),u=(0,i.useRef)(),d=(0,i.useRef)(r);d.current=r;var m=(0,i.useCallback)((function(){var e=null;l.current?e=l.current:o.current?e=o.current:s(n)&&(e=n),c.current!==e&&(u.current&&(u.current(),u.current=null),c.current=e,e&&d.current&&(u.current=d.current(e)))}),[n]),p=(0,i.useCallback)((function(e){l.current=e,m()}),[m]);return n&&!s(n)&&(a=n),(0,i.useEffect)((function(){a&&(o.current=a.current),m()}),[a,null===(t=a)||void 0===t?void 0:t.current,m]),(0,i.useEffect)((function(){return function(){var e;null==u||null===(e=u.current)||void 0===e||e.call(u)}}),[]),p}({refOrElement:n,subscriber:function(e){var t;return l.subscribersByElement.has(e)||(l.resizeObserver.observe(e),l.subscribersByElement.set(e,new Set)),null===(t=l.subscribersByElement.get(e))||void 0===t||t.add(u),function(){var t,n;null===(t=l.subscribersByElement.get(e))||void 0===t||t.delete(u),0===(null===(n=l.subscribersByElement.get(e))||void 0===n?void 0:n.size)&&(l.resizeObserver.unobserve(e),l.subscribersByElement.delete(e))}}});return d}},80642:(e,t,n)=>{"use strict";n.d(t,{c:()=>a});var r=n(67294),i=n(32648);function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.executeOnceOnStart,a=void 0!==n&&n,o=t.disabled,s=void 0!==o&&o,l=(0,r.useContext)(i.VX),c=l.scrollNodeRef;(0,r.useEffect)((function(){var t=c.current;if(!s){if(t)return t.addEventListener("scroll",e),a&&t.dispatchEvent(new Event("scroll")),function(){return t.removeEventListener("scroll",e)};console.error("useScrollNode found no scroll node")}}),[c,e,a,s])}},10912:(e,t,n)=>{"use strict";n.d(t,{t:()=>i});var r=n(67294);function i(){var e=(0,r.useRef)(!1);return(0,r.useEffect)((function(){return e.current=!0,function(){e.current=!1}}),[]),(0,r.useCallback)((function(){return e.current}),[])}},29634:(e,t,n)=>{"use strict";n.d(t,{n:()=>l});var r=n(87462),i=n(45987),a=n(67294),o=n(5500),s=["children"],l=function(e){var t=e.children,n=(0,i.Z)(e,s);return(0,o.O)()?a.createElement(a.Fragment,null,t):a.createElement(a.Suspense,(0,r.Z)({children:t},n))}},5500:(e,t,n)=>{"use strict";n.d(t,{O:()=>r});var r=function(){return"undefined"==typeof window}},89751:(e,t,n)=>{"use strict";n.d(t,{kT:()=>a,pC:()=>r,vQ:()=>i});n(68309),n(83710),n(3843),n(92222),n(85827),n(41539),n(21249),n(74916),n(23123),n(73210);function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document,n=e.name,r=e.value,i=e.days,a=e.domain,o=e.secure,s=void 0===o||o,l=e.samesite,c=void 0===l?"none":l,u="";if(i){var d=new Date;d.setTime(Date.now()+24*i*60*60*1e3),u="; expires=".concat(d.toUTCString())}else u="";var m="".concat(n,"=").concat(r).concat(u,"; path=/");a&&a.length&&(m+=";domain=".concat(a)),r&&(!0===s&&(m+=";secure"),m+=";samesite=".concat(c)),t.cookie=m}function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;try{var n=t.cookie,r=n.split(";").map((function(e){return e.trim().split("=")})).reduce((function(e,t){return e[t[0]]=t[1],e}),{});return r[e]}catch(e){return null}}function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document,n=arguments.length>2?arguments[2]:void 0;r({name:e,value:"",days:-1,domain:n},t)}},27937:(e,t,n)=>{"use strict";n.d(t,{CG:()=>m,PC:()=>d,j6:()=>f,vK:()=>p});n(82526),n(57327),n(38880),n(49337),n(33321),n(69070);var r=n(4942),i=(n(89554),n(41539),n(54747),n(47941),n(92876)),a=n(10965),o=n(90351),s=n(7713);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u=["open.spotifycdn.com","xpui.app.spotify.com"],d=function(e){(0,i.Tb)(e),console.error(e)},m=function(e){(0,i.$e)((function(t){t.setTag("FatalError","true"),d(e)}))},p=function(e,t){(0,i.$e)((function(n){n.setTag("ErrorBoundary",t),m(e)}))},f=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},l=arguments.length>4?arguments[4]:void 0;(0,a.S1)(c(c({dsn:e,allowUrls:u,sampleRate:.1,release:t},n),{},{integrations:[new o.x],ignoreErrors:[/\/[\dA-F]{8}-[\dA-F]{4}-[\dA-F]{4}-[\dA-F]{4}-[\dA-F]{12}\/main\.js/,/^NotFoundError: Failed to execute '(removeChild|insertBefore)' on 'Node': The node.*child.*this node.$/,/ResizeObserver loop limit exceeded/,"PresentationRequest",/DA97E0680A7030159BC0C0EE3A1D098E947A08E3/]})),(0,i.e)((function(e){var t=(0,s.Z)("config",{}).correlationId;t&&e.setUser({id:t}),Object.keys(r).forEach((function(t){e.setExtra(t,r[t])})),""!==document.referrer&&e.setExtra("referrer",document.referrer),l&&e.setTag("container",l)}))}},49104:(e,t,n)=>{"use strict";n.d(t,{m:()=>l,o:()=>s});n(44048),n(9653),n(92222);var r=n(5500),i=n(43611),a=n(49961),o=300,s=function(){var e,t,n,i,s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=l.desiredSize,u=void 0===c?o:c,d=l.desiredLabel,m=void 0===d?"":d;0===u&&(u=o);var p=!(0,r.O)()&&((null===(e=window)||void 0===e?void 0:e.devicePixelRatio)>1||(null===(t=window)||void 0===t?void 0:t.matchMedia)&&(null===(n=window)||void 0===n?void 0:n.matchMedia("(-webkit-min-device-pixel-ratio: 1.5),(-moz-min-device-pixel-ratio: 1.5),(min-device-pixel-ratio: 1.5)").matches)),f=p?2:1;return null===(i=(0,a.X)(s,{desiredSize:u*f,desiredLabel:m}))||void 0===i?void 0:i.url},l=function(e){if(-1===e||Number.isNaN(e))return"";var t=(0,i.P)(e),n=t.hours,r=t.minutes,a=t.seconds,o=n>0?"".concat(n,":"):"",s=n>0&&r<10?"0".concat(r):r,l=a<10?"0".concat(a):a;return"".concat(o).concat(s,":").concat(l)}},75549:(e,t,n)=>{"use strict";n.d(t,{PP:()=>g,V4:()=>f});n(81299),n(12419);var r=n(4942),i=n(43144),a=n(15671),o=n(60136),s=n(82963),l=n(61120),c=n(28664);n(66992),n(51532),n(41539),n(78783),n(33948),n(32564),n(24812),n(70189),n(89554),n(54747);function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,l.Z)(e);if(t){var i=(0,l.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,s.Z)(this,n)}}var d=function(e){(0,o.Z)(n,e);var t=u(n);function n(){return(0,a.Z)(this,n),t.apply(this,arguments)}return(0,i.Z)(n)}((0,c.Z)(Map)),m=function(){function e(t,n,i,o){var s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;(0,a.Z)(this,e),(0,r.Z)(this,"_batch",new d),(0,r.Z)(this,"_additions",new d),(0,r.Z)(this,"_deletions",new d),(0,r.Z)(this,"_timeoutId",null),this._onBatch=t,this._onAdd=n,this._onRemove=i,this._onUpdate=o,this._timeout=s}return(0,i.Z)(e,[{key:"onUpdate",value:function(){this._timeoutId=null,this._onUpdate(this._batch,this._additions,this._deletions),this._onBatch(this._batch)}},{key:"scheduleUpdate",value:function(){null===this._timeoutId&&(this._timeoutId=setTimeout(this.onUpdate.bind(this),this._timeout))}},{key:"getBatch",value:function(){return this._batch}},{key:"subscribe",value:function(e,t){this._onAdd(this._additions,e,t),this._onRemove(this._deletions,e,t),this.scheduleUpdate()}},{key:"unsubscribe",value:function(e,t){this._onAdd(this._deletions,e,t),this._onRemove(this._additions,e,t),this.scheduleUpdate()}}]),e}(),p=function(e){(0,o.Z)(n,e);var t=u(n);function n(){return(0,a.Z)(this,n),t.apply(this,arguments)}return(0,i.Z)(n)}(m);function f(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return new p(e,(function(e,t,n){var r=e.get(t);r?r.add(n):e.set(t,new Set([n]))}),(function(e,t,n){var r=e.get(t);r&&(r.delete(n),0===r.size&&e.delete(t))}),(function(e,t,n){n.forEach((function(t,n){var r=e.get(n);void 0!==r&&(t.forEach((function(e){return r.delete(e)})),0===r.size&&e.delete(n))})),n.clear(),t.forEach((function(t,n){var r=e.get(n);void 0!==r?t.forEach((function(e){return r.add(e)})):e.set(n,t)})),t.clear()}),t)}var v=function(e){(0,o.Z)(n,e);var t=u(n);function n(){return(0,a.Z)(this,n),t.apply(this,arguments)}return(0,i.Z)(n)}(m);function g(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return new v(e,(function(e,t){var n=e.get(t);void 0!==n?e.set(t,n+1):e.set(t,1)}),(function(e,t){var n=e.get(t);void 0!==n&&(n-1==0?e.delete(t):e.set(t,n-1))}),(function(e,t,n){n.forEach((function(t,n){var r=e.get(n)||0;r-t<=0?e.delete(n):e.set(n,r-t)})),n.clear(),t.forEach((function(t,n){var r=e.get(n)||0;e.set(n,r+t)})),t.clear()}),t)}},56705:(e,t,n)=>{"use strict";n.d(t,{s:()=>o});var r=n(15861),i=n(87757),a=n.n(i);n(47042),n(66992),n(41539),n(88674),n(78783),n(33948);function o(e,t){return s.apply(this,arguments)}function s(){return s=(0,r.Z)(a().mark((function e(t,n){var r,i,o,s=arguments;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(r=s.length>2&&void 0!==s[2]?s[2]:50,i=[],o=0;o<t.length;o+=r)i.push(n(t.slice(o,o+r)));return e.abrupt("return",Promise.all(i));case 4:case"end":return e.stop()}}),e)}))),s.apply(this,arguments)}},67789:(e,t,n)=>{"use strict";n.d(t,{Ie:()=>u,Xb:()=>d,IS:()=>m});var r=n(15861),i=n(87757),a=n.n(i),o=(n(74916),n(15306),n(87961)),s=(n(92222),n(16516)),l=function(){var e=(0,r.Z)(a().mark((function e(t,n,r){var i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null!==(i=r)&&void 0!==i||(r="com.widevine.alpha"),e.next=3,t.build().withMethod("GET").withHost(s.B8).withPath("/unauth/episode/".concat(n,"/").concat(r)).withEndpointIdentifier("/unauth/episode/{episodeId}/{keysystem}").send();case 3:return e.abrupt("return",e.sent.body);case 4:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),c=n(15396);function u(e){var t;return 0===(null===(t=e.showTypes)||void 0===t?void 0:t.length)}function d(e,t){var n;return e.uri===(null===(n=t.trailer)||void 0===n?void 0:n.uri)}function m(e,t,n){return p.apply(this,arguments)}function p(){return(p=(0,r.Z)(a().mark((function e(t,n,r){var i,s,u,d,m,p,f;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=(0,c.EC)(t.uri),e.next=3,l(o.b.getInstance(),null==s?void 0:s.id,n);case 3:if(u=e.sent,"video"!==r){e.next=6;break}return e.abrupt("return",{format:"MANIFEST_ID",mediaType:r,noManifest:!1,fileId:null===(d=u.video)||void 0===d?void 0:d[0].manifestId});case 6:return m=null===(i=u.format)||void 0===i?void 0:i.replace(/_(128|256)/,""),p="NONE"!==u.passthrough,f=p?u.passthroughUrl:u.url[0],e.abrupt("return",{format:m,mediaType:null!=r?r:"audio",noManifest:p,resolvedURL:f,fileId:p?"":u.fileId});case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},27826:(e,t,n)=>{"use strict";n.d(t,{o:()=>o});var r=n(4942);n(74916),n(15306),n(85827),n(41539),n(47941),n(82526),n(57327),n(38880),n(89554),n(54747),n(49337),n(33321),n(69070);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var a={ARTIST:"artist",ALBUM:"album",PLAYLIST:"playlist",TRACK:"track",USER:"user"},o={Type:a,from:function(e){var t=/^spotify:(.*)$/.exec(e);if(!t)return{type:null,id:null};for(var n,o,s=t[1],l=/([^:]+):([^:]+)/g,c=[],u=[];n=l.exec(s);){var d=n[1],m=n[2];d===a.USER&&(o=void 0,o=m.replace(/\+/g,"%20"),m=decodeURIComponent(o)),c.push(d),u.push(m)}if(0===c.length)return{type:null,id:null};var p=c.reduce((function(e,t,n){return e[c[n]]=u[n],e}),{});return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({type:c[c.length-1],id:u[u.length-1]},p)}}},87961:(e,t,n)=>{"use strict";n.d(t,{b:()=>U});var r=n(15671),i=n(43144),a=(n(81299),n(12419),n(11752)),o=n(60136),s=n(82963),l=n(61120),c=(n(92222),n(38862),n(66992),n(41539),n(70189),n(78783),n(33948),n(21703),n(96647),n(68309),n(82772),n(3843),n(83710),n(96848)),u=n(22349),d=n(96511);function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,l.Z)(e);if(t){var i=(0,l.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,s.Z)(this,n)}}function p(e){return"".concat(e.method,"::").concat(e.host).concat(e.path,"::").concat(JSON.stringify(e.queryParameters))}function f(e,t,n){try{(0,u.sQ)({metric_type:c.MetricTypes.COUNTER,what:"request-rate",value:1,tags:{endpoint:e,statusCode:t,isFatal:n}}).catch((function(){return{}}))}catch(e){}}var v=function(e){(0,o.Z)(n,e);var t=m(n);function n(e){var i;return(0,r.Z)(this,n),(i=t.call(this,e)).pendingRequests=new Set,i}return(0,i.Z)(n,[{key:"resetPendingRequests",value:function(){this.pendingRequests=new Set}},{key:"build",value:function(){var e,t=this,r=(0,a.Z)((0,l.Z)(n.prototype),"build",this).call(this);return r.onBeforeSend=function(){if(e=p(r),t.pendingRequests.has(e)){var n=new Error("DUPLICATE_REQUEST_ERROR: Already sent this request (".concat(e,")"));throw n.name="DUPLICATE_REQUEST_ERROR",n}"GET"===r.method.toUpperCase()&&t.pendingRequests.add(e)},r.onAfterSend=function(n){e=p(r);var i="unknown",a=!1;if(null!==r.endpointIdentifier&&(a=!0,i="".concat(r.method," ").concat(r.host||window.location.origin,"::").concat(r.endpointIdentifier)),n)throw a&&f(i,JSON.stringify(n.status||0),JSON.stringify(0===(r.endpointIdentifier||"").indexOf("/me"))),t.pendingRequests.delete(e),d.m.fromResponse(n,r.method);if(a){f(i,"200","false");var o=Date.now()-(r.startTimestamp||0);!function(e,t,n){try{(0,u.sQ)({metric_type:c.MetricTypes.TIMER,what:"request-duration",value:n,tags:{endpoint:e,statusCode:t}}).catch((function(){return{}}))}catch(e){}}(i,"200",c.Time.fromMillis(o).asNanos())}t.pendingRequests.delete(e)},r}}]),n}(n(89469).c),g=n(45152),h=n(4942),y=n(15861),k=n(87757),E=n.n(k),b=(n(23157),n(39714),n(41637),n(47941),n(82526),n(57327),n(38880),n(89554),n(54747),n(49337),n(33321),n(69070),n(32564),n(54098)),_=n(34139),S=n.n(_),w=n(28599),N=n.n(w);function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){(0,h.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var T=S()(b.fetch);function I(e){return e&&void 0!==e.retries&&e.retries>0?T:b.fetch}function A(e,t){return P.apply(this,arguments)}function P(){return P=(0,y.Z)(E().mark((function e(t,n){var r,i,a,o,s,l=arguments;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=l.length>2&&void 0!==l[2]?l[2]:1e4,i=new(N()),a=i.signal,o=setTimeout((function(){return i.abort()}),r),s=I(n),e.abrupt("return",s(t,C(C({},n),{},{signal:a})).then((function(e){return clearTimeout(o),e})).catch((function(e){var i;if("AbortError"===e.name)throw new d.V({timeout:r,url:t,method:null!==(i=null==n?void 0:n.method)&&void 0!==i?i:"get"});throw clearTimeout(o),e})));case 6:case"end":return e.stop()}}),e)}))),P.apply(this,arguments)}function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){(0,h.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var x=function(){function e(t,n){return(0,r.Z)(this,e),this.method=t,this.url=n,this.postData=null,this.queryParameters=void 0,this.responseType="json",this._headers={},this._includeCredentials=!1,this}var t;return(0,i.Z)(e,[{key:"withQueryParameters",value:function(e){this.queryParameters=e}},{key:"withResponseType",value:function(e){this.responseType=e}},{key:"withPostData",value:function(e){this.postData=e}},{key:"addHeader",value:function(e,t){return this._headers[e]=t,this}},{key:"includeCredentials",value:function(){return this._includeCredentials=!0,this}},{key:"send",value:(t=(0,y.Z)(E().mark((function e(){var t,n,r,i=this;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.postData&&(t=null!==(n=this._headers["Content-Type"])&&void 0!==n&&n.startsWith("application/json;charset=UTF-8")?JSON.stringify(this.postData):this.postData),r=new URLSearchParams(this.queryParameters).toString(),e.abrupt("return",A("".concat(this.url).concat(r?"?".concat(r):""),{method:this.method,body:t,credentials:this._includeCredentials?"include":void 0,headers:R({"User-Agent":{NODE_ENV:"production",DEBUG_EVENT_SENDER:!1,DEBUG_SEMANTIC_METRICS:void 0}.SERVER_UA,"Content-Type":L(this.responseType)},this._headers)}).then(function(){var e=(0,y.Z)(E().mark((function e(t){return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.ok){e.next=2;break}throw d.m.fromResponse(t,i.method||"GET");case 2:if("text"!==i.responseType){e.next=8;break}return e.next=5,t.text();case 5:e.t0=e.sent,e.next=11;break;case 8:return e.next=10,t.json();case 10:e.t0=e.sent;case 11:return e.t1=e.t0,e.t2=t.status,e.abrupt("return",{body:e.t1,status:e.t2});case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){throw e})));case 3:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}]),e}();function L(e){return"text"===e?"text/plain":"application/json"}var F=null,U=function(){function e(){(0,r.Z)(this,e)}return(0,i.Z)(e,null,[{key:"setSession",value:function(e){if(e){var t=e.accessToken,n=this.getInstance();n.accessToken=t,t||n.resetPendingRequests()}}},{key:"setLocale",value:function(e){this.getInstance().locale=e}},{key:"setGlobalRequestHeaders",value:function(e){this.getInstance().globalRequestHeaders=e}},{key:"setMarket",value:function(e){this.getInstance().market=e}},{key:"resetInstance",value:function(){F=null}},{key:"getInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return F||(F=this.createNew(e)),F}},{key:"createNew",value:function(e){var t=e.Constructor,n=void 0===t?v:t,r=e.fromServer;return new n(void 0!==r&&r?x:g.e)}}]),e}()},42374:(e,t,n)=>{"use strict";n.d(t,{Y:()=>i});var r=n(16516),i=function(e,t){return e.build().withMethod("GET").withHost(r.ZI).withPath("/dialog/".concat(t)).withEndpointIdentifier("/dialog/${uri}").withoutMarket().send()}},16516:(e,t,n)=>{"use strict";n.d(t,{AA:()=>u,B8:()=>T,Ep:()=>_,FN:()=>S,Gy:()=>h,H:()=>l,Jz:()=>c,KH:()=>R,No:()=>d,OP:()=>D,PQ:()=>k,SW:()=>s,Sj:()=>P,Tt:()=>v,Uk:()=>f,W7:()=>L,WE:()=>I,XA:()=>a,Z9:()=>N,ZI:()=>y,cM:()=>x,f:()=>w,fQ:()=>b,fW:()=>F,fe:()=>p,hC:()=>O,ru:()=>C,uP:()=>E,vp:()=>m,wI:()=>g,x9:()=>A});var r=n(37176),i=r.Ls,a=r.XA,o=r.l3,s=(r.xM,""),l="".concat(i,"/v1"),c="".concat(a,"/melody/v1"),u="".concat(a,"/radio-apollo/v3"),d="".concat(a,"/recently-played/v3"),m=("".concat(a,"/collection-view/v1"),"".concat(a,"/sponsoredplaylist/v1")),p=("".concat(a,"/social-connect/v2"),"".concat(a,"/playlist/v2")),f="".concat(a,"/inspiredby-mix/v2"),v="".concat(a,"/ads"),g="".concat(o,"/pathfinder/v1"),h="".concat(a,"/autoplay-enabled"),y="".concat(a,"/age-verification/v1"),k="".concat(a,"/concerts"),E="".concat(a,"/presence-view"),b="".concat(a,"/presence2"),_="".concat(a,"/find-friends"),S="".concat(a,"/track-credits-view"),w="".concat(a,"/color-lyrics/v2"),N="".concat(a,"/metadata/4"),O="".concat(a,"/user-profile-view/v3"),C=("".concat(a,"/consumer-wrapped/v1"),"".concat(a,"/campaigns-service/v1")),T=("".concat(a,"/consumer-only-you/v1"),"".concat(a,"/stories-view/v1"),"".concat(a,"/soundfinder/v1")),I="".concat(a,"/"),A="".concat(a,"/socialgraph/v2"),P="".concat(a,"/vanilla/v1/views/hub2"),D="".concat(a,"/ondemand-selector/v2"),R="".concat(a,"/playlist-permission/v1"),x=("".concat(a,"/stories-view/v3"),"".concat(a,"/blend-invitation")),L="".concat(a,"/playlistfreshener"),F="".concat(a,"/spotify.audiobookcashier.v1.AudiobookCashier")},5840:(e,t,n)=>{"use strict";n.d(t,{Cs:()=>o,aj:()=>a,uM:()=>i,wD:()=>l,zm:()=>s});n(92222);var r=n(16516),i=function(e){return e.build().withHost(r.uP).withMethod("GET").withoutMarket().withPath("/v1/buddylist").withJsonContentType().withEndpointIdentifier("/v1/buddylist").send()},a=function(e,t){return e.build().withHost(r.uP).withMethod("GET").withoutMarket().withPath("/v1/user/".concat(encodeURIComponent(t))).withJsonContentType().withEndpointIdentifier("/v1/user").send()},o=function(e){return e.build().withHost(r.Ep).withMethod("POST").withoutMarket().withPath("/v1/friends").withJsonContentType().withEndpointIdentifier("/v1/friends").send()},s=function(e,t,n){return e.build().withHost(r.fQ).withMethod("POST").withoutMarket().withJsonContentType().withPath("/sub/user/".concat(t,"/connection_id/").concat(n)).withEndpointIdentifier("POST:/sub/user/:username/connection_id/:connection_id").send()},l=function(e,t,n){return e.build().withHost(r.fQ).withMethod("DELETE").withoutMarket().withPath("/sub/user/".concat(t,"/connection_id/").concat(n)).withEndpointIdentifier("DELETE:/sub/user/:username/connection_id/:connection_id").send()}},99866:(e,t,n)=>{"use strict";n.d(t,{HX:()=>o,Oi:()=>l,cQ:()=>s});n(21249),n(69600);var r=n(16516),i=n(27826);function a(e,t,n){return e.build().withHost(r.H).withPath("/me/following/contains").withQueryParameters({type:t,ids:n.map((function(e){return i.o.from(e)}))}).withoutMarket().withEndpointIdentifier("/me/following/contains?type=".concat(t,"&ids={ids}")).send()}function o(e,t){return a(e,"user",t)}function s(e,t){var n=t.map((function(e){return i.o.from(e).id}));return e.build().withMethod("PUT").withHost(r.H).withPath("/me/following").withQueryParameters({type:"user",ids:n.join(",")}).withEndpointIdentifier("/me/following?type=user&ids={userIds}").withoutMarket().send()}function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=t.map((function(e){return i.o.from(e).id}));return e.build().withMethod("DELETE").withHost(r.H).withPath("/me/following").withQueryParameters({type:"user",ids:n.join(",")}).withEndpointIdentifier("/me/following?type=user&ids={userIds}").withoutMarket().send()}},6024:(e,t,n)=>{"use strict";n.d(t,{fi:()=>d,dp:()=>r,xh:()=>i,BC:()=>m,q8:()=>ve,LH:()=>p,x2:()=>g,TV:()=>a,Zz:()=>v,gO:()=>o,di:()=>c,OK:()=>u,fQ:()=>s,pH:()=>f,n5:()=>T,kO:()=>l,uC:()=>h});var r={};n.r(r),n.d(r,{getAlbum:()=>k,getAlbumEntityView:()=>_,getAlbumTracks:()=>b,getAlbums:()=>E});var i={};n.r(i),n.d(i,{getArtist:()=>S,getArtistAlbums:()=>N,getArtistTopTracks:()=>O,getArtists:()=>w});var a={};n.r(a),n.d(a,{getGeneric:()=>C});var o={};n.r(o),n.d(o,{addToPlaylist:()=>L,changePlaylistDetails:()=>F,createPlaylist:()=>x,getOnDemandPlaylists:()=>B,getPlaylist:()=>D,getPlaylistNFTRecommendedTracks:()=>M,getPlaylistPermissionForUser:()=>j,getPlaylistTracks:()=>R,removeFromPlaylist:()=>Z,renamePlaylist:()=>U});var s={};n.r(s),n.d(s,{getTrack:()=>V,getTrackEntityView:()=>G,getTracks:()=>H});var l={};n.r(l),n.d(l,{getView:()=>Y,getViewRaw:()=>K});var c={};n.r(c),n.d(c,{createCheckoutSession:()=>te,getEpisode:()=>$,getEpisodes:()=>ee,getShow:()=>J,getShowEpisodes:()=>X});var u={};n.r(u),n.d(u,{getSponsoredPlaylistAd:()=>re,getSponsoredPlaylists:()=>ne});var d={};n.r(d),n.d(d,{getAdsManagerConfig:()=>ie,getAdsManagerSlot:()=>ae});var m={};n.r(m),n.d(m,{query:()=>oe});var p={};n.r(p),n.d(p,{fetchLocationQuery:()=>pe,getConcert:()=>ue,getConcertsForArtist:()=>de,getConcertsForUser:()=>me,getConcertsHub:()=>fe});var f={};n.r(f),n.d(f,{V:()=>ge});var v={};n.r(v),n.d(v,{getSEOTrackLyrics:()=>he});var g={};n.r(g),n.d(g,{deleteFeedback:()=>ke,setFeedback:()=>ye});var h={};n.r(h),n.d(h,{getEligibility:()=>Ee});n(69600);var y=n(16516);function k(e,t){return e.build().withHost(y.H).withPath("/albums/".concat(t)).withEndpointIdentifier("/albums/{albumId}").send()}function E(e,t){return e.build().withHost(y.H).withPath("/albums").withQueryParameters({ids:t.join(",")}).withEndpointIdentifier("/albums?ids={albumIds}").send()}function b(e,t,n){return e.build().withHost(y.H).withPath("/albums/".concat(t,"/tracks")).withQueryParameters(n).withEndpointIdentifier("/albums/{albumId}/tracks").send()}function _(e,t,n){return e.build().withHost(y.XA).withPath("/album-entity-view/v2/album/".concat(t)).withQueryParameters(n).withEndpointIdentifier("/album-entity-view/v2/album/{albumId}").send()}function S(e,t){return e.build().withHost(y.H).withPath("/artists/".concat(t)).withoutMarket().withEndpointIdentifier("/artists/{artistId}").send()}function w(e,t){return e.build().withHost(y.H).withPath("/artists").withQueryParameters({ids:t.join(",")}).withoutMarket().withEndpointIdentifier("/artists?ids={artistIds}").send()}function N(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e.build().withHost(y.H).withPath("/artists/".concat(t,"/albums")).withQueryParameters(n).withoutMarket().withEndpointIdentifier("/artists/{artistId}/albums").send()}function O(e,t){return e.build().withHost(y.H).withPath("/artists/".concat(t,"/top-tracks")).withEndpointIdentifier("/artists/{artistId}/top-tracks").send()}function C(e,t){return e.build().withHost(t).withoutMarket().send()}var T=n(5322),I=n(4942),A=(n(92222),n(47941),n(82526),n(57327),n(41539),n(38880),n(89554),n(54747),n(49337),n(33321),n(69070),n(27826));function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function D(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{additional_types:"track"};return e.build().withHost(y.H).withPath("/playlists/".concat(t)).withQueryParameters(n).withEndpointIdentifier("/playlists/{playlistId}").send()}function R(e,t,n){var r=t.type,i=void 0===r?"track":r,a=t.offset,o=void 0===a?0:a,s=t.limit,l=void 0===s?100:s;return e.build().withHost(y.H).withPath("/playlists/".concat(n,"/tracks")).withQueryParameters({type:i,offset:o,limit:l}).withEndpointIdentifier("/playlists/{playlistId}/tracks").send()}function x(e,t,n){return e.build().withMethod("POST").withHost(y.H).withPath("/users/".concat(encodeURIComponent(t),"/playlists")).withoutMarket().withJsonContentType().withBody({name:n,public:!0}).withEndpointIdentifier("/users/{userId}/playlists").send()}function L(e,t,n,r){var i=A.o.from(t).id;return e.build().withMethod("POST").withHost(y.H).withPath("/playlists/".concat(i,"/tracks")).withJsonContentType().withBody(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){(0,I.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({uris:n},"number"==typeof r&&{position:r})).withEndpointIdentifier("/playlists/{playlistId}/tracks").withoutMarket().send()}function F(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=A.o.from(t).id;return e.build().withMethod("PUT").withHost(y.H).withPath("/playlists/".concat(r)).withJsonContentType().withBody(n).withEndpointIdentifier("/playlists/{playlistId}").withoutMarket().send()}function U(e,t,n){return F(e,t,{name:n})}function Z(e,t,n,r){var i=A.o.from(t).id;return e.build().withMethod("DELETE").withHost(y.H).withPath("/playlists/".concat(i,"/tracks")).withJsonContentType().withBody({tracks:[{positions:[r],uri:n}]}).withEndpointIdentifier("/playlists/{playlistId}/tracks").withoutMarket().send()}function M(e,t){var n=e.market,r=e.locale,i="playlistURI:spotify:playlist:".concat(t),a="?signal=".concat(i,"&region=").concat(n,"&locale=").concat(r,"&nft=true");return e.build().withHost(y.Sj).withPath("/nft/recommendations-in-free-tier-playlist".concat(a)).withJsonContentType().send()}function B(e){return e.build().withHost(y.OP).withPath("/select-ondemand-set?format=json").withJsonContentType().withoutMarket().send()}function j(e,t){return e.build().withHost(y.KH).withMethod("GET").withPath("/playlist/".concat(t,"/capabilities")).withEndpointIdentifier("/playlist/{id}/capabilities").withoutMarket().send()}n(87757),n(21703),n(96647),n(88674);function V(e,t){return e.build().withHost(y.H).withPath("/tracks/".concat(t)).withEndpointIdentifier("/tracks/{trackId}").send()}function H(e,t){return e.build().withHost(y.H).withPath("/tracks").withQueryParameters({ids:t.join(",")}).withEndpointIdentifier("/tracks?ids={trackIds}").send()}function G(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e.build().withHost(y.XA).withPath("/track-entity-view/v2/track/".concat(t)).withQueryParameters(n).withEndpointIdentifier("/track-entity-view/v2/track/{trackId}").send()}n(99866),n(74916),n(4723),n(83710),n(28733);function W(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?W(Object(n),!0).forEach((function(t){(0,I.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function K(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e.build().withHost(y.H).withPath("/views/".concat(encodeURIComponent(t))).withQueryParameters(n).withLocale(n.locale).withEndpointIdentifier("/views/{viewId}").send()}function Y(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=t.match(/ginger-genre-affinity/)?12:20,i=new Date;return e.build().withHost(y.H).withPath("/views/".concat(encodeURIComponent(t))).withQueryParameters(z({timestamp:new Date(i.getTime()-60*i.getTimezoneOffset()*1e3).toISOString(),platform:"web",content_limit:10,limit:r,types:"album,playlist,artist,show",image_style:"gradient_overlay",include_external:"audio"},n)).withLocale(n.locale).withEndpointIdentifier("/views/{viewId}").send()}n(38862);function q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q(Object(n),!0).forEach((function(t){(0,I.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function J(e,t,n){return e.build().withHost(y.H).withPath("/shows/".concat(t)).withQueryParameters({market:n}).withEndpointIdentifier("shows/{showId}").send()}function X(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0;return e.build().withHost(y.H).withPath("/shows/".concat(t,"/episodes")).withQueryParameters(Q(Q({},n),{},{market:r})).withEndpointIdentifier("shows/{showId}/episodes").send()}function $(e,t,n){return e.build().withHost(y.H).withPath("/episodes/".concat(t)).withQueryParameters({market:n}).withEndpointIdentifier("episodes/{episodeId}").send()}function ee(e,t,n){return e.build().withHost(y.H).withPath("/episodes").withQueryParameters({market:n,ids:t}).withEndpointIdentifier("episodes").send()}function te(e,t){return e.build().withMethod("POST").withHost(y.fW).withPath("/CheckoutBook").withoutMarket().withBody(JSON.stringify(t)).withEndpointIdentifier("show/{showId}").send()}var ne=function(e){return e.build().withHost(y.vp).withPath("/sponsored").withEndpointIdentifier("/sponsored").send()},re=function(e,t){return e.build().withHost(y.vp).withPath("/sponsored/".concat(t)).withEndpointIdentifier("sponsored/{playlistUri}").send()},ie=(n(54831),function(e,t){return e.build().withHost(y.Tt).withPath("/v2/config").withQueryParameters({playload:"",e30:""}).withHeaders(t).withEndpointIdentifier("/v2/config").send()}),ae=function(e,t,n){return e.build().withHost(y.Tt).withPath("/v1/ads/".concat(t)).withQueryParameters({playload:"",e30:""}).withHeaders(n).withEndpointIdentifier("/v1/ads/{slotName}").send()};n(42374);function oe(e,t){return e.build().withMethod("GET").withHost(y.Gy).withPath("/query").withQueryParameters({uri:t}).withResponseType("text").withEndpointIdentifier("/query").withoutMarket().send()}n(21249);var se=n(96206);function le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?le(Object(n),!0).forEach((function(t){(0,I.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):le(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ue(e,t){return e.build().withHost(y.PQ).withPath("/v1/concert/view/".concat(t)).withQueryParameters({locale:se.ag.getLocale()}).withEndpointIdentifier("/concert/{concertId}").send()}function de(e,t,n){return e.build().withHost(y.PQ).withPath("/v2/concerts/artist/".concat(n)).withQueryParameters(ce({locale:se.ag.getLocale(),filterByLoc:!1,decorate:!0},t&&{geohash:t})).withEndpointIdentifier("concerts/artist/${artistId}").send()}function me(e,t){return e.build().withHost(y.PQ).withPath("/v2/concerts/view").withQueryParameters(ce({locale:se.ag.getLocale(),source:["user","popular","online"],playlists:!1},t&&{geonameId:t})).withEndpointIdentifier("/concerts/view").send()}function pe(e,t){return e.build().withHost(y.PQ).withPath("/v1/location/suggest").withQueryParameters({q:t}).withEndpointIdentifier("/concerts/location/suggest").send()}function fe(e,t,n){return e.build().withHost(y.PQ).withPath("/v2/concerts/open").withQueryParameters(ce({ip:t},n&&{geonameId:n})).withEndpointIdentifier("/v2/concerts/open").send()}var ve=n(5840),ge=function(e,t){return e.build().withHost(y.FN).withPath("/v0/experimental/".concat(t,"/credits")).withoutMarket().withEndpointIdentifier("/v0/experimental/{trackId}/credits").send()},he=function(e,t){return e.build().withHost(y.f).withPath("/seo/track/".concat(encodeURIComponent(t))).withEndpointIdentifier("/seo/track/{trackId}").send()},ye=(n(15306),function(e,t,n){var r=t.replace("<reason>","LOCAL_NOT_APPROPRIATE_FOR_CONTEXT").replace("<track-uri>",n);return e.build().withMethod("POST").withHost(y.WE).withPath(r).withEndpointIdentifier("/<feature>/feedback/").send()}),ke=function(e,t,n){var r=t.replace("<reason>","LOCAL_NOT_APPROPRIATE_FOR_CONTEXT").replace("<track-uri>",n);return e.build().withMethod("DELETE").withHost(y.WE).withPath(r).withEndpointIdentifier("/<feature>/feedback/").send()},Ee=function(e){return e.build().withHost(y.ru).withMethod("GET").withPath("/campaigns/wrapped/consumer/eligible").withEndpointIdentifier("/campaigns/wrapped/").withoutMarket().send()}},54831:(e,t,n)=>{"use strict";n.d(t,{M:()=>i});var r=n(16516),i=function(e,t){return e.build().withHost(r.Uk).withPath("/seed_to_playlist/".concat(t)).withQueryParameters({"response-format":"json"}).withoutMarket().withEndpointIdentifier("/seed_to_playlist/{uri}").send()}},5322:(e,t,n)=>{"use strict";n.r(t),n.d(t,{PLATFORM:()=>D,PLATFORM_VERSION:()=>R,blockUser:()=>q,getFollowers:()=>H,getFollowing:()=>V,getHarmonyProductStateForAnonymousUser:()=>j,getIsBlocked:()=>Y,getMe:()=>F,getPlaylists:()=>z,getProductState:()=>B,getProfile:()=>W,getRecentlyPlayedArtists:()=>K,getUser:()=>x,getUserPlaylists:()=>L,getUserTopArtists:()=>Z,getUserTopTracks:()=>M,getUserTopType:()=>U,unblockUser:()=>Q});var r=n(15861),i=n(4942),a=(n(21249),n(47941),n(82526),n(57327),n(41539),n(38880),n(89554),n(54747),n(49337),n(33321),n(69070),n(87757)),o=n.n(a),s=n(15429),l=n(16516),c=(n(68309),n(9653),n(79753),n(5735),n(83753),n(43720)),u=n.n(c),d=n(62100);n(28733),n(83710);var m=function(e){return{seconds:p(e.seconds)?String(e.seconds):"0",nanos:p(e.nanos)?Number(e.nanos):0}};function p(e){return null!=e}d.util.Long!==u()&&(d.util.Long=u(),d.configure());var f;function v(e){switch(e){case 0:case"IMAGE_SIZE_UNSPECIFIED":return f.IMAGE_SIZE_UNSPECIFIED;case 1:case"IMAGE_SIZE_DEFAULT":return f.IMAGE_SIZE_DEFAULT;case 2:case"IMAGE_SIZE_SMALL":return f.IMAGE_SIZE_SMALL;case 3:case"IMAGE_SIZE_LARGE":return f.IMAGE_SIZE_LARGE;case 4:case"IMAGE_SIZE_XLARGE":return f.IMAGE_SIZE_XLARGE;default:return f.UNRECOGNIZED}}!function(e){e[e.IMAGE_SIZE_UNSPECIFIED=0]="IMAGE_SIZE_UNSPECIFIED",e[e.IMAGE_SIZE_DEFAULT=1]="IMAGE_SIZE_DEFAULT",e[e.IMAGE_SIZE_SMALL=2]="IMAGE_SIZE_SMALL",e[e.IMAGE_SIZE_LARGE=3]="IMAGE_SIZE_LARGE",e[e.IMAGE_SIZE_XLARGE=4]="IMAGE_SIZE_XLARGE",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(f||(f={}));var g={fromJSON:function(e){return{name:k(e.name)?String(e.name):"",publish_time:k(e.publish_time)?y(e.publish_time):void 0,duration:k(e.duration)?String(e.duration):"",uri:k(e.uri)?String(e.uri):"",images:Array.isArray(null==e?void 0:e.images)?e.images.map((function(e){return h.fromJSON(e)})):[],stream_count:k(e.stream_count)?String(e.stream_count):"0"}},toJSON:function(e){var t={};return void 0!==e.name&&(t.name=e.name),void 0!==e.publish_time&&(t.publish_time=e.publish_time.toISOString()),void 0!==e.duration&&(t.duration=e.duration),void 0!==e.uri&&(t.uri=e.uri),e.images?t.images=e.images.map((function(e){return e?h.toJSON(e):void 0})):t.images=[],void 0!==e.stream_count&&(t.stream_count=e.stream_count),t},fromPartial:function(e){var t,n,r,i,a,o,s={name:"",publish_time:void 0,duration:"",uri:"",images:[],stream_count:"0"};return s.name=null!==(t=e.name)&&void 0!==t?t:"",s.publish_time=null!==(n=e.publish_time)&&void 0!==n?n:void 0,s.duration=null!==(r=e.duration)&&void 0!==r?r:"",s.uri=null!==(i=e.uri)&&void 0!==i?i:"",s.images=(null===(a=e.images)||void 0===a?void 0:a.map((function(e){return h.fromPartial(e)})))||[],s.stream_count=null!==(o=e.stream_count)&&void 0!==o?o:"0",s}};var h={fromJSON:function(e){return{size:k(e.size)?v(e.size):0,url:k(e.url)?String(e.url):""}},toJSON:function(e){var t={};return void 0!==e.size&&(t.size=function(e){switch(e){case f.IMAGE_SIZE_UNSPECIFIED:return"IMAGE_SIZE_UNSPECIFIED";case f.IMAGE_SIZE_DEFAULT:return"IMAGE_SIZE_DEFAULT";case f.IMAGE_SIZE_SMALL:return"IMAGE_SIZE_SMALL";case f.IMAGE_SIZE_LARGE:return"IMAGE_SIZE_LARGE";case f.IMAGE_SIZE_XLARGE:return"IMAGE_SIZE_XLARGE";default:return"UNKNOWN"}}(e.size)),void 0!==e.url&&(t.url=e.url),t},fromPartial:function(e){var t,n,r={size:0,url:""};return r.size=null!==(t=e.size)&&void 0!==t?t:0,r.url=null!==(n=e.url)&&void 0!==n?n:"",r}};function y(e){return e instanceof Date?e:"string"==typeof e?new Date(e):(t=m(e),n=1e3*Number(t.seconds),n+=t.nanos/1e6,new Date(n));var t,n}function k(e){return null!=e}d.util.Long!==u()&&(d.util.Long=u(),d.configure());var E=function(e){return{uri:I(e.uri)?String(e.uri):"",name:I(e.name)?String(e.name):"",image_url:I(e.image_url)?String(e.image_url):"",followers_count:I(e.followers_count)?Number(e.followers_count):0,following_count:I(e.following_count)?Number(e.following_count):0,is_following:!!I(e.is_following)&&Boolean(e.is_following),recently_played_artists:Array.isArray(null==e?void 0:e.recently_played_artists)?e.recently_played_artists.map((function(e){return S.fromJSON(e)})):[],public_playlists:Array.isArray(null==e?void 0:e.public_playlists)?e.public_playlists.map((function(e){return N.fromJSON(e)})):[],total_public_playlists_count:I(e.total_public_playlists_count)?Number(e.total_public_playlists_count):0,is_current_user:!!I(e.is_current_user)&&Boolean(e.is_current_user),is_verified:!!I(e.is_verified)&&Boolean(e.is_verified),edit_profile_disabled:!!I(e.edit_profile_disabled)&&Boolean(e.edit_profile_disabled),report_abuse_disabled:!!I(e.report_abuse_disabled)&&Boolean(e.report_abuse_disabled),has_spotify_name:!!I(e.has_spotify_name)&&Boolean(e.has_spotify_name),has_spotify_image:!!I(e.has_spotify_image)&&Boolean(e.has_spotify_image),color:I(e.color)?Number(e.color):0,is_dismissed:!!I(e.is_dismissed)&&Boolean(e.is_dismissed),user_created_content:Array.isArray(null==e?void 0:e.user_created_content)?e.user_created_content.map((function(e){return g.fromJSON(e)})):[],user_created_show:I(e.user_created_show)?b.fromJSON(e.user_created_show):void 0,show_support:!!I(e.show_support)&&Boolean(e.show_support)}};var b={fromJSON:function(e){return{episodes:Array.isArray(null==e?void 0:e.episodes)?e.episodes.map((function(e){return g.fromJSON(e)})):[],uri:I(e.uri)?String(e.uri):"",total_episode_count:I(e.total_episode_count)?Number(e.total_episode_count):0}},toJSON:function(e){var t={};return e.episodes?t.episodes=e.episodes.map((function(e){return e?g.toJSON(e):void 0})):t.episodes=[],void 0!==e.uri&&(t.uri=e.uri),void 0!==e.total_episode_count&&(t.total_episode_count=Math.round(e.total_episode_count)),t},fromPartial:function(e){var t,n,r,i={episodes:[],uri:"",total_episode_count:0};return i.episodes=(null===(t=e.episodes)||void 0===t?void 0:t.map((function(e){return g.fromPartial(e)})))||[],i.uri=null!==(n=e.uri)&&void 0!==n?n:"",i.total_episode_count=null!==(r=e.total_episode_count)&&void 0!==r?r:0,i}};var _=function(e){return{artists:Array.isArray(null==e?void 0:e.artists)?e.artists.map((function(e){return S.fromJSON(e)})):[]}};var S={fromJSON:function(e){return{uri:I(e.uri)?String(e.uri):"",name:I(e.name)?String(e.name):"",image_url:I(e.image_url)?String(e.image_url):"",followers_count:I(e.followers_count)?Number(e.followers_count):0,is_following:!!I(e.is_following)&&Boolean(e.is_following)}},toJSON:function(e){var t={};return void 0!==e.uri&&(t.uri=e.uri),void 0!==e.name&&(t.name=e.name),void 0!==e.image_url&&(t.image_url=e.image_url),void 0!==e.followers_count&&(t.followers_count=Math.round(e.followers_count)),void 0!==e.is_following&&(t.is_following=e.is_following),t},fromPartial:function(e){var t,n,r,i,a,o={uri:"",name:"",image_url:"",followers_count:0,is_following:!1};return o.uri=null!==(t=e.uri)&&void 0!==t?t:"",o.name=null!==(n=e.name)&&void 0!==n?n:"",o.image_url=null!==(r=e.image_url)&&void 0!==r?r:"",o.followers_count=null!==(i=e.followers_count)&&void 0!==i?i:0,o.is_following=null!==(a=e.is_following)&&void 0!==a&&a,o}};var w=function(e){return{public_playlists:Array.isArray(null==e?void 0:e.public_playlists)?e.public_playlists.map((function(e){return N.fromJSON(e)})):[],total_public_playlists_count:I(e.total_public_playlists_count)?Number(e.total_public_playlists_count):0}};var N={fromJSON:function(e){return{uri:I(e.uri)?String(e.uri):"",name:I(e.name)?String(e.name):"",image_url:I(e.image_url)?String(e.image_url):"",followers_count:I(e.followers_count)?Number(e.followers_count):0,owner_name:I(e.owner_name)?String(e.owner_name):"",owner_uri:I(e.owner_uri)?String(e.owner_uri):"",is_following:!!I(e.is_following)&&Boolean(e.is_following)}},toJSON:function(e){var t={};return void 0!==e.uri&&(t.uri=e.uri),void 0!==e.name&&(t.name=e.name),void 0!==e.image_url&&(t.image_url=e.image_url),void 0!==e.followers_count&&(t.followers_count=Math.round(e.followers_count)),void 0!==e.owner_name&&(t.owner_name=e.owner_name),void 0!==e.owner_uri&&(t.owner_uri=e.owner_uri),void 0!==e.is_following&&(t.is_following=e.is_following),t},fromPartial:function(e){var t,n,r,i,a,o,s,l={uri:"",name:"",image_url:"",followers_count:0,owner_name:"",owner_uri:"",is_following:!1};return l.uri=null!==(t=e.uri)&&void 0!==t?t:"",l.name=null!==(n=e.name)&&void 0!==n?n:"",l.image_url=null!==(r=e.image_url)&&void 0!==r?r:"",l.followers_count=null!==(i=e.followers_count)&&void 0!==i?i:0,l.owner_name=null!==(a=e.owner_name)&&void 0!==a?a:"",l.owner_uri=null!==(o=e.owner_uri)&&void 0!==o?o:"",l.is_following=null!==(s=e.is_following)&&void 0!==s&&s,l}};var O=function(e){return{profiles:Array.isArray(null==e?void 0:e.profiles)?e.profiles.map((function(e){return T.fromJSON(e)})):[]}};var C,T={fromJSON:function(e){return{uri:I(e.uri)?String(e.uri):"",name:I(e.name)?String(e.name):"",image_url:I(e.image_url)?String(e.image_url):"",followers_count:I(e.followers_count)?Number(e.followers_count):0,following_count:I(e.following_count)?Number(e.following_count):0,is_followed:!!I(e.is_followed)&&Boolean(e.is_followed),is_following:!!I(e.is_following)&&Boolean(e.is_following),is_dismissed:!!I(e.is_dismissed)&&Boolean(e.is_dismissed),is_verified:!!I(e.is_verified)&&Boolean(e.is_verified)}},toJSON:function(e){var t={};return void 0!==e.uri&&(t.uri=e.uri),void 0!==e.name&&(t.name=e.name),void 0!==e.image_url&&(t.image_url=e.image_url),void 0!==e.followers_count&&(t.followers_count=Math.round(e.followers_count)),void 0!==e.following_count&&(t.following_count=Math.round(e.following_count)),void 0!==e.is_followed&&(t.is_followed=e.is_followed),void 0!==e.is_following&&(t.is_following=e.is_following),void 0!==e.is_dismissed&&(t.is_dismissed=e.is_dismissed),void 0!==e.is_verified&&(t.is_verified=e.is_verified),t},fromPartial:function(e){var t,n,r,i,a,o,s,l,c,u={uri:"",name:"",image_url:"",followers_count:0,following_count:0,is_followed:!1,is_following:!1,is_dismissed:!1,is_verified:!1};return u.uri=null!==(t=e.uri)&&void 0!==t?t:"",u.name=null!==(n=e.name)&&void 0!==n?n:"",u.image_url=null!==(r=e.image_url)&&void 0!==r?r:"",u.followers_count=null!==(i=e.followers_count)&&void 0!==i?i:0,u.following_count=null!==(a=e.following_count)&&void 0!==a?a:0,u.is_followed=null!==(o=e.is_followed)&&void 0!==o&&o,u.is_following=null!==(s=e.is_following)&&void 0!==s&&s,u.is_dismissed=null!==(l=e.is_dismissed)&&void 0!==l&&l,u.is_verified=null!==(c=e.is_verified)&&void 0!==c&&c,u}};function I(e){return null!=e}function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}d.util.Long!==u()&&(d.util.Long=u(),d.configure());var D="WEB",R="0";function x(e,t){return e.build().withHost(l.H).withPath("/users/".concat(t)).withoutMarket().withEndpointIdentifier("/users/{userId}").send()}function L(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e.build().withHost(l.H).withPath("/users/".concat(t,"/playlists")).withEndpointIdentifier("/users/{userId}/playlists").withQueryParameters(n).send()}function F(e){return e.build().withHost(l.H).withPath("/me").withEndpointIdentifier("/me").withoutMarket().send()}function U(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e.build().withHost(l.H).withPath("/me/top/".concat(t)).withEndpointIdentifier("/me/top/{type}").withQueryParameters(n).withoutMarket().send()}function Z(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{offset:0,limit:10};return U(e,"artists",P(P({},t),{},{time_range:"short_term"}))}function M(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{offset:0,limit:50};return U(e,"tracks",P(P({},t),{},{time_range:"short_term"}))}var B=function(e){return e.build().withHost(l.Jz).withPath("/product_state").withEndpointIdentifier("/product_state").send()},j=function(e,t){return{ads:"0",catalogue:"premium",country:e,"preferred-locale":t,product:"premium","on-demand":"1"}},V=function(){var e=(0,r.Z)(o().mark((function e(t,n){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.build().withMethod("GET").withHost(l.hC).withPath("/profile/".concat(encodeURIComponent((0,s.C)(n)),"/following")).withEndpointIdentifier("/profile/{username}/following").send();case 2:return r=e.sent,e.abrupt("return",O(r.body));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),H=function(){var e=(0,r.Z)(o().mark((function e(t,n){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.build().withMethod("GET").withHost(l.hC).withPath("/profile/".concat(encodeURIComponent((0,s.C)(n)),"/followers")).withEndpointIdentifier("/profile/{username}/followers").send();case 2:return r=e.sent,e.abrupt("return",O(r.body));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),G=(C={},(0,i.Z)(C,f.IMAGE_SIZE_XLARGE,"xlarge"),(0,i.Z)(C,f.IMAGE_SIZE_LARGE,"large"),(0,i.Z)(C,f.IMAGE_SIZE_SMALL,"small"),(0,i.Z)(C,f.IMAGE_SIZE_DEFAULT,"standard"),(0,i.Z)(C,f.IMAGE_SIZE_UNSPECIFIED,void 0),(0,i.Z)(C,f.UNRECOGNIZED,void 0),C),W=function(){var e=(0,r.Z)(o().mark((function e(t,n){var r,i,a,c,u,d,m,p,f,v;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=n.uri,a=n.playlists,c=void 0===a?0:a,u=n.artists,d=void 0===u?0:u,m=n.episodes,p=void 0===m?0:m,e.next=3,t.build().withHost(l.hC).withPath("/profile/".concat(encodeURIComponent((0,s.C)(i)))).withEndpointIdentifier("/profile/{username}").withQueryParameters({playlist_limit:c,artist_limit:d,episode_limit:p}).send();case 3:return f=e.sent,v=E(f.body),e.abrupt("return",P(P({},v),{},{user_created_show:v.user_created_show&&P(P({},v.user_created_show),{},{episodes:null===(r=v.user_created_show)||void 0===r?void 0:r.episodes.map((function(e){return P(P({},e),{},{images:e.images.map((function(e){return P(P({},e),{},{label:G[e.size]})}))})}))})}));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),z=function(){var e=(0,r.Z)(o().mark((function e(t,n){var r,i,a,c,u,d;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.uri,i=n.offset,a=void 0===i?0:i,c=n.limit,u=void 0===c?200:c,e.next=3,t.build().withHost(l.hC).withPath("/profile/".concat(encodeURIComponent((0,s.C)(r)),"/playlists")).withEndpointIdentifier("/profile/{username}/playlists").withQueryParameters({offset:a,limit:u}).send();case 3:return d=e.sent,e.abrupt("return",w(d.body));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),K=function(){var e=(0,r.Z)(o().mark((function e(t,n){var r,i,a,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.uri,i=n.limit,a=void 0===i?10:i,e.next=3,t.build().withMethod("GET").withHost(l.hC).withPath("/profile/".concat(encodeURIComponent((0,s.C)(r)),"/artists")).withEndpointIdentifier("/profile/{username}/artists").withQueryParameters({limit:a}).send();case 3:return c=e.sent,e.abrupt("return",_(c.body));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Y=function(e,t){var n=t.currentUserUri,r=t.uri;return e.build().withMethod("GET").withHost(l.x9).withPath("/is_dismissed").withEndpointIdentifier("/is_dismissed").withQueryParameters({source_uri:n,target_uri:r,format:"json"}).send()},q=function(e,t){var n=t.currentUserUri,r=t.uri;return e.build().withMethod("POST").withHost(l.x9).withPath("/dismissed").withEndpointIdentifier("/dismissed").withQueryParameters({source_uri:n,target_uri:r,format:"json"}).send()},Q=function(e,t){var n=t.currentUserUri,r=t.uri;return e.build().withMethod("DELETE").withHost(l.x9).withPath("/dismissed").withEndpointIdentifier("/dismissed").withQueryParameters({source_uri:n,target_uri:r,format:"json"}).send()}},96511:(e,t,n)=>{"use strict";n.d(t,{V:()=>d,m:()=>u});n(41539),n(81299),n(12419);var r=n(15671),i=n(43144),a=n(60136),o=n(82963),s=n(61120),l=n(28664);n(68309),n(21703),n(96647),n(92222);function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,s.Z)(e);if(t){var i=(0,s.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,o.Z)(this,n)}}var u=function(e){(0,a.Z)(n,e);var t=c(n);function n(e){var i;(0,r.Z)(this,n);var a=e.message,o=e.url,s=e.method,l=e.status,c=e.response;return(i=t.call(this,a)).name="HttpResponseError",i.requestUrl=o,i.requestMethod=s,i.status=l,i.response=c,i}return(0,i.Z)(n,null,[{key:"fromResponse",value:function(e,t){return new n({message:e.statusText,url:e.url,method:t,status:e.status,response:e})}}]),n}((0,l.Z)(Error)),d=function(e){(0,a.Z)(n,e);var t=c(n);function n(e){var i;(0,r.Z)(this,n);var a=e.timeout,o=e.url,s=e.method;return(i=t.call(this,{message:"".concat(s.toUpperCase()," ").concat(o," timed out (").concat(a,"ms)"),url:o,method:s,status:503})).name="HttpRequestTimeoutError",i.timeout=a,i}return(0,i.Z)(n)}(u)},89469:(e,t,n)=>{"use strict";n.d(t,{c:()=>v});var r,i=n(15671),a=n(43144),o=n(29439),s=n(4942),l=n(15861),c=n(87757),u=n.n(c);n(92222),n(89554),n(41539),n(54747),n(88674),n(3843),n(83710),n(47941),n(82526),n(57327),n(38880),n(49337),n(33321),n(69070);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var p=function(){function e(){(0,i.Z)(this,e),this._accessToken=null,this._market="",this._headers=[],this._globalRequestHeaders=[],this._shouldSendMarket=!0,this._shouldSendGlobalHeaders=!0,this._locale=null,this._shouldSendLocale=!1,this._shouldSendAuthorization=!0,this._host="",this.path="",this.responseType="json",this.queryParameters=void 0,this._method="GET",this.jsonContentType=!1,this.body=null,this._endpointIdentifier=null,this._startTimestamp=null,this._includeCredentials=!1}var t;return(0,a.Z)(e,[{key:"getRequestImplementation",value:function(){return r}},{key:"accessToken",set:function(e){this._accessToken=e}},{key:"market",get:function(){return this._market},set:function(e){this._market=e}},{key:"locale",get:function(){return this._locale},set:function(e){this._locale=e}},{key:"globalRequestHeaders",get:function(){return this._globalRequestHeaders},set:function(e){this._globalRequestHeaders=e}},{key:"startTimestamp",get:function(){return this._startTimestamp}},{key:"host",get:function(){return this._host}},{key:"method",get:function(){return this._method}},{key:"endpointIdentifier",get:function(){return this._endpointIdentifier}},{key:"withHost",value:function(e){return this._host=e,this}},{key:"withPath",value:function(e){return this.path=e,this}},{key:"withResponseType",value:function(e){return this.responseType=e,this}},{key:"withEndpointIdentifier",value:function(e){return this._endpointIdentifier=e,this}},{key:"withQueryParameters",value:function(e){return this.queryParameters=e,this}},{key:"withBody",value:function(e){return this.body=e,this}},{key:"withMethod",value:function(e){return this._method=e,this}},{key:"withoutMarket",value:function(){return this._shouldSendMarket=!1,this}},{key:"withoutGlobalHeaders",value:function(){return this._shouldSendGlobalHeaders=!1,this}},{key:"withoutAuthorization",value:function(){return this._shouldSendAuthorization=!1,this}},{key:"withLocale",value:function(e){return this._shouldSendLocale=!0,e&&(this._locale=e),this}},{key:"withJsonContentType",value:function(){return this.jsonContentType=!0,this}},{key:"withHeaders",value:function(e){return this._headers=e,this}},{key:"withCredentials",value:function(){return this._includeCredentials=!0,this}},{key:"onBeforeSend",value:function(e){}},{key:"onAfterSend",value:function(e){}},{key:"send",value:(t=(0,l.Z)(u().mark((function e(){var t,n,i,a=this;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=new r(this.method,"".concat(this._host).concat(this.path),this._shouldSendAuthorization),this._shouldSendMarket&&this.market&&(this.queryParameters=m(m({},this.queryParameters),{},{market:this.market})),this._shouldSendLocale&&this.locale&&(this.queryParameters=m(m({},this.queryParameters),{},{locale:this.locale})),this.locale&&t.addHeader("Accept-Language",this.locale),t.withQueryParameters(this.queryParameters),t.withResponseType(this.responseType),this._shouldSendAuthorization&&this._accessToken&&t.addHeader("Authorization","Bearer ".concat(this._accessToken)),t.addHeader("Accept","application/json"),this._includeCredentials&&t.includeCredentials(),this._shouldSendGlobalHeaders&&this._globalRequestHeaders.length>0&&this._globalRequestHeaders.forEach((function(e){var n=(0,o.Z)(e,2),r=n[0],i=n[1];t.addHeader(r,i)})),n=0;n<this._headers.length;n++)i=this._headers[n],t.addHeader(i.key,i.value);this.jsonContentType&&t.addHeader("Content-Type","application/json;charset=UTF-8"),this.body&&t.withPostData(this.body),e.prev=13,this.onBeforeSend(t),e.next=20;break;case 17:return e.prev=17,e.t0=e.catch(13),e.abrupt("return",Promise.reject(e.t0));case 20:return this._startTimestamp=Date.now(),e.abrupt("return",t.send().then((function(e){return a.onAfterSend(),e})).catch((function(e){throw a.onAfterSend(e),e})));case 22:case"end":return e.stop()}}),e,this,[[13,17]])}))),function(){return t.apply(this,arguments)})}],[{key:"setRequestImplementation",value:function(e){r=e}}]),e}(),f=n(45152),v=function(){function e(t){(0,i.Z)(this,e),this._accessToken=null,this._market="",this._locale="",this._globalRequestHeaders=[],this._RequestImplementation=t||f.e}return(0,a.Z)(e,[{key:"accessToken",get:function(){return this._accessToken},set:function(e){this._accessToken=e}},{key:"globalRequestHeaders",get:function(){return this._globalRequestHeaders},set:function(e){this._globalRequestHeaders=e}},{key:"market",get:function(){return this._market},set:function(e){this._market=e}},{key:"locale",get:function(){return this._locale},set:function(e){this._locale=e}},{key:"resetPendingRequests",value:function(){}},{key:"build",value:function(){p.setRequestImplementation(this._RequestImplementation);var e=new p;return e.accessToken=this._accessToken,e.market=this.market,e.locale=this.locale,e.globalRequestHeaders=this.globalRequestHeaders,e}}]),e}()},45152:(e,t,n)=>{"use strict";n.d(t,{e:()=>c});var r=n(15861),i=n(15671),a=n(43144),o=n(87757),s=n.n(o),l=(n(96647),n(83710),n(41539),n(39714),n(66992),n(78783),n(33948),n(41637),n(92222),n(23157),n(38862),n(97194)),c=function(){function e(t,n,r){return(0,i.Z)(this,e),this.method=t,this.url=n,this.postData=null,this.queryParameters=void 0,this.responseType="json",this._headers={},this._authorize=r,this._includeCredentials=!1,this}var t;return(0,a.Z)(e,[{key:"withQueryParameters",value:function(e){this.queryParameters=e}},{key:"withPostData",value:function(e){this.postData=e}},{key:"withResponseType",value:function(e){this.responseType=e}},{key:"addHeader",value:function(e,t){return this._headers[e]=t,this}},{key:"includeCredentials",value:function(){return this._includeCredentials=!0,this}},{key:"send",value:(t=(0,r.Z)(s().mark((function e(){var t,n,r,i,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=(0,l.k)(),n=new URLSearchParams(this.queryParameters).toString(),r="".concat(this.url).concat(n?"?".concat(n):""),i={method:this.method,responseType:this.responseType,headers:this._headers,authorize:this._authorize,rejectNotOk:!0},this._includeCredentials&&(i.credentials="include"),this.postData&&(null!==(a=this._headers["Content-Type"])&&void 0!==a&&a.startsWith("application/json;charset=UTF-8")?i.payload=JSON.stringify(this.postData):i.payload=this.postData),e.abrupt("return",t.request(r,i).then((function(e){return e})).catch((function(e){throw e})));case 7:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}]),e}()},66124:(e,t,n)=>{"use strict";n.d(t,{B:()=>m,k:()=>u});var r=n(15861),i=n(87757),a=n.n(i),o=n(17178),s=n(21270),l=n(22305),c=(0,s.v)();function u(){return d.apply(this,arguments)}function d(){return(d=(0,r.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.post("sp://desktop/v1/logout");case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(){return p.apply(this,arguments)}function p(){return(p=(0,r.Z)(a().mark((function e(){var t,n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new o.ProductStateClient((0,l.G)()),e.next=3,t.getValues(o.GetValuesRequest.fromPartial({})).then((function(e){return"1"===e.pairs["shows-collection"]}));case 3:return n=e.sent,e.abrupt("return",{enableShows:n});case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},74263:(e,t,n)=>{"use strict";n.d(t,{B:()=>r,a:()=>d});n(41539),n(81299),n(12419);var r,i=n(43144),a=n(15671),o=n(60136),s=n(82963),l=n(61120),c=n(98938);function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,l.Z)(e);if(t){var i=(0,l.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,s.Z)(this,n)}}!function(e){e.UPDATE="update"}(r||(r={}));var d=function(e){(0,o.Z)(n,e);var t=u(n);function n(){return(0,a.Z)(this,n),t.apply(this,arguments)}return(0,i.Z)(n)}(c.r)},84553:(e,t,n)=>{"use strict";n.d(t,{p:()=>r});var r={isAuthorized:!1,token:null,retryAttempt:null,retryAt:null}},91334:(e,t,n)=>{"use strict";n.d(t,{k:()=>s,p:()=>o});var r=n(15861),i=n(87757),a=n.n(i);n(3843),n(83710);function o(e){return Date.now()>=e.accessTokenExpirationTimestampMs}function s(e,t){var n=null,i=null;return(0,r.Z)(a().mark((function r(){var o,s,l=arguments;return a().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(o=l.length>0&&void 0!==l[0]?l[0]:{},s=o.preferCached,!(void 0!==s&&s)||!n){r.next=3;break}return r.abrupt("return",n);case 3:if(!i){r.next=5;break}return r.abrupt("return",i);case 5:return i=e(),r.prev=6,r.next=9,i;case 9:n=r.sent,t(n);case 11:return r.prev=11,i=null,r.finish(11);case 14:return r.abrupt("return",n);case 15:case"end":return r.stop()}}),r,null,[[6,,11,14]])})))}},28099:(e,t,n)=>{"use strict";n.d(t,{K:()=>i,V:()=>a});n(21703),n(96647);var r=n(67294),i=(0,r.createContext)(null);function a(){var e=(0,r.useContext)(i);if(null===e)throw new Error("Trying to use 'AuthorizationContext' without 'AuthorizationProvider'!");return e}},15006:(e,t,n)=>{"use strict";n.d(t,{p:()=>s});var r=n(29439),i=n(67294),a=n(74263),o=n(28099);function s(){var e=(0,o.V)(),t=(0,i.useState)(e.getState()),n=(0,r.Z)(t,2),s=n[0],l=n[1];return(0,i.useEffect)((function(){var t=e.getEvents(),n=a.B.UPDATE,r=function(e){l(e.data)};return t.addListener(n,r),function(){t.removeListener(n,r)}}),[e]),s}},52208:(e,t,n)=>{"use strict";n.d(t,{e:()=>c});var r=n(29439),i=n(15861),a=n(87757),o=n.n(a),s=n(67294),l=n(28099);function c(){var e=(0,l.V)(),t=e.getCapabilities().canGetSessionTransferURL,n=(0,s.useCallback)((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"_blank";window.open(e,t)}),[]),a=(0,s.useCallback)(function(){var n=(0,i.Z)(o().mark((function n(r){var i,a,s=arguments;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(i=s.length>1&&void 0!==s[1]?s[1]:"_blank",!t){n.next=8;break}return n.next=4,e.getSessionTransferURL(r);case 4:a=n.sent,window.open(a,i),n.next=9;break;case 8:window.open(r,i);case 9:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),[e,t]);return{openURL:n,openURLWithSessionTransfer:a,useGetURLWithSessionTransfer:function(n){var a=(0,s.useState)(n),l=(0,r.Z)(a,2),c=l[0],u=l[1];return(0,s.useEffect)((function(){function r(){return(r=(0,i.Z)(o().mark((function t(){var r;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getSessionTransferURL(n);case 2:r=t.sent,u(r);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}t&&function(){r.apply(this,arguments)}()}),[n]),c}}}},94967:(e,t,n)=>{"use strict";n.d(t,{Ct:()=>g,tL:()=>y,tp:()=>h});n(81299),n(12419);var r=n(15861),i=n(11752),a=n(97326),o=n(60136),s=n(82963),l=n(61120),c=n(15671),u=n(43144),d=n(4942),m=n(87757),p=n.n(m);n(66992),n(51532),n(41539),n(78783),n(33948),n(21703),n(96647),n(3843),n(83710),n(89554),n(54747),n(32564),n(24812);function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,l.Z)(e);if(t){var i=(0,l.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,s.Z)(this,n)}}var v=864e5,g=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if((0,c.Z)(this,e),(0,d.Z)(this,"_cache",new Map),this._ttl=t,null!==t&&(t<1||t>v))throw new Error("TTL should be between ".concat(1," (1 ms) and ").concat(v," (1 day)."))}return(0,u.Z)(e,[{key:"isExpired",value:function(e){return null!==e.expiry&&e.expiry<Date.now()}},{key:"getExpiry",value:function(){return null!==this._ttl?Date.now()+this._ttl:null}},{key:"entries",value:function(){return this._cache.entries()}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"get",value:function(e){var t=this._cache.get(e);if(void 0!==t){if(!this.isExpired(t))return t.value;this._cache.delete(e)}}},{key:"set",value:function(e,t){this._cache.set(e,{value:t,expiry:this.getExpiry()})}},{key:"create",value:function(e,t){var n=this.get(e);if(void 0===n){var r=t();return this.set(e,r),r}return n}},{key:"delete",value:function(e){this._cache.delete(e)}},{key:"clear",value:function(){this._cache.clear()}},{key:"cleanup",value:function(){var e=this;this._cache.forEach((function(t,n){e.isExpired(t)&&e._cache.delete(n)}))}}]),e}(),h=function(e){(0,o.Z)(n,e);var t=f(n);function n(e,r){var i;return(0,c.Z)(this,n),i=t.call(this,e),setInterval(i.cleanup.bind((0,a.Z)(i)),r),i}return(0,u.Z)(n)}(g),y=function(e){(0,o.Z)(a,e);var t,n=f(a);function a(){return(0,c.Z)(this,a),n.call(this,null)}return(0,u.Z)(a,[{key:"deleteOnResolve",value:(t=(0,r.Z)(p().mark((function e(t,n){var r;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,this.delete(t),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)}))),function(e,n){return t.apply(this,arguments)})},{key:"create",value:function(e,t){var n=(0,i.Z)((0,l.Z)(a.prototype),"create",this).call(this,e,t);return this.deleteOnResolve(e,n)}},{key:"set",value:function(e,t){(0,i.Z)((0,l.Z)(a.prototype),"set",this).call(this,e,this.deleteOnResolve(e,t))}}]),a}(g)},35758:(e,t,n)=>{"use strict";n.d(t,{p:()=>R,J:()=>A});var r=n(15861),i=n(29439),a=(n(47941),n(87757)),o=n.n(a),s=n(73012),l=n(67294),c=n(69518),u=n.n(c),d=n(93433),m=(n(92222),n(98984),n(52200)),p=[{kind:"FragmentDefinition",name:{kind:"Name",value:"extractedColors"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Image"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"extractedColors"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"colorDark"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hex"}}]}}]}}]}}],f=[{kind:"FragmentDefinition",name:{kind:"Name",value:"extractedColorsAndImageSources"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Image"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"extractedColors"}},{kind:"FragmentSpread",name:{kind:"Name",value:"imageSources"}}]}}],v=Spicetify.GraphQL.Definitions["fetchExtractedColorAndImageForAlbumEntity"]={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"fetchExtractedColorAndImageForAlbumEntity"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uri"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"albumUnion"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uri"},value:{kind:"Variable",name:{kind:"Name",value:"uri"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Album"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"extractedColorsAndImageSources"}}]}}]}}]}}]}}].concat((0,d.Z)(f),(0,d.Z)(p),(0,d.Z)(m.rD.definitions),(0,d.Z)(m.rA.definitions))},g=Spicetify.GraphQL.Definitions["fetchExtractedColorAndImageForArtistEntity"]={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"fetchExtractedColorAndImageForArtistEntity"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uri"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"artistUnion"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uri"},value:{kind:"Variable",name:{kind:"Name",value:"uri"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Artist"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"visuals"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"avatarImage"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"extractedColorsAndImageSources"}}]}}]}}]}}]}}]}}].concat((0,d.Z)(f),(0,d.Z)(p),(0,d.Z)(m.rD.definitions),(0,d.Z)(m.rA.definitions))},h=Spicetify.GraphQL.Definitions["fetchExtractedColorAndImageForEpisodeEntity"]={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"fetchExtractedColorAndImageForEpisodeEntity"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uri"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"episodeUnion"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uri"},value:{kind:"Variable",name:{kind:"Name",value:"uri"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Episode"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"extractedColorsAndImageSources"}}]}}]}}]}}]}}].concat((0,d.Z)(f),(0,d.Z)(p),(0,d.Z)(m.rD.definitions),(0,d.Z)(m.rA.definitions))},y=Spicetify.GraphQL.Definitions["fetchExtractedColorAndImageForPlaylistEntity"]={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"fetchExtractedColorAndImageForPlaylistEntity"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uri"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"playlistUnion"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uri"},value:{kind:"Variable",name:{kind:"Name",value:"uri"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Playlist"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"images"},arguments:[{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"IntValue",value:"1"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"extractedColorsAndImageSources"}}]}}]}}]}}]}}]}}].concat((0,d.Z)(f),(0,d.Z)(p),(0,d.Z)(m.rD.definitions),(0,d.Z)(m.rA.definitions))},k=Spicetify.GraphQL.Definitions["fetchExtractedColorAndImageForPodcastEntity"]={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"fetchExtractedColorAndImageForPodcastEntity"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uri"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"podcastUnion"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uri"},value:{kind:"Variable",name:{kind:"Name",value:"uri"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Podcast"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"extractedColorsAndImageSources"}}]}}]}}]}}]}}].concat((0,d.Z)(f),(0,d.Z)(p),(0,d.Z)(m.rD.definitions),(0,d.Z)(m.rA.definitions))},E=Spicetify.GraphQL.Definitions["fetchExtractedColorAndImageForTrackEntity"]={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"fetchExtractedColorAndImageForTrackEntity"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uri"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"trackUnion"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uri"},value:{kind:"Variable",name:{kind:"Name",value:"uri"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Track"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"album"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"extractedColorsAndImageSources"}}]}}]}}]}}]}}]}}].concat((0,d.Z)(f),(0,d.Z)(p),(0,d.Z)(m.rD.definitions),(0,d.Z)(m.rA.definitions))},b=Spicetify.GraphQL.Definitions["fetchExtractedColorForAlbumEntity"]={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"fetchExtractedColorForAlbumEntity"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uri"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"albumUnion"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uri"},value:{kind:"Variable",name:{kind:"Name",value:"uri"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Album"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"extractedColors"}}]}}]}}]}}]}}].concat((0,d.Z)(p))},_=Spicetify.GraphQL.Definitions["fetchExtractedColorForArtistEntity"]={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"fetchExtractedColorForArtistEntity"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uri"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"artistUnion"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uri"},value:{kind:"Variable",name:{kind:"Name",value:"uri"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Artist"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"visuals"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"avatarImage"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"extractedColors"}}]}}]}}]}}]}}]}}].concat((0,d.Z)(p))},S=Spicetify.GraphQL.Definitions["fetchExtractedColorForEpisodeEntity"]={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"fetchExtractedColorForEpisodeEntity"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uri"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"episodeUnion"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uri"},value:{kind:"Variable",name:{kind:"Name",value:"uri"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Episode"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"extractedColors"}}]}}]}}]}}]}}].concat((0,d.Z)(p))},w=Spicetify.GraphQL.Definitions["fetchExtractedColorForPlaylistEntity"]={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"fetchExtractedColorForPlaylistEntity"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uri"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"playlistUnion"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uri"},value:{kind:"Variable",name:{kind:"Name",value:"uri"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Playlist"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"images"},arguments:[{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"IntValue",value:"1"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"extractedColors"}}]}}]}}]}}]}}]}}].concat((0,d.Z)(p))},N=Spicetify.GraphQL.Definitions["fetchExtractedColorForPodcastEntity"]={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"fetchExtractedColorForPodcastEntity"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uri"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"podcastUnion"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uri"},value:{kind:"Variable",name:{kind:"Name",value:"uri"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Podcast"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"episodes"},arguments:[{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"IntValue",value:"1"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"episode"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"extractedColors"}}]}}]}}]}}]}}]}}]}}]}}].concat((0,d.Z)(p))},O=Spicetify.GraphQL.Definitions["fetchExtractedColorForTrackEntity"]={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"fetchExtractedColorForTrackEntity"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uri"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"trackUnion"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uri"},value:{kind:"Variable",name:{kind:"Name",value:"uri"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Track"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"album"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"extractedColors"}}]}}]}}]}}]}}]}}].concat((0,d.Z)(p))},C=n(3775),T=n(49961),I={artist:_,album:b,episode:S,playlist:w,"playlist-v2":w,show:N,track:O};function A(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s.Sns,n=(0,l.useContext)(C.Ax),a=n.request,c=(0,l.useState)(t),d=(0,i.Z)(c,2),m=d[0],p=d[1];return(0,l.useEffect)((function(){(0,r.Z)(o().mark((function t(){var n,r,i,s,l,c,d,m,f,v,g,h,y,k;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=u().from(e)){t.next=3;break}return t.abrupt("return");case 3:if(r=I[n.type]){t.next=7;break}return console.error("The entity (".concat(e,") you're trying to use it not supported for this query")),t.abrupt("return");case 7:return t.next=9,a(r,{uri:n.toURI()});case 9:i=t.sent,s=(null==i?void 0:i.data)||{},l=s.albumUnion,c=s.artistUnion,d=s.episodeUnion,m=s.playlistUnion,f=s.podcastUnion,v=s.trackUnion,x(l)?p(P(l.coverArt)):L(c)?p(P(null===(g=c.visuals)||void 0===g?void 0:g.avatarImage)):F(d)?p(P(d.coverArt)):U(m)?p(P(null===(h=m.images)||void 0===h||null===(y=h.items)||void 0===y?void 0:y[0])):Z(f)?p(P(f.coverArt)):M(v)&&p(P(null===(k=v.album)||void 0===k?void 0:k.coverArt));case 12:case"end":return t.stop()}}),t)})))()}),[e,a]),m}function P(e){var t;return null==e||null===(t=e.extractedColors)||void 0===t?void 0:t.colorDark.hex}var D={artist:g,album:v,episode:h,playlist:y,"playlist-v2":y,show:k,track:E};function R(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s.Sns,n=arguments.length>2?arguments[2]:void 0,a=(0,l.useContext)(C.Ax),c=a.request,d=(0,l.useState)(t),m=(0,i.Z)(d,2),p=m[0],f=m[1],v=(0,l.useState)(n),g=(0,i.Z)(v,2),h=g[0],y=g[1],k=(0,l.useCallback)((function(e){var t=((0,T.X)(null==e?void 0:e.sources)||{}).url,n=P(e);t&&y(t),n&&f(n)}),[y]);return(0,l.useEffect)((function(){(0,r.Z)(o().mark((function t(){var n,r,i,a,s,l,d,m,p,f,v,g,h;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=u().from(e)){t.next=3;break}return t.abrupt("return");case 3:if(r=D[n.type]){t.next=7;break}return console.error("The entity (".concat(e,") you're trying to use it not supported for this query")),t.abrupt("return");case 7:return t.next=9,c(r,{uri:n.toURI()});case 9:i=t.sent,a=(null==i?void 0:i.data)||{},s=a.albumUnion,l=a.artistUnion,d=a.episodeUnion,m=a.playlistUnion,p=a.podcastUnion,f=a.trackUnion,x(s)?k(s.coverArt):L(l)?k(l.visuals.avatarImage):F(d)?k(d.coverArt):U(m)?k(null===(v=m.images)||void 0===v||null===(g=v.items)||void 0===g?void 0:g[0]):Z(p)?k(p.coverArt):M(f)&&k(null===(h=f.album)||void 0===h?void 0:h.coverArt);case 12:case"end":return t.stop()}}),t)})))()}),[e,c,k]),[h,p]}function x(e){return!!e}function L(e){return!!e}function F(e){return!!e}function U(e){return!!e}function Z(e){return!(!e||0===Object.keys(e).length)&&"Podcast"===e.__typename}function M(e){return!!e}},28502:(e,t,n)=>{"use strict";n.d(t,{l:()=>l,S:()=>c});var r=n(15861),i=n(87757),a=n.n(i),o=(n(79753),n(21703),n(96647),n(21249),n(6086)),s=(n(98984),{kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"fetchExtractedColors"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uris"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"extractedColors"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uris"},value:{kind:"Variable",name:{kind:"Name",value:"uris"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ExtractedColors"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"colorRaw"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hex"}},{kind:"Field",name:{kind:"Name",value:"isFallback"}}]}},{kind:"Field",name:{kind:"Name",value:"colorDark"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hex"}},{kind:"Field",name:{kind:"Name",value:"isFallback"}}]}},{kind:"Field",name:{kind:"Name",value:"colorLight"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hex"}},{kind:"Field",name:{kind:"Name",value:"isFallback"}}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Error"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"message"}}]}}]}}]}}]});function l(e){return o.I.fromHex(e)}function c(e,t){return u.apply(this,arguments)}function u(){return(u=(0,r.Z)(a().mark((function e(t,n){var r,i,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Array.isArray(n)||(n=[n]),e.next=3,t(s,{uris:n});case 3:if(r=e.sent,i=(null==r?void 0:r.data)||{},o=i.extractedColors){e.next=7;break}throw new Error("Failed to fetch multiple extracted colors!");case 7:return e.abrupt("return",o.map((function(e){return"ExtractedColors"!==e.__typename?null:{colorRaw:l(e.colorRaw.hex),colorDark:l(e.colorDark.hex),colorLight:l(e.colorLight.hex)}})));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},83631:(e,t,n)=>{"use strict";n.d(t,{EC:()=>p,ab:()=>d});var r=n(15861),i=n(87757),a=n.n(i),o=(n(26541),n(41539),n(21249),n(66992),n(88674),n(78783),n(33948),n(79753),n(89554),n(54747),n(73012)),s=n(28502),l=n(94967),c=n(5500),u=new l.Ct,d={colorRaw:(0,s.l)(o.Sns),colorDark:(0,s.l)(o.Sns),colorLight:(0,s.l)(o.Sns)};function m(e){return e.every((function(e){return!!e}))}function p(e,t){return f.apply(this,arguments)}function f(){return(f=(0,r.Z)(a().mark((function e(t,r){var i,o,l,p,f;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Array.isArray(r)||(r=[r]),e.next=3,Promise.all(r.map((function(e){return u.get(e)})));case 3:if(!m(i=e.sent)){e.next=6;break}return e.abrupt("return",i);case 6:return e.prev=6,e.next=9,(0,s.S)(t,r);case 9:return o=e.sent,e.next=12,v(r,o);case 12:return(l=e.sent).forEach((function(e,t){u.set(r[t],Promise.resolve(e))})),e.abrupt("return",l);case 17:if(e.prev=17,e.t0=e.catch(6),(0,c.O)()){e.next=25;break}return e.next=22,Promise.all([n.e(1814),n.e(5392)]).then(n.bind(n,85392));case 22:return p=e.sent,f=p.extractColors,e.abrupt("return",Promise.all(r.map((function(e){var t=f(e);return u.set(e,t),t}))));case 25:return e.abrupt("return",Promise.resolve([d]));case 26:case"end":return e.stop()}}),e,null,[[6,17]])})))).apply(this,arguments)}function v(e,t){var i=t.map(function(){var t=(0,r.Z)(a().mark((function t(r,i){var o,s;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!r){t.next=2;break}return t.abrupt("return",r);case 2:if(""!==e[i]){t.next=4;break}return t.abrupt("return",d);case 4:if((0,c.O)()){t.next=10;break}return t.next=7,Promise.all([n.e(1814),n.e(5392)]).then(n.bind(n,85392));case 7:return o=t.sent,s=o.extractColors,t.abrupt("return",s(e[i]));case 10:return t.abrupt("return",d);case 11:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}());return Promise.all(i)}},45474:(e,t,n)=>{"use strict";n.d(t,{b:()=>c});var r=n(29439),i=n(67294),a=n(73012),o=n(6086),s=n(83631),l=n(3775);function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.Sns,n=(0,i.useContext)(l.Ax),c=n.request,u=(0,i.useState)(null),d=(0,r.Z)(u,2),m=d[0],p=d[1];return(0,i.useEffect)((function(){var t=!0;return null!==e&&(0,s.EC)(c,e).then((function(e){var n=(0,r.Z)(e,1)[0].colorRaw;p(t?n.toCSS(o.j.HEX):null)})),function(){t=!1}}),[c,e,p]),m||t}},3453:(e,t,n)=>{"use strict";var r;n.d(t,{j:()=>r}),function(e){e[e.HEX=0]="HEX",e[e.HEXA=1]="HEXA",e[e.RGB=2]="RGB",e[e.RGBA=3]="RGBA",e[e.HSL=4]="HSL",e[e.HSLA=5]="HSLA"}(r||(r={}))},6086:(e,t,n)=>{"use strict";n.d(t,{j:()=>o.j,I:()=>w});var r=n(15671),i=n(43144),a=n(4942),o=(n(21703),n(96647),n(92222),n(38862),n(3453));n(83112),n(83710),n(41539),n(39714),n(54678),n(56977),n(9653);function s(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e-6;return Math.abs(e-t)<n}function l(e){return e.toString(16).padStart(2,"0")}function c(e){return"".concat(parseFloat((100*e).toFixed(1)),"%")}n(24603),n(28450),n(88386),n(66992),n(78783),n(4129),n(33948),n(85827),n(47941),n(78011),n(83510),n(82526),n(41817),n(47042);var u=n(71002),d=n(60136),m=n(89611);n(74916),n(15306),n(91058);function p(){p=function(e,t){return new n(e,void 0,t)};var e=RegExp.prototype,t=new WeakMap;function n(e,r,i){var a=new RegExp(e,r);return t.set(a,i||t.get(e)),(0,m.Z)(a,n.prototype)}function r(e,n){var r=t.get(n);return Object.keys(r).reduce((function(t,n){return t[n]=e[r[n]],t}),Object.create(null))}return(0,d.Z)(n,RegExp),n.prototype.exec=function(t){var n=e.exec.call(this,t);return n&&(n.groups=r(n,this)),n},n.prototype[Symbol.replace]=function(n,i){if("string"==typeof i){var a=t.get(this);return e[Symbol.replace].call(this,n,i.replace(/\$<([^>]+)>/g,(function(e,t){return"$"+a[t]})))}if("function"==typeof i){var o=this;return e[Symbol.replace].call(this,n,(function(){var e=arguments;return"object"!=(0,u.Z)(e[e.length-1])&&(e=[].slice.call(e)).push(r(e,o)),i.apply(this,e)}))}return e[Symbol.replace].call(this,n,i)},p.apply(this,arguments)}function f(e){var t,n,r,i;e=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(e,t,n,r){return t+t+n+n+r+r}));var a=p(/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})?$/i,{r:1,g:2,b:3,a:4}).exec(e),o=null==a||null===(t=a.groups)||void 0===t?void 0:t.r,s=null==a||null===(n=a.groups)||void 0===n?void 0:n.g,l=null==a||null===(r=a.groups)||void 0===r?void 0:r.b,c=null==a||null===(i=a.groups)||void 0===i?void 0:i.a;if(void 0===o||void 0===s||void 0===l)throw new Error('Invalid hex color code "'.concat(e,'"'));return{r:o,g:s,b:l,a:c}}function v(e){var t=f(e).a;if(!t)return 1;var n,r=parseInt(t,16)/255;return n=r.toLocaleString("en",{useGrouping:!1,minimumFractionDigits:0,maximumFractionDigits:2}),Number(n)}function g(e){return e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)}function h(e){var t=e.rgb,n=t.r,r=t.g,i=t.b;return.2126*g(n/255)+.7152*g(r/255)+.0722*g(i/255)}function y(e,t){var n=h(e),r=h(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function k(e,t,n){if(t!==w.BLACK&&t!==w.WHITE)throw new Error("Only supports contrast calculation between black and white.");var r=y(e,t);if(r>=n)return e;for(var i=e.hsv.v,a=t===w.WHITE?-.02:.02,o=Number.MAX_VALUE,s=null,l=0;l<100&&o>.07&&i>=0&&i<=1;l++){i+=a,r=y(s=w.fromHSV({h:e.hsv.h,s:e.hsl.s,v:i}),w.WHITE);var c=Math.round(10*Math.abs(r-n))/10;c>o&&(a*=-.5),o=c}return null===s?e:s}var E=n(29439);n(4723),n(44048);function b(e,t){var n=e.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+(?:\.\d+)?))?\)$/);if(n){var r=n.slice(1),i=(0,E.Z)(r,4),a=i[0],o=i[1],s=i[2],l=i[3],c=null!=t?t:parseFloat(l);return w.fromRGB({r:parseInt(a,10),g:parseInt(o,10),b:parseInt(s,10)},Number.isNaN(c)?void 0:c)}return null}function _(e,t){var n=e.match(/^#([0-9a-f]{3}|[0-9a-f]{6}|[0-9a-f]{8})$/i);if(n){var r=n[1];return w.fromHex(r,t)}return null}function S(e,t){var n=e.match(/^hsla?\((\d+),\s*(\d+)%,\s*(\d+)%(?:,\s*(\d*(?:\.\d+)?))?\)$/);if(n){var r=n.slice(1),i=(0,E.Z)(r,4),a=i[0],o=i[1],s=i[2],l=i[3],c=null!=t?t:parseFloat(l);return w.fromHSL({h:parseInt(a,10),s:parseInt(o,10)/100,l:parseInt(s,10)/100},Number.isNaN(c)?void 0:c)}return null}var w=function(){function e(t,n,i){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;(0,r.Z)(this,e),this.rgb=t,this.hsl=n,this.hsv=i,this.a=a}return(0,i.Z)(e,[{key:"toCSS",value:function(e){switch(e){case o.j.HEX:return"#".concat(l((t=this).rgb.r)).concat(l(t.rgb.g)).concat(l(t.rgb.b));case o.j.HEXA:return function(e){return"#".concat(l(e.rgb.r)).concat(l(e.rgb.g)).concat(l(e.rgb.b)).concat(l(Math.floor(255*e.a)))}(this);case o.j.RGB:return function(e){return"rgb(".concat(e.rgb.r,", ").concat(e.rgb.g,", ").concat(e.rgb.b,")")}(this);case o.j.RGBA:return function(e){return"rgba(".concat(e.rgb.r,", ").concat(e.rgb.g,", ").concat(e.rgb.b,", ").concat(e.a,")")}(this);case o.j.HSL:return function(e){var t=e.hsl,n=t.h,r=t.s,i=t.l;return"hsl(".concat(n,", ").concat(c(r),", ").concat(c(i),")")}(this);case o.j.HSLA:return function(e){var t=e.hsl,n=t.h,r=t.s,i=t.l;return"hsla(".concat(n,", ").concat(c(r),", ").concat(c(i),", ").concat(e.a,")")}(this);default:throw new Error("Invalid or unsupported CSSColorFormat!")}var t}},{key:"contrastAdjust",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4.5,r=e.BLACK;return"light"===t&&(r=e.WHITE),k(this,r,n)}},{key:"toString",value:function(){return"".concat(this.rgb.r,",").concat(this.rgb.g,",").concat(this.rgb.b,",").concat(this.a)}},{key:"stringify",value:function(){return JSON.stringify(this)}}],[{key:"fromRGB",value:function(t,n){if(t.r<0||t.g<0||t.b<0||t.r>255||t.g>255||t.b>255||n&&n<0||n&&n>1)throw Error("Invalid RGB color: ".concat(JSON.stringify(t),", alpha: ").concat(n));return new e(t,function(e){var t,n=e.r/255,r=e.g/255,i=e.b/255,a=Math.max(n,r,i),o=Math.min(n,r,i),l=a-o,c=(a+o)/2,u=a;t=s(l,0)?0:s(u,n)?60*(0+(r-i)/l):s(u,r)?60*(2+(i-n)/l):60*(4+(n-r)/l),(t%=360)<0&&(t+=360);var d=0===c||1===c?0:(u-c)/Math.min(c,1-c);return{h:Math.round(t),s:d,l:c}}(t),function(e){var t,n=e.r/255,r=e.g/255,i=e.b/255,a=Math.max(n,r,i),o=a-Math.min(n,r,i),l=a;t=s(o,0)?0:s(l,n)?60*(0+(r-i)/o):s(l,r)?60*(2+(i-n)/o):60*(4+(n-r)/o),(t%=360)<0&&(t+=360);var c=0===l?0:o/l;return{h:Math.round(t),s:c,v:l}}(t),n)}},{key:"fromHex",value:function(t,n){var r=function(e){var t=f(e),n=t.r,r=t.g,i=t.b;return{r:parseInt(n,16),g:parseInt(r,16),b:parseInt(i,16)}}(t),i=v(t);return e.fromRGB(r,null!=n?n:i)}},{key:"fromHSV",value:function(t,n){var r=function(e){var t,n=e.h,r=e.s,i=e.v,a=i*r,o=n/60,s=a*(1-Math.abs(o%2-1));t=o>=0&&o<=1?[a,s,0]:o>1&&o<=2?[s,a,0]:o>2&&o<=3?[0,a,s]:o>3&&o<=4?[0,s,a]:o>4&&o<=5?[s,0,a]:o>5&&o<=6?[a,0,s]:[0,0,0];var l=i-a;return{r:Math.round(255*(t[0]+l)),g:Math.round(255*(t[1]+l)),b:Math.round(255*(t[2]+l))}}(t);return e.fromRGB(r,n)}},{key:"fromHSL",value:function(t,n){var r=function(e){var t,n=e.h,r=e.s,i=e.l,a=(1-Math.abs(2*i-1))*r,o=n/60,s=a*(1-Math.abs(o%2-1));t=o>=0&&o<=1?[a,s,0]:o>1&&o<=2?[s,a,0]:o>2&&o<=3?[0,a,s]:o>3&&o<=4?[0,s,a]:o>4&&o<=5?[s,0,a]:o>5&&o<=6?[a,0,s]:[0,0,0];var l=i-a/2;return{r:Math.round(255*(t[0]+l)),g:Math.round(255*(t[1]+l)),b:Math.round(255*(t[2]+l))}}(t);return e.fromRGB(r,n)}},{key:"fromCSS",value:function(e,t){var n=b(e,t);if(n)return n;var r=_(e,t);if(r)return r;var i=S(e,t);if(i)return i;throw new Error("Invalid or unsupported CSS color: ".concat(e))}},{key:"parse",value:function(t){var n=JSON.parse(t);return new e(n.rgb,n.hsl,n.hsv,n.a)}}]),e}();(0,a.Z)(w,"BLACK",w.fromRGB({r:0,g:0,b:0})),(0,a.Z)(w,"WHITE",w.fromRGB({r:255,g:255,b:255}))},26222:(e,t,n)=>{"use strict";n.d(t,{F:()=>r,M:()=>d});n(41539),n(81299),n(12419);var r,i=n(43144),a=n(15671),o=n(60136),s=n(82963),l=n(61120),c=n(98938);function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,l.Z)(e);if(t){var i=(0,l.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,s.Z)(this,n)}}!function(e){e.UPDATE="update"}(r||(r={}));var d=function(e){(0,o.Z)(n,e);var t=u(n);function n(){return(0,a.Z)(this,n),t.apply(this,arguments)}return(0,i.Z)(n)}(c.r)},62718:(e,t,n)=>{"use strict";n.d(t,{D:()=>a,h:()=>i});n(21703),n(96647);var r=n(67294),i=(0,r.createContext)(null);function a(){var e=(0,r.useContext)(i);if(null===e)throw new Error("Trying to use 'ConnectContext' without 'ConnectProvider'!");return e}},91514:(e,t,n)=>{"use strict";n.d(t,{l:()=>a});var r=n(67294),i=n(62718);function a(e,t){var n=(0,r.useRef)(t),a=(0,i.D)();n.current=t,(0,r.useEffect)((function(){var t=a.getEvents(),r=function(e){return n.current(e)};return t.addListener(e,r),function(){t.removeListener(e,r)}}),[e,a])}},39270:(e,t,n)=>{"use strict";n.d(t,{$:()=>c,O:()=>u});var r=n(29439),i=n(67294),a=n(26222),o=n(21288),s=n(62718),l=n(91514),c={connectionStatus:o.TK.NOT_CONNECTED,activeDevice:null,connectingDevice:null,devices:[]};function u(){var e=(0,s.D)(),t=(0,i.useState)(e.getState()),n=(0,r.Z)(t,2),o=n[0],u=n[1];return(0,l.l)(a.F.UPDATE,(function(e){return u(e.data)})),null===o?c:o}},21288:(e,t,n)=>{"use strict";var r,i,a,o;n.d(t,{TK:()=>r,Yi:()=>a,uP:()=>o}),function(e){e.NOT_CONNECTED="not_connected",e.CONNECTING="connecting",e.CONNECTED="connected"}(r||(r={})),function(e){e.ON="on",e.OFF="off"}(i||(i={})),function(e){e.UNKNOWN="unknown",e.COMPUTER="computer",e.TABLET="tablet",e.SMARTPHONE="smartphone",e.SPEAKER="speaker",e.TV="tv",e.AVR="avr",e.STB="stb",e.AUDIO_DONGLE="audio_dongle",e.GAME_CONSOLE="game_console",e.CAST_VIDEO="cast_video",e.CAST_AUDIO="cast_audio",e.AUTOMOBILE="automobile",e.SMARTWATCH="smartwatch",e.CHROMEBOOK="chromebook",e.CarThing="carthing",e.HomeThing="homething"}(a||(a={})),function(e){e.CONNECTING="connecting",e.INCOMPATIBLE="incompatible",e.UNAVAILABLE="unavailable",e.LOGGED_IN="logged_in",e.NOT_LOGGED_IN="not_logged_in",e.SLEEPING="sleeping",e.PREMIUM_REQUIRED="premium_required",e.NOT_INSTALLED="not_installed",e.UNSUPPORTED_URI="unsupported_uri",e.NOT_AUTHORIZED="not_authorized",e.UNKNOWN="unknown"}(o||(o={}))},22179:(e,t,n)=>{"use strict";n.d(t,{H:()=>r,yN:()=>i});function r(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];a((function(){var e;(e=console).error.apply(e,t)}))}function i(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];a((function(){var e;(e=console).warn.apply(e,t)}))}function a(e){false}},67888:(e,t,n)=>{"use strict";n.d(t,{G:()=>o,P:()=>s});var r=n(15671),i=n(43144),a=(n(85827),n(41539),n(47941),n(88674),n(96799));function o(e){return Object.keys(e).reduce((function(t,n){return t[n.toLowerCase()]=e[n],t}),{})}var s=function(){function e(t,n){(0,r.Z)(this,e),this.resolver=t,this.requestFactory=n}return(0,i.Z)(e,[{key:"head",value:function(e,t){return this.resolve(a.n.HEAD,e,null,t).then((function(e){return e.headers}))}},{key:"get",value:function(e,t,n){return this.resolve(a.n.GET,e,t,n).then((function(e){return e.body}))}},{key:"post",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2?arguments[2]:void 0;return this.resolve(a.n.POST,e,t,n).then((function(e){return e.body}))}},{key:"put",value:function(e,t,n){return this.resolve(a.n.PUT,e,t,n).then((function(e){return e.body}))}},{key:"del",value:function(e,t,n){return this.resolve(a.n.DELETE,e,t,n).then((function(e){return e.body}))}},{key:"patch",value:function(e,t,n){return this.resolve(a.n.PATCH,e,t,n).then((function(e){return e.body}))}},{key:"sub",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e){console.error(e)},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o=this.requestFactory(a.n.SUB,e,i,r);return this.resolver.resolve(o,(function(e){return t(e.body)}),n)}},{key:"postSub",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(e){console.error(e)},i=this.requestFactory(a.n.SUB,e,{},t);return this.resolver.resolve(i,(function(e){return n(e.body)}),r)}},{key:"request",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return this.resolve(e,t,n,r)}},{key:"resolve",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return new Promise((function(a,o){var s=n.requestFactory(e,t,i,r);n.resolver.resolve(s,a,o)}))}}]),e}()},21270:(e,t,n)=>{"use strict";n.d(t,{v:()=>m});var r=n(67888),i=n(15671),a=n(43144),o=(n(92222),n(21703),n(96647),n(96799)),s=function(){function e(t,n,a){(0,i.Z)(this,e),this.status=t,this.headers=(0,r.G)(n),this.body=this.parseBody(a)}return(0,a.Z)(e,[{key:"parseBody",value:function(e){return""!==e?JSON.parse(e):{}}}],[{key:"isSuccessStatus",value:function(e){return e>=200&&e<=299}},{key:"parse",value:function(t){var n=JSON.parse(t),r=this.isSuccessStatus(n.status)&&n.body?n.body:"";return new e(n.status,n.headers||{},r)}}]),e}(),l=n(69009),c=n.n(l),u=function(){function e(t,n){(0,i.Z)(this,e),this.send=t,this.cancel=n}return(0,a.Z)(e,[{key:"resolve",value:function(e,t,n){var r=this,i=this.send({request:e.stringify(),persistent:e.method===o.n.SUB,onSuccess:function(i){return r.onSuccess(e,i,t,n)},onFailure:function(t,i){return r.onFailure(e,t,i,n)}});return{cancel:function(){r.cancel(i)}}}},{key:"onSuccess",value:function(e,t,n,r){try{var i=s.parse(t);if(s.isSuccessStatus(i.status))n(i);else r(c()(i.status,"".concat(e.method," request to ").concat(e.uri," failed with status code ").concat(i.status)))}catch(t){var a=t instanceof Error?t.message:"(unknown error object)";r(new Error("".concat(e.method," request to ").concat(e.uri," failed with exception '").concat(a,"'")))}}},{key:"onFailure",value:function(e,t,n,r){r(new Error("".concat(e.method," request to ").concat(e.uri," request failed with error code ").concat(t," (").concat(n,")")))}}]),e}();var d=n(92826);function m(){var e=function(){var e=n.g.window||{};return new u(e.sendCosmosRequest,e.cancelCosmosRequest)}(),t=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,d.Z)(o.c,t)};return new r.P(e,t)}},96799:(e,t,n)=>{"use strict";n.d(t,{c:()=>s,n:()=>r});var r,i=n(15671),a=n(43144),o=(n(38862),n(67888));!function(e){e.DELETE="DELETE",e.GET="GET",e.HEAD="HEAD",e.POST="POST",e.PUT="PUT",e.SUB="SUB",e.PATCH="PATCH"}(r||(r={}));var s=function(){function e(t,n,r,a){(0,i.Z)(this,e),this.uri=n,this.headers=(0,o.G)(r),this.body=this.stringifyBody(a||""),this.method=t}return(0,a.Z)(e,[{key:"stringify",value:function(){return JSON.stringify({headers:this.headers,body:this.body,method:this.method,uri:this.uri})}},{key:"stringifyBody",value:function(e){return"string"!=typeof e?JSON.stringify(e):e}}],[{key:"parse",value:function(t){var n=JSON.parse(t);return new e(n.method,n.uri,n.headers,n.body)}}]),e}()},13552:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});n(24812),n(38862);var r,i=n(22179),a=!1;const o=function e(t){if(!a){if(r=n(11227),e.enable=r.enable.bind(r),e.disable=r.disable.bind(r),"undefined"!=typeof window&&window.frameElement){var o=window.frameElement.getAttribute("data-debug");o&&r.enable(o)}var s="undefined"!=typeof __spotify&&__spotify.product_state?__spotify.product_state:{},l=s.debugEnable||s.debugenable;l&&r.enable(l),"undefined"!=typeof __spotify&&__spotify.product_state&&"1"===__spotify.product_state["ta-environment"]&&(r.useColors=function(){return!1},r.formatters.o=function(e){try{return JSON.stringify(e)}catch(e){return(0,i.H)("Unable to stringify object",e),""}}),a=!0}return r(t)}},88503:(e,t,n)=>{"use strict";n.d(t,{TB:()=>o,cd:()=>c,iZ:()=>l,IM:()=>u});n(96647),n(83710),n(41539),n(39714),n(66992),n(78783),n(33948),n(60285),n(41637),n(89554),n(54747),n(74916),n(64765);var r=n(17598),i=n(7713);n(15396),n(69518);function a(e){return!!e&&("function"!=typeof e.toOpenURL&&"function"==typeof e.toURL)}var o=function(e,t,n){return n&&e.searchParams.set("t",n.toString()),t&&(e.searchParams.has("utm_source")||e.searchParams.set("utm_source",t)),e.searchParams.has("utm_medium")||e.searchParams.set("utm_medium",(0,r.s)()?"mobile":"desktop"),e};function s(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=new URL("undefined"!=typeof location&&location.href?location.href:"https://open.spotify.com"),r=null;if(e){var o=a(e)?e.toURL():e.toOpenURL();r=new URL(o),t&&n.searchParams.forEach((function(e,t){r.searchParams.set(t,e)}))}else r=n,t||(r.search="");r.searchParams.delete("nd"),r.searchParams.delete("fallback"),r.searchParams.set("go","1");var s=(0,i.Z)("config",{});return"string"==typeof(null==s?void 0:s.correlationId)&&r.searchParams.append("sp_cid",s.correlationId),r}function l(e,t){var n=s(e,t);return n.searchParams.set("fallback","getapp"),n}function c(e,t){var n=s(e,t);return n.searchParams.set("fallback","download"),n}function u(){return new URL("https://www.spotify.com/download".concat(window.location.search))}},98938:(e,t,n)=>{"use strict";n.d(t,{r:()=>o});var r=n(15671),i=n(43144),a=n(33178),o=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new a.vp;(0,r.Z)(this,e),this._emitter=t,this._emitter=t||new a.vp}return(0,i.Z)(e,[{key:"addListener",value:function(e,t,n){return this._emitter.addListener(e,t,n),this}},{key:"removeListener",value:function(e,t,n){return this._emitter.removeListener(e,t,n),this}},{key:"onAddListener",value:function(e,t){return this._emitter.onAddListener(e,t),this}},{key:"onRemoveListener",value:function(e,t){return this._emitter.onRemoveListener(e,t),this}},{key:"emit",value:function(e,t){return this._emitter.emit(e,t)}},{key:"emitSync",value:function(e,t){return this._emitter.emitSync(e,t)}}]),e}()},22305:(e,t,n)=>{"use strict";n.d(t,{G:()=>o});var r=n(15671),i=n(43144);n(92222),n(89554),n(41539),n(54747),n(96647),n(27479),n(87714),n(82801),n(1174),n(75505),n(66992),n(39575),n(82472),n(48675),n(92990),n(18927),n(33105),n(35035),n(74345),n(7174),n(32846),n(44731),n(77209),n(96319),n(58867),n(37789),n(33739),n(29368),n(14483),n(12056),n(3462),n(30678),n(27462),n(33824),n(55021),n(12974),n(15016),n(37380),n(1118),n(88674),n(38862),n(21703);var a=function(){function e(t,n){(0,r.Z)(this,e),this.send=t,this.cancel=n}return(0,i.Z)(e,[{key:"callSingle",value:function(e){var t=this;return new Promise((function(n){t.call(e,!1,n)}))}},{key:"callStream",value:function(e,t){return this.call(e,!0,t)}},{key:"call",value:function(e,t,n){var r,i,a,o,s=this.send({request:JSON.stringify({method:t?"SUB":"POST",uri:(a=e.service,o=e.method,"sp://esperanto/".concat(a,"/").concat(o)),headers:{"Esperanto-Encoding":"base64"},body:(r=e.payload,i="",r.forEach((function(e){i+=String.fromCharCode(e)})),btoa(i))}),persistent:t,onSuccess:function(t){var r=JSON.parse(t);if(200!==r.status)throw new Error("".concat(e.service,".").concat(e.method," failed with ").concat(r.status," ").concat(r.body));n(function(e){for(var t=atob(e),n=new Uint8Array(t.length),r=t.length,i=0;i<r;i++)n[i]=t.charCodeAt(i);return n}(r.body))},onFailure:function(t,n){throw new Error("".concat(e.service,".").concat(e.method," failed with code: ").concat(n))}}),l=this.cancel;return{cancel:function(){l(s)}}}}]),e}();function o(){return function(){var e=n.g.window||{};return new a(e.sendCosmosRequest,e.cancelCosmosRequest)}()}},29380:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});n(21703),n(96647);var r=(0,n(67294).createContext)({request:function(){throw new Error("GraphQL Context not initialized with Request object")}})},80198:(e,t,n)=>{"use strict";n.d(t,{P:()=>p,W:()=>E});var r=n(4942),i=n(15861),a=n(87757),o=n.n(a),s=(n(21703),n(96647),n(68309),n(38862),n(5212),n(41539),n(47941),n(82526),n(57327),n(38880),n(89554),n(54747),n(49337),n(33321),n(69070),n(16516)),l=n(12788),c=n(96511),u=n(24123);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}Spicetify.GraphQL.Handler=p;function p(e){Spicetify.GraphQL.Context??=e;return function(){var t=(0,i.Z)(o().mark((function t(n,r){var i,a,s,l=arguments;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=l.length>2&&void 0!==l[2]?l[2]:{},"subscription"!==(a=(0,u.Y)(n)).type){t.next=4;break}throw new Error("GraphQL subscriptions are not supported!");case 4:return t.next=6,E(e,a,r,i);case 6:return s=t.sent,t.abrupt("return",s.body);case 8:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}function f(e){return v.apply(this,arguments)}function v(){return(v=(0,i.Z)(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.k.hash(t.body);case 2:return n=e.sent,e.abrupt("return",{persistedQuery:{version:1,sha256Hash:n}});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(e,t,n,r,i){return h.apply(this,arguments)}function h(){return(h=(0,i.Z)(o().mark((function e(t,n,r,i,a){var l,c,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=n.type,c=n.name,u="mutation"===l?"POST":"GET",e.abrupt("return",t.build().withHost(s.wI).withMethod(u).withoutMarket().withPath("/query").withJsonContentType().withQueryParameters(m({operationName:c,variables:JSON.stringify(r),extensions:JSON.stringify(i)},a)).withEndpointIdentifier("/query/".concat(c)).send());case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(e,t,n,r,i){return k.apply(this,arguments)}function k(){return(k=(0,i.Z)(o().mark((function e(t,n,r,i,a){var l,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=n.name,c=n.body,e.abrupt("return",t.build().withHost(s.wI).withMethod("POST").withoutMarket().withPath("/query").withJsonContentType().withBody({operationName:l,variables:r,query:c,extensions:i}).withQueryParameters(m({},a)).withEndpointIdentifier("/query/".concat(l)).send());case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(e,t,n){return b.apply(this,arguments)}function b(){return b=(0,i.Z)(o().mark((function e(t,n,r){var i,a,s,l,u,d,m=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=m.length>3&&void 0!==m[3]?m[3]:{},e.next=3,f(n);case 3:return a=e.sent,e.prev=4,e.next=7,g(t,n,r,a,i);case 7:if(u=e.sent,null===(s=u.body)||void 0===s||null===(l=s.errors)||void 0===l||!l.some((function(e){return"PersistedQueryNotFound"===e.message}))){e.next=10;break}return e.abrupt("return",y(t,n,r,a,i));case 10:return e.abrupt("return",u);case 13:if(e.prev=13,e.t0=e.catch(4),d=405,!(e.t0 instanceof c.m&&e.t0.status===d)){e.next=18;break}return e.abrupt("return",y(t,n,r,a,i));case 18:throw e.t0;case 19:case"end":return e.stop()}}),e,null,[[4,13]])}))),b.apply(this,arguments)}},24123:(e,t,n)=>{"use strict";n.d(t,{Y:()=>o});var r=n(29439),i=(n(57327),n(41539),n(21703),n(96647),n(68309),n(15148));function a(e){return"OperationDefinition"===e.kind}function o(e){var t=e.definitions.filter(a);if(0===t.length)throw new Error("No GraphQL operation definition found in document!");if(t.length>1)throw new Error("Too many GraphQL operation definitions found in document! Expected exactly one.");var n=(0,r.Z)(t,1)[0];if(void 0===n.name)throw new Error("Nameless GraphQL operations are not supported!");return{type:n.operation,name:n.name.value,body:(0,i.S)(e)}}},3775:(e,t,n)=>{"use strict";n.d(t,{Ax:()=>i.A,$C:()=>o,QM:()=>f,PQ:()=>r.P});var r=n(80198),i=n(29380),a=n(67294),o=function(e){var t=e.request,n=e.children;return a.createElement(i.A.Provider,{value:{request:t}},n)},s=(n(98984),n(4942)),l=n(93433),c=n(15861),u=n(87757),d=n.n(u);n(21249),n(66992),n(41539),n(88674),n(78783),n(33948),n(21703),n(96647),n(89554),n(54747),n(47042),n(47941),n(82526),n(57327),n(38880),n(49337),n(33321),n(69070);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50;return function(){var n=(0,c.Z)(d().mark((function n(r,i,a,o){var s,c,u,m,f;return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:for(s=[],c=Math.max.apply(Math,(0,l.Z)(a.map((function(e){var t,n;return null!==(t=null===(n=i[e])||void 0===n?void 0:n.length)&&void 0!==t?t:0})))),u=function(n){var l=p({},i);a.forEach((function(e){var r;l[e]=null===(r=l[e])||void 0===r?void 0:r.slice(n,n+t)})),s.push(e(r,l,o))},m=0;m<c;m+=t)u(m);return n.next=6,Promise.all(s);case 6:return f=n.sent,n.abrupt("return",f.map((function(e){if(null===e||void 0!==e.errors)throw new Error("GraphQL batched query failed!");return e.data})));case 8:case"end":return n.stop()}}),n)})));return function(e,t,r,i){return n.apply(this,arguments)}}()}},63093:(e,t,n)=>{"use strict";n.d(t,{J:()=>o});var r=n(15861),i=n(87757),a=n.n(i);n(41539),n(88674),n(21703),n(96647);function o(e,t,n){return s.apply(this,arguments)}function s(){return(s=(0,r.Z)(a().mark((function e(t,n,r){var i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t(n,r);case 3:if(null==(i=e.sent)||!i.errors){e.next=6;break}return e.abrupt("return",Promise.reject(null==i?void 0:i.errors));case 6:return e.abrupt("return",i);case 9:if(e.prev=9,e.t0=e.catch(0),!(e.t0 instanceof Error)){e.next=13;break}return e.abrupt("return",Promise.reject([{message:e.t0.message}]));case 13:return e.abrupt("return",Promise.reject(null));case 14:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}},98984:(e,t,n)=>{"use strict";n.d(t,{a:()=>m,y:()=>d});var r=n(15861),i=n(87757),a=n.n(i),o=(n(68309),n(67294)),s=n(88767),l=n(29380),c=n(24123),u=n(63093),d=6e4;function m(e,t,n){var i,d=(0,o.useContext)(l.A).request,m=(0,c.Y)(e),p=m.type,f=m.name,v="query"===p,g=v&&null!=n&&n.cacheTime?null==n?void 0:n.cacheTime:0,h=v&&null!=n&&n.staleTime?null==n?void 0:n.staleTime:0,y=[f,t],k=(0,s.useQuery)(y,(0,r.Z)(a().mark((function n(){return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,u.J)(d,e,t));case 1:case"end":return n.stop()}}),n)}))),{cacheTime:g,staleTime:h,enabled:null==n?void 0:n.enabled}),E=k.data,b=k.isLoading,_=k.error;return{data:null!==(i=null==E?void 0:E.data)&&void 0!==i?i:null,extensions:null==E?void 0:E.extensions,error:null!=_?_:null,loading:b}}},99438:(e,t,n)=>{"use strict";n.d(t,{createInteractionLogEventGenerator:()=>r});n(92222),n(57327),n(41539),n(74916),n(23123);var r=function(e,t){return function(n){var r=n.intent,i=n.type,a=n.targetUri,o=n.itemIdSuffix,s=n.pathNameOverride,l=o?"".concat(t,"/").concat(o):t,c=s||e;return{page:c.split(/\//).filter((function(e){return""!==e})).shift(),view_uri:c,action_intent:r,action_type:i,target_uri:a,item_id:l}}}},6489:(e,t,n)=>{"use strict";n.d(t,{EW:()=>a,Sv:()=>p,XD:()=>r,pT:()=>i});n(41539),n(81299),n(12419);var r,i,a,o=n(43144),s=n(15671),l=n(60136),c=n(82963),u=n(61120),d=n(98938);function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,u.Z)(e);if(t){var i=(0,u.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,c.Z)(this,n)}}!function(e){e.ALBUMS="albums",e.ARTISTS="artists",e.SHOWS="shows",e.TRACKS="tracks",e.EPISODES="episodes",e.BOOKS="books"}(r||(r={})),function(e){e.ADD="add",e.REMOVE="remove"}(i||(i={})),function(e){e.UPDATE="update",e.UPDATE_ITEM="update_item",e.OPERATION="operation",e.OPERATION_COMPLETE="operation_complete"}(a||(a={}));var p=function(e){(0,l.Z)(n,e);var t=m(n);function n(){return(0,s.Z)(this,n),t.apply(this,arguments)}return(0,o.Z)(n)}(d.r)},92510:(e,t,n)=>{"use strict";n.d(t,{R0:()=>r,cj:()=>a,pg:()=>i});var r,i;n(73210);function a(e){if(e)return"string"==typeof e?{field:r.TEXT,operator:i.CONTAINS,value:e.trim()}:e}!function(e){e.TEXT="TEXT"}(r||(r={})),function(e){e.CONTAINS="CONTAINS"}(i||(i={}))},74483:(e,t,n)=>{"use strict";var r,i,a,o,s,l,c;n.d(t,{As:()=>r,VN:()=>c,_1:()=>i,aW:()=>o,hx:()=>s,lY:()=>a,yW:()=>l}),function(e){e.ASC="ASC",e.DESC="DESC"}(r||(r={})),function(e){e.NAME="NAME",e.ARTIST_NAME="ARTIST_NAME",e.ALBUM_NAME="ALBUM_NAME",e.ADDED_AT="ADDED_AT"}(i||(i={})),function(e){e.NAME="NAME",e.ARTIST_NAME="ARTIST_NAME",e.ADDED_AT="ADDED_AT"}(a||(a={})),function(e){e.NAME="NAME",e.ADDED_AT="ADDED_AT"}(o||(o={})),function(e){e.NAME="NAME",e.ADDED_AT="ADDED_AT"}(s||(s={})),function(e){e.NAME="NAME",e.SHOW_NAME="SHOW_NAME",e.ADDED_AT="ADDED_AT"}(l||(l={})),function(e){e.NAME="NAME",e.ADDED_AT="ADDED_AT"}(c||(c={}))},69049:(e,t,n)=>{"use strict";n.d(t,{w:()=>p});n(81299),n(12419);var r=n(15671),i=n(43144),a=n(97326),o=n(60136),s=n(82963),l=n(61120),c=n(4942),u=(n(24812),n(79753),n(89554),n(41539),n(54747),n(75549)),d=n(6489);function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,l.Z)(e);if(t){var i=(0,l.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,s.Z)(this,n)}}var p=function(e){(0,o.Z)(n,e);var t=m(n);function n(e){var i;return(0,r.Z)(this,n),i=t.call(this),(0,c.Z)((0,a.Z)(i),"_numListeners",0),i._cache=e,i._aggregator=(0,u.PP)(i.onBatchChanged.bind((0,a.Z)(i)),100),i.onAddListener(d.EW.UPDATE,(function(){1==++i._numListeners&&i.subscribeToUpdates()})),i.onRemoveListener(d.EW.UPDATE,(function(){0==--i._numListeners&&i.unsubscribeFromUpdates()})),i.onAddListener(d.EW.UPDATE_ITEM,(function(e){1==++i._numListeners&&i.subscribeToUpdates(),i._aggregator.subscribe(e.data.options.uri)})),i.onRemoveListener(d.EW.UPDATE_ITEM,(function(e){0==--i._numListeners&&i.unsubscribeFromUpdates(),i._aggregator.unsubscribe(e.data.options.uri)})),i}return(0,i.Z)(n,[{key:"emitUpdateItems",value:function(e,t){var n=this;Array.isArray(t)?e.forEach((function(e,r){n._cache.set(e,t[r]),n.emit(d.EW.UPDATE_ITEM,{uri:e,isInLibrary:t[r]})})):e.forEach((function(e){n._cache.set(e,t),n.emit(d.EW.UPDATE_ITEM,{uri:e,isInLibrary:t})}))}},{key:"emitOperationSync",value:function(e,t){return this.emitSync(d.EW.OPERATION,{operation:e,uris:t}).defaultPrevented}},{key:"emitOperationComplete",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.emit(d.EW.OPERATION_COMPLETE,{operation:e,uris:t,error:n})}}]),n}(d.Sv)},7692:(e,t,n)=>{"use strict";n.d(t,{IC:()=>f,Qu:()=>d,Vp:()=>p,Yo:()=>m});var r=n(4942),i=(n(21703),n(96647),n(92222),n(89952)),a=n(92510),o=(0,r.Z)({},a.R0.TEXT,"text"),s=(0,r.Z)({},a.pg.CONTAINS,"contains");function l(e){var t=e.field,n=e.operator,r=e.value;if(t!==a.R0.TEXT||n!==a.pg.CONTAINS)throw new Error("Invalid filter params!");var i=o[t],l=s[n];return"".concat(i," ").concat(l," ").concat(encodeURIComponent(r))}var c=(0,r.Z)({},a.R0.TEXT,"text"),u=(0,r.Z)({},a.pg.CONTAINS,"=^#");function d(e){return void 0===e?"":"&filter=".concat(encodeURIComponent(m(e)))}function m(e){return void 0===e?"":l(e)}function p(e){return void 0===e?"":e.value}function f(e,t){var n;if(void 0!==t){var r=function(e){var t=e.field,n=e.operator,r=e.value;if(t!==a.R0.TEXT||n!==a.pg.CONTAINS)throw new Error("Invalid filter params!");var i=c[t],o=u[n];return"".concat(i," ").concat(o,' "').concat(r,'"')}(t),o=l(t);e.url="context://".concat(e.uri,"?filter=").concat(encodeURIComponent(o)),e.metadata=null!==(n=e.metadata)&&void 0!==n?n:{},e.metadata[i.sb.FILTERING_PREDICATE]=r,e.metadata[i.sb.LIST_UTIL_FILTER]=o}}},49955:(e,t,n)=>{"use strict";n.d(t,{AV:()=>v,Co:()=>f,Et:()=>k,G9:()=>b,KO:()=>g,Qu:()=>h,R4:()=>y,Tk:()=>_,eY:()=>E,y0:()=>p,yP:()=>m});n(21703),n(96647);var r,i,a,o,s,l,c=n(89952),u=n(74483),d=n(14556);function m(e){return void 0===e?"":"&sort=".concat(encodeURIComponent(function(e){var t=e.field,n=e.order;if(t===u.lY.NAME&&n===u.As.ASC)return r.ALBUM_NAME_ASC;if(t===u.lY.ARTIST_NAME&&n===u.As.ASC)return r.ALBUM_ARTIST_NAME_ASC;if(t===u.lY.ADDED_AT&&n===u.As.DESC)return r.ALBUM_ADDED_AT_DESC;throw new Error("Invalid album sort params!")}(e)))}function p(e){if(void 0!==e){var t=e.field;if(t===u.lY.NAME)return d.YourLibrarySortOrder_SortOrder.NAME;if(t===u.lY.ARTIST_NAME)return d.YourLibrarySortOrder_SortOrder.CREATOR;if(t===u.lY.ADDED_AT)return d.YourLibrarySortOrder_SortOrder.RECENTLY_ADDED;throw new Error("Invalid album sort params!")}}function f(e){return void 0===e?"":"&sort=".concat(encodeURIComponent(function(e){var t=e.field,n=e.order;if(t===u.hx.NAME&&n===u.As.ASC)return i.ARTIST_NAME_ASC;if(t===u.hx.ADDED_AT&&n===u.As.DESC)return i.ARTIST_ADDED_AT_DESC;throw new Error("Invalid artist sort params!")}(e)))}function v(e){if(void 0!==e){var t=e.field;if(t===u.hx.NAME)return d.YourLibrarySortOrder_SortOrder.NAME;if(t===u.hx.ADDED_AT)return d.YourLibrarySortOrder_SortOrder.RECENTLY_ADDED;throw new Error("Invalid show sort params!")}}function g(e){var t=e.field,n=e.order;switch(t){case u._1.NAME:return n===u.As.ASC?a.TRACK_NAME_ASC:a.TRACK_NAME_DESC;case u._1.ARTIST_NAME:return n===u.As.ASC?a.TRACK_ARTIST_NAME_ASC:a.TRACK_ARTIST_NAME_DESC;case u._1.ALBUM_NAME:return n===u.As.ASC?a.TRACK_ALBUM_NAME_ASC:a.TRACK_ALBUM_NAME_DESC;case u._1.ADDED_AT:return n===u.As.ASC?a.TRACK_ADDED_AT_ASC:a.TRACK_ADDED_AT_DESC;default:throw new Error("Invalid track sort params!")}}function h(e){return void 0===e?"":"&sort=".concat(encodeURIComponent(g(e)))}function y(e,t){var n;void 0!==t&&(e.metadata=null!==(n=e.metadata)&&void 0!==n?n:{},e.metadata[c.sb.SORTING_CRITERIA]=function(e){var t=e.field,n=e.order;switch(t){case u._1.NAME:return n===u.As.ASC?o.TRACK_NAME_ASC:o.TRACK_NAME_DESC;case u._1.ARTIST_NAME:return n===u.As.ASC?o.TRACK_ARTIST_NAME_ASC:o.TRACK_ARTIST_NAME_DESC;case u._1.ALBUM_NAME:return n===u.As.ASC?o.TRACK_ALBUM_NAME_ASC:o.TRACK_ALBUM_NAME_DESC;case u._1.ADDED_AT:return n===u.As.ASC?o.TRACK_ADDED_AT_ASC:o.TRACK_ADDED_AT_DESC;default:throw new Error("Invalid track sort params!")}}(t),e.metadata[c.sb.LIST_UTIL_SORT]=g(t))}function k(e){if(void 0!==e){var t=e.field;if(t===u.aW.NAME)return d.YourLibrarySortOrder_SortOrder.NAME;if(t===u.aW.ADDED_AT)return d.YourLibrarySortOrder_SortOrder.RECENTLY_ADDED;throw new Error("Invalid show sort params!")}}function E(e){return void 0===e?"":"&sort=".concat(encodeURIComponent(function(e){var t=e.field,n=e.order;if(t===u.aW.NAME&&n===u.As.ASC)return s.SHOW_NAME_ASC;if(t===u.aW.ADDED_AT&&n===u.As.DESC)return s.SHOW_ADDED_AT_DESC;throw new Error("Invalid show sort params!")}(e)))}function b(e){return void 0===e?"":function(e){var t=e.field,n=e.order;if(t===u.yW.NAME&&n===u.As.ASC)return l.EPISODE_NAME_ASC;if(t===u.yW.ADDED_AT&&n===u.As.DESC)return l.EPISODE_ADDED_AT_DESC;if(t===u.yW.SHOW_NAME&&n===u.As.ASC)return l.SHOW_NAME_ASC;throw new Error("Invalid episode sort params!")}(e)}function _(e){if(void 0!==e){if(e===u.VN.NAME)return d.YourLibrarySortOrder_SortOrder.NAME;if(e===u.VN.ADDED_AT)return d.YourLibrarySortOrder_SortOrder.RECENTLY_ADDED;throw new Error("Invalid book sort params!")}}!function(e){e.ALBUM_NAME_ASC="name ASC",e.ALBUM_ARTIST_NAME_ASC="artist.name,name,addTime",e.ALBUM_ADDED_AT_DESC="addTime DESC,name"}(r||(r={})),function(e){e.ARTIST_NAME_ASC="name ASC",e.ARTIST_ADDED_AT_DESC="addTime DESC,name"}(i||(i={})),function(e){e.TRACK_NAME_ASC="name ASC",e.TRACK_NAME_DESC="name DESC",e.TRACK_ARTIST_NAME_ASC="artist.name ASC,album.name,discNumber,trackNumber",e.TRACK_ARTIST_NAME_DESC="artist.name DESC,album.name,discNumber,trackNumber",e.TRACK_ALBUM_NAME_ASC="album.name ASC,discNumber,trackNumber",e.TRACK_ALBUM_NAME_DESC="album.name DESC,discNumber,trackNumber",e.TRACK_ADDED_AT_ASC="addTime ASC,album.name,album.artist.name,discNumber,trackNumber",e.TRACK_ADDED_AT_DESC="addTime DESC,album.name,album.artist.name,discNumber,trackNumber"}(a||(a={})),function(e){e.TRACK_NAME_ASC="title ASC",e.TRACK_NAME_DESC="title DESC",e.TRACK_ARTIST_NAME_ASC="artist_name ASC, album_title, album_disc_number, album_track_number",e.TRACK_ARTIST_NAME_DESC="artist_name DESC, album_title, album_disc_number, album_track_number",e.TRACK_ALBUM_NAME_ASC="album_title ASC, album_disc_number, album_track_number",e.TRACK_ALBUM_NAME_DESC="album_title DESC, album_disc_number, album_track_number",e.TRACK_ADDED_AT_ASC="added_at ASC, album_title, album_artist_name, album_disc_number, album_track_number",e.TRACK_ADDED_AT_DESC="added_at DESC, album_title, album_artist_name, album_disc_number, album_track_number"}(o||(o={})),function(e){e.SHOW_NAME_ASC="name ASC",e.SHOW_ADDED_AT_DESC="addTime DESC,name"}(s||(s={})),function(e){e.EPISODE_NAME_ASC="name ASC",e.EPISODE_ADDED_AT_DESC="addTime DESC,name",e.SHOW_NAME_ASC="show.name ASC,addTime ASC"}(l||(l={}))},45342:(e,t,n)=>{"use strict";n.d(t,{H:()=>r});var r=(0,n(67294).createContext)(null)},88247:(e,t,n)=>{"use strict";n.d(t,{I:()=>o});var r=n(49955),i=n(7692),a=n(92510);function o(e,t,n){var o={uri:e};return(0,r.R4)(o,t),(0,i.IC)(o,(0,a.cj)(n)),o}},4383:(e,t,n)=>{"use strict";n.d(t,{y:()=>k,Z:()=>y});var r=n(15861),i=n(29439),a=n(87757),o=n.n(a),s=n(67294),l=n(45342),c=n(80962),u=n(69518),d=n.n(u),m=n(6489),p=n(86650);function f(e,t){var n=(0,s.useContext)(l.H),r=(0,s.useContext)(c.B);(0,s.useEffect)((function(){return function(e,t,n,r){var i;switch(null===(i=d().from(n))||void 0===i?void 0:i.type){case d().Type.ALBUM:case d().Type.ARTIST:case d().Type.SHOW:case d().Type.TRACK:case d().Type.EPISODE:var a=e.getEvents(),o=function(e){e.data.uri===n&&r(e.data.isInLibrary)};return a.addListener(m.EW.UPDATE_ITEM,o,{uri:n}),function(){a.removeListener(m.EW.UPDATE_ITEM,o,{uri:n})};case d().Type.PLAYLIST:case d().Type.PLAYLIST_V2:var s=t.getEvents(),l=function(e){e.data.uri===n&&r(e.data.isInRootlist)};return s.addListener(p.Yt.UPDATE_ITEM,l,{uri:n}),function(){s.removeListener(p.Yt.UPDATE_ITEM,l,{uri:n})};default:return function(){}}}(n,r,e,t)}),[n,r,e,t])}function v(e,t,n,r){return g.apply(this,arguments)}function g(){return(g=(0,r.Z)(o().mark((function e(t,n,r,i){var a,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=null===(a=d().from(r))||void 0===a?void 0:a.type,e.t0=s,e.next=e.t0===d().Type.ALBUM||e.t0===d().Type.ARTIST||e.t0===d().Type.SHOW||e.t0===d().Type.EPISODE||e.t0===d().Type.TRACK?4:e.t0===d().Type.PLAYLIST||e.t0===d().Type.PLAYLIST_V2?6:8;break;case 4:return i?t.add(r):t.remove(r),e.abrupt("break",9);case 6:return i?n.add([r],{before:"start"}):n.remove([r]),e.abrupt("break",9);case 8:return e.abrupt("break",9);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(e,t,n){var r;switch(null===(r=d().from(n))||void 0===r?void 0:r.type){case d().Type.ALBUM:case d().Type.ARTIST:case d().Type.SHOW:case d().Type.TRACK:case d().Type.EPISODE:return e.containsSync(n);case d().Type.PLAYLIST:case d().Type.PLAYLIST_V2:return t.containsSync(n)}}function y(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=(0,s.useContext)(l.H),a=(0,s.useContext)(c.B),u=(0,s.useState)(h(n,a,e)||t),d=(0,i.Z)(u,2),m=d[0],p=d[1],g=(0,s.useCallback)(function(){var t=(0,r.Z)(o().mark((function t(r){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v(n,a,e,r);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[e,n,a]);return f(e,p),[m,g]}function k(){return(0,s.useContext)(l.H)}},39561:(e,t,n)=>{"use strict";n.d(t,{MY:()=>v,j$:()=>g});var r=n(15861),i=n(29439),a=n(87757),o=n.n(a),s=n(67294),l=n(6489),c=n(45342),u=n(76391),d=n(62830),m=n(33178),p=l.EW.UPDATE;function f(e,t){var n=(0,s.useContext)(c.H),a=(0,s.useState)(null),l=(0,i.Z)(a,2),d=l[0],f=l[1],v=(0,s.useCallback)(function(){var i=(0,r.Z)(o().mark((function r(i){return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(e!==i.data.list){r.next=6;break}return r.t0=f,r.next=4,t(n);case 4:r.t1=r.sent,(0,r.t0)(r.t1);case 6:case"end":return r.stop()}}),r)})));return function(e){return i.apply(this,arguments)}}(),[n,e,t]);return(0,s.useEffect)((function(){v(new m.B(p,{list:e}))}),[v,e]),(0,u.b)(p,v),d}function v(e){return f(l.XD.TRACKS,(0,d.jP)((function(t){return t.getTracks(e)}),[e]))}function g(e){return f(l.XD.EPISODES,(0,d.jP)((function(t){return t.getEpisodes(e)}),[e]))}},76391:(e,t,n)=>{"use strict";n.d(t,{b:()=>a});var r=n(67294),i=n(45342);function a(e,t){var n=(0,r.useContext)(i.H);(0,r.useEffect)((function(){var r=n.getEvents();return r.addListener(e,t),function(){r.removeListener(e,t)}}),[e,t,n])}},71538:(e,t,n)=>{"use strict";n.d(t,{$:()=>Y,Er:()=>Q,Nl:()=>K,lX:()=>ne});n(47941),n(82526),n(38880),n(49337),n(33321),n(69070);var r=n(4942),i=n(15861),a=n(93433),o=n(87757),s=n.n(o),l=(n(57327),n(41539),n(92222),n(21249),n(85827),n(21703),n(96647),n(69600),n(66992),n(88674),n(78783),n(33948),n(26833),n(89554),n(54747),n(69518)),c=n.n(l),u=n(56705),d=n(16516);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e){var t,n=(e||[]).filter((function(e){return null!==e}));return(t=[]).concat.apply(t,(0,a.Z)(n))}function v(e,t,n,r){return g.apply(this,arguments)}function g(){return g=(0,i.Z)(s().mark((function e(t,n,r,a){var o,l,c=arguments;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=c.length>4&&void 0!==c[4]?c[4]:{},e.next=3,(0,u.s)(a,function(){var e=(0,i.Z)(s().mark((function e(i){var a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.build().withHost(d.H).withPath(r).withMethod(n).withQueryParameters(p(p({},o),{},{ids:i.join(",")})).withEndpointIdentifier("".concat(r,"?ids={ids}")).withoutMarket().send();case 2:return a=e.sent,e.abrupt("return",a.body);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),50);case 3:return l=e.sent,e.abrupt("return",l);case 5:case"end":return e.stop()}}),e)}))),g.apply(this,arguments)}function h(e,t){return y.apply(this,arguments)}function y(){return(y=(0,i.Z)(s().mark((function e(t,n){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n.length>0)){e.next=3;break}return e.next=3,v(t,"PUT","/me/albums",n);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(e,t){return E.apply(this,arguments)}function E(){return(E=(0,i.Z)(s().mark((function e(t,n){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n.length>0)){e.next=3;break}return e.next=3,v(t,"DELETE","/me/albums",n);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(e,t){return _.apply(this,arguments)}function _(){return(_=(0,i.Z)(s().mark((function e(t,n){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==n.length){e.next=2;break}return e.abrupt("return",[]);case 2:return e.t0=f,e.next=5,v(t,"GET","/me/albums/contains",n);case 5:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(e,t){return w.apply(this,arguments)}function w(){return(w=(0,i.Z)(s().mark((function e(t,n){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n.length>0)){e.next=3;break}return e.next=3,v(t,"PUT","/me/following",n,{type:"artist"});case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(e,t){return O.apply(this,arguments)}function O(){return(O=(0,i.Z)(s().mark((function e(t,n){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n.length>0)){e.next=3;break}return e.next=3,v(t,"DELETE","/me/following",n,{type:"artist"});case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(e,t){return T.apply(this,arguments)}function T(){return(T=(0,i.Z)(s().mark((function e(t,n){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==n.length){e.next=2;break}return e.abrupt("return",[]);case 2:return e.t0=f,e.next=5,v(t,"GET","/me/following/contains",n,{type:"artist"});case 5:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(e,t){return A.apply(this,arguments)}function A(){return(A=(0,i.Z)(s().mark((function e(t,n){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n.length>0)){e.next=3;break}return e.next=3,v(t,"PUT","/me/shows",n);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(e,t){return D.apply(this,arguments)}function D(){return(D=(0,i.Z)(s().mark((function e(t,n){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n.length>0)){e.next=3;break}return e.next=3,v(t,"DELETE","/me/shows",n);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function R(e,t){return x.apply(this,arguments)}function x(){return(x=(0,i.Z)(s().mark((function e(t,n){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==n.length){e.next=2;break}return e.abrupt("return",[]);case 2:return e.t0=f,e.next=5,v(t,"GET","/me/shows/contains",n);case 5:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function L(e,t){return F.apply(this,arguments)}function F(){return(F=(0,i.Z)(s().mark((function e(t,n){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n.length>0)){e.next=3;break}return e.next=3,v(t,"PUT","/me/tracks",n);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function U(e,t){return Z.apply(this,arguments)}function Z(){return(Z=(0,i.Z)(s().mark((function e(t,n){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n.length>0)){e.next=3;break}return e.next=3,v(t,"DELETE","/me/tracks",n);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function M(e,t){return B.apply(this,arguments)}function B(){return(B=(0,i.Z)(s().mark((function e(t,n){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==n.length){e.next=2;break}return e.abrupt("return",[]);case 2:return e.t0=f,e.next=5,v(t,"GET","/me/tracks/contains",n);case 5:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function j(e,t){return V.apply(this,arguments)}function V(){return(V=(0,i.Z)(s().mark((function e(t,n){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n.length>0)){e.next=3;break}return e.next=3,v(t,"PUT","/me/episodes",n);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function H(e,t){return G.apply(this,arguments)}function G(){return(G=(0,i.Z)(s().mark((function e(t,n){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n.length>0)){e.next=3;break}return e.next=3,v(t,"DELETE","/me/episodes",n);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function W(e,t){return z.apply(this,arguments)}function z(){return(z=(0,i.Z)(s().mark((function e(t,n){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==n.length){e.next=2;break}return e.abrupt("return",[]);case 2:return e.t0=f,e.next=5,v(t,"GET","/me/episodes/contains",n);case 5:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function K(e){var t=e.map((function(e){return c().from(e)})),n=t.map((function(e){return null!==e?e.type:null})).reduce((function(e,t){return e===t?e:null}));if(null===n)throw new Error("Given URIs need to be of the same type!");return{type:n,ids:t.map((function(e){return e.getBase62Id()}))}}function Y(e,t){return q.apply(this,arguments)}function q(){return(q=(0,i.Z)(s().mark((function e(t,n){var r,i,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=K(n),i=r.type,a=r.ids,e.t0=i,e.next=e.t0===c().Type.ALBUM?4:e.t0===c().Type.ARTIST?5:e.t0===c().Type.SHOW?6:e.t0===c().Type.TRACK?7:e.t0===c().Type.EPISODE?8:9;break;case 4:return e.abrupt("return",h(t,a));case 5:return e.abrupt("return",S(t,a));case 6:return e.abrupt("return",I(t,a));case 7:return e.abrupt("return",L(t,a));case 8:return e.abrupt("return",j(t,a));case 9:throw new Error("Unknown URI type!");case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Q(e,t){return J.apply(this,arguments)}function J(){return(J=(0,i.Z)(s().mark((function e(t,n){var r,i,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=K(n),i=r.type,a=r.ids,e.t0=i,e.next=e.t0===c().Type.ALBUM?4:e.t0===c().Type.ARTIST?5:e.t0===c().Type.SHOW?6:e.t0===c().Type.TRACK?7:e.t0===c().Type.EPISODE?8:9;break;case 4:return e.abrupt("return",k(t,a));case 5:return e.abrupt("return",N(t,a));case 6:return e.abrupt("return",P(t,a));case 7:return e.abrupt("return",U(t,a));case 8:return e.abrupt("return",H(t,a));case 9:throw new Error("Unknown URI type!");case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function X(e,t){return $.apply(this,arguments)}function $(){return($=(0,i.Z)(s().mark((function e(t,n){var r,i,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==n.length){e.next=2;break}return e.abrupt("return",[]);case 2:r=K(n),i=r.type,a=r.ids,e.t0=i,e.next=e.t0===c().Type.ALBUM?6:e.t0===c().Type.ARTIST?9:e.t0===c().Type.SHOW?12:e.t0===c().Type.TRACK?15:e.t0===c().Type.EPISODE?18:21;break;case 6:return e.next=8,b(t,a);case 8:case 11:case 14:case 17:case 20:return e.abrupt("return",e.sent);case 9:return e.next=11,C(t,a);case 12:return e.next=14,R(t,a);case 15:return e.next=17,M(t,a);case 18:return e.next=20,W(t,a);case 21:throw new Error("Unknown URI type!");case 22:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ee(e){return e===c().Type.ALBUM||e===c().Type.ARTIST||e===c().Type.SHOW||e===c().Type.TRACK||e===c().Type.EPISODE}function te(e,t){return e.reduce((function(e,n){var r=t(n);return(e[r]=e[r]||[]).push(n),e}),{})}function ne(e,t,n){return re.apply(this,arguments)}function re(){return re=(0,i.Z)(s().mark((function e(t,n,r){var a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=te(r.filter((function(e){return!t.has(e)})),(function(e){var t=c().from(e);if(null===t||!ee(t.type))throw new Error("Unknown URI type!");return t.type})),e.next=3,Promise.all(Object.values(a).map(function(){var e=(0,i.Z)(s().mark((function e(r){var i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X(n,r);case 2:i=e.sent,r.forEach((function(e,n){return t.set(e,i[n])}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 3:return e.abrupt("return",r.map((function(e){return t.get(e)})));case 4:case"end":return e.stop()}}),e)}))),re.apply(this,arguments)}},72131:(e,t,n)=>{"use strict";n.d(t,{G:()=>r,b:()=>i});var r,i="spotify:internal:local-files";!function(e){e.UNKNOWN="unknown",e.ITUNES="itunes",e.DOWNLOADS="downloads",e.MY_MUSIC="my_music",e.WINDOWS_MUSIC_LIBRARY="windows_music_library",e.UNRECOGNIZED="unrecognized"}(r||(r={}))},66393:(e,t,n)=>{"use strict";n.d(t,{t:()=>a});n(21703),n(96647);var r=n(67294),i=new Error("Local files API used without being initialized.\n   Did you provide the context in a a parent component?'"),a=(0,r.createContext)({getCapabilities:function(){throw i},getTracks:function(){throw i},getScannerStatus:function(){throw i},getSources:function(){throw i},mutateDefaultSource:function(){throw i},addFolder:function(){throw i},removeFolder:function(){throw i}})},45788:(e,t,n)=>{"use strict";n.d(t,{h:()=>a,u:()=>o});var r=n(67294),i=n(66393),a=function(e){var t=e.instance,n=e.children;return r.createElement(i.t.Provider,{value:t},n)};function o(){return(0,r.useContext)(i.t).getCapabilities()}},91042:(e,t,n)=>{"use strict";n.d(t,{K:()=>g});var r=n(15671),i=n(43144),a=n(4942),o=(n(92222),n(23157),n(74916),n(15306),n(38862),n(57891)),s=(n(41539),n(81299),n(12419),n(97326)),l=n(60136),c=n(82963),u=n(61120),d=n(28664);n(68304),n(21703),n(96647);function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,u.Z)(e);if(t){var i=(0,u.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,c.Z)(this,n)}}var p=function(e){(0,l.Z)(n,e);var t=m(n);function n(){var e;return(0,r.Z)(this,n),e=t.call(this,"Local storage quota exceeded."),Object.setPrototypeOf((0,s.Z)(e),n.prototype),e}return(0,i.Z)(n)}((0,d.Z)(Error)),f=n(16973),v=n(45561),g=function(){function e(t){(0,r.Z)(this,e),(0,a.Z)(this,"items",{}),this.namespace=t,this._events=new v.q,this.listenToStorageEvents()}return(0,i.Z)(e,[{key:"createNamespacedKey",value:function(e){return"".concat(this.namespace,":").concat(e)}},{key:"parseLocalStorageValue",value:function(e,t){try{var n=JSON.parse(t);return this.items[e]=n,n}catch(n){return console.error("Failed to parse value ".concat(t," for key ").concat(e)),new f.y(t)}}},{key:"listenToStorageEvents",value:function(){var e=this;window.addEventListener("storage",(function(t){var n=t.key,r=t.newValue,i=t.oldValue;if(null!==n&&null!==r&&n.startsWith(e.namespace)&&r!==i){var a=e.parseLocalStorageValue(n,r);e.items[n]=a,e._events.emit(v.u.UPDATE,{key:n.replace("".concat(e.namespace,":"),""),value:a})}}))}},{key:"getEvents",value:function(){return this._events}},{key:"getItem",value:function(e){var t=this.createNamespacedKey(e),n=this.items[t];if(t in this.items)return n;var r=window.localStorage.getItem(t);return null===r?new o.d(e):this.parseLocalStorageValue(t,r)}},{key:"setItem",value:function(e,t){var n=this.createNamespacedKey(e),r=JSON.stringify(t);if(window.localStorage.getItem(n)!==r){this.items[n]=t;try{window.localStorage.setItem(n,r),this._events.emitSync(v.u.UPDATE,{key:e,value:t})}catch(e){return console.error("LocalStorage quota exceeded (no space left)"),new p}}}},{key:"clearItem",value:function(e){var t=this.createNamespacedKey(e);window.localStorage.removeItem(t),delete this.items[t]}}]),e}()},14927:(e,t,n)=>{"use strict";n.d(t,{os:()=>a,um:()=>o});n(21703),n(96647);var r=n(67294),i=(0,r.createContext)(null),a=function(e){var t=e.instance,n=e.children;return r.createElement(i.Provider,{value:t},n)},o=function(){var e=(0,r.useContext)(i);if(null===e)throw new Error("useLocalStorageAPI must be used within a LocalStorageProvider");return e}},45561:(e,t,n)=>{"use strict";n.d(t,{q:()=>d,u:()=>r});n(41539),n(81299),n(12419);var r,i=n(43144),a=n(15671),o=n(60136),s=n(82963),l=n(61120),c=n(98938);function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,l.Z)(e);if(t){var i=(0,l.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,s.Z)(this,n)}}!function(e){e.UPDATE="update"}(r||(r={}));var d=function(e){(0,o.Z)(n,e);var t=u(n);function n(){return(0,a.Z)(this,n),t.apply(this,arguments)}return(0,i.Z)(n)}(c.r)},57891:(e,t,n)=>{"use strict";n.d(t,{d:()=>d});n(41539),n(81299),n(12419);var r=n(43144),i=n(15671),a=n(97326),o=n(60136),s=n(82963),l=n(61120),c=n(28664);n(68304),n(21703),n(96647);function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,l.Z)(e);if(t){var i=(0,l.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,s.Z)(this,n)}}var d=function(e){(0,o.Z)(n,e);var t=u(n);function n(e){var r;return(0,i.Z)(this,n),r=t.call(this,'"'.concat(e,'" not found in local storage.')),Object.setPrototypeOf((0,a.Z)(r),n.prototype),r}return(0,r.Z)(n)}((0,c.Z)(Error))},16973:(e,t,n)=>{"use strict";n.d(t,{y:()=>d});n(41539),n(81299),n(12419);var r=n(43144),i=n(15671),a=n(97326),o=n(60136),s=n(82963),l=n(61120),c=n(28664);n(68304),n(21703),n(96647);function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,l.Z)(e);if(t){var i=(0,l.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,s.Z)(this,n)}}var d=function(e){(0,o.Z)(n,e);var t=u(n);function n(e){var r;return(0,i.Z)(this,n),r=t.call(this,'Failed to JSON.parse value "'.concat(e,'"')),Object.setPrototypeOf((0,a.Z)(r),n.prototype),r}return(0,r.Z)(n)}((0,c.Z)(Error))},5229:(e,t,n)=>{"use strict";n.d(t,{z:()=>l});var r=n(29439),i=(n(21703),n(96647),n(67294)),a=n(62830),o=n(14927),s=n(45561),l=function(e,t){var n=(0,o.um)(),l=(0,i.useRef)(n.getItem(e)),c=(0,i.useState)(l.current instanceof Error?t:l.current),u=(0,r.Z)(c,2),d=u[0],m=u[1],p=(0,i.useCallback)((function(t){l.current=t,n.setItem(e,t)}),[e,n]);return(0,a.KW)((function(){l.current instanceof Error&&p(t)}),[t,p]),(0,i.useEffect)((function(){var t=n.getEvents(),r=function(t){t.data.key===e&&(l.current=t.data.value,m(t.data.value))};return t.addListener(s.u.UPDATE,r),function(){t.removeListener(s.u.UPDATE,r)}}),[e,n]),[d,p]}},75853:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(4942),i=n(71002),a=(n(68309),n(79753),n(57327),n(41539),n(19601),n(21703),n(96647),n(92222),n(47042),n(21249),n(69600),n(13552)),o=n(48764).lW;function s(e,t){var n=e.type,a=e.name;if(Array.isArray(n)){var l=t[a];if(null===l)return;t[a]={};var c=n.filter((function(e){return"null"!==e}))[0];"object"===(0,i.Z)(c)?(t[a]=(0,r.Z)({},c.type,l),s(c,t[a])):t[a][c]="bytes"===c?new o(l):l}else"bytes"===n&&(t[a]=new o(t[a]))}const l=function(e,t){(0,a.Z)("logger:".concat(e.name));var n=t.message_name,r=t.message_version,i=Object.assign({},t);if(r!==e.schema_version)throw new Error("".concat("Invalid message version: received Message with message_version ").concat(r," but the Schema requires version ").concat(e.schema_version));return{message:n,version:r,fields:e.fields.map((function(e){var t=i[e.name];return void 0===t?e.default:(s(e,i),t)})).slice(2)}}},26482:(e,t,n)=>{"use strict";var r,i,a,o,s;n.d(t,{Om:()=>a,PQ:()=>i,T1:()=>r,jK:()=>s,mc:()=>o}),function(e){e.ONLINE="online",e.OFFLINE="offline",e.FORCED_OFFLINE="forced_offline",e.RECONNECTING="reconnecting"}(r||(r={})),function(e){e[e.NO_CAPABILITY=0]="NO_CAPABILITY",e[e.NO_PERMISSION=1]="NO_PERMISSION",e[e.YES=2]="YES"}(i||(i={})),function(e){e.NO="no",e.YES="yes",e.DOWNLOADING="downloading",e.WAITING="waiting"}(a||(a={})),function(e){e[e.ADD=0]="ADD",e[e.REMOVE=1]="REMOVE",e[e.NO_PERMISSION=2]="NO_PERMISSION"}(o||(o={})),function(e){e[e.SUCCESS=0]="SUCCESS",e[e.GENERIC=1]="GENERIC",e[e.DISK_FULL=2]="DISK_FULL",e[e.EXPIRED=3]="EXPIRED",e[e.TOO_MANY_TRACKS=4]="TOO_MANY_TRACKS",e[e.NOT_ALLOWED=5]="NOT_ALLOWED",e[e.CONNECTION_DISABLED=6]="CONNECTION_DISABLED",e[e.DEVICE_LIMIT_REACHED=7]="DEVICE_LIMIT_REACHED",e[e.UNRECOGNIZED=8]="UNRECOGNIZED"}(s||(s={}))},69675:(e,t,n)=>{"use strict";n.d(t,{N:()=>d,X:()=>r});n(41539),n(81299),n(12419);var r,i=n(43144),a=n(15671),o=n(60136),s=n(82963),l=n(61120),c=n(98938);function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,l.Z)(e);if(t){var i=(0,l.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,s.Z)(this,n)}}!function(e){e.UPDATE_CONNECTIVITY="update_connectivity",e.UPDATE_CAPABILITIES="update_capabilities",e.UPDATE_TOTAL_PROGRESS="update_total_progress",e.UPDATE_CONTEXT_PROGRESS="update_context_progress",e.UPDATE_AVAILABILITY="update_availability",e.ERROR="error"}(r||(r={}));var d=function(e){(0,o.Z)(n,e);var t=u(n);function n(){return(0,a.Z)(this,n),t.apply(this,arguments)}return(0,i.Z)(n)}(c.r)},73665:(e,t,n)=>{"use strict";n.d(t,{n:()=>i,t:()=>a});n(21703),n(96647);var r=n(67294),i=(0,r.createContext)(null);function a(){var e=(0,r.useContext)(i);if(null===e)throw new Error("Trying to use 'OfflineContext' without 'OfflineProvider'!");return e}},19986:(e,t,n)=>{"use strict";n.d(t,{_:()=>l});var r=n(29439),i=n(67294),a=n(69675),o=n(70577),s=n(73665);function l(e){var t=(0,s.t)(),n=(0,i.useState)(t.getAvailabilitySync(e)),l=(0,r.Z)(n,2),c=l[0],u=l[1],d=a.X.UPDATE_AVAILABILITY,m=(0,i.useCallback)((function(t){t.data.uri===e&&u(t.data.availability)}),[e]);return(0,o.z)(d,m,{uri:e}),c}},21663:(e,t,n)=>{"use strict";n.d(t,{_:()=>c});var r=n(67294),i=n(73665),a=n(19986),o=n(29439),s=n(69675),l=n(70577);function c(e){var t=(0,i.t)(),n=function(e){var t=(0,i.t)(),n=(0,r.useState)(t.getCapabilities().canDownload(e)),a=(0,o.Z)(n,2),c=a[0],u=a[1],d=s.X.UPDATE_CAPABILITIES,m=(0,r.useCallback)((function(t){return u(t.data.capabilites.canDownload(e))}),[e]);return(0,l.z)(d,m),c}(e);return{capability:n,availability:(0,a._)(e),addDownload:(0,r.useCallback)((function(){return t.addDownload(e)}),[t,e]),removeDownload:(0,r.useCallback)((function(){return t.removeDownload(e)}),[t,e])}}},88387:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(29439),i=n(67294),a=n(69675),o=n(70577);function s(e){var t=(0,i.useState)({syncing:!1,percentage:0,totalItems:0,currentItem:0}),n=(0,r.Z)(t,2),s=n[0],l=n[1],c=a.X.UPDATE_CONTEXT_PROGRESS,u=(0,i.useCallback)((function(t){t.data.uri===e&&l(t.data.progress)}),[e]);return(0,o.z)(c,u,{uri:e}),s}},70577:(e,t,n)=>{"use strict";n.d(t,{z:()=>o});var r=n(67294),i=n(73665),a=n(62830);function o(e,t,n){var o=(0,i.t)(),s=(0,a.NY)((function(){return n}),[n]);(0,r.useEffect)((function(){var n=o.getEvents();return n.addListener(e,t,s),function(){n.removeListener(e,t,s)}}),[e,t,s,o])}},7713:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r,K:()=>a});n(69600),n(21249),n(96647),n(75505),n(87714),n(82801),n(1174),n(83710),n(41539),n(39714),n(47042);function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{var n=document.getElementById(e);return n?JSON.parse(n.innerHTML):t}catch(e){return t}}function i(e){return decodeURIComponent(Array.prototype.map.call(atob(e),(function(e){var t="00".concat(e.charCodeAt(0).toString(16));return"%".concat(t.slice(-2))})).join(""))}function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{var n=document.getElementById(e);return n?JSON.parse(i(n.innerHTML)):t}catch(e){return t}}},36943:(e,t,n)=>{"use strict";n.d(t,{y:()=>a});n(68309);var r=n(51206),i=n.n(r);n(9554);function a(){return i().getParser(window.navigator.userAgent).getOSName()||"not_applicable"}},17598:(e,t,n)=>{"use strict";n.d(t,{s:()=>r});n(82772);function r(){var e;if("undefined"==typeof window)return!1;if(void 0!==window.orientation)switch(window.orientation){case 0:case 180:e=window.screen.width;break;default:e=window.screen.height}else{var t=window.screen.orientation&&window.screen.orientation.type||window.screen.msOrientation||"";if(0===t.indexOf("portrait"))e=window.screen.width;else{if(0!==t.indexOf("landscape"))return!1;e=window.screen.height}}return e<=432}},9554:(e,t,n)=>{"use strict";var r,i;n.d(t,{W:()=>r}),function(e){e.Web="Web",e.PWA="PWA",e.Desktop="Desktop"}(r||(r={})),function(e){e.macOS="macOS",e.Windows="Windows",e.Linux="Linux",e.ChromeOS="ChromeOS",e.Other="Other"}(i||(i={}))},39275:(e,t,n)=>{"use strict";n.d(t,{N:()=>d,r:()=>r});n(41539),n(81299),n(12419);var r,i=n(43144),a=n(15671),o=n(60136),s=n(82963),l=n(61120),c=n(98938);function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,l.Z)(e);if(t){var i=(0,l.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,s.Z)(this,n)}}!function(e){e.VOLUME="volume",e.INFO="info"}(r||(r={}));var d=function(e){(0,o.Z)(n,e);var t=u(n);function n(){return(0,a.Z)(this,n),t.apply(this,arguments)}return(0,i.Z)(n)}(c.r)},26527:(e,t,n)=>{"use strict";n.d(t,{C:()=>i,f:()=>a});n(21703),n(96647);var r=n(67294),i=(0,r.createContext)(null);function a(){var e=(0,r.useContext)(i);if(null===e)throw new Error("Trying to use 'PlaybackContext' without 'PlaybackProvider'!");return e}},95389:(e,t,n)=>{"use strict";n.d(t,{_:()=>a});var r=n(67294),i=n(26527);function a(e,t){var n=(0,r.useRef)(t),a=(0,i.f)();n.current=t,(0,r.useEffect)((function(){var t=a.getEvents(),r=function(e){return n.current(e)};return t.addListener(e,r),function(){t.removeListener(e,r)}}),[e,a])}},76189:(e,t,n)=>{"use strict";n.d(t,{f_:()=>O});var r=n(4942),i=n(93433),a=n(29439),o=n(15861),s=n(87757),l=n.n(s),c=(n(68309),n(21249),n(91038),n(78783),n(66992),n(41539),n(70189),n(33948),n(57327),n(88674),n(92222),n(85827),n(89554),n(54747),n(47941),n(82526),n(38880),n(49337),n(33321),n(69070),n(69518)),u=n.n(c),d=n(7073),m=n(72169),p=n(42781),f=n(38470),v=(n(98984),{kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"decorateContextEpisodesOrChapters"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uris"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"episodes"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uris"},value:{kind:"Variable",name:{kind:"Name",value:"uris"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Episode"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"duration"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalMilliseconds"}}]}},{kind:"Field",name:{kind:"Name",value:"contentRating"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"label"}}]}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"mediaTypes"}},{kind:"Field",name:{kind:"Name",value:"podcastV2"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Podcast"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"publisher"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}}]}}]}}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Chapter"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"duration"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalMilliseconds"}}]}},{kind:"Field",name:{kind:"Name",value:"contentRating"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"label"}}]}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"mediaTypes"}},{kind:"Field",name:{kind:"Name",value:"audiobookV2"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Audiobook"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"authors"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}}]}}]}}]}}]}}]}}]}}]}),g=Spicetify.GraphQL.Definitions["decorateContextTracks"]={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"decorateContextTracks"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uris"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"tracks"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uris"},value:{kind:"Variable",name:{kind:"Name",value:"uris"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Track"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"duration"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalMilliseconds"}}]}},{kind:"Field",name:{kind:"Name",value:"contentRating"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"label"}}]}},{kind:"Field",name:{kind:"Name",value:"artists"},arguments:[{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"IntValue",value:"0"}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"IntValue",value:"10"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"profile"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"albumOfTrack"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}}]}}]}}]}}]}}]};function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function k(e){return"Track"===e.__typename}function E(e){return"Episode"===e.__typename}function b(e){return"Chapter"===e.__typename}function _(e){var t=null!=e?e:[];return t.length>1?"mixed":0===t.length||t[0]===d.$_.Audio?"audio":t[0]===d.$_.Video?"video":"audio"}function S(e){var t,n,r,i,a,o,s,l,c;return{type:p.p.TRACK,uri:e.uri,name:e.name,mediaType:"audio",duration:{milliseconds:e.duration.totalMilliseconds},album:{type:p.p.ALBUM,uri:null!==(t=null===(n=e.albumOfTrack)||void 0===n?void 0:n.uri)&&void 0!==t?t:"",name:null!==(r=null===(i=e.albumOfTrack)||void 0===i?void 0:i.name)&&void 0!==r?r:"",images:null!==(a=null===(o=e.albumOfTrack)||void 0===o||null===(s=o.coverArt)||void 0===s?void 0:s.sources.map((function(e){return(0,m.Bi)(e)})))&&void 0!==a?a:[]},artists:e.artists.items.map((function(e){return{type:p.p.ARTIST,uri:e.uri,name:e.profile.name}})),isLocal:!1,isExplicit:(null===(l=e.contentRating)||void 0===l?void 0:l.label)===d.KS.Explicit,is19PlusOnly:(null===(c=e.contentRating)||void 0===c?void 0:c.label)===d.KS.NineteenPlus,get images(){return this.album.images},uid:null,provider:null}}function w(e){var t,n,r,i,a;if("Podcast"!==e.podcastV2.data.__typename)return null;var o=e.podcastV2.data;return{type:p.p.EPISODE,uri:e.uri,name:null!==(t=e.name)&&void 0!==t?t:"",mediaType:_(e.mediaTypes),duration:{milliseconds:e.duration.totalMilliseconds},show:{type:p.p.SHOW,uri:null!==(n=o.uri)&&void 0!==n?n:"",name:null!==(r=o.name)&&void 0!==r?r:"",images:null!==(i=null===(a=o.coverArt)||void 0===a?void 0:a.sources.map((function(e){return(0,m.Bi)(e)})))&&void 0!==i?i:[]},get images(){return this.show.images},uid:null,provider:null}}function N(e){var t,n,r,i,a;if("Audiobook"!==e.audiobookV2.data.__typename)return null;var o=e.audiobookV2.data;return{type:p.p.CHAPTER,uri:e.uri,name:null!==(t=e.name)&&void 0!==t?t:"",mediaType:_(e.mediaTypes),duration:{milliseconds:e.duration.totalMilliseconds},book:{type:p.p.AUDIOBOOK,uri:null!==(n=o.uri)&&void 0!==n?n:"",name:null!==(r=o.name)&&void 0!==r?r:"",images:null!==(i=null===(a=o.coverArt)||void 0===a?void 0:a.sources.map((function(e){return(0,m.Bi)(e)})))&&void 0!==i?i:[]},get images(){return this.book.images},uid:null,provider:null}}function O(e,t,n){return C.apply(this,arguments)}function C(){return(C=(0,o.Z)(l().mark((function e(t,n,r){var o,s,c,d,m,p,h;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=Array.from(new Set(r.map((function(e){return e.uri})).filter((function(e){return!n.has(e)})))),s=o.filter((function(e){return u().isTrack(e)})),c=o.filter((function(e){return u().isEpisode(e)})),e.next=5,Promise.all([s.length>0?t(g,{uris:s},["uris"]):Promise.resolve([]),c.length>0?t(v,{uris:c},["uris"]):Promise.resolve([])]);case 5:return d=e.sent,m=(0,a.Z)(d,2),p=m[0],h=m[1],[].concat((0,i.Z)(p.reduce((function(e,t){var n;return e.concat(null!==(n=t.tracks)&&void 0!==n?n:[])}),[])),(0,i.Z)(h.reduce((function(e,t){var n;return e.concat(null!==(n=t.episodes)&&void 0!==n?n:[])}),[]))).map((function(e){return"GenericError"===e.__typename||"NotFound"===e.__typename||"RestrictedContent"===e.__typename?null:k(e)?S(e):E(e)?w(e):b(e)?N(e):((0,f._)(e),null)})).forEach((function(e){null!==e&&n.set(e.uri,e)})),e.abrupt("return",r.map((function(e){return y(y(y({},e),n.get(e.uri)),{},{uid:e.uid,provider:e.provider})})));case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},48896:(e,t,n)=>{"use strict";n.d(t,{Su:()=>a,cg:()=>i,jB:()=>f,lu:()=>v});n(41539),n(81299),n(12419);var r,i,a,o=n(15671),s=n(43144),l=n(60136),c=n(82963),u=n(61120),d=n(28664);n(92222),n(69600),n(68309),n(21703),n(96647);function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,u.Z)(e);if(t){var i=(0,u.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,c.Z)(this,n)}}!function(e){e[e.TRANSIENT=0]="TRANSIENT",e[e.PERSISTENT=1]="PERSISTENT"}(r||(r={})),function(e){e.SUCCESS="success",e.PLAYBACK_STUCK="playback_stuck",e.PLAYBACK_ERROR="playback_error",e.LICENSE_CHANGE="license_change",e.PLAY_RESTRICTED="play_restricted",e.STOP_RESTRICTED="stop_restricted",e.UPDATE_RESTRICTED="update_restricted",e.PAUSE_RESTRICTED="pause_restricted",e.RESUME_RESTRICTED="resume_restricted",e.SKIP_TO_PREV_RESTRICTED="skip_to_prev_restricted",e.SKIP_TO_NEXT_RESTRICTED="skip_to_next_restricted",e.SKIP_TO_NON_EXISTENT_TRACK="skip_to_non_existent_track",e.TOGGLE_REPEAT_CONTEXT_RESTRICTED="toggle_repeat_context_restricted",e.TOGGLE_REPEAT_TRACK_RESTRICTED="toggle_repeat_track_restricted",e.SET_OPTIONS_RESTRICTED="set_options_restricted",e.TOGGLE_SHUFFLE_RESTRICTED="toggle_shuffle_restricted",e.SET_QUEUE_RESTRICTED="set_queue_restricted",e.INTERRUPT_PLAYBACK_RESTRICTED="interrupt_playback_restricted",e.SEEK_TO_RESTRICTED="seek_to_restricted",e.ONE_TRACK_UNPLAYABLE="one_track_unplayable",e.ONE_TRACK_UNPLAYABLE_AUTO_STOPPED="one_track_unplayable_auto_stopped",e.ALL_TRACKS_UNPLAYABLE_AUTO_STOPPED="all_tracks_unplayable_auto_stopped",e.SKIP_TO_NON_EXISTENT_TRACK_AUTO_STOPPED="skip_to_non_existent_track_auto_stopped",e.QUEUE_REVISION_MISMATCH="queue_revision_mismatch",e.VIDEO_PLAYBACK_ERROR="video_playback_error",e.VIDEO_GEORESTRICTED="video_georestricted",e.VIDEO_UNSUPPORTED_PLATFORM_VERSION="video_unsupported_platform_version",e.VIDEO_UNSUPPORTED_CLIENT_VERSION="video_unsupported_client_version",e.VIDEO_UNSUPPORTED_KEY_SYSTEM="video_unsupported_key_system",e.VIDEO_COUNTRY_RESTRICTED="video_country_restricted",e.VIDEO_UNAVAILABLE="video_unavailable",e.VIDEO_CATALOGUE_RESTRICTED="video_catalogue_restricted",e.VIDEO_MANIFEST_DELETED="video_manifest_deleted",e.TIMEOUT="timeout",e.INVALID="invalid",e.PLAYBACK_REPORTING_ERROR="playback_reporting_error",e.UNKNOWN="unknown",e.UNRECOGNIZED="unrecognized"}(i||(i={})),function(e){e.AD_DISALLOW="ad_disallow",e.AGE_RESTRICTION_FILTERED="age_restriction_filtered",e.ALREADY_PAUSED="already_paused",e.ALREADY_PLAYING="already_playing",e.BANNED_BY_USER_TRACK="banned_by_user/track",e.BANNED_BY_USER_ALBUM="banned_by_user/album",e.BANNED_BY_USER_ARTIST="banned_by_user/artist",e.CONTEXT_PLAYER_DISALLOW="context_player_disallow",e.ENDLESS_CONTEXT="endless_context",e.EXPLICIT_CONTENT_FILTERED="explicit_content_filtered",e.LOCAL_FILE_BAD_FORMAT="local_file_bad_format",e.LOCAL_FILE_DRM_PROTECTED="local_file_drm_protected",e.LOCAL_FILE_NOT_FOUND="local_file_not_found",e.MFT_DISALLOW="mft_disallow",e.MFT_DISALLOW_MISSING_TRAC="mft_disallow_missing_trac",e.NEWS_SET_TRACK_FILTERED="news_set_track_filtered",e.NO_NEXT_TRACK="no_next_track",e.NO_PREV_TRACK="no_prev_track",e.NO_SPECIFIC_TRACK="no_specific_track",e.NOT_AVAILABLE="not_available",e.NOT_AVAILABLE_BY_ARTIST_BAN="not_available_by_artist_ban",e.NOT_AVAILABLE_IN_CURRENT_REGION="not_available_in_current_region",e.NOT_AVAILABLE_IN_NON_PREMIUM="not_available_in_non_premium",e.NOT_AVAILABLE_OFFLINE="not_available_offline",e.NOT_AVAILABLE_ON_MOBILE_NETWORK="not_available_on_mobile_network",e.NOT_PAUSED="not_paused",e.NOT_PLAYING_CONTEXT="not_playing_context",e.NOT_PLAYING_LOCALLY="not_playing_locally",e.NOT_PLAYING_TRACK="not_playing_track",e.OFFLINE_CAPPING_REACHED="offline_capping_reached",e.PLAYER_CONTEXT_DISALLOW="player_context_disallow",e.PROTOCOL_LIMITATIONS="protocol_limitations",e.PROTOCOL_LIMITIATIONS="protocol_limitiations",e.THROTTLED="throttled",e.UNKNOWN="unknown",e.UNSUPPORTED_FILE_FORMAT="unsupported_file_format",e.USER_CAPPING_REACHED="user_capping_reached",e.USER_STREAMING_DISALLOWED="user_streaming_disallowed"}(a||(a={}));var p=function(e){(0,l.Z)(n,e);var t=m(n);function n(e,r,i){var a,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;return(0,o.Z)(this,n),(a=t.call(this,n.getMessage(r,i,s))).type=e,a.code=r,a.reasons=i,a.cause=s,a}return(0,s.Z)(n,null,[{key:"getMessage",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;return t.length>0?"Code '".concat(e,"' with reasons '").concat(t.join(", "),"'"):void 0!==n?"Code '".concat(e,"' with cause '").concat(n.name,": ").concat(n.message,"'"):"Code '".concat(e,"'")}}]),n}((0,d.Z)(Error)),f=function(e){(0,l.Z)(n,e);var t=m(n);function n(e,i){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;return(0,o.Z)(this,n),t.call(this,r.TRANSIENT,e,i,a)}return(0,s.Z)(n)}(p),v=function(e){(0,l.Z)(n,e);var t=m(n);function n(e,i){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;return(0,o.Z)(this,n),t.call(this,r.PERSISTENT,e,i,a)}return(0,s.Z)(n)}(p)},34891:(e,t,n)=>{"use strict";n.d(t,{Bc:()=>p,FE:()=>a,rg:()=>r,zr:()=>i});n(41539),n(81299),n(12419);var r,i,a,o=n(15671),s=n(43144),l=n(60136),c=n(82963),u=n(61120),d=n(98938);function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,u.Z)(e);if(t){var i=(0,u.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,c.Z)(this,n)}}!function(e){e.UPDATE="update",e.ERROR="error",e.ACTION="action",e.QUEUE_ACTION="queue_action",e.QUEUE_ACTION_COMPLETE="queue_action_complete",e.QUEUE_UPDATE="queue_update",e.CONTEXT_WRAPAROUND="context_wraparound"}(r||(r={})),function(e){e.PLAY="play",e.PAUSE="pause",e.RESUME="resume",e.SKIP_TO_NEXT="skipToNext",e.SKIP_TO_PREVIOUS="skipToPrevious"}(i||(i={})),function(e){e.ADD="add",e.REMOVE="remove",e.CLEAR="clear",e.INSERT="insert",e.REORDER="reorder"}(a||(a={}));var p=function(e){(0,l.Z)(n,e);var t=m(n);function n(){return(0,o.Z)(this,n),t.apply(this,arguments)}return(0,s.Z)(n,[{key:"emitPlaySync",value:function(e,t,n){return this.emitSync(r.ACTION,{action:i.PLAY,context:e,origin:t,options:n}).defaultPrevented}},{key:"emitPauseSync",value:function(){return this.emitSync(r.ACTION,{action:i.PAUSE}).defaultPrevented}},{key:"emitResumeSync",value:function(){return this.emitSync(r.ACTION,{action:i.RESUME}).defaultPrevented}},{key:"emitSkipToNextSync",value:function(){return this.emitSync(r.ACTION,{action:i.SKIP_TO_NEXT}).defaultPrevented}},{key:"emitSkipToPreviousSync",value:function(){return this.emitSync(r.ACTION,{action:i.SKIP_TO_PREVIOUS}).defaultPrevented}},{key:"emitQueueActionSync",value:function(e){return this.emitSync(r.QUEUE_ACTION,{action:e}).defaultPrevented}},{key:"emitQueueActionComplete",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.emit(r.QUEUE_ACTION_COMPLETE,{action:e,error:t})}},{key:"emitQueueUpdate",value:function(e){this.emit(r.QUEUE_UPDATE,e)}}]),n}(d.r)},23716:(e,t,n)=>{"use strict";n.d(t,{E:()=>i,g:()=>a});n(21703),n(96647);var r=n(67294),i=(0,r.createContext)(null);function a(){var e=(0,r.useContext)(i);if(null===e)throw new Error("Trying to use 'PlayerContext' without 'PlayerProvider'!");return e}},84242:(e,t,n)=>{"use strict";n.d(t,{n:()=>v});var r=n(29439),i=n(4942),a=(n(24812),n(47941),n(82526),n(57327),n(41539),n(38880),n(89554),n(54747),n(49337),n(33321),n(69070),n(67294)),o=n(38470),s=n(23716),l=n(89952),c=n(69691);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t,n,r,i,a){switch(t){case l.PO.NOT_ACTIVE:a?a():e.play(n,r,i);break;case l.PO.PLAYING:e.pause();break;case l.PO.PAUSED:e.resume();break;default:(0,o.U)(t)}}function p(e,t,n,r,i){var o=(0,a.useRef)(i);o.current=i;var s=(0,c.sS)(d(d({contextURI:t.current.uri},r.current),i)),l=s.playbackStatus,u=s.isActive,p=s.isPlaying,f=(0,a.useCallback)((function(i,a){a?a():e.play(t.current,n.current,d(d({},i),{},{skipTo:d(d({},r.current),o.current)}))}),[e,t,n,r]),v=(0,a.useCallback)((function(i,a){m(e,l,t.current,n.current,d(d({},i),{},{skipTo:d(d({},r.current),o.current)}),a)}),[e,l,t,n,r]);return{playbackStatus:l,isActive:u,isPlaying:p,triggerPlay:f,togglePlay:v}}function f(e,t,n,i){var o=function(e,t,n){return e.getCapabilities().canPlayMultipleContextPages||void 0===n.pageURI?[t,n]:[{current:{uri:n.pageURI,metadata:t.current.metadata}},{pageURI:n.pageURI,pageIndex:0}]}(e,t,i),s=(0,r.Z)(o,2),l=s[0],u=s[1],f=(0,a.useRef)(u);f.current=u;var v=(0,c.T6)({contextURI:l.current.uri,pageIndex:u.pageIndex,pageURI:u.pageURI}),g=v.playbackStatus,h=v.isActive,y=v.isPlaying,k=(0,a.useMemo)((function(){return p.bind(null,e,l,n,f)}),[e,l,n]),E=(0,a.useCallback)((function(t,r){r?r():e.play(l.current,n.current,d(d({},t),{},{skipTo:f.current}))}),[e,l,n]),b=(0,a.useCallback)((function(t,r){m(e,g,l.current,n.current,d(d({},t),{},{skipTo:f.current}),r)}),[e,g,l,n]);return{playbackStatus:g,isActive:h,isPlaying:y,triggerPlay:E,togglePlay:b,usePlayContextItem:k}}function v(e,t){var n,r=(0,s.g)(),i=d(d({},t),{},{referrerIdentifier:null!==(n=t.referrerIdentifier)&&void 0!==n?n:r.getReferrer()}),o=(0,a.useRef)(e),l=(0,a.useRef)(i);o.current=e,l.current=i;var u=(0,c.cR)(e.uri),v=u.playbackStatus,g=u.isActive,h=u.isPlaying,y=(0,a.useMemo)((function(){return f.bind(null,r,o,l)}),[r]),k=(0,a.useMemo)((function(){return p.bind(null,r,o,l,{current:null})}),[r]),E=(0,a.useCallback)((function(e,t){r.play(null!=t?t:o.current,l.current,e)}),[r]),b=(0,a.useCallback)((function(e,t){m(r,v,null!=t?t:o.current,l.current,e)}),[r,v]);return{playbackStatus:v,isActive:g,isPlaying:h,triggerPlay:E,togglePlay:b,usePlayContextPage:y,usePlayContextItem:k}}},86081:(e,t,n)=>{"use strict";n.d(t,{G:()=>a});var r=n(67294),i=n(23716);function a(e,t){var n=(0,r.useRef)(t),a=(0,i.g)();n.current=t,(0,r.useEffect)((function(){var t=a.getEvents(),r=function(e){return n.current(e)};return t.addListener(e,r),function(){t.removeListener(e,r)}}),[e,a])}},52759:(e,t,n)=>{"use strict";n.d(t,{z:()=>l});var r=n(29439),i=(n(32564),n(67294)),a=n(5944),o=n(8341),s=function(){return!0};function l(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s,l=(0,o.Y)((function(e){return e}),(function(e,t){return(null==e?void 0:e.timestamp)===(null==t?void 0:t.timestamp)&&(null==e?void 0:e.positionAsOfTimestamp)===(null==t?void 0:t.positionAsOfTimestamp)&&(null==e?void 0:e.duration)===(null==t?void 0:t.duration)&&(null==e?void 0:e.speed)===(null==t?void 0:t.speed)&&(null==e?void 0:e.hasContext)===(null==t?void 0:t.hasContext)&&(null==e?void 0:e.isPaused)===(null==t?void 0:t.isPaused)&&(null==e?void 0:e.isBuffering)===(null==t?void 0:t.isBuffering)})),c=(0,i.useState)(null!==(t=(0,a.k)(l))&&void 0!==t?t:0),u=(0,r.Z)(c,2),d=u[0],m=u[1],p=(0,i.useState)(null),f=(0,r.Z)(p,2),v=f[0],g=f[1],h=(0,i.useRef)(n);return h.current=n,(0,i.useEffect)((function(){var e;(null===l||h.current(l))&&m(null!==(e=(0,a.k)(l))&&void 0!==e?e:0)}),[l]),(0,i.useEffect)((function(){null!=l&&l.isPaused||null!=l&&l.isBuffering||g(null)}),[null==l?void 0:l.timestamp,null==l?void 0:l.isPaused,null==l?void 0:l.isBuffering]),(0,i.useEffect)((function(){var t,n=!0;if(null===l||!l.hasContext||l.isPaused||!h.current(l))return function(){};m(null!==(t=(0,a.k)(l))&&void 0!==t?t:0);var r=window.setInterval((function(){if(n){var e=(0,a.k)(l);m(null!=e?e:0)}}),e);return function(){n=!1,null!==r&&window.clearInterval(r)}}),[l,e]),[null!=v?v:d,g]}},69691:(e,t,n)=>{"use strict";n.d(t,{$o:()=>c,IK:()=>d,T6:()=>l,cR:()=>s,sS:()=>u});var r=n(77042),i=n(76303),a=n(8341);function o(e){var t=(0,a.Y)(e);return{playbackStatus:t,isActive:t!==r.P.NOT_ACTIVE,isPlaying:t===r.P.PLAYING}}function s(e){return o((function(t){return(0,i.QL)(t,e)}))}function l(e){return o((function(t){return(0,i.xy)(t,e)}))}function c(e){return o((function(t){return(0,i.oT)(t,e)}))}function u(e){return o((function(t){return(0,i.Gt)(t,e)}))}function d(){return o((function(e){return(0,i.o9)(e)}))}},8341:(e,t,n)=>{"use strict";n.d(t,{Y:()=>l});var r=n(29439),i=n(67294),a=n(34891),o=n(23716),s=n(86081);function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e,t){return e===t},n=(0,o.g)(),l=n.getState(),c=(0,i.useState)(e(l)),u=(0,r.Z)(c,2),d=u[0],m=u[1];return(0,s.G)(a.rg.UPDATE,(function(n){var r=e(n.data);t(d,r)||m(r)})),d}},14472:(e,t,n)=>{"use strict";n.d(t,{$:()=>o});var r=n(89952),i=n(8341),a=n(16468);function o(){return(0,i.Y)((function(e){var t,n,i;return{uri:null!==(t=null==e?void 0:e.context.uri)&&void 0!==t?t:null,description:null!==(n=null==e||null===(i=e.context.metadata)||void 0===i?void 0:i[r.sb.CONTEXT_DESCRIPTION])&&void 0!==n?n:null}}),a.V)}},77042:(e,t,n)=>{"use strict";var r;n.d(t,{P:()=>r}),function(e){e[e.NOT_ACTIVE=0]="NOT_ACTIVE",e[e.PLAYING=1]="PLAYING",e[e.PAUSED=2]="PAUSED"}(r||(r={}))},89952:(e,t,n)=>{"use strict";var r;n.d(t,{M4:()=>p,kZ:()=>f,sb:()=>r,dR:()=>v,Fd:()=>g,PO:()=>m.P,zq:()=>u,F3:()=>d,k6:()=>a,G7:()=>o,iw:()=>s,G_:()=>l,RB:()=>c}),function(e){e.CONTEXT_DESCRIPTION="context_description",e.IS_AUDIOBOOK="is_audiobook",e.REPORTING_URI="reporting.uri",e.FILTERING_PREDICATE="filtering.predicate",e.SORTING_CRITERIA="sorting.criteria",e.LIST_UTIL_FILTER="list_util_filter",e.LIST_UTIL_SORT="list_util_sort"}(r||(r={}));var i=n(42781);function a(e){return(null==e?void 0:e.type)===i.p.AD}function o(e){return(null==e?void 0:e.type)===i.p.CHAPTER}function s(e){return(null==e?void 0:e.type)===i.p.EPISODE}function l(e){return(null==e?void 0:e.type)===i.p.TRACK}function c(e){return(null==e?void 0:e.type)===i.p.UNKNOWN}var u,d={type:i.p.UNKNOWN,uri:"",uid:"",name:"",images:[],mediaType:"audio",duration:{milliseconds:-1},album:{type:i.p.ALBUM,uri:"",name:"",images:[]},artists:[{type:i.p.ARTIST,uri:"",name:""}],provider:null},m=n(77042);!function(e){e[e.REPEAT_NONE=0]="REPEAT_NONE",e[e.REPEAT_CONTEXT=1]="REPEAT_CONTEXT",e[e.REPEAT_TRACK=2]="REPEAT_TRACK"}(u||(u={}));var p,f,v,g=["not_playing_locally","not_playing_context","not_playing_track","no_prev_track","no_next_track","no_specific_track","already_paused","not_paused","context_player_disallow","mft_disallow","ad_disallow","protocol_limitations","unknown","already_playing","throttled","endless_context","autoplay"];!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.LOW=1]="LOW",e[e.NORMAL=2]="NORMAL",e[e.HIGH=3]="HIGH",e[e.VERY_HIGH=4]="VERY_HIGH",e[e.HIFI=5]="HIFI"}(p||(p={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.BEST_MATCHING=1]="BEST_MATCHING",e[e.BACKEND_ADVISED=2]="BACKEND_ADVISED",e[e.OFFLINED_FILE=3]="OFFLINED_FILE",e[e.CACHED_FILE=4]="CACHED_FILE",e[e.LOCAL_FILE=5]="LOCAL_FILE"}(f||(f={})),function(e){e[e.NONE=0]="NONE",e[e.OFF=1]="OFF",e[e.ON=2]="ON"}(v||(v={}))},5944:(e,t,n)=>{"use strict";n.d(t,{k:()=>r});n(3843),n(83710);function r(e){if(null===e||null===e.positionAsOfTimestamp||null===e.duration)return null;var t=e.timestamp,n=e.positionAsOfTimestamp,r=e.duration,i=e.speed,a=e.hasContext,o=e.isPaused,s=e.isBuffering;if(!a||o||s)return n;var l=(Date.now()-t)*(null!=i?i:0);return Math.min(n+l,r)}},76303:(e,t,n)=>{"use strict";n.d(t,{CM:()=>g,Gt:()=>v,QL:()=>m,o9:()=>d,oT:()=>f,xy:()=>p});var r=n(69518),i=n.n(r),a=n(89952),o=n(42781),s=n(38470);function l(e,t){var n,r=i().from(e),a=i().from(t);return null!==(n=null==r?void 0:r.isSameIdentity(a))&&void 0!==n&&n}function c(e){return"queue"===(null==e?void 0:e.provider)}function u(e,t){if(null===e)return!1;switch(e.type){case o.p.TRACK:if(l(e.album.uri,t)||l(e.uri,t))return!0;break;case o.p.EPISODE:if(l(e.show.uri,t)||l(e.uri,t))return!0;break;case o.p.CHAPTER:if(l(e.book.uri,t)||l(e.uri,t))return!0;break;case o.p.AD:case o.p.UNKNOWN:break;default:(0,s.U)(e)}return!1}function d(e){return null!==e&&e.hasContext?e.isPaused?a.PO.PAUSED:a.PO.PLAYING:a.PO.NOT_ACTIVE}function m(e,t){var n,r,i,o,s,m;return null===e?a.PO.NOT_ACTIVE:(!c(e.item)&&"autoplay"!==(null==(m=e.item)?void 0:m.provider)||u(e.item,null!=t?t:null))&&(l(e.context.uri,null!=t?t:null)||l(null!==(n=null===(r=e.index)||void 0===r?void 0:r.pageURI)&&void 0!==n?n:null,null!=t?t:null)||l(null!==(i=null===(o=e.item)||void 0===o?void 0:o.uri)&&void 0!==i?i:null,null!==(s=e.context.uri)&&void 0!==s?s:null)&&u(e.item,null!=t?t:null))?d(e):a.PO.NOT_ACTIVE}function p(e,t){var n,r,i=t.contextURI,o=t.pageIndex,s=t.pageURI;if(null===e)return a.PO.NOT_ACTIVE;if(c(e.item)&&!u(e.item,null!=s?s:null))return a.PO.NOT_ACTIVE;if(l(e.context.uri,null!=i?i:null)){var m,p;if(n=null!==(m=e.index.pageIndex)&&void 0!==m?m:null,r=null!=o?o:null,null!==n&&null!==r&&n===r)return d(e);if(l(null!==(p=e.index.pageURI)&&void 0!==p?p:null,null!=s?s:null))return d(e)}return l(e.context.uri,null!=s?s:null)?d(e):a.PO.NOT_ACTIVE}function f(e,t){var n,r;return null===e?a.PO.NOT_ACTIVE:l(null!==(n=null===(r=e.item)||void 0===r?void 0:r.uri)&&void 0!==n?n:null,null!=t?t:null)?d(e):a.PO.NOT_ACTIVE}function v(e,t){if(null===e)return a.PO.NOT_ACTIVE;var n,r,i=function(e,t){var n;if(!c(e.item))return a.PO.NOT_ACTIVE;var r=e.item;if(l(r.uri,null!==(n=t.uri)&&void 0!==n?n:null)){var i,o;if(u(r,null!==(i=t.contextURI)&&void 0!==i?i:null))return d(e);if(u(r,null!==(o=t.pageURI)&&void 0!==o?o:null))return d(e)}return a.PO.NOT_ACTIVE}(e,t);return i!==a.PO.NOT_ACTIVE?i:(i=m(e,t.contextURI))===a.PO.NOT_ACTIVE&&(i=m(e,t.pageURI))===a.PO.NOT_ACTIVE?a.PO.NOT_ACTIVE:void 0!==t.uid?(null===(n=e.item)||void 0===n?void 0:n.uid)===t.uid?i:a.PO.NOT_ACTIVE:void 0!==t.uri?(null===(r=e.item)||void 0===r?void 0:r.uri)===t.uri?i:a.PO.NOT_ACTIVE:void 0!==t.index&&e.index.itemIndex===t.index?i:a.PO.NOT_ACTIVE}function g(e){var t,n=null!==(t=null==e?void 0:e.item)&&void 0!==t?t:void 0;return!!((0,a.G_)(n)||(0,a.iw)(n)||(0,a.k6)(n))&&(("video"===n.mediaType||"mixed"===n.mediaType)&&(null==e?void 0:e.playbackQuality.strategy)!==a.kZ.OFFLINED_FILE)}},48993:(e,t,n)=>{"use strict";n.d(t,{LT:()=>s,ew:()=>l,iT:()=>o});var r=n(93433),i=(n(69826),n(41539),n(89554),n(54747),n(57327),n(26699),n(21249),n(82772),n(40561),n(92222),n(23157),n(34553),n(47042),n(89952)),a=n(42781);function o(e,t,n,i,a,o){var s=t.find((function(e){return i(n.after||n.before,e)}));if(!s)return t;var l=[];e.forEach((function(e){var n=t.find((function(t){return i(e,t)}));n&&l.push(n)}));var c=t.filter((function(e){return!l.includes(e)})),u=l.map((function(e){return a(s)?o(e):e})),d=s?c.indexOf(s):0;return n.after?c.splice.apply(c,[d+1,0].concat((0,r.Z)(u))):c.splice.apply(c,[d,0].concat((0,r.Z)(u))),c}function s(e,t,n,i,a,o){var s=t.find((function(e){return i(n.after||n.before,e)}));if(!s)return t;var l=e.map((function(e){return o(e,a(s))})),c=t.indexOf(s);return n.after?t.splice.apply(t,[c+1,0].concat((0,r.Z)(l))):t.splice.apply(t,[c,0].concat((0,r.Z)(l))),t}function l(e,t){if(0===e.length)return{current:null,queued:[],nextUp:[]};for(var n=t===i.zq.REPEAT_CONTEXT?2:1,r=[],o=0,s=e[0],l=1;l<e.length;l++){var c=e[l],u=c.type,d=c.uri,m=c.metadata,p=(m=void 0===m?{}:m).hidden,f=m.availability_restrictions,v="spotify:delimiter"===d||"spotify:meta:delimiter"===d;if(v&&++o>=n)break;var g=d.startsWith("spotify:meta:"),h=u!==a.p.UNKNOWN&&f;g||v||"true"===p||h||r.push(e[l])}var y=r.findIndex((function(e){return"queue"!==e.provider}));return{current:s,queued:-1===y?r:r.slice(0,y),nextUp:-1===y?[]:r.slice(y)}}},59916:(e,t,n)=>{"use strict";n.d(t,{As:()=>a,JF:()=>l,MW:()=>s,bD:()=>i,tl:()=>r});var r,i,a,o=n(42781);n(18228);function s(e){return e.type===o.p.TRACK}function l(e){return e.type===o.p.EPISODE}!function(e){e.DOWN="DOWN",e.UP="UP",e.EQUAL="EQUAL",e.NEW="NEW"}(r||(r={})),function(e){e.TITLE="TITLE",e.ADDED_BY="ADDED_BY",e.ADDED_AT="ADDED_AT",e.ARTIST="ARTIST",e.ALBUM="ALBUM",e.DURATION="DURATION"}(i||(i={})),function(e){e.ASC="ASC",e.DESC="DESC"}(a||(a={}))},61634:(e,t,n)=>{"use strict";n.d(t,{If:()=>r,XL:()=>i,qR:()=>m});n(41539),n(81299),n(12419);var r,i,a=n(43144),o=n(15671),s=n(60136),l=n(82963),c=n(61120),u=n(98938);function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.Z)(e);if(t){var i=(0,c.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,l.Z)(this,n)}}!function(e){e.ADD="add",e.MOVE="move",e.REMOVE="remove",e.UPDATE="update",e.SET_COLLABORATIVE="set_collaborative"}(r||(r={})),function(e){e.UPDATE="update",e.OPERATION="operation",e.OPERATION_COMPLETE="operation_complete"}(i||(i={}));var m=function(e){(0,s.Z)(n,e);var t=d(n);function n(){return(0,o.Z)(this,n),t.apply(this,arguments)}return(0,a.Z)(n)}(u.r)},18228:(e,t,n)=>{"use strict";n.d(t,{R0:()=>r,cj:()=>a,pg:()=>i});var r,i;n(73210);function a(e){if(e)return"string"==typeof e?{field:r.TEXT,operator:i.CONTAINS,value:e.trim()}:e}!function(e){e.TEXT="TEXT"}(r||(r={})),function(e){e.CONTAINS="CONTAINS"}(i||(i={}))},24641:(e,t,n)=>{"use strict";n.d(t,{Qd:()=>r,Ti:()=>v,fv:()=>i});n(41539),n(81299),n(12419),n(47941),n(82526),n(57327),n(38880),n(89554),n(54747),n(49337),n(33321),n(69070);var r,i,a=n(4942),o=n(15671),s=n(43144),l=n(60136),c=n(82963),u=n(61120),d=n(98938);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,u.Z)(e);if(t){var i=(0,u.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,c.Z)(this,n)}}!function(e){e.CLAIM_PERMISSION="claim_permission",e.REMOVE_MEMBER="remove_member",e.SET_MEMBER_PERMISSION="set_member_permission",e.SET_BASE_PERMISSION="set_base_permission",e.GET_PERMISSION_GRANT="get_permission_grant"}(r||(r={})),function(e){e.OPERATION="operation",e.OPERATION_COMPLETE="operation_complete"}(i||(i={}));var v=function(e){(0,l.Z)(n,e);var t=f(n);function n(){return(0,o.Z)(this,n),t.apply(this,arguments)}return(0,s.Z)(n,[{key:"emitOperationSync",value:function(e){return this.emitSync(i.OPERATION,e).defaultPrevented}},{key:"emitOperationComplete",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.emit(i.OPERATION_COMPLETE,p(p({},e),{},{error:t}))}}]),n}(d.r)},9659:(e,t,n)=>{"use strict";n.d(t,{As:()=>i,R0:()=>a.R0,bD:()=>r,lU:()=>o,no:()=>s,pg:()=>a.pg});var r,i,a=n(15318);function o(e){return"folder"===e.type}function s(e){return"playlist"===e.type}!function(e){e.NAME="NAME",e.ADDED_AT="ADDED_AT",e.RECENTLY_PLAYED="RECENTLY_PLAYED",e.RELEVANCE="RELEVANCE",e.AVAILABLE_OFFLINE="AVAILABLE_OFFLINE"}(r||(r={})),function(e){e.ASC="ASC",e.DESC="DESC"}(i||(i={}))},86650:(e,t,n)=>{"use strict";n.d(t,{Yt:()=>i,aY:()=>r,l3:()=>m});n(41539),n(81299),n(12419);var r,i,a=n(43144),o=n(15671),s=n(60136),l=n(82963),c=n(61120),u=n(98938);function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.Z)(e);if(t){var i=(0,c.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,l.Z)(this,n)}}!function(e){e.ADD="add",e.REMOVE="remove",e.CREATE_PLAYLIST="create_playlist"}(r||(r={})),function(e){e.UPDATE="update",e.UPDATE_ITEM="update_item",e.OPERATION="operation",e.OPERATION_COMPLETE="operation_complete"}(i||(i={}));var m=function(e){(0,s.Z)(n,e);var t=d(n);function n(){return(0,o.Z)(this,n),t.apply(this,arguments)}return(0,a.Z)(n)}(u.r)},15318:(e,t,n)=>{"use strict";n.d(t,{R0:()=>r,cj:()=>a,pg:()=>i});var r,i;n(73210);function a(e){if(e)return"string"==typeof e?{field:r.TEXT,operator:i.CONTAINS,value:e.trim()}:e}!function(e){e.TEXT="TEXT"}(r||(r={})),function(e){e.CONTAINS="CONTAINS"}(i||(i={}))},90782:(e,t,n)=>{"use strict";n.d(t,{D:()=>d});var r=n(15671),i=n(43144),a=n(4942),o=(n(3843),n(83710),n(21249),n(96647),n(41539),n(39714),n(89554),n(54747),n(47941),n(82526),n(57327),n(38880),n(49337),n(33321),n(69070),n(23564));function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t){return 0===e?{addFirst:!0}:e>=t?{addLast:!0}:{fromIndex:e}}function u(e){e.attributes&&(e.attributes.itemId=void 0)}var d=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;(0,r.Z)(this,e),(0,a.Z)(this,"ops",[]),this.length=t}return(0,i.Z)(e,[{key:"add",value:function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Date.now(),i=o.Op.fromPartial({kind:o.Sh.ADD,add:l(l({},c(e,this.length)),{},{items:t.map((function(e){return o.ck.fromPartial({uri:e,attributes:{timestamp:r.toString()}})}))})});return null===(n=i.add)||void 0===n||n.items.forEach(u),this.ops.push(i),this}},{key:"remove",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=o.Op.fromPartial({kind:o.Sh.REM,rem:{fromIndex:e,length:n}});return null===(t=r.rem)||void 0===t||t.items.forEach(u),this.ops.push(r),this}},{key:"removeURIs",value:function(e){var t,n=o.Op.fromPartial({kind:o.Sh.REM,rem:{itemsAsKey:!0,items:e.map((function(e){return o.ck.fromPartial({uri:e})}))}});return null===(t=n.rem)||void 0===t||t.items.forEach(u),this.ops.push(n),this}},{key:"move",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return this.ops.push(o.Op.fromPartial({kind:o.Sh.MOV,mov:{fromIndex:e,toIndex:t,length:n}})),this}},{key:"updateListAttributes",value:function(e){return this.ops.push({kind:o.Sh.UPDATE_LIST_ATTRIBUTES,updateListAttributes:e}),this}},{key:"updateItemAttributes",value:function(e){return this.ops.push({kind:o.Sh.UPDATE_ITEM_ATTRIBUTES,updateItemAttributes:e}),this}},{key:"build",value:function(){return{baseVersion:void 0,ops:this.ops,info:o.wm.fromPartial({source:{client:o.rf.WEBPLAYER}})}}}]),e}()},76460:(e,t,n)=>{"use strict";n.d(t,{n:()=>m});n(41539),n(81299),n(12419);var r=n(15671),i=n(43144),a=n(97326),o=n(60136),s=n(82963),l=n(61120),c=(n(24812),n(75549)),u=n(61634);function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,l.Z)(e);if(t){var i=(0,l.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,s.Z)(this,n)}}var m=function(e){(0,o.Z)(n,e);var t=d(n);function n(){var e;return(0,r.Z)(this,n),(e=t.call(this))._aggregator=(0,c.PP)(e.onBatchChanged.bind((0,a.Z)(e))),e.onAddListener(u.XL.UPDATE,(function(t){var n=t.data.options.uri;e._aggregator.subscribe(n)})),e.onRemoveListener(u.XL.UPDATE,(function(t){var n=t.data.options.uri;e._aggregator.subscribe(n)})),e}return(0,i.Z)(n,[{key:"emitOperationSync",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=this.emitSync(u.XL.OPERATION,{operation:e,uri:t,items:n});return r.defaultPrevented}},{key:"emitOperationComplete",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];this.emit(u.XL.OPERATION_COMPLETE,{operation:e,uri:t,items:r,error:n})}}]),n}(u.qR)},10276:(e,t,n)=>{"use strict";n.d(t,{jw:()=>m,Du:()=>f,Re:()=>u});var r=n(15861),i=(n(92222),n(87757)),a=n.n(i),o=n(16516),s=n(69518),l=n.n(s);function c(e){var t=l().from(e);return t?t.getBase62Id():""}function u(e,t,n){return d.apply(this,arguments)}function d(){return(d=(0,r.Z)(a().mark((function e(t,n,r){var i,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=c(n),e.next=3,t.build().withHost(o.KH).withMethod("POST").withPath("/playlist/".concat(i,"/permission-grant")).withEndpointIdentifier("/playlist/{id}/permission-grant").withJsonContentType().withBody({permission:{permissionLevel:r}}).withoutMarket().send();case 3:return s=e.sent,e.abrupt("return",s.body);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(e,t,n){return p.apply(this,arguments)}function p(){return(p=(0,r.Z)(a().mark((function e(t,n,r){var i,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=c(n),e.next=3,t.build().withHost(o.KH).withMethod("POST").withPath("/playlist/".concat(i,"/permission-grant/token/").concat(r,"/claim")).withEndpointIdentifier("/playlist/{id}/permission-grant/token/{token}/claim").withJsonContentType().withoutMarket().send();case 3:return s=e.sent,e.abrupt("return",s.body);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(e,t){return v.apply(this,arguments)}function v(){return(v=(0,r.Z)(a().mark((function e(t,n){var r,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c(n),e.next=3,t.build().withHost(o.KH).withMethod("GET").withPath("/playlist/".concat(r,"/permission/base")).withEndpointIdentifier("/playlist/{id}/permission/base").withoutMarket().send();case 3:return i=e.sent,e.abrupt("return",i.body);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},86063:(e,t,n)=>{"use strict";n.d(t,{w:()=>p});n(81299),n(12419);var r=n(15671),i=n(43144),a=n(97326),o=n(60136),s=n(82963),l=n(61120),c=n(4942),u=(n(24812),n(89554),n(41539),n(54747),n(79753),n(86650)),d=n(75549);function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,l.Z)(e);if(t){var i=(0,l.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,s.Z)(this,n)}}var p=function(e){(0,o.Z)(n,e);var t=m(n);function n(){var e;return(0,r.Z)(this,n),e=t.call(this),(0,c.Z)((0,a.Z)(e),"_numListeners",0),e._aggregator=(0,d.PP)(e.onContainsItems.bind((0,a.Z)(e))),e.onAddListener(u.Yt.UPDATE,(function(){1==++e._numListeners&&e.subscribeToUpdates()})),e.onRemoveListener(u.Yt.UPDATE,(function(){0==--e._numListeners&&e.unsubscribeFromUpdates()})),e.onAddListener(u.Yt.UPDATE_ITEM,(function(t){1==++e._numListeners&&e.subscribeToUpdates();var n=t.data.options.uri;e._aggregator.subscribe(n)})),e.onRemoveListener(u.Yt.UPDATE_ITEM,(function(t){0==--e._numListeners&&e.unsubscribeFromUpdates();var n=t.data.options.uri;e._aggregator.unsubscribe(n)})),e}return(0,i.Z)(n,[{key:"emitUpdateItems",value:function(e,t){var n=this;e.forEach((function(e,r){n.emit(u.Yt.UPDATE_ITEM,{uri:e,isInRootlist:Array.isArray(t)?t[r]:t})}))}},{key:"emitOperationSync",value:function(e,t){return this.emitSync(u.Yt.OPERATION,{operation:e,uris:t}).defaultPrevented}},{key:"emitOperationComplete",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.emit(u.Yt.OPERATION_COMPLETE,{operation:e,uris:t,error:n})}}]),n}(u.l3)},10695:(e,t,n)=>{"use strict";n.d(t,{cm:()=>N,r_:()=>I,fK:()=>T,qr:()=>C,BW:()=>_,UC:()=>b});var r=n(15671),i=n(43144),a=n(4942),o=(n(83710),n(34553),n(82772),n(47941),n(82526),n(57327),n(41539),n(38880),n(89554),n(54747),n(49337),n(33321),n(69070),n(47042),n(68309),n(91038),n(78783),n(74916),n(77601),n(41817),n(32165),n(66992),n(33948),n(79753),n(21703),n(96647),n(69518)),s=n.n(o),l=n(9659),c=(n(91058),n(21249),n(92222),n(69826),n(45724)),u=n(42781);function d(e){return e?new Date(parseInt(e,10)):null}function m(e){return{type:u.p.USER,uri:s().profileURI(e).toURI(),username:e,displayName:null,images:[]}}function p(e,t){if(void 0!==e)return e.map((function(e){return{url:e.url}}));if(void 0!==t){var n=(0,c.zv)(t);return[{url:"https://i.scdn.co/image/".concat(n)}]}return[]}function f(e,t,n,r,i){var a,o=n.attributes,s=r.attributes;if(!o||!s)return function(e,t,n){var r=t.attributes;return{type:"placeholder",id:"".concat(e),uid:"".concat(t.uri,"_").concat(n),uri:t.uri,addedAt:d(null==r?void 0:r.timestamp),isNotFound:!0,isForbidden:!1}}(t,n,i);var l=m(r.ownerUsername),c=function(e){return void 0===e?null:m(e)}(null===(a=s.formatAttributes.find((function(e){return"madeFor.username"===e.key})))||void 0===a?void 0:a.value),f=e===l.username,v=s.collaborative,g=o.public,h=f,y=f;return{type:u.p.PLAYLIST,id:"".concat(t),uid:"".concat(n.uri,"_").concat(i),addedAt:d(o.timestamp),uri:n.uri,name:s.name,description:s.description,totalLength:r.length,totalLikes:null,duration:null,images:p(s.pictureSize,s.picture),owner:l,madeFor:c,isCollaborative:v,isLoaded:!0,isOwnedBySelf:f,isPublished:g,hasEpisodes:null,hasSpotifyTracks:null,canAdd:h,canRemove:y,canPlay:null,formatListData:null,canReportAnnotationAbuse:!1,hasDateAdded:!0,permissions:null,collaborators:null}}function v(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function k(e){var t=e;return"folder"===t.type&&void 0!==t.hash&&void 0!==t.rawItemCount}function E(e,t){var n,r,i=null===(n=e.contents)||void 0===n||null===(r=n.items)||void 0===r?void 0:r[t];return void 0===i?null:s().from(i.uri)}function b(e,t){var n=E(e,t);return null!==n&&(n.type===s().Type.APPLICATION&&"start-group"===n.id&&2===n.args.length)}function _(e,t){var n=E(e,t);return null!==n&&(n.type===s().Type.APPLICATION&&"end-group"===n.id&&1===n.args.length)}function S(e,t){return y({type:"folder",id:"",uid:null,uri:e,name:"<root>",addedAt:new Date(0),items:[],hash:"00000000",rawItemCount:0},t)}function w(e,t,n,r,i,a){return y(y({},function(e,t,n,r,i){var a=r.attributes;return{type:"folder",id:"".concat(e),uid:"".concat(r.uri,"_").concat(i),uri:t,name:n,addedAt:d(null==a?void 0:a.timestamp),items:[]}}(t,s().folderURI(e,n).toURI(),r,i,a)),{},{hash:n,rawItemCount:1})}var N=function(){function e(t){(0,r.Z)(this,e),(0,a.Z)(this,"stack",[]),(0,a.Z)(this,"seen",[]),this.username=t;var n=s().folderURI(t,"0000000000000000").toURI();this.root=S(n)}return(0,i.Z)(e,[{key:"build",value:function(e){for(var t=e.contents,n=(null==t?void 0:t.items)||[],r=(null==t?void 0:t.metaItems)||[],i={},a=0;a<n.length;++a){var o;this.increaseRawItemCount();var l=n[a],c=r[a],u=s().from(l.uri);if(u)switch(i[l.uri]=(null!==(o=i[l.uri])&&void 0!==o?o:0)+1,u.type){case s().Type.PLAYLIST:case s().Type.PLAYLIST_V2:var d=f(this.username,a,l,c,i[l.uri]);this.onPlaylist(d);break;case s().Type.APPLICATION:var m,p;if("start-group"===u.id&&2===(null===(m=u.args)||void 0===m?void 0:m.length)){var v=u.args[0],g=u.args[1];this.hasSeen(v)||this.onStartGroup(w(this.username,a,v,g,l,i[l.uri]))}else if("end-group"===u.id&&1===(null===(p=u.args)||void 0===p?void 0:p.length)){var h=u.args[0];this.onEndGroup(h)}}}return this.root}},{key:"peek",value:function(){return this.stack.length>0?this.stack[this.stack.length-1]:this.root}},{key:"onPlaylist",value:function(e){this.peek().items.push(e)}},{key:"onStartGroup",value:function(e){this.peek().items.push(e),this.stack.push(e),this.seen.push(e.hash)}},{key:"onEndGroup",value:function(e){var t=this.stack.findIndex((function(t){return t.hash===e}));-1!==t&&(this.stack.length=t)}},{key:"hasSeen",value:function(e){return-1!==this.seen.indexOf(e)}},{key:"increaseRawItemCount",value:function(){this.root.rawItemCount++;for(var e=0;e<this.stack.length;++e)this.stack[e].rawItemCount++}}]),e}();function O(e,t){var n=[];t(e)&&n.push(e);for(var r=[e];r.length>0;){var i,a=v(r.pop().items);try{for(a.s();!(i=a.n()).done;){var o=i.value;k(o)&&r.push(o),t(o)&&n.push(o)}}catch(e){a.e(e)}finally{a.f()}}return n}function C(e){return O(e,(function(e){return(0,l.no)(e)}))}function T(e){return S(e.uri,{items:C(e)})}function I(e,t){var n=O(e,(function(e){return!!k(e)&&e.uri===t}));return n.length>0?n[0]:null}},85323:(e,t,n)=>{"use strict";n.d(t,{H:()=>m});var r=n(15861),i=n(87757),a=n.n(i),o=(n(21703),n(96647),n(85827),n(41539),n(92222),n(57327),n(21249),n(68309),n(3775)),s=(n(98984),{kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"decoratePlaylists"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uris"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"playlistsUnion"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uris"},value:{kind:"Variable",name:{kind:"Name",value:"uris"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Playlist"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"images"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"owner"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"username"}}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Error"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"message"}}]}}]}}]}}]}),l=n(56705);function c(e,t){return u.apply(this,arguments)}function u(){return u=(0,r.Z)(a().mark((function e(t,n){var i,c;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=(0,o.PQ)(t),e.next=3,(0,l.s)(n,function(){var e=(0,r.Z)(a().mark((function e(t){var n,r,o,l;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i(s,{uris:t});case 2:if(n=e.sent,o=(r=n||{}).errors,null!=(l=r.data)&&l.playlistsUnion){e.next=10;break}if(!(o&&o.length>0)){e.next=9;break}throw new Error("GraphQL error: ".concat(o[0].message));case 9:throw new Error("Unknown GraphQL error!");case 10:return e.abrupt("return",l);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),50);case 3:return c=e.sent,e.abrupt("return",{playlistsUnion:c.reduce((function(e,t){return e.concat(t.playlistsUnion||[])}),[])});case 5:case"end":return e.stop()}}),e)}))),u.apply(this,arguments)}function d(e){return null===e.owner.displayName||0===e.images.length}function m(e,t,n){return p.apply(this,arguments)}function p(){return(p=(0,r.Z)(a().mark((function e(t,n,r){var i,o,s,l,u,m,p,f,v,g,h,y,k,E;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(e.prev=0,i=0;i<r.length;++i)o=r[i],n.has(o.uri)&&(s=n.get(o.uri),l=s.images,u=s.owner,o.owner=u,o.images=l);return m=r.filter(d).filter((function(e){return!n.has(e.uri)})),e.next=5,c(t,m.map((function(e){return e.uri})));case 5:for(p=e.sent,f=p.playlistsUnion,v=0;v<m.length;++v)g=m[v],"Playlist"===(h=f[v]).__typename&&(y=h.uri,k=h.images,(E=h.owner)&&(g.owner.displayName=E.name),k.items.length>0&&(g.images=k.items[0].sources.map((function(e){return{url:e.url,width:e.width||void 0,height:e.height||void 0}}))),n.set(y,{owner:g.owner,images:g.images}));e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),window.console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}},58012:(e,t,n)=>{"use strict";n.d(t,{h:()=>i});var r=n(42781);function i(e){return{metadata:{type:r.p.PLAYLIST,uri:e,name:"",description:"",images:[],madeFor:null,owner:{type:r.p.USER,uri:"",username:"",displayName:"",images:[]},totalLength:0,totalLikes:null,duration:null,isCollaborative:!1,isLoaded:!1,isOwnedBySelf:!1,isPublished:!1,hasEpisodes:null,hasSpotifyTracks:null,canAdd:!1,canRemove:!1,canPlay:null,formatListData:null,canReportAnnotationAbuse:!1,hasDateAdded:!1,permissions:{isPrivate:!1,canView:!1,canAdministratePermissions:!1,canCancelMembership:!1},collaborators:null},contents:{totalLength:0,offset:0,limit:0,items:[]}}}},97908:(e,t,n)=>{"use strict";n.d(t,{C:()=>r});var r=["daily-mix","my-mix","car-mix","personalized-podcasts"]},90658:(e,t,n)=>{"use strict";n.d(t,{A:()=>f});var r=n(4942),i=n(15861),a=n(87757),o=n.n(a),s=(n(21249),n(68309),n(69826),n(41539),n(26699),n(32023),n(47941),n(82526),n(57327),n(38880),n(89554),n(54747),n(49337),n(33321),n(69070),n(37176)),l=n(69518),c=n.n(l);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var m=s.XA,p="".concat(m,"/playlistextender"),f=function(){var e=(0,i.Z)(o().mark((function e(t,n,r,i){var a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.build().withMethod("POST").withHost(p).withPath("/extendp/").withEndpointIdentifier("/extendp/").withJsonContentType().withBody({playlistURI:n,trackSkipIDs:r||[],numResults:i||10}).withoutMarket().send();case 2:if(!(a=e.sent).body){e.next=5;break}return e.abrupt("return",a.body.recommendedTracks.map((function(e){var t,n=e.id,r=e.album.id,i=e.artists,a=c().trackURI(n).toURI(),o=c().albumURI(r).toURI(),s=i.map((function(e){var t=e.id;return{id:t,name:e.name,uri:c().artistURI(t).toURI()}}));return d(d({},e),{},{uri:a,album:d(d({},e.album),{},{uri:o}),artists:s,isMOGEFRestricted:!(null===(t=e.contentRating)||void 0===t||!t.find((function(e){return"KR"===e.country&&e.tag.includes("MOGEF-19+")})))})})));case 5:return e.abrupt("return",[]);case 6:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},19423:(e,t,n)=>{"use strict";n.d(t,{J:()=>s});var r=n(15861),i=n(87757),a=n.n(i),o=(n(21703),n(96647),n(16516));function s(e,t){return l.apply(this,arguments)}function l(){return(l=(0,r.Z)(a().mark((function e(t,n){var r,i,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.build().withHost(o.fe).withMethod("GET").withPath("/resolve-uri/".concat(encodeURIComponent(n))).withEndpointIdentifier("/resolve-uri/{uri}").withoutMarket().send();case 2:if(r=e.sent,i=r.body,!((s=i.resolvedPlaylists).length>0)){e.next=6;break}return e.abrupt("return",s[0].uri);case 6:throw new Error("Error resolving playlist format URI!");case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},23564:(e,t,n)=>{"use strict";n.d(t,{B3:()=>r.B3,Op:()=>r.Op,Sh:()=>r.Sh,_c:()=>r._c,ck:()=>r.ck,hA:()=>r.hA,ow:()=>r.ow,pS:()=>i,rf:()=>r.rf,wm:()=>r.wm});var r=n(8821),i=n(91753)},20321:(e,t,n)=>{"use strict";n.d(t,{b:()=>f});var r=n(4942),i=n(15861),a=n(87757),o=n.n(a),s=(n(68309),n(21703),n(96647),n(82526),n(41817),n(47941),n(57327),n(41539),n(38880),n(89554),n(54747),n(49337),n(33321),n(69070),n(23564)),l=n(90782),c=n(69518),u=n.n(c),d=n(16516);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return v.apply(this,arguments)}function v(){return(v=(0,i.Z)(o().mark((function e(t,n,r){var i,a,c,m,f,v,h;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=null,a=u().from(n).getBase62Id(),!r.imageUploadToken){e.next=6;break}return e.next=5,g(t,a,r.imageUploadToken);case 5:i=e.sent;case 6:if(c={},m=[],"string"==typeof i?c.picture=i:null===r.imageUploadToken&&m.push(s._c.LIST_PICTURE),!("name"in r)){e.next=13;break}if(r.name){e.next=12;break}throw Error("Can not set empty playlist name!");case 12:c.name=r.name;case 13:if("description"in r&&(c.description=r.description),0!==Object.keys(c).length||0!==m.length){e.next=16;break}return e.abrupt("return",void 0);case 16:return f=(new l.D).updateListAttributes({newAttributes:{values:c,noValue:m}}).build(),(v=p(p({},s.ow.fromPartial({})),{},{deltas:[f]})).baseRevision=void 0,e.next=21,t.build().withMethod("POST").withHost(d.fe).withPath("/playlist/".concat(a,"/changes")).withEndpointIdentifier("/playlist/{id}/changes").withoutMarket().withJsonContentType().withBody(v).send();case 21:return h=e.sent,e.abrupt("return",h);case 23:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(e,t,n){return h.apply(this,arguments)}function h(){return(h=(0,i.Z)(o().mark((function e(t,n,r){var i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.build().withEndpointIdentifier("playlist/${id}/register-image").withHost(d.fe).withMethod("POST").withPath("/playlist/".concat(n,"/register-image")).withJsonContentType().withBody({uploadToken:r}).withoutMarket().send();case 2:if((i=e.sent).body){e.next=5;break}throw new Error("No image id from registration!");case 5:return e.abrupt("return",i.body.picture);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},32242:(e,t,n)=>{"use strict";n.d(t,{I:()=>s});var r=n(15861),i=n(87757),a=n.n(i),o=(n(21703),n(96647),"https://image-upload.spotify.com/v4");function s(e,t){return l.apply(this,arguments)}function l(){return(l=(0,r.Z)(a().mark((function e(t,n){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.build().withEndpointIdentifier("image-upload/v4/playlist").withHost(o).withMethod("POST").withPath("/playlist").withBody(n).withoutGlobalHeaders().withHeaders([{key:"Content-Type",value:"image/jpeg"}]).withoutMarket().send();case 2:if((r=e.sent).body){e.next=5;break}throw new Error("No upload token recieved");case 5:return e.abrupt("return",r.body.uploadToken);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},88063:(e,t,n)=>{"use strict";n.d(t,{IC:()=>d,x9:()=>u});var r=n(4942),i=(n(21703),n(96647),n(92222),n(89952)),a=n(18228),o=(0,r.Z)({},a.R0.TEXT,"text"),s=(0,r.Z)({},a.pg.CONTAINS,"contains");var l=(0,r.Z)({},a.R0.TEXT,"text"),c=(0,r.Z)({},a.pg.CONTAINS,"=^#");function u(e){return null!=e&&e.value?"&filter=".concat(encodeURIComponent(function(e){var t=e.field,n=e.operator,r=e.value;if(t!==a.R0.TEXT||n!==a.pg.CONTAINS)throw new Error("Invalid filter params!");var i=o[t],l=s[n];return"".concat(i," ").concat(l," ").concat(encodeURIComponent(r))}(e))):""}function d(e,t){void 0!==(null==t?void 0:t.value)&&(e.metadata||(e.metadata={}),e.metadata[i.sb.FILTERING_PREDICATE]=function(e){var t=e.field,n=e.operator,r=e.value;if(t!==a.R0.TEXT||n!==a.pg.CONTAINS)throw new Error("Invalid filter params!");var i=l[t],o=c[n];return"".concat(i," ").concat(o,' "').concat(r,'"')}(t))}},87454:(e,t,n)=>{"use strict";n.d(t,{R:()=>d,Y:()=>u});var r,i,a=n(4942),o=(n(21703),n(96647),n(69600),n(21249),n(92222),n(89952)),s=n(59916),l=(r={},(0,a.Z)(r,s.bD.TITLE,["name","originalIndex"]),(0,a.Z)(r,s.bD.ADDED_BY,["addedByDisplayName","originalIndex"]),(0,a.Z)(r,s.bD.ADDED_AT,["addTime","album.name","album.artist.name","discNumber","trackNumber","originalIndex"]),(0,a.Z)(r,s.bD.ARTIST,["artist.name","album.name","discNumber","trackNumber","originalIndex"]),(0,a.Z)(r,s.bD.ALBUM,["album.name","discNumber","trackNumber","originalIndex"]),(0,a.Z)(r,s.bD.DURATION,["length","album.name","discNumber","trackNumber","originalIndex"]),r);var c=(i={},(0,a.Z)(i,s.bD.TITLE,["title","original_index"]),(0,a.Z)(i,s.bD.ADDED_BY,["added_by","original_index"]),(0,a.Z)(i,s.bD.ADDED_AT,["added_at","album_title","album_artist_name","album_disc_number","album_track_number","original_index"]),(0,a.Z)(i,s.bD.ARTIST,["artist_name","album_title","album_disc_number","album_track_number","original_index"]),(0,a.Z)(i,s.bD.ALBUM,["album_title","album_disc_number","album_track_number","original_index"]),(0,a.Z)(i,s.bD.DURATION,["duration","album_title","album_disc_number","album_track_number","original_index"]),i);function u(e){return void 0===e?"":"&sort=".concat(encodeURIComponent(function(e){var t=e.field,n=e.order,r=l[t];if(void 0===r||n!==s.As.ASC&&n!==s.As.DESC)throw new Error("Invalid sort params!");return r.map((function(e,t){return n?"".concat(e," ").concat(t>0?s.As.ASC:n):e})).join(",")}(e)))}function d(e,t){void 0!==t&&(e.metadata||(e.metadata={}),e.metadata[o.sb.SORTING_CRITERIA]=function(e){var t=e.field,n=e.order,r=c[t];if(void 0===r||n!==s.As.ASC&&n!==s.As.DESC)throw new Error("Invalid sort params!");return r.map((function(e,t){return n?"".concat(e," ").concat(t>0?s.As.ASC:n):e})).join(",")}(t))}},42714:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var r=(0,n(67294).createContext)({getCapabilities:function(){},getMetadata:function(){},getContents:function(){},add:function(){},move:function(){},remove:function(){},setCollaborativeState:function(){},getEvents:function(){}})},54977:(e,t,n)=>{"use strict";n.d(t,{N:()=>a,z:()=>o});n(21703),n(96647);var r=n(67294),i=(0,r.createContext)(null),a=function(e){var t=e.instance,n=e.children;return r.createElement(i.Provider,{value:t},n)},o=function(){var e=(0,r.useContext)(i);if(null===e)throw new Error("usePlaylistPermissionsAPI must be used within a PlaylistPermissionsProvider");return e}},80962:(e,t,n)=>{"use strict";n.d(t,{B:()=>r});var r=(0,n(67294).createContext)(null)},73893:(e,t,n)=>{"use strict";n.d(t,{U:()=>o});var r=n(87454),i=n(88063),a=n(18228);function o(e,t,n){var o={uri:e};return(0,r.R)(o,t),(0,i.IC)(o,(0,a.cj)(n)),o}},72138:(e,t,n)=>{"use strict";n.d(t,{ZF:()=>r.Z,NC:()=>o.N,ry:()=>a,BS:()=>s.B,xY:()=>l,ET:()=>v,Yv:()=>y,Cu:()=>b.C,Rt:()=>w,lh:()=>E.l,iu:()=>k.i});n(23564);var r=n(42714),i=n(67294),a=function(e){var t=e.instance,n=e.children;return i.createElement(r.Z.Provider,{value:t},n)},o=n(54977),s=n(80962),l=function(e){var t=e.instance,n=e.children;return i.createElement(s.B.Provider,{value:t},n)},c=(n(47941),n(82526),n(57327),n(41539),n(38880),n(89554),n(54747),n(49337),n(33321),n(69070),n(4942)),u=n(28018),d=n(88767),m=n(62830);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){(0,c.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var v=function(e,t){var n=(0,i.useContext)(r.Z),a=(0,d.useQueryClient)(),o=(0,i.useRef)(null==t?void 0:t.withSync),s=(0,m.jP)((function(){return["usePlaylistMetadata",e,t]}),[t,e]),l=(0,d.useQuery)(s(),(function(){return n.getMetadata(e,f(f({},t),{},{withSync:o.current}))}),{cacheTime:36e5,keepPreviousData:!0}).data,c=(0,i.useCallback)((function(){o.current=!1,a.invalidateQueries(s())}),[a,s]);return(0,u.r)(e,c),null!=l?l:null},g=n(87757),h=n.n(g);function y(e){var t=(0,i.useContext)(r.Z),n=(0,o.z)();return{addItems:(0,i.useCallback)((function(n,r){return t.add(e,n,r)}),[e,t]),moveItems:(0,i.useCallback)((function(n,r){return t.move(e,n,r)}),[e,t]),removeItems:(0,i.useCallback)((function(n){return t.remove(e,n)}),[e,t]),setCollaborativeState:(0,i.useCallback)((function(n){return t.setCollaborativeState(e,n)}),[e,t]),updateDetails:(0,i.useCallback)((function(n){return t.updateDetails(e,n)}),[e,t]),uploadImage:(0,i.useCallback)((function(e){return t.uploadImage(e)}),[t]),setPrivateState:(0,i.useCallback)((function(t){return n.setBasePermission(e,t?"BLOCKED":"VIEWER")}),[n,e]),removeMember:(0,i.useCallback)((function(t){return n.removeMember(e,t)}),[n,e])}}var k=n(99056),E=n(57825),b=n(99013),_=n(15861),S=n(29439);function w(){var e=(0,i.useContext)(s.B),t=(0,i.useState)(null),n=(0,S.Z)(t,2),r=n[0],a=n[1],o=(0,i.useCallback)((0,_.Z)(h().mark((function t(){return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=a,t.next=3,e.getMetadata();case 3:return t.t1=t.sent,t.abrupt("return",(0,t.t0)(t.t1));case 5:case"end":return t.stop()}}),t)}))),[e]);return(0,i.useEffect)((function(){o()}),[o]),(0,k.i)(o),r}},63282:(e,t,n)=>{"use strict";n.d(t,{K:()=>b});var r=n(15861),i=n(87757),a=n.n(i),o=(n(68309),n(21249),n(21703),n(96647),n(92222),n(67294)),s=n(51615),l=n(69518),c=n.n(l),u=n(42714),d=n(80962),m=n(3775),p=n(96206),f=(n(98984),{kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"getAlbumNameAndTracks"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uri"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"albumUnion"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uri"},value:{kind:"Variable",name:{kind:"Name",value:"uri"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Album"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"tracks"},arguments:[{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"track"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"pagingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nextOffset"}}]}}]}}]}}]}}]}}]}),v=Spicetify.GraphQL.Definitions["getEpisodeName"]={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"getEpisodeName"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uri"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"episodeUnion"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uri"},value:{kind:"Variable",name:{kind:"Name",value:"uri"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Episode"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]}}]},g=Spicetify.GraphQL.Definitions["getTrackName"]={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"getTrackName"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uri"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"trackUnion"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uri"},value:{kind:"Variable",name:{kind:"Name",value:"uri"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Track"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]}}]};function h(e,t){return y.apply(this,arguments)}function y(){return(y=(0,r.Z)(a().mark((function e(t,n){var r,i,o,s,l;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=p.ag.get("playlist.default_playlist_name"),e.prev=1,!c().isEpisode(t)){e.next=10;break}return e.next=5,n(v,{uri:t});case 5:if("Episode"!==(null==(o=e.sent)||null===(i=o.data.episodeUnion)||void 0===i?void 0:i.__typename)){e.next=8;break}return e.abrupt("return",o.data.episodeUnion.name);case 8:e.next=16;break;case 10:if(!c().isTrack(t)){e.next=16;break}return e.next=13,n(g,{uri:t});case 13:if("Track"!==(null==(l=e.sent)||null===(s=l.data.trackUnion)||void 0===s?void 0:s.__typename)){e.next=16;break}return e.abrupt("return",l.data.trackUnion.name);case 16:return e.abrupt("return",r);case 19:return e.prev=19,e.t0=e.catch(1),e.abrupt("return",r);case 22:case"end":return e.stop()}}),e,null,[[1,19]])})))).apply(this,arguments)}function k(e,t,n){return E.apply(this,arguments)}function E(){return(E=(0,r.Z)(a().mark((function e(t,n,r){var i,o,s,l,c,u,d;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r(f,{uri:t,offset:n,limit:200});case 2:if("Album"!==(null==(o=e.sent)||null===(i=o.data.albumUnion)||void 0===i?void 0:i.__typename)){e.next=14;break}if(s=o.data.albumUnion,l=s.name,c=s.tracks,u=c.items.map((function(e){return e.track.uri})),!c.pagingInfo.nextOffset){e.next=13;break}if(!(c.pagingInfo.nextOffset<=n||0===u.length)){e.next=9;break}throw new Error("Error while requesting ".concat(t," content, unexpetced nextOffset"));case 9:return e.next=11,k(t,c.pagingInfo.nextOffset,r);case 11:return d=e.sent,e.abrupt("return",{name:l,trackUris:u.concat(d.trackUris)});case 13:return e.abrupt("return",{name:l,trackUris:u});case 14:throw new Error("Error while requesting ".concat(t," content"));case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(){var e=(0,s.k6)(),t=(0,o.useContext)(u.Z),n=(0,o.useContext)(d.B),i=(0,o.useContext)(m.Ax).request,l=(0,o.useCallback)(function(){var e=(0,r.Z)(a().mark((function e(r,o){var s,l,c,u,d;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=o?{after:o}:{before:"start"},e.next=3,k(r,0,i);case 3:return l=e.sent,c=l.name,u=l.trackUris,e.next=8,n.createPlaylist(c,s);case 8:if(!(d=e.sent)){e.next=12;break}return e.next=12,t.add(d,u,{before:"start"});case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[t,n,i]),f=(0,o.useCallback)(function(){var e=(0,r.Z)(a().mark((function e(r,o){var s,l,c;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=o?{after:o}:{before:"start"},e.next=3,h(r[0],i);case 3:return l=e.sent,e.next=6,n.createPlaylist(l,s);case 6:if(!(c=e.sent)){e.next=10;break}return e.next=10,t.add(c,r,{before:"start"});case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[t,n,i]),v=(0,o.useCallback)(function(){var t=(0,r.Z)(a().mark((function t(r){var i,o,s,l,u;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.getMetadata();case 2:return i=t.sent,o=i.ownedPlaylistCount,s=p.ag.get("playlist.new-default-name",o+1),t.next=7,n.createPlaylist(s,{before:"start"});case 7:l=t.sent,(u=c().from(l))&&e.push("/playlist/".concat(u.getBase62Id()),{referrer:"your_library",interactionId:r});case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[n,e]);return{createPlaylist:v,createPlaylistFromAlbum:l,createPlaylistFromTracks:f}}},28018:(e,t,n)=>{"use strict";n.d(t,{r:()=>o});var r=n(67294),i=n(61634),a=n(42714);function o(e,t){var n=(0,r.useContext)(a.Z);(0,r.useEffect)((function(){var r=n.getEvents(),a=function(n){n.data.uri===e&&t(n)};return r.addListener(i.XL.UPDATE,a,{uri:e}),function(){r.removeListener(i.XL.UPDATE,a,{uri:e})}}),[n,e,t])}},99013:(e,t,n)=>{"use strict";n.d(t,{C:()=>d});var r=n(15861),i=n(29439),a=n(87757),o=n.n(a),s=n(67294),l=n(80962),c=n(99056),u=n(62830);function d(e){var t=(0,s.useContext)(l.B),n=(0,s.useState)(null),a=(0,i.Z)(n,2),d=a[0],m=a[1],p=(0,s.useRef)(e),f=(0,s.useCallback)((0,r.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=m,e.next=3,t.getContents(p.current);case 3:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 5:case"end":return e.stop()}}),e)}))),[t]);return(0,u.KW)((function(){p.current=e,f()}),[f,e]),(0,c.i)(f),d}},57825:(e,t,n)=>{"use strict";n.d(t,{l:()=>a});var r=n(67294),i=n(80962);function a(){var e=(0,r.useContext)(i.B);return{createFolder:(0,r.useCallback)((function(t,n){return e.createFolder(t,n)}),[e]),createPlaylist:(0,r.useCallback)((function(t,n){return e.createPlaylist(t,n)}),[e]),moveFolder:(0,r.useCallback)((function(t,n){return e.moveFolder(t,n)}),[e]),removeFolder:(0,r.useCallback)((function(t){return e.removeFolder(t)}),[e]),renameFolder:(0,r.useCallback)((function(t,n){return e.renameFolder(t,n)}),[e]),addPlaylists:(0,r.useCallback)((function(t,n){return e.add(t,n)}),[e]),movePlaylists:(0,r.useCallback)((function(t,n){return e.move(t,n)}),[e]),removePlaylists:(0,r.useCallback)((function(t){return e.remove(t)}),[e]),containsPlaylists:(0,r.useCallback)((function(t){return e.contains(t)}),[e]),setPublishedState:(0,r.useCallback)((function(t,n){return e.setPublishedState(t,n)}),[e])}}},99056:(e,t,n)=>{"use strict";n.d(t,{i:()=>o});var r=n(67294),i=n(86650),a=n(80962);function o(e){var t=(0,r.useContext)(a.B);(0,r.useEffect)((function(){var n=t.getEvents();return n.addListener(i.Yt.UPDATE,e),function(){n.removeListener(i.Yt.UPDATE,e)}}),[e,t])}},43701:(e,t,n)=>{"use strict";function r(e){return e.isCollaborative||e.isLoaded&&!e.isOwnedBySelf&&e.canAdd}n.d(t,{c:()=>r})},8688:(e,t,n)=>{"use strict";n.d(t,{V3:()=>d,gM:()=>E,zY:()=>m});var r=n(4942),i=(n(21249),n(85827),n(41539),n(68309),n(21703),n(96647),n(5212),n(82526),n(41817),n(26699),n(32023),n(47941),n(57327),n(38880),n(89554),n(54747),n(49337),n(33321),n(69070),n(42781)),a=n(143);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e){return{url:e.url,width:e.width||void 0,height:e.height||void 0}}function c(e){return{milliseconds:e}}function u(e){return void 0===e||""===e.id?null:d(e)}function d(e){var t;return{type:i.p.USER,uri:e.uri,username:e.id,displayName:(null==e?void 0:e.display_name)||null,images:(null==e||null===(t=e.images)||void 0===t?void 0:t.map(l))||[]}}function m(e,t){if(void 0===t.uri||void 0===t.name)throw new Error("Invalid Web API playlist response!");var n=t.tracks.items,r=t.tracks.total,a=t.followers.total,o=function(e,t){var n=e.reduce((function(e,t){var n;return e+((null===(n=t.track)||void 0===n?void 0:n.duration_ms)||0)}),0);return{milliseconds:e.length>0?n/e.length*t:0,isEstimate:e.length<t}}(n,r),s=d(t.owner),c=e===s.username,m=t.collaborative,p=t.public,f=n.some((function(e){var t;return"episode"===(null===(t=e.track)||void 0===t?void 0:t.type)})),v=n.some((function(e){var t;return"track"===(null===(t=e.track)||void 0===t?void 0:t.type)})),g=c,h=c,y=r>0;return{type:i.p.PLAYLIST,uri:t.uri,name:t.name,description:t.description,totalLength:r,totalLikes:a,duration:o,images:t.images.map(l),owner:s,madeFor:u(void 0),isOwnedBySelf:c,isCollaborative:m,isLoaded:!0,isPublished:p,hasEpisodes:f,hasSpotifyTracks:v,canAdd:g,canRemove:h,canPlay:y,formatListData:null,canReportAnnotationAbuse:!1,hasDateAdded:!1,permissions:null,collaborators:null}}function p(e){return{date:e.release_date,precision:e.release_date_precision}}function f(e){return{type:i.p.ARTIST,uri:null==e?void 0:e.uri,name:null==e?void 0:e.name}}function v(e){return{type:i.p.ARTIST,uri:e.uri,name:e.name}}function g(e){return{type:i.p.ALBUM,uri:e.uri,name:e.name,artist:f(e.artists[0]),images:e.images.map(l)}}function h(e){switch(e){case"audio":return a.E.AUDIO;case"video":return a.E.VIDEO;case"mixed":return a.E.MIXED;default:return a.E.UNKNOWN}}function y(e){return{type:i.p.SHOW,uri:e.uri,name:e.name,publisher:e.publisher,images:e.images.map(l),mediaType:h(e.media_type)}}function k(e,t){if(!e.track)return null;var n,r,a={id:"".concat(t),uid:null,playIndex:t,addedAt:e.added_at,addedBy:u(e.added_by),formatListAttributes:null};if("track"===e.track.type)return s(s({},(n=e.track,{type:i.p.TRACK,uri:(null===(r=n.linked_from)||void 0===r?void 0:r.uri)||n.uri,name:n.name,duration:c(n.duration_ms),album:g(n.album),artists:n.artists.map(v),discNumber:n.disc_number,trackNumber:n.track_number,isExplicit:n.explicit,isPlayable:n.is_playable,isLocal:n.is_local,is19PlusOnly:(n.tags||[]).includes("MOGEF-19+")})),a);if("episode"===e.track.type)return s(s({},function(e){var t,n,r,a;return{type:i.p.EPISODE,uri:e.uri,name:e.name,description:e.description,duration:c(e.duration_ms),timeLeft:c(e.duration_ms-e.resume_position_ms),images:e.images.map(l),languages:e.languages,release:p(e),show:y(e.show),podcastSubscription:(n=e.is_paywall_content,r=e.restriction,a=!1,n&&r&&"payment_required"!==r.reason&&(a=!0),{isPaywalled:n,isUserSubscribed:a}),isPlayable:e.is_playable,isExplicit:e.explicit,is19PlusOnly:null===(t=e.tags)||void 0===t?void 0:t.includes("MOGEF-19+")}}(e.track)),a);throw new Error("Invalid Web API playlist response!")}function E(e){if(void 0===e.items)throw new Error("Invalid Web API playlist response!");if(e.offset<e.total&&e.items.length>0){var t=Math.min(e.limit,e.total-e.offset);e.items.length<t&&(e.total=e.offset+e.items.length)}return{items:e.items.map((function(t,n){return k(t,n+e.offset)})),offset:e.offset,limit:e.limit,totalLength:e.total}}},45724:(e,t,n)=>{"use strict";n.d(t,{VO:()=>s,fH:()=>d,jJ:()=>c,oJ:()=>u,p1:()=>o,qd:()=>m,v8:()=>a,zv:()=>l});n(9653),n(69600),n(21249),n(91038),n(78783),n(83112),n(96647),n(83710),n(41539),n(39714),n(39575),n(16716),n(66528),n(92222),n(74916),n(15306),n(66992),n(82472),n(48675),n(92990),n(18927),n(33105),n(35035),n(74345),n(7174),n(32846),n(44731),n(77209),n(96319),n(58867),n(37789),n(33739),n(29368),n(14483),n(12056),n(3462),n(30678),n(27462),n(33824),n(55021),n(12974),n(15016),n(37380),n(1118);var r=n(69518),i=n.n(r);function a(e){var t=i().from(e);return t?t.getBase62Id():""}function o(e){return Number(e)}function s(e,t){return void 0===e.before==(void 0===e.after)?Number.NaN:"start"===e.before?0:"end"===e.before?void 0===t?Number.NaN:t-1:"start"===e.after?1:"end"===e.after?void 0===t?Number.NaN:t:e.before?Number(e.before):e.after?Number(e.after)+1:Number.NaN}function l(e){return Array.from(e).map((function(e){return e.toString(16).padStart(2,"0")})).join("")}function c(e){return new DataView(e.buffer).getUint32(0)}function u(e){var t=new DataView(e.buffer).getUint32(0),n=l(e.subarray(4)).padEnd(40,"0");return"".concat(t,",").concat(n)}function d(e){var t=e.replace(/\s+/g," ");return encodeURIComponent(t).replace(/%20/g,"+")}function m(e){var t=new Uint8Array(e);return window.crypto.getRandomValues(t),l(t)}},55773:(e,t,n)=>{"use strict";n.d(t,{vI:()=>r});n(66992),n(41539),n(78783),n(33948),n(41637),n(74916),n(64765),n(21249);var r=function(e,t){var n=t?new URLSearchParams(t.search):void 0;return"1"===(null==n?void 0:n.get(e))}},11268:(e,t,n)=>{"use strict";n.d(t,{$f:()=>i,hn:()=>r,sw:()=>m});n(41539),n(81299),n(12419);var r,i,a=n(43144),o=n(15671),s=n(60136),l=n(82963),c=n(61120),u=n(98938);function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.Z)(e);if(t){var i=(0,c.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,l.Z)(this,n)}}!function(e){e.ARTIST="artist",e.ALBUM="album",e.SHOW="show",e.AUDIOBOOK="audiobook",e.PLAYLIST="playlist",e.RADIO="radio",e.LIKED_SONGS="liked_songs",e.YOUR_EPISODES="your_episodes",e.TRACK="track"}(r||(r={})),function(e){e.UPDATE="update"}(i||(i={}));var m=function(e){(0,s.Z)(n,e);var t=d(n);function n(){return(0,o.Z)(this,n),t.apply(this,arguments)}return(0,a.Z)(n)}(u.r)},65998:(e,t,n)=>{"use strict";n.d(t,{C:()=>i,Y:()=>a});n(21703),n(96647);var r=n(67294),i=(0,r.createContext)(null);function a(){var e=(0,r.useContext)(i);if(null===e)throw new Error("Trying to use 'RecentlyPlayedContext' without 'RecentlyPlayedProvider'!");return e}},22349:(e,t,n)=>{"use strict";n.d(t,{Xo:()=>p,p1:()=>u,sQ:()=>d});var r,i=n(15861),a=n(93433),o=n(87757),s=n.n(o),l=(n(92222),n(23157),n(74916),n(23123),n(21703),n(96647),n(96848));function c(e){var t="undefined"!=typeof window?"browser":"nodejs";return[l.EventSenderReporter.createWithCustomTransport({transport:e,environment:t})].concat((0,a.Z)([]))}function u(e,t){var n="production",i=(0,l.createSemanticMetrics)({key:e,dev:!n.startsWith("prod")&&!0,reporter:c(t)}).sendMetric;r=i}function d(e){return m.apply(this,arguments)}function m(){return(m=(0,i.Z)(s().mark((function e(t){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=2;break}throw new Error("Invalid call to sendMetric before initSemanticMetrics.");case 2:return e.abrupt("return",r(t));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(e){return"/"===e.pathname?"home":e.pathname.split("/")[1]}},26382:(e,t,n)=>{"use strict";var r,i,a,o;n.d(t,{NK:()=>o,YG:()=>a,ay:()=>r,i5:()=>i}),function(e){e.PUBLISH_DATE="PUBLISH_DATE"}(r||(r={})),function(e){e.ASC="ASC",e.DESC="DESC"}(i||(i={})),function(e){e.AVAILABLE="AVAILABLE",e.TEXT="TEXT",e.NAME="NAME",e.ISPLAYED="ISPLAYED",e.STARTEDPLAYING="STARTEDPLAYING"}(a||(a={})),function(e){e.CONTAINS="CONTAINS",e.EQUALS="EQUALS",e.NOT_EQUALS="NOT_EQUALS",e.GREATER_THAN="GREATER_THAN"}(o||(o={}))},9983:(e,t,n)=>{"use strict";n.d(t,{Q:()=>l});var r=n(15861),i=n(87757),a=n.n(i),o=(n(66992),n(41539),n(78783),n(33948),n(60285),n(41637),n(27852),n(21703),n(96647),n(6024)),s=n(89469);function l(e){return c.apply(this,arguments)}function c(){return(c=(0,r.Z)(a().mark((function e(t){var n,r,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.di.createCheckoutSession(new s.c,t);case 2:if(n=e.sent,r=n.body,i=r.redirectToUrl,new URL(i).hostname.endsWith(".spotify.com")){e.next=8;break}throw new Error("Unknown URL host");case 8:window.location.assign(i);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},4148:(e,t,n)=>{"use strict";n.d(t,{Y:()=>r});n(41539),n(88674);var r=(0,n(67294).createContext)({capabilities:{canFilter:!1,canSort:!1,canGetDefaultSort:!1},getMetadata:function(){return Promise.reject()},getContents:function(){return Promise.reject()},getBookContents:function(){return Promise.reject()},getEpisodeOrChapter:function(){return Promise.reject()},getPlayerSort:function(){return""},getPlayerFilter:function(){return""},getAccessInfo:function(){return Promise.reject()},checkoutBook:function(){return Promise.reject()}})},27999:(e,t,n)=>{"use strict";n.d(t,{E0:()=>a,ZM:()=>u,ye:()=>m,zZ:()=>c.z});var r=n(4148),i=n(67294),a=function(e){var t=e.instance,n=e.children;return i.createElement(r.Y.Provider,{value:t},n)},o=n(15861),s=n(87757),l=n.n(s),c=n(192);function u(e,t,n){var r=(0,c.z)(),a=r.capabilities.canSort,s=(0,i.useCallback)(function(){var i=(0,o.Z)(l().mark((function i(a,o){return l().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",r.getContents(e,{offset:a,limit:o,sort:t,filters:n}));case 1:case"end":return i.stop()}}),i)})));return function(e,t){return i.apply(this,arguments)}}(),[r,e,t,n]),u=(0,i.useCallback)(function(){var t=(0,o.Z)(l().mark((function t(n,i){return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",r.getContents(e,{offset:n,limit:i}));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),[r,e]);return a?s:u}var d=n(29439);function m(e){var t=(0,c.z)(),n=(0,i.useState)(null),r=(0,d.Z)(n,2),a=r[0],s=r[1];return(0,i.useEffect)((function(){function n(){return(n=(0,o.Z)(l().mark((function n(){var r;return l().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,t.getAccessInfo(e);case 3:r=n.sent,s(r),n.next=11;break;case 7:n.prev=7,n.t0=n.catch(0),console.error(n.t0),s(void 0);case 11:case"end":return n.stop()}}),n,null,[[0,7]])})))).apply(this,arguments)}!function(){n.apply(this,arguments)}()}),[t,e]),a}},52404:(e,t,n)=>{"use strict";n.d(t,{I:()=>o});var r=n(88767),i=n(42781),a=n(192);function o(e,t){var n=(0,a.z)(),o=(0,r.useQuery)(["useEpisodeOrChapter",e],(function(){return n.getEpisodeOrChapter(e)}),{cacheTime:3e5}).data;return(t||(null==o?void 0:o.type)!==i.p.CHAPTER)&&null!=o?o:null}},192:(e,t,n)=>{"use strict";n.d(t,{z:()=>a});var r=n(67294),i=n(4148);function a(){return(0,r.useContext)(i.Y)}},49125:(e,t,n)=>{"use strict";n.d(t,{l:()=>s});var r=n(88767),i=n(42781),a=n(192),o=n(86649);function s(e,t){var n=(0,a.z)(),s=(0,r.useQuery)(["useShowMetadata",e],(function(){return n.getMetadata(e)}),{cacheTime:3e5,retry:function(e,t){return t.message!==o.xr.RestrictedContent&&e<3}}),l=s.data,c=s.error;return c?{data:null,error:c}:t||(null==l?void 0:l.type)!==i.p.AUDIOBOOK?{data:null!=l?l:null}:{data:null}}},86649:(e,t,n)=>{"use strict";n.d(t,{Ey:()=>v,MP:()=>p,Qj:()=>f,WY:()=>s,it:()=>c,l6:()=>m,sY:()=>o,xr:()=>l});var r,i,a,o,s,l,c,u,d=n(42781);function m(e){return e.type===d.p.AUDIOBOOK}function p(e){return e.type===d.p.USER_PODCAST}function f(e){return e.type===d.p.PODCAST_SHORT}function v(e){return e.type===d.p.CHAPTER}!function(e){e.Explicit="EXPLICIT",e.NineteenPlus="NINETEEN_PLUS",e.None="NONE",e.Unknown="UNKNOWN"}(r||(r={})),function(e){e.Episode="EPISODE",e.PodcastEpisode="PODCAST_EPISODE",e.Unknown="UNKNOWN"}(i||(i={})),function(e){e.Audio="AUDIO",e.Unknown="UNKNOWN",e.Video="VIDEO"}(a||(a={})),function(e){e.Completed="COMPLETED",e.InProgress="IN_PROGRESS",e.NotStarted="NOT_STARTED"}(o||(o={})),function(e){e.AgeRestricted="AGE_RESTRICTED",e.Anonymous="ANONYMOUS",e.CatalogueRestricted="CATALOGUE_RESTRICTED",e.CountryRestricted="COUNTRY_RESTRICTED",e.Explicit="EXPLICIT",e.PaymentRequired="PAYMENT_REQUIRED",e.Playable="PLAYABLE",e.Unavailable="UNAVAILABLE",e.Unknown="UNKNOWN"}(s||(s={})),function(e){e.RestrictedContent="Restricted content",e.Generic="Error while requesting the show metadata"}(l||(l={})),function(e){e.UNKNOWN="unknown",e.TRAILER="trailer",e.CONTINUE_LISTENING="continue-listening",e.LATEST_PUBLISHED="latest-published",e.UP_NEXT="up-next",e.FIRST_PUBLISHED="first-published"}(c||(c={})),function(e){e.ShowTypeAdaptation="SHOW_TYPE_ADAPTATION",e.ShowTypeExclusive="SHOW_TYPE_EXCLUSIVE",e.ShowTypeOriginal="SHOW_TYPE_ORIGINAL"}(u||(u={}))},67691:(e,t,n)=>{"use strict";n.d(t,{ld:()=>f,sV:()=>v,YS:()=>k,XU:()=>w,om:()=>p,rB:()=>O});var r=n(93433),i=n(4942),a=(n(21249),n(68309),n(57327),n(41539),n(82526),n(41817),n(2707),n(92222),n(69600),n(83710),n(21703),n(96647),n(47941),n(38880),n(89554),n(54747),n(49337),n(33321),n(69070),n(96206)),o=n(7073),s=n(72169),l=n(42781),c=n(86649),u="recent";function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e){return{totalCount:e.totalCount,nextOffset:e.pagingInfo.nextOffset,items:e.items.map((function(e){return k(m(m({},e.episode),{},{contentInformation:e.episode.contentInformation}))}))}}function f(e,t){return{totalCount:e.totalCount,nextOffset:e.pagingInfo.nextOffset,items:e.items.map((function(e){return E(e.chapter,t)}))}}function v(e,t){var n,r,i,a,o,c,u;return"Chapter"===e.__typename?E(e,t):"User"===(null===(n=e.creator)||void 0===n?void 0:n.data.__typename)?(r=e,c=(0,s.w$)(null==r?void 0:r.restrictions,r.playability),u=null===(i=r.creator)||void 0===i?void 0:i.data,{type:l.p.PODCAST_SHORT,uri:r.uri,name:r.name,description:r.description||"",episodeType:r.type,coverArt:(null===(a=r.coverArt)||void 0===a?void 0:a.sources)||[],audio:r.audio,releaseDate:h(r.releaseDate),playability:y(r.playability),playedState:r.playedState,audioPreview:r.audioPreview,sharingInfo:r.sharingInfo,duration:{milliseconds:r.duration.totalMilliseconds},contentRating:r.contentRating,podcastSubscription:c,htmlDescription:r.htmlDescription||"",contentInformation:r.contentInformation,userCreated:{displayName:u.name||"",entityUri:r.uri,isCreator:!0,userImages:(null===(o=u.avatar)||void 0===o?void 0:o.sources)||null,userUri:u.uri}}):k(e)}function g(e){switch(e){case o.Ku.AgeRestricted:return c.WY.AgeRestricted;case o.Ku.CatalogueRestricted:return c.WY.CatalogueRestricted;case o.Ku.CountryRestricted:return c.WY.CountryRestricted;case o.Ku.Explicit:return c.WY.Explicit;case o.Ku.PaymentRequired:return c.WY.PaymentRequired;case o.Ku.Playable:return c.WY.Playable;case o.Ku.Unavailable:default:return c.WY.Unavailable}}function h(e){return e?{isoString:e.isoString}:null}function y(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{playable:!t&&e.playable,reason:t?c.WY.Anonymous:g(e.reason)}}function k(e){var t,n,r,i,a,o={uri:(i=e.podcast).uri,name:i.name,coverArt:(null===(a=i.coverArt)||void 0===a?void 0:a.sources)||[],trailer:i.trailer||null,showTypes:(i.showTypes||[]).filter(b)},c=(0,s.w$)(null==e?void 0:e.restrictions,e.playability);return{type:l.p.EPISODE,uri:e.uri,name:e.name,description:e.description||"",htmlDescription:e.htmlDescription||"",podcast:o,episodeType:e.type,coverArt:(null===(t=e.coverArt)||void 0===t?void 0:t.sources)||[],audio:e.audio,releaseDate:h(e.releaseDate),playedState:e.playedState,playability:y(e.playability),audioPreview:e.audioPreview,sharingInfo:e.sharingInfo,duration:{milliseconds:e.duration.totalMilliseconds},contentRating:e.contentRating,segmentsCount:(null===(n=e.segments)||void 0===n?void 0:n.segments.totalCount)||0,podcastSubscription:c,contentInformation:e.contentInformation,transcript:(null===(r=e.transcripts)||void 0===r?void 0:r.items)||null}}function E(e,t){var n,r,i,a,s;return{type:l.p.CHAPTER,uri:e.uri,name:e.name,description:e.description||"",htmlDescription:e.htmlDescription||"",coverArt:(null===(n=e.coverArt)||void 0===n?void 0:n.sources)||[],audio:e.audio,playedState:e.playedState,audioPreview:e.audioPreview,sharingInfo:e.sharingInfo,duration:{milliseconds:e.duration.totalMilliseconds},contentRating:e.contentRating,playability:y(e.playability,t),book:(a=e.audiobook,{uri:a.uri,name:a.name,coverArt:(null===(s=a.coverArt)||void 0===s?void 0:s.sources)||[],trailer:a.trailer||null}),isExplicit:(null===(r=e.contentRating)||void 0===r?void 0:r.label)===o.KS.Explicit,is19PlusOnly:(null===(i=e.contentRating)||void 0===i?void 0:i.label)===o.KS.NineteenPlus}}function b(e){return!!e}function _(e){return Boolean(e)}function S(e){var t,n,r=null===(t=e.nextBestEpisodes.items.sort((function(e,t){return t.score-e.score}))[0])||void 0===t?void 0:t.item.data;if("Episode"===(null==r?void 0:r.__typename))return{type:r.uri===(null===(n=e.trailer)||void 0===n?void 0:n.uri)?c.it.TRAILER:r.playedState.state===o.sY.InProgress?c.it.CONTINUE_LISTENING:c.it.UP_NEXT,data:k(r)}}function w(e){var t,n,r,i,a=e.trailer?(r=e.trailer,{type:l.p.EPISODE,uri:r.uri,name:r.name,coverArt:(null===(i=r.coverArt)||void 0===i?void 0:i.sources)||[],audio:r.audio,audioPreview:r.audioPreview,sharingInfo:r.sharingInfo,duration:{milliseconds:r.duration.totalMilliseconds},contentRating:r.contentRating}):null;return{type:l.p.SHOW,uri:e.uri,name:e.name,description:e.description||"",htmlDescription:e.htmlDescription||"",coverArt:(null===(t=e.coverArt)||void 0===t?void 0:t.sources)||[],trailer:a,topics:e.topics.items,podcastType:e.type,showTypes:(e.showTypes||[]).filter(b),publisherName:(null===(n=e.publisher)||void 0===n?void 0:n.name)||"",consumptionOrder:u,nextBestEpisode:S(e)}}function N(e){var t,n,r,i,a;if("ContextEpisodePage"!==(null===(t=e.episodesV2)||void 0===t?void 0:t.__typename))return null;var o=null===(n=e.episodesV2.items[0])||void 0===n?void 0:n.entity;if("EpisodeResponseWrapper"!==o.__typename)return null;if(!("creator"in o.data))return null;var s=null===(r=o.data.creator)||void 0===r?void 0:r.data;return"User"!==(null==s?void 0:s.__typename)?null:{displayName:s.name,entityUri:e.uri,isCreator:!0,userImages:null!==(i=null===(a=s.avatar)||void 0===a?void 0:a.sources)&&void 0!==i?i:[],userUri:s.uri}}function O(e,t){return"Audiobook"===e.__typename?function(e,t){var n,i,s,c,u,d,m,p,f,v,g,h,y,k,E,b,S,w;return{type:l.p.AUDIOBOOK,uri:e.uri,name:e.name,coverArt:null!==(n=null===(i=e.coverArt)||void 0===i?void 0:i.sources)&&void 0!==n?n:[],narrators:null!==(s=null===(c=e.narrators)||void 0===c?void 0:c.map((function(e){return null==e?void 0:e.name})).filter(_))&&void 0!==s?s:[],sample:e.trailer?(S=e.trailer,{type:l.p.CHAPTER,uri:S.uri,name:S.name,coverArt:(null===(w=S.coverArt)||void 0===w?void 0:w.sources)||[],audio:S.audio,audioPreview:S.audioPreview,sharingInfo:S.sharingInfo,duration:{milliseconds:S.duration.totalMilliseconds},contentRating:S.contentRating,isPlayable:S.playability.playable}):null,htmlDescription:null!==(u=e.htmlDescription)&&void 0!==u?u:"",htmlDescriptionPlain:null!==(d=e.htmlDescriptionPlain)&&void 0!==d?d:"",authorName:null!==(m=null===(p=e.authors)||void 0===p?void 0:p.map((function(e){return null==e?void 0:e.name})).filter(Boolean).join(a.ag.getSeparator()))&&void 0!==m?m:"",rating:e.rating,isExplicit:(null===(f=e.contentRating)||void 0===f?void 0:f.label)===o.KS.Explicit,duration:null!==(v=null===(g=e.duration)||void 0===g?void 0:g.totalMilliseconds)&&void 0!==v?v:0,copyrights:e.publisher?(y=e.publisher.name,k=e.copyright,[(E=y,b="P",{text:E,type:b})].concat((0,r.Z)(k.items))):[],publishDate:e.publishDate?new Date(e.publishDate.isoString):null,price:e.price,isLocked:!!t||!1===(null===(h=e.accessInfo)||void 0===h?void 0:h.isUserMemberOfAtLeastOneGroup)}}(e,t):"CONTENT_TYPE_CREATOR_CHANNEL"===e.contentType?function(e){var t,n,r,i;if(!e)throw new Error("Error while constructing user podcast metadata");return{type:l.p.USER_PODCAST,uri:e.uri,name:e.name,description:e.description||"",htmlDescription:e.htmlDescription||"",coverArt:null!==(t=null===(n=e.coverArt)||void 0===n?void 0:n.sources)&&void 0!==t?t:[],trailer:null,topics:e.topics.items||[],podcastType:e.type.toUpperCase(),showTypes:(e.showTypes||[]).filter(b),publisherName:null!==(r=null===(i=e.publisher)||void 0===i?void 0:i.name)&&void 0!==r?r:"",consumptionOrder:u,userCreated:N(e)}}(e):w(e)}},66587:(e,t,n)=>{"use strict";var r,i;n.d(t,{B:()=>r,q:()=>i}),function(e){e[e.HIGH=.25]="HIGH",e[e.LOW=.1]="LOW",e[e.SING_ALONG_OFF=.99999]="SING_ALONG_OFF"}(r||(r={})),function(e){e.ENABLED="enabled",e.DISABLED="disabled"}(i||(i={}))},55799:(e,t,n)=>{"use strict";n.d(t,{$:()=>o,E:()=>a});n(21703),n(96647);var r=n(67294),i=(0,r.createContext)(null),a=function(e){var t=e.instance,n=e.children;return r.createElement(i.Provider,{value:t},n)},o=function(){var e=(0,r.useContext)(i);if(null===e)throw new Error("useSingAlongAPI must be used within a SingAlongAPIProvider");return e}},97194:(e,t,n)=>{"use strict";n.d(t,{J:()=>i,k:()=>a});n(21703),n(96647);var r=null;function i(e){r=e}function a(){if(null===r)throw new Error("Missing `instance`. Have you called `setTransportInstance` yet?");return r}},12996:(e,t,n)=>{"use strict";n.d(t,{f:()=>d});n(47941),n(82526),n(57327),n(41539),n(38880),n(89554),n(54747),n(49337),n(33321),n(69070);var r=n(4942),i=n(15861),a=n(87757),o=n.n(a);n(21703),n(96647),n(3843),n(83710);function s(e){return(0,i.Z)(o().mark((function t(){var n,r,i,a;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e();case 2:if(null!==(n=t.sent)){t.next=5;break}throw new Error("Token is currently unavailable.");case 5:return r=n.accessToken,i=n.accessTokenExpirationTimestampMs,a=Math.floor(((i||0)-Date.now())/1e3),t.abrupt("return",[r,a]);case 8:case"end":return t.stop()}}),t)})))}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u={disconnectBeforeUnload:!0,reconnectionRetries:3,requestMode:"fetch"};function d(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return e(c(c({providers:{endpoints:t,token:s(n)}},u),r))}},11281:(e,t,n)=>{"use strict";n.d(t,{w:()=>c});var r,i=n(15861),a=n(87757),o=n.n(a),s=(n(92222),n(32564),n(41539),n(88674),n(21703),n(96647),n(79753),n(74916),n(15306),n(43107));function l(e){var t="".concat("https://apresolve.spotify.com/","?type=").concat(r.DEALER,"&type=").concat(r.WEBGATE);return(0,i.Z)(o().mark((function n(){var i,a,s,l,c,u,d,m;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=new AbortController,a=setTimeout((function(){return i.abort()}),e),n.prev=2,n.next=5,fetch(t,{signal:i.signal});case 5:return l=n.sent,clearTimeout(a),n.next=9,l.json();case 9:s=n.sent,n.next=17;break;case 12:if(n.prev=12,n.t0=n.catch(2),!i.signal.aborted){n.next=16;break}throw new Error("x-resolve request timed out after ".concat(e," ms"));case 16:throw n.t0;case 17:if(Array.isArray(s[r.DEALER])&&Array.isArray(s[r.WEBGATE])&&0!==s[r.DEALER].length&&0!==s[r.WEBGATE].length){n.next=19;break}throw new Error("x-resolve responded with incomplete results");case 19:return c=s[r.DEALER][0],u=s[r.WEBGATE][0],d="wss://".concat(c.replace(/:443$/,"")),m="https://".concat(u.replace(/:443$/,"")),n.abrupt("return",{dealer:d,webgate:m,webapi:"https://api.spotify.com/"});case 24:case"end":return n.stop()}}),n,null,[[2,12]])})))}!function(e){e.DEALER="dealer",e.WEBGATE="spclient"}(r||(r={}));function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.timeout,n=void 0===t?3e3:t,r=l(n),a=(0,s.Q)({});return function(){var e=(0,i.Z)(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r(t);case 3:case 11:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),console.error("Failed to resolve endpoints via x-resolve. Using fallbacks!",e.t0),e.next=11,a(t);case 12:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()}},87717:(e,t,n)=>{"use strict";n.d(t,{F:()=>o});n(47941),n(82526),n(57327),n(41539),n(38880),n(89554),n(54747),n(49337),n(33321),n(69070);var r=n(4942);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return void 0===e?t:a(a({},e),t)}},71641:(e,t,n)=>{"use strict";n.d(t,{z:()=>c});var r=n(15671),i=n(43144),a=n(4942),o=(n(34553),n(21249),n(24812),n(47941),n(82526),n(57327),n(41539),n(38880),n(89554),n(54747),n(49337),n(33321),n(69070),n(73903));function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var c=function(){function e(t,n){(0,r.Z)(this,e),(0,a.Z)(this,"formatUiNavigateEvent",(function(e){var t,n,r=null===(t=e.actionParameterNames)||void 0===t?void 0:t.findIndex((function(e){return"destination"===e}));return void 0===r||-1===r?e:l(l({},e),{},{actionParameterValues:null===(n=e.actionParameterValues)||void 0===n?void 0:n.map((function(e,t){var n;return t!==r?e:null!==(n=(0,o.E)(e))&&void 0!==n?n:""}))})})),this.ubiLogger=t,this.isAuthenticated=n}return(0,i.Z)(e,[{key:"logInteraction",value:function(e){var t,n=this.isAuthenticated?this.ubiLogger.logInteraction.bind(this.ubiLogger):this.ubiLogger.logNonAuthInteraction.bind(this.ubiLogger),r=null!==(t=this.ubiLogger.getPageInstanceId())&&void 0!==t?t:void 0;if("ui_navigate"!==e.actionName)return{interactionId:n(e),pageInstanceId:r};var i=this.formatUiNavigateEvent(e),a=n(i);return this.interaction={id:a,event:i},{interactionId:a,pageInstanceId:r}}},{key:"logImpression",value:function(e){return this.isAuthenticated?this.ubiLogger.logImpression(e):this.ubiLogger.logNonAuthImpression(e)}},{key:"logNavigation",value:function(e){this.isAuthenticated&&(this.ubiLogger.logNavigationStart(e),this.ubiLogger.logNavigationEnd({pageId:e.pageId,entityUri:e.entityUri}),this.interaction=void 0)}},{key:"getInteractionId",value:function(e){var t,n;if(this.interaction){var r=this.interaction,i=r.event,a=r.id,o=null===(t=i.actionParameterNames)||void 0===t?void 0:t.findIndex((function(e){return"destination"===e}));if(void 0!==o&&-1!==o){var s=null===(n=i.actionParameterValues)||void 0===n?void 0:n[o];if(s&&s===e)return a;0}}}}]),e}()},62503:(e,t,n)=>{"use strict";n.d(t,{$:()=>o,d:()=>a});n(21703),n(96647);var r=n(67294),i=(0,r.createContext)(void 0),a=function(e){var t=e.value,n=e.children;return r.createElement(i.Provider,{value:t},n)},o=function(){var e=(0,r.useContext)(i);if(void 0===e)throw new Error("useUBIEventLocation() must be used within a UBIEventLocationContextProvider");return e}},35559:(e,t,n)=>{"use strict";n.d(t,{N:()=>a});var r=n(67294),i=n(62503),a=r.memo((function(e){var t=e.spec,n=e.children,a=(0,r.useMemo)((function(){var e;return null!==(e=null==t?void 0:t.getAbsoluteLocation())&&void 0!==e?e:null}),[t]);return r.createElement(i.d,{value:a},n)}))},91691:(e,t,n)=>{"use strict";n.d(t,{Pr:()=>l,m9:()=>s});var r=n(67294),i=n(7661),a=n(51802),o=(0,r.createContext)(void 0),s=function(e){var t=e.children,n=(0,a.$)(),s=(0,r.useMemo)((function(){return new i.W(n)}),[n]);return r.createElement(o.Provider,{value:s},t)},l=function(){return(0,r.useContext)(o)}},51802:(e,t,n)=>{"use strict";n.d(t,{$:()=>o,a:()=>a});n(21703),n(96647);var r=n(67294),i=(0,r.createContext)(void 0),a=function(e){var t=e.instance,n=e.children;return r.createElement(i.Provider,{value:t},n)},o=function(){var e=(0,r.useContext)(i);if(void 0===e)throw new Error("useUBILogger() must be used within a UBILoggerContextProvider");return e}},15852:(e,t,n)=>{"use strict";n.d(t,{$P:()=>i.$,Nh:()=>s.N,Wi:()=>o.W,aH:()=>i.a,d0:()=>r.d,fU:()=>a.f});var r=n(62503),i=n(51802),a=n(41882),o=n(74573),s=n(35559)},60775:(e,t,n)=>{"use strict";n.d(t,{T:()=>a});var r=n(41882),i=n(33694),a=function(e){return(0,r.f)(i.createDesktopContextMenuEventFactory,{data:{uri:e}})}},74573:(e,t,n)=>{"use strict";n.d(t,{W:()=>o});var r=n(67294),i=n(91691),a=n(62830),o=function(e){var t=(0,i.Pr)(),n=(0,r.useRef)(null),o=(0,r.useMemo)((function(){return null==e?void 0:e.impression()}),[e]);return(0,a.KW)((function(){if(n.current&&t&&o)return t.addToObservableEntities({impression:function(){return o},element:n.current})||void 0}),[t,o]),(0,r.useCallback)((function(e){n.current=e}),[])}},41882:(e,t,n)=>{"use strict";n.d(t,{f:()=>d});n(47941),n(82526),n(57327),n(41539),n(38880),n(89554),n(54747),n(49337),n(33321),n(69070);var r=n(4942),i=n(67294),a=n(62830),o=n(62503),s=n(51802),l=n(35559);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d=function(e,t){var n=(0,s.$)(),r=(0,o.$)(),c=(0,a.NY)((function(){var e;return u(u({},t),{},{parentAbsoluteLocation:null!==(e=t.parentAbsoluteLocation)&&void 0!==e?e:r})}),[t,r]);return{spec:(0,i.useMemo)((function(){return e(c)}),[e,c]),logger:n,UBIFragment:l.N}}},73903:(e,t,n)=>{"use strict";n.d(t,{E:()=>a});n(23157);var r=n(69518),i=n.n(r),a=function(e){var t,n,r=null===(t=i().from(e))||void 0===t?void 0:t.toRealType().toURI();return null!=r&&r.startsWith("spotify:search")?null===(n=i().from(e))||void 0===n?void 0:n.toAppType().toURI():r}},15429:(e,t,n)=>{"use strict";n.d(t,{C:()=>a});n(21703),n(96647);var r=n(69518),i=n.n(r);function a(e){var t=i().from(e);if(null===t||void 0===t.username)throw new Error("Invalid URI or URI does not contain username!");return t.username}},21794:(e,t,n)=>{"use strict";n.d(t,{S:()=>i,p:()=>r});n(74916),n(23123);var r=function(e){return"/genre/".concat(e)},i=function(e){var t=e.split("/");return t[t.length-1]}},7867:(e,t,n)=>{"use strict";n.d(t,{bC:()=>l,ge:()=>c,k1:()=>o});var r,i=n(4942),a=(n(92222),n(96206)),o=(r={},(0,i.Z)(r,a.go.en,{displayName:"English",displayNameEn:"English"}),(0,i.Z)(r,a.go.af,{displayName:"Afrikaans",displayNameEn:"Afrikaans"}),(0,i.Z)(r,a.go.am,{displayName:"አማርኛ",displayNameEn:"Amharic"}),(0,i.Z)(r,a.go.ar,{displayName:"العَرَبِيَّة",displayNameEn:"Arabic",isRTL:!0}),(0,i.Z)(r,a.go.az,{displayName:"Azərbaycanca",displayNameEn:"Azerbaijani"}),(0,i.Z)(r,a.go.bg,{displayName:"Български",displayNameEn:"Bulgarian"}),(0,i.Z)(r,a.go.bho,{displayName:"भोजपुरी",displayNameEn:"Bhojpuri"}),(0,i.Z)(r,a.go.bn,{displayName:"বাংলা",displayNameEn:"Bengali"}),(0,i.Z)(r,a.go.cs,{displayName:"Čeština",displayNameEn:"Czech"}),(0,i.Z)(r,a.go.da,{displayName:"Dansk",displayNameEn:"Danish"}),(0,i.Z)(r,a.go.de,{displayName:"Deutsch",displayNameEn:"German"}),(0,i.Z)(r,a.go.el,{displayName:"Eλληνικά",displayNameEn:"Greek"}),(0,i.Z)(r,a.go.es,{displayName:"Español de España",displayNameEn:"European Spanish"}),(0,i.Z)(r,a.go.es419,{displayName:"Español de Latinoamérica",displayNameEn:"Latin American Spanish"}),(0,i.Z)(r,a.go.et,{displayName:"Eesti",displayNameEn:"Estonian"}),(0,i.Z)(r,a.go.fa,{displayName:"فارسی",displayNameEn:"Persian",isRTL:!0}),(0,i.Z)(r,a.go.fi,{displayName:"Suomeksi",displayNameEn:"Finnish"}),(0,i.Z)(r,a.go.fil,{displayName:"Filipino",displayNameEn:"Filipino"}),(0,i.Z)(r,a.go.fr,{displayName:"Français",displayNameEn:"French"}),(0,i.Z)(r,a.go.frCA,{displayName:"Français Canadien",displayNameEn:"Canadian French"}),(0,i.Z)(r,a.go.gu,{displayName:"ગુજરાતી",displayNameEn:"Gujarati"}),(0,i.Z)(r,a.go.he,{displayName:"עברית",displayNameEn:"Hebrew",isRTL:!0}),(0,i.Z)(r,a.go.hi,{displayName:"हिन्दी",displayNameEn:"Hindi"}),(0,i.Z)(r,a.go.hr,{displayName:"Hrvatski",displayNameEn:"Croatian"}),(0,i.Z)(r,a.go.hu,{displayName:"Magyar",displayNameEn:"Hungarian"}),(0,i.Z)(r,a.go.id,{displayName:"Bahasa Indonesia",displayNameEn:"Indonesian"}),(0,i.Z)(r,a.go.is,{displayName:"Íslenska",displayNameEn:"Icelandic"}),(0,i.Z)(r,a.go.it,{displayName:"Italiano",displayNameEn:"Italian"}),(0,i.Z)(r,a.go.ja,{displayName:"日本語",displayNameEn:"Japanese"}),(0,i.Z)(r,a.go.kn,{displayName:"ಕನ್ನಡ",displayNameEn:"Kannada"}),(0,i.Z)(r,a.go.ko,{displayName:"한국어",displayNameEn:"Korean"}),(0,i.Z)(r,a.go.lt,{displayName:"Lietuvių",displayNameEn:"Lithuanian"}),(0,i.Z)(r,a.go.lv,{displayName:"Latviešu",displayNameEn:"Latvian"}),(0,i.Z)(r,a.go.ml,{displayName:"മലയാളം",displayNameEn:"Malayalam"}),(0,i.Z)(r,a.go.mr,{displayName:"मराठी",displayNameEn:"Marathi"}),(0,i.Z)(r,a.go.ms,{displayName:"Melayu",displayNameEn:"Malay"}),(0,i.Z)(r,a.go.nb,{displayName:"Norsk",displayNameEn:"Norwegian"}),(0,i.Z)(r,a.go.ne,{displayName:"नेपाली",displayNameEn:"Nepali"}),(0,i.Z)(r,a.go.nl,{displayName:"Nederlands",displayNameEn:"Dutch"}),(0,i.Z)(r,a.go.or,{displayName:"ଓଡ଼ିଆ",displayNameEn:"Odia"}),(0,i.Z)(r,a.go.paIN,{displayName:"ਪੰਜਾਬੀ",displayNameEn:"Punjabi"}),(0,i.Z)(r,a.go.paPK,{displayName:"پنجابی",displayNameEn:"Punjabi",isRTL:!0}),(0,i.Z)(r,a.go.pl,{displayName:"Polski",displayNameEn:"Polish"}),(0,i.Z)(r,a.go.ptBR,{displayName:"Português do Brasil",displayNameEn:"Brazilian Portuguese"}),(0,i.Z)(r,a.go.ptPT,{displayName:"Português",displayNameEn:"European Portuguese"}),(0,i.Z)(r,a.go.ro,{displayName:"Română",displayNameEn:"Romanian"}),(0,i.Z)(r,a.go.ru,{displayName:"Русский",displayNameEn:"Russian"}),(0,i.Z)(r,a.go.sk,{displayName:"Slovenčina",displayNameEn:"Slovak"}),(0,i.Z)(r,a.go.sl,{displayName:"Slovenski",displayNameEn:"Slovenian"}),(0,i.Z)(r,a.go.sr,{displayName:"Srpski",displayNameEn:"Serbian"}),(0,i.Z)(r,a.go.sv,{displayName:"Svenska",displayNameEn:"Swedish"}),(0,i.Z)(r,a.go.sw,{displayName:"Kiswahili",displayNameEn:"Swahili"}),(0,i.Z)(r,a.go.ta,{displayName:"தமிழ்",displayNameEn:"Tamil"}),(0,i.Z)(r,a.go.te,{displayName:"తెలుగు",displayNameEn:"Telugu"}),(0,i.Z)(r,a.go.th,{displayName:"ภาษาไทย",displayNameEn:"Thai"}),(0,i.Z)(r,a.go.tr,{displayName:"Türkçe",displayNameEn:"Turkish"}),(0,i.Z)(r,a.go.uk,{displayName:"Українська",displayNameEn:"Ukrainian"}),(0,i.Z)(r,a.go.ur,{displayName:"اردو",displayNameEn:"Urdu",isRTL:!0}),(0,i.Z)(r,a.go.vi,{displayName:"Tiếng Việt",displayNameEn:"Vietnamese"}),(0,i.Z)(r,a.go.zhCN,{displayName:"简体中文",displayNameEn:"Simplified Chinese"}),(0,i.Z)(r,a.go.zhTW,{displayName:"中文",displayNameEn:"Traditional Chinese"}),(0,i.Z)(r,a.go.zu,{displayName:"IsiZulu",displayNameEn:"Zulu"}),r),s=[a.go.en,a.go.af,a.go.am,a.go.ar,a.go.az,a.go.bg,a.go.bho,a.go.bn,a.go.cs,a.go.da,a.go.de,a.go.el,a.go.es,a.go.es419,a.go.et,a.go.fa,a.go.fi,a.go.fil,a.go.fr,a.go.frCA,a.go.gu,a.go.he,a.go.hi,a.go.hr,a.go.hu,a.go.id,a.go.is,a.go.it,a.go.ja,a.go.kn,a.go.ko,a.go.lt,a.go.lv,a.go.ml,a.go.mr,a.go.ms,a.go.nb,a.go.ne,a.go.nl,a.go.or,a.go.paIN,a.go.paPK,a.go.pl,a.go.ptBR,a.go.ptPT,a.go.ro,a.go.ru,a.go.sk,a.go.sl,a.go.sr,a.go.sv,a.go.sw,a.go.ta,a.go.te,a.go.th,a.go.tr,a.go.uk,a.go.ur,a.go.vi,a.go.zhCN,a.go.zhTW,a.go.zu],l=[].concat(s),c=[].concat(s)},52200:(e,t,n)=>{"use strict";n.d(t,{TS:()=>a,rA:()=>r,rD:()=>i});var r=Spicetify.GraphQL.Definitions["imageURLAndSize"]={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"imageURLAndSize"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ImageSource"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]},i=Spicetify.GraphQL.Definitions["imageSources"]={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"imageSources"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Image"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"imageURLAndSize"}}]}}]}}]},a=Spicetify.GraphQL.Definitions["audioItems"]={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"audioItems"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AudioPage"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"format"}},{kind:"Field",name:{kind:"Name",value:"fileId"}},{kind:"Field",name:{kind:"Name",value:"externallyHosted"}}]}}]}}]}},69415:(e,t,n)=>{"use strict";n.d(t,{Zl:()=>i});var r=n(93433),i=(n(92222),n(98984),{kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"creator"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"avatar"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"height"}},{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}}]}}]}}]}}]});[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"queryShowEpisodes"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uri"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"podcast"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uri"},value:{kind:"Variable",name:{kind:"Name",value:"uri"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"following"}},{kind:"Field",name:{kind:"Name",value:"description"}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"contentRating"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"label"}}]}},{kind:"Field",name:{kind:"Name",value:"publisher"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"playability"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"playable"}},{kind:"Field",name:{kind:"Name",value:"reason"}}]}},{kind:"Field",name:{kind:"Name",value:"mediaType"}},{kind:"Field",name:{kind:"Name",value:"episodes"},arguments:[{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"episodePage"}}]}},{kind:"Field",name:{kind:"Name",value:"sharingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"shareUrl"}},{kind:"Field",name:{kind:"Name",value:"shareId"}}]}},{kind:"Field",name:{kind:"Name",value:"trailer"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"showTypes"}}]}}]}}].concat((0,r.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"episodePage"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"EpisodePage"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"pagingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nextOffset"}}]}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"contextEpisode"}}]}}]}}]),(0,r.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"contextEpisode"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ContextEpisode"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uid"}},{kind:"Field",name:{kind:"Name",value:"episode"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"episode"}}]}}]}}]),(0,r.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"episode"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Episode"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"description"}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"creator"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"audio"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"format"}},{kind:"Field",name:{kind:"Name",value:"fileId"}},{kind:"Field",name:{kind:"Name",value:"externallyHosted"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"audioPreview"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"format"}}]}},{kind:"Field",name:{kind:"Name",value:"duration"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalMilliseconds"}}]}},{kind:"Field",name:{kind:"Name",value:"contentRating"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"label"}}]}},{kind:"Field",name:{kind:"Name",value:"releaseDate"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isoString"}}]}},{kind:"Field",name:{kind:"Name",value:"playedState"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"playPosition"}},{kind:"Field",name:{kind:"Name",value:"playPositionMilliseconds"}},{kind:"Field",name:{kind:"Name",value:"state"}}]}},{kind:"Field",name:{kind:"Name",value:"mediaType"}},{kind:"Field",name:{kind:"Name",value:"restrictions"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"paywallContent"}}]}},{kind:"Field",name:{kind:"Name",value:"playability"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"playable"}},{kind:"Field",name:{kind:"Name",value:"reason"}}]}},{kind:"Field",name:{kind:"Name",value:"sharingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"shareUrl"}},{kind:"Field",name:{kind:"Name",value:"shareId"}}]}},{kind:"Field",name:{kind:"Name",value:"type"}}]}}]),(0,r.Z)(i.definitions))},2678:(e,t,n)=>{"use strict";n.d(t,{Kg:()=>o,Rr:()=>i,Vn:()=>a,n0:()=>r});var r=Spicetify.GraphQL.Definitions["podcastEpisode"]={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"podcastEpisode"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Episode"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"contents"}},{kind:"Field",name:{kind:"Name",value:"htmlDescription"}},{kind:"Field",name:{kind:"Name",value:"description"}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"imageSources"}}]}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"FragmentSpread",name:{kind:"Name",value:"creator"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"audio"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"audioItems"}}]}},{kind:"Field",name:{kind:"Name",value:"audioPreview"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"format"}}]}},{kind:"Field",name:{kind:"Name",value:"duration"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalMilliseconds"}}]}},{kind:"Field",name:{kind:"Name",value:"contentRating"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"label"}}]}},{kind:"Field",name:{kind:"Name",value:"releaseDate"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isoString"}}]}},{kind:"Field",name:{kind:"Name",value:"playedState"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"playPositionMilliseconds"}},{kind:"Field",name:{kind:"Name",value:"state"}}]}},{kind:"Field",name:{kind:"Name",value:"mediaTypes"}},{kind:"Field",name:{kind:"Name",value:"restrictions"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"paywallContent"}}]}},{kind:"Field",name:{kind:"Name",value:"playability"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"playable"}},{kind:"Field",name:{kind:"Name",value:"reason"}}]}},{kind:"Field",name:{kind:"Name",value:"sharingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"shareUrl"}},{kind:"Field",name:{kind:"Name",value:"shareId"}}]}},{kind:"Field",name:{kind:"Name",value:"podcast"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"trailer"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}}]}},{kind:"Field",name:{kind:"Name",value:"showTypes"}}]}},{kind:"Field",name:{kind:"Name",value:"type"}},{kind:"Field",name:{kind:"Name",value:"segments"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"segments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"IntValue",value:"0"}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"IntValue",value:"20"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"contentInformation"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"buttonTarget"}},{kind:"Field",name:{kind:"Name",value:"buttonText"}},{kind:"Field",name:{kind:"Name",value:"cardBodyText"}},{kind:"Field",name:{kind:"Name",value:"cardHeaderText"}}]}},{kind:"Field",name:{kind:"Name",value:"transcripts"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"cdnUrl"}},{kind:"Field",name:{kind:"Name",value:"language"}}]}}]}}]}}]},i=Spicetify.GraphQL.Definitions["podcastMetadataV2"]={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"podcastMetadataV2"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Podcast"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"saved"}},{kind:"Field",name:{kind:"Name",value:"description"}},{kind:"Field",name:{kind:"Name",value:"htmlDescription"}},{kind:"Field",name:{kind:"Name",value:"contents"}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"imageSources"}}]}},{kind:"Field",name:{kind:"Name",value:"contentRating"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"label"}}]}},{kind:"Field",name:{kind:"Name",value:"publisher"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"playability"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"playable"}},{kind:"Field",name:{kind:"Name",value:"reason"}}]}},{kind:"Field",name:{kind:"Name",value:"mediaType"}},{kind:"Field",name:{kind:"Name",value:"sharingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"shareUrl"}},{kind:"Field",name:{kind:"Name",value:"shareId"}}]}},{kind:"Field",name:{kind:"Name",value:"trailer"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"podcastEpisode"}}]}},{kind:"Field",name:{kind:"Name",value:"episodesV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"IntValue",value:"0"}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"IntValue",value:"1"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ContextEpisodePage"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"entity"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Episode"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"FragmentSpread",name:{kind:"Name",value:"creator"}}]}}]}}]}}]}}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"showTypes"}},{kind:"Field",name:{kind:"Name",value:"contentType"}},{kind:"Field",name:{kind:"Name",value:"type"}},{kind:"Field",name:{kind:"Name",value:"topics"},arguments:[{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"IntValue",value:"0"}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"IntValue",value:"5"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"title"}},{kind:"Field",name:{kind:"Name",value:"uri"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"nextBestEpisodes"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"item"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"FragmentSpread",name:{kind:"Name",value:"podcastEpisode"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"score"}}]}}]}}]}}]},a=Spicetify.GraphQL.Definitions["audiobookChapter"]={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"audiobookChapter"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Chapter"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"htmlDescription"}},{kind:"Field",name:{kind:"Name",value:"description"}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"imageSources"}}]}},{kind:"Field",name:{kind:"Name",value:"audio"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"audioItems"}}]}},{kind:"Field",name:{kind:"Name",value:"audioPreview"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"format"}}]}},{kind:"Field",name:{kind:"Name",value:"duration"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalMilliseconds"}}]}},{kind:"Field",name:{kind:"Name",value:"contentRating"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"label"}}]}},{kind:"Field",name:{kind:"Name",value:"releaseDate"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isoString"}}]}},{kind:"Field",name:{kind:"Name",value:"playedState"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"playPositionMilliseconds"}},{kind:"Field",name:{kind:"Name",value:"state"}}]}},{kind:"Field",name:{kind:"Name",value:"mediaTypes"}},{kind:"Field",name:{kind:"Name",value:"restrictions"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"paywallContent"}}]}},{kind:"Field",name:{kind:"Name",value:"playability"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"playable"}},{kind:"Field",name:{kind:"Name",value:"reason"}}]}},{kind:"Field",name:{kind:"Name",value:"sharingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"shareUrl"}},{kind:"Field",name:{kind:"Name",value:"shareId"}}]}},{kind:"Field",name:{kind:"Name",value:"audiobook"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"trailer"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}}]}},{kind:"Field",name:{kind:"Name",value:"showTypes"}}]}}]}}]},o=Spicetify.GraphQL.Definitions["audiobookMetadataV2"]={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"audiobookMetadataV2"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Audiobook"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"saved"}},{kind:"Field",name:{kind:"Name",value:"description"}},{kind:"Field",name:{kind:"Name",value:"htmlDescription"}},{kind:"Field",name:{kind:"Name",value:"htmlDescriptionPlain"}},{kind:"Field",name:{kind:"Name",value:"authors"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"narrators"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"imageSources"}}]}},{kind:"Field",name:{kind:"Name",value:"contentRating"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"label"}}]}},{kind:"Field",name:{kind:"Name",value:"publisher"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"publishDate"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isoString"}}]}},{kind:"Field",name:{kind:"Name",value:"copyright"},arguments:[{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"IntValue",value:"0"}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"IntValue",value:"5"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"type"}},{kind:"Field",name:{kind:"Name",value:"text"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rating"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"canRate"}},{kind:"Field",name:{kind:"Name",value:"averageRating"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"average"}},{kind:"Field",name:{kind:"Name",value:"showAverage"}},{kind:"Field",name:{kind:"Name",value:"totalRatings"}}]}},{kind:"Field",name:{kind:"Name",value:"rating"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"rating"}},{kind:"Field",name:{kind:"Name",value:"userId"}},{kind:"Field",name:{kind:"Name",value:"showUri"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"price"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"finalListPrice"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currency"}},{kind:"Field",name:{kind:"Name",value:"formattedPrice"}},{kind:"Field",name:{kind:"Name",value:"amount"}}]}},{kind:"Field",name:{kind:"Name",value:"finalPrice"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currency"}},{kind:"Field",name:{kind:"Name",value:"formattedPrice"}},{kind:"Field",name:{kind:"Name",value:"amount"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"playability"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"playable"}},{kind:"Field",name:{kind:"Name",value:"reason"}}]}},{kind:"Field",name:{kind:"Name",value:"mediaType"}},{kind:"Field",name:{kind:"Name",value:"sharingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"shareUrl"}},{kind:"Field",name:{kind:"Name",value:"shareId"}}]}},{kind:"Field",name:{kind:"Name",value:"trailer"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"audiobookChapter"}}]}},{kind:"Field",name:{kind:"Name",value:"showTypes"}},{kind:"Field",name:{kind:"Name",value:"topics"},arguments:[{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"IntValue",value:"0"}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"IntValue",value:"5"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"title"}},{kind:"Field",name:{kind:"Name",value:"uri"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"duration"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalMilliseconds"}}]}},{kind:"Field",name:{kind:"Name",value:"accessInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isUserMemberOfAtLeastOneGroup"}}]}}]}}]}},7073:(e,t,n)=>{"use strict";var r,i,a,o,s,l,c,u,d,m,p,f,v,g,h,y,k,E,b,_,S,w,N,O,C,T,I,A,P,D,R,x,L,F,U,Z,M,B,j,V;n.d(t,{$C:()=>T,$_:()=>g,Cl:()=>x,KS:()=>u,Ku:()=>A,Le:()=>P,VQ:()=>p,VZ:()=>r,Wf:()=>y,bm:()=>N,p2:()=>a,sY:()=>h,xN:()=>l}),function(e){e.Album="ALBUM",e.Audiobook="AUDIOBOOK",e.Compilation="COMPILATION",e.Ep="EP",e.Podcast="PODCAST",e.Single="SINGLE",e.Unknown="UNKNOWN"}(r||(r={})),function(e){e.DateAsc="DATE_ASC",e.DateDesc="DATE_DESC",e.NameAsc="NAME_ASC",e.NameDesc="NAME_DESC"}(i||(i={})),function(e){e.Album="ALBUM",e.Artist="ARTIST",e.Concert="CONCERT",e.Episode="EPISODE",e.Other="OTHER",e.Playlist="PLAYLIST",e.Podcast="PODCAST",e.Track="TRACK"}(a||(a={})),function(e){e.MainBrowse="MAIN_BROWSE",e.PodcastBrowse="PODCAST_BROWSE"}(o||(o={})),function(e){e.Ascending="ASCENDING",e.Descending="DESCENDING",e.Unspecified="UNSPECIFIED"}(s||(s={})),function(e){e.Albums="ALBUMS",e.Artists="ARTISTS",e.Audiobooks="AUDIOBOOKS",e.Episodes="EPISODES",e.Genres="GENRES",e.Playlists="PLAYLISTS",e.Podcasts="PODCASTS",e.TopResults="TOP_RESULTS",e.Tracks="TRACKS",e.Users="USERS"}(l||(l={})),function(e){e.DarkVibrant="DARK_VIBRANT",e.Desaturated="DESATURATED",e.LightVibrant="LIGHT_VIBRANT",e.Prominent="PROMINENT",e.Unrecognized="UNRECOGNIZED",e.Vibrant="VIBRANT",e.VibrantNonAlarming="VIBRANT_NON_ALARMING"}(c||(c={})),function(e){e.Explicit="EXPLICIT",e.NineteenPlus="NINETEEN_PLUS",e.None="NONE",e.Unknown="UNKNOWN"}(u||(u={})),function(e){e.ContentTypeAudiobook="CONTENT_TYPE_AUDIOBOOK",e.ContentTypeCreatorChannel="CONTENT_TYPE_CREATOR_CHANNEL",e.ContentTypePodcast="CONTENT_TYPE_PODCAST",e.ContentTypeUnspecified="CONTENT_TYPE_UNSPECIFIED"}(d||(d={})),function(e){e.C="C",e.P="P"}(m||(m={})),function(e){e.Day="DAY",e.Hour="HOUR",e.Minute="MINUTE",e.Month="MONTH",e.Year="YEAR"}(p||(p={})),function(e){e.AndroidAuto="ANDROID_AUTO",e.AndroidAutomotive="ANDROID_AUTOMOTIVE",e.AndroidTv="ANDROID_TV",e.AppleTv="APPLE_TV",e.AppleWatch="APPLE_WATCH",e.BixbyRoutines="BIXBY_ROUTINES",e.Bmw="BMW",e.BmwProjected="BMW_PROJECTED",e.BoseApp="BOSE_APP",e.Carplay="CARPLAY",e.CarHeadUnitProjected="CAR_HEAD_UNIT_PROJECTED",e.CarMode="CAR_MODE",e.Desktop="DESKTOP",e.FacebookPortal="FACEBOOK_PORTAL",e.GeneralMotors="GENERAL_MOTORS",e.GoogleClock="GOOGLE_CLOCK",e.GoogleDrivingMode="GOOGLE_DRIVING_MODE",e.GoogleMaps="GOOGLE_MAPS",e.GoogleSmartDisplay="GOOGLE_SMART_DISPLAY",e.Headphones="HEADPHONES",e.Jlr="JLR",e.Mercedes="MERCEDES",e.MicrosoftGameBar="MICROSOFT_GAME_BAR",e.PartnerMobileExperience="PARTNER_MOBILE_EXPERIENCE",e.PlaystationPs4="PLAYSTATION_PS4",e.PlaystationPs5="PLAYSTATION_PS5",e.Porsche="PORSCHE",e.SamsungClock="SAMSUNG_CLOCK",e.SamsungFamilyHub="SAMSUNG_FAMILY_HUB",e.SamsungKeyboard="SAMSUNG_KEYBOARD",e.SamsungTv="SAMSUNG_TV",e.SamsungWatch="SAMSUNG_WATCH",e.SonosApp="SONOS_APP",e.Tesla="TESLA",e.TvApp="TV_APP",e.Unknown="UNKNOWN",e.Volkswagen="VOLKSWAGEN",e.Volvo="VOLVO",e.Waze="WAZE",e.WearOs="WEAR_OS",e.XboxQuickGuide="XBOX_QUICK_GUIDE"}(f||(f={})),function(e){e.EpisodeContentAudiobookChapter="EPISODE_CONTENT_AUDIOBOOK_CHAPTER",e.EpisodeContentCreatorChannelEpisode="EPISODE_CONTENT_CREATOR_CHANNEL_EPISODE",e.EpisodeContentUnknown="EPISODE_CONTENT_UNKNOWN"}(v||(v={})),function(e){e.Audio="AUDIO",e.Unknown="UNKNOWN",e.Video="VIDEO"}(g||(g={})),function(e){e.Completed="COMPLETED",e.InProgress="IN_PROGRESS",e.NotStarted="NOT_STARTED"}(h||(h={})),function(e){e.Episode="EPISODE",e.PodcastEpisode="PODCAST_EPISODE",e.Unknown="UNKNOWN"}(y||(y={})),function(e){e.Announcement="ANNOUNCEMENT",e.Campaign="CAMPAIGN"}(k||(k={})),function(e){e.IntegrationAmazonAlexa="INTEGRATION_AMAZON_ALEXA",e.IntegrationAndroidAuto="INTEGRATION_ANDROID_AUTO",e.IntegrationAndroidAutomotive="INTEGRATION_ANDROID_AUTOMOTIVE",e.IntegrationAndroidClock="INTEGRATION_ANDROID_CLOCK",e.IntegrationAndroidPhone="INTEGRATION_ANDROID_PHONE",e.IntegrationAndroidSystemUi="INTEGRATION_ANDROID_SYSTEM_UI",e.IntegrationAndroidTablet="INTEGRATION_ANDROID_TABLET",e.IntegrationAndroidTv="INTEGRATION_ANDROID_TV",e.IntegrationAppleTv="INTEGRATION_APPLE_TV",e.IntegrationAppleWatch="INTEGRATION_APPLE_WATCH",e.IntegrationAsusClock="INTEGRATION_ASUS_CLOCK",e.IntegrationBixbyRoutines="INTEGRATION_BIXBY_ROUTINES",e.IntegrationBmw="INTEGRATION_BMW",e.IntegrationBmwProjected="INTEGRATION_BMW_PROJECTED",e.IntegrationBoseApp="INTEGRATION_BOSE_APP",e.IntegrationCarplay="INTEGRATION_CARPLAY",e.IntegrationCarHeadUnitProjected="INTEGRATION_CAR_HEAD_UNIT_PROJECTED",e.IntegrationCarMode="INTEGRATION_CAR_MODE",e.IntegrationCarView="INTEGRATION_CAR_VIEW",e.IntegrationComcast="INTEGRATION_COMCAST",e.IntegrationDesktop="INTEGRATION_DESKTOP",e.IntegrationFacebookPortal="INTEGRATION_FACEBOOK_PORTAL",e.IntegrationFacebookVenice="INTEGRATION_FACEBOOK_VENICE",e.IntegrationGeneralMotors="INTEGRATION_GENERAL_MOTORS",e.IntegrationGoogleClock="INTEGRATION_GOOGLE_CLOCK",e.IntegrationGoogleDrivingMode="INTEGRATION_GOOGLE_DRIVING_MODE",e.IntegrationGoogleMaps="INTEGRATION_GOOGLE_MAPS",e.IntegrationGoogleSmartDisplay="INTEGRATION_GOOGLE_SMART_DISPLAY",e.IntegrationGoogleSmartSpace="INTEGRATION_GOOGLE_SMART_SPACE",e.IntegrationHeadphones="INTEGRATION_HEADPHONES",e.IntegrationIosWidget="INTEGRATION_IOS_WIDGET",e.IntegrationIpad="INTEGRATION_IPAD",e.IntegrationIphone="INTEGRATION_IPHONE",e.IntegrationJlr="INTEGRATION_JLR",e.IntegrationMercedes="INTEGRATION_MERCEDES",e.IntegrationMicrosoftGameBar="INTEGRATION_MICROSOFT_GAME_BAR",e.IntegrationMobileWebPlayer="INTEGRATION_MOBILE_WEB_PLAYER",e.IntegrationOneplusClock="INTEGRATION_ONEPLUS_CLOCK",e.IntegrationOneplusShelf="INTEGRATION_ONEPLUS_SHELF",e.IntegrationOplusShelf="INTEGRATION_OPLUS_SHELF",e.IntegrationPartnerMobileExperience="INTEGRATION_PARTNER_MOBILE_EXPERIENCE",e.IntegrationPlaystation="INTEGRATION_PLAYSTATION",e.IntegrationPlaystationPs4="INTEGRATION_PLAYSTATION_PS4",e.IntegrationPlaystationPs5="INTEGRATION_PLAYSTATION_PS5",e.IntegrationPorsche="INTEGRATION_PORSCHE",e.IntegrationRoku="INTEGRATION_ROKU",e.IntegrationSamsungClock="INTEGRATION_SAMSUNG_CLOCK",e.IntegrationSamsungFamilyHub="INTEGRATION_SAMSUNG_FAMILY_HUB",e.IntegrationSamsungFinder="INTEGRATION_SAMSUNG_FINDER",e.IntegrationSamsungKeyboard="INTEGRATION_SAMSUNG_KEYBOARD",e.IntegrationSamsungTv="INTEGRATION_SAMSUNG_TV",e.IntegrationSamsungWatch="INTEGRATION_SAMSUNG_WATCH",e.IntegrationSiriSuggestions="INTEGRATION_SIRI_SUGGESTIONS",e.IntegrationSky="INTEGRATION_SKY",e.IntegrationSonosApp="INTEGRATION_SONOS_APP",e.IntegrationSpeaker="INTEGRATION_SPEAKER",e.IntegrationTesla="INTEGRATION_TESLA",e.IntegrationTvApp="INTEGRATION_TV_APP",e.IntegrationUnspecified="INTEGRATION_UNSPECIFIED",e.IntegrationVolkswagen="INTEGRATION_VOLKSWAGEN",e.IntegrationVolvo="INTEGRATION_VOLVO",e.IntegrationWaze="INTEGRATION_WAZE",e.IntegrationWearOs="INTEGRATION_WEAR_OS",e.IntegrationWebosTv="INTEGRATION_WEBOS_TV",e.IntegrationWebPlayer="INTEGRATION_WEB_PLAYER",e.IntegrationXbox="INTEGRATION_XBOX",e.IntegrationXboxQuickGuide="INTEGRATION_XBOX_QUICK_GUIDE"}(E||(E={})),function(e){e.ExperienceDriving="EXPERIENCE_DRIVING",e.ExperienceGaming="EXPERIENCE_GAMING",e.ExperienceUnspecified="EXPERIENCE_UNSPECIFIED"}(b||(b={})),function(e){e.DoNotTranslate="DO_NOT_TRANSLATE",e.Translate="TRANSLATE"}(_||(_={})),function(e){e.Album="ALBUM",e.Artist="ARTIST",e.Collection="COLLECTION",e.CollectionNewEpisodes="COLLECTION_NEW_EPISODES",e.CollectionYourEpisodes="COLLECTION_YOUR_EPISODES",e.Episode="EPISODE",e.Folder="FOLDER",e.LocalFiles="LOCAL_FILES",e.LocalTrack="LOCAL_TRACK",e.Playlist="PLAYLIST",e.Show="SHOW",e.Station="STATION",e.Track="TRACK"}(S||(S={})),function(e){e.LikedSongs="LIKED_SONGS",e.YourEpisodes="YOUR_EPISODES"}(w||(w={})),function(e){e.Facebook="FACEBOOK",e.Instagram="INSTAGRAM",e.Other="OTHER",e.Soundbetter="SOUNDBETTER",e.Twitter="TWITTER",e.Wikipedia="WIKIPEDIA"}(N||(N={})),function(e){e.Line="LINE",e.Text="TEXT"}(O||(O={})),function(e){e.LineSynced="LINE_SYNCED",e.Unknown="UNKNOWN",e.Unsynced="UNSYNCED"}(C||(C={})),function(e){e.Description="DESCRIPTION",e.Guest="GUEST",e.Host="HOST",e.Lyrics="LYRICS",e.Name="NAME",e.UnknownField="UNKNOWN_FIELD"}(T||(T={})),function(e){e.FailedItemInFolder="FAILED_ITEM_IN_FOLDER",e.FailedItemLimitReached="FAILED_ITEM_LIMIT_REACHED",e.FailedItemNotSupported="FAILED_ITEM_NOT_SUPPORTED",e.FailedNotInYourLibrary="FAILED_NOT_IN_YOUR_LIBRARY",e.Successful="SUCCESSFUL"}(I||(I={})),function(e){e.AgeRestricted="AGE_RESTRICTED",e.CatalogueRestricted="CATALOGUE_RESTRICTED",e.CountryRestricted="COUNTRY_RESTRICTED",e.Explicit="EXPLICIT",e.PaymentRequired="PAYMENT_REQUIRED",e.Playable="PLAYABLE",e.Unavailable="UNAVAILABLE",e.Unknown="UNKNOWN"}(A||(A={})),function(e){e.AfterUid="AFTER_UID",e.BeforeUid="BEFORE_UID",e.BottomOfPlaylist="BOTTOM_OF_PLAYLIST",e.TopOfPlaylist="TOP_OF_PLAYLIST"}(P||(P={})),function(e){e.NewestFirst="NEWEST_FIRST",e.OldestFirst="OLDEST_FIRST",e.Unspecified="UNSPECIFIED"}(D||(D={})),function(e){e.External="EXTERNAL",e.Internal="INTERNAL",e.InternalAndExternal="INTERNAL_AND_EXTERNAL",e.Unknown="UNKNOWN"}(R||(R={})),function(e){e.Audio="AUDIO",e.Mixed="MIXED",e.Unknown="UNKNOWN",e.Video="VIDEO"}(x||(x={})),function(e){e.Podcast="PODCAST",e.Show="SHOW",e.Unknown="UNKNOWN"}(L||(L={})),function(e){e.OneDimension="ONE_DIMENSION",e.TwoDimension="TWO_DIMENSION",e.ZeroDimension="ZERO_DIMENSION"}(F||(F={})),function(e){e.Free="FREE",e.Premium="PREMIUM"}(U||(U={})),function(e){e.Artist="ARTIST",e.Artistban="ARTISTBAN",e.Ban="BAN",e.Collection="COLLECTION",e.Enhanced="ENHANCED",e.Ignoreinrecs="IGNOREINRECS",e.Listenlater="LISTENLATER",e.Offlinemix="OFFLINEMIX",e.Show="SHOW"}(Z||(Z={})),function(e){e.ShowContentAudiobook="SHOW_CONTENT_AUDIOBOOK",e.ShowContentCreatorChannel="SHOW_CONTENT_CREATOR_CHANNEL",e.ShowContentUnknown="SHOW_CONTENT_UNKNOWN"}(M||(M={})),function(e){e.ShowTypeAdaptation="SHOW_TYPE_ADAPTATION",e.ShowTypeExclusive="SHOW_TYPE_EXCLUSIVE",e.ShowTypeOriginal="SHOW_TYPE_ORIGINAL"}(B||(B={})),function(e){e.Actor="ACTOR",e.Composer="COMPOSER",e.Conductor="CONDUCTOR",e.Featured="FEATURED",e.Main="MAIN",e.Orchestra="ORCHESTRA",e.Remixer="REMIXER",e.Unknown="UNKNOWN"}(j||(j={})),function(e){e.DoNotTranslate="DO_NOT_TRANSLATE",e.Translate="TRANSLATE"}(V||(V={}))},72169:(e,t,n)=>{"use strict";n.d(t,{p_:()=>N,BH:()=>v,Bq:()=>s,Pv:()=>u,jv:()=>k,Bi:()=>m,NS:()=>d,LO:()=>y,w$:()=>E,dR:()=>c,x7:()=>h,GD:()=>b,Cf:()=>w,mQ:()=>_,U2:()=>O,R7:()=>a,sW:()=>i,Rn:()=>p,wY:()=>C});var r=n(7073);function i(e){return(null==e?void 0:e.label)===r.KS.Explicit}function a(e){return(null==e?void 0:e.label)===r.KS.NineteenPlus}n(83710),n(28733);var o=n(38470);function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null===e){var n=null!=t?t:new Date(0);return n.toISOString()}return e.isoString}function l(e){var t=null==e?void 0:e.precision;switch(t){case r.VQ.Minute:case r.VQ.Hour:case r.VQ.Day:return"day";case r.VQ.Month:return"month";case r.VQ.Year:case void 0:return"year";default:return(0,o.U)(t)}}function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{date:s(e,t),precision:l(e)}}function u(e){return{milliseconds:e.totalMilliseconds}}n(21249),n(57327),n(41539);function d(e){return null!==e?e.sources.map(m):[]}function m(e){return{url:e.url,width:e.width,height:e.height}}function p(e){var t;return null!==(t=null==e?void 0:e.playable)&&void 0!==t&&t}n(68309);var f=n(42781);function v(e){return e.items.map((function(e){var t=e.uri,n=e.profile.name;return{type:f.p.ARTIST,uri:t,name:n}}))}var g=n(143);function h(e){switch(e){case r.Cl.Audio:return g.E.AUDIO;case r.Cl.Video:return g.E.VIDEO;case r.Cl.Mixed:return g.E.MIXED;case r.Cl.Unknown:return g.E.UNKNOWN;default:return(0,o.U)(e)}}function y(e){return null!==e?[e.code]:[]}function k(e){var t,n;return{type:f.p.SHOW,uri:e.uri,name:e.name,publisher:null!==(t=null===(n=e.publisher)||void 0===n?void 0:n.name)&&void 0!==t?t:"",images:d(e.coverArt),mediaType:h(e.mediaType)}}function E(e,t){var n,i=null!==(n=null==e?void 0:e.paywallContent)&&void 0!==n&&n,a=t.reason;return{isPaywalled:i,isUserSubscribed:i&&a!==r.Ku.PaymentRequired}}function b(e,t){return{milliseconds:e.totalMilliseconds-t.playPositionMilliseconds}}function _(e){return e.items.map((function(e){var t=e.uri,n=e.profile.name;return{type:f.p.ARTIST,uri:t,name:n}}))}function S(e){var t=e.items;if(0===t.length)return{type:f.p.ARTIST,uri:"",name:""};var n=t[0],r=n.uri,i=n.profile.name;return{type:f.p.ARTIST,uri:r,name:i}}function w(e){return{type:f.p.ALBUM,uri:e.uri,name:e.name,images:d(e.coverArt),artist:S(e.artists)}}n(21703),n(96647),n(92222),n(74916),n(23123);function N(e,t,n){if(null!==e&&e.__typename!==t)throw new Error(n||"".concat(e,' is not a "').concat(t,'"'))}function O(e,t){try{!function(e){if(null===e)throw new Error("".concat(e," is `null`"))}(e);for(var n=t.split("."),r=e;n.length;){r=r[n.shift()]}return function(e){if(e.message)throw new Error("".concat(e," is a `PathfinderError`"))}(r),r}catch(e){throw new Error('Could not get "'.concat(t,'"!'))}}function C(e,t,n){try{return O(e,t)}catch(e){return n}}},8247:(e,t,n)=>{"use strict";n.d(t,{$6:()=>L,AK:()=>U,Br:()=>v,C4:()=>j,CJ:()=>p,Cd:()=>V,DX:()=>g,Gx:()=>b,IE:()=>_,LW:()=>P,Lp:()=>w,OQ:()=>C,Pz:()=>f,Qp:()=>k,RC:()=>y,Ro:()=>B,SZ:()=>Z,Um:()=>D,Vi:()=>T,WS:()=>h,XF:()=>x,Xf:()=>A,aO:()=>i,bS:()=>E,bw:()=>d,c$:()=>O,dq:()=>I,iU:()=>N,nt:()=>S,rS:()=>r,sM:()=>c,sT:()=>M,sb:()=>m,t$:()=>R,wy:()=>F});var r,i,a,o,s,l,c,u=n(3578);!function(e){e.DISABLED="DISABLED",e.TWO_USER="TWO_USER",e.MULTI_USER="MULTI_USER"}(r||(r={})),function(e){e.DEFAULT="default",e.CONTROL="control",e.VARIANT="variant"}(i||(i={})),function(e){e.DEFAULT="default",e.CONTROL="control",e.VARIANT="variant"}(a||(a={})),function(e){e.DEFAULT="default",e.CONTROL="control",e.VARIANT="variant"}(o||(o={})),function(e){e.DEFAULT="default",e.CONTROL="control",e.VARIANT="variant"}(s||(s={})),function(e){e.DEFAULT="default",e.CONTROL="control",e.VARIANT="variant"}(l||(l={})),function(e){e.DEFAULT="default",e.VARIANTA="varianta",e.VARIANTB="variantb"}(c||(c={}));(0,u.JP)({name:"exampleOfSharedPropertyThatDoesNotExist",description:"Example of enabling a propoerty that is shared between Desktop, Mobile and Embed",default:!1});var d=(0,u.JP)({name:"enableOfflineVideoDev",description:"Enables Spotify videos to be offlined on DesktopX. Used during feature development",default:!1}),m=(0,u.z8)({name:"betamaxOfflineTargetBitrate",description:"targetBitrate to use when offlining. The closest to this bitrate to this is used.",default:12e5,lower:1e3,upper:1e9}),p=(0,u.JP)({name:"enableBetamaxSdkSubtitlesDesktopX",description:"Enables subtitles setting and rendering subtitles on the betamax SDK on DesktopX",default:!1}),f=(0,u.JP)({name:"enableBetamaxSdkMuxDesktopXDev",description:"Enables MUX library for development on Desktop X",default:!1}),v=((0,u.JP)({name:"enableVideoOnVideoSaiDev",description:"Enables video-on-video SAI on videos Desktop X. Used during feature development",default:!1}),(0,u.JP)({name:"enableBetamaxSdkVmp",description:"Enables client-side widevine VMP (verified media path) on betamax SDK.",default:!1})),g=(0,u.JP)({name:"enableBetamaxSdkVideoOnVideoSai",description:"Enables video-on-video SAI on videos Desktop X",default:!1}),h=(0,u.z8)({name:"betamaxSdkRebufferingGoal",description:"Sets the buffer goal (in seconds) required before starting/resuming playback video on betamax SDK",upper:100,lower:0,default:4}),y=(0,u.z8)({name:"betamaxSdkRetryAttempts",description:"The number of times to retry on network",default:2,upper:100,lower:1}),k=(0,u.JP)({name:"betamaxSdkDataSaverV2",description:"Enables the data saver feature on betamax SDK (linked to the video show/hide controls and close video window)",default:!1}),E=(0,u.z8)({name:"betamaxSdkDataSaverBufferMargin",description:"Sets the amount of buffer in seconds to be kept when disabling data saver (lower = faster variant change)",default:4,upper:100,lower:0}),b=(0,u.JP)({name:"betamaxVideoAutoplay",description:"Enables an alternative method for video autoplay to address Mux metrics",default:!1}),_=(0,u.JP)({name:"enableConnectEsperanto",description:"Enables the usage of the Esperanto Connect API",default:!1}),S=(0,u.JP)({name:"showFriendFeed",description:"Shows the friend feed",default:!0}),w=(0,u.JP)({name:"enableStreamReportingTracker3",description:"Enables use of the StreamReporting module for video playback",default:!0}),N=((0,u.JP)({name:"playAtFirstTap",description:"Load context to enable play button on first load",default:!1}),(0,u.JP)({name:"showWrappedBanner",description:"Show Wrapped banner on wrapped genre page",default:!1})),O=(0,u.VL)({name:"enableBlendInvitation",description:"Enable users to join Blends through client-web",values:r,default:r.DISABLED}),C=(0,u.JP)({name:"enableLibraryGraphQL",description:"Use the `LibraryGraphQL` implementation using Pathfinder instead of Web API",default:!1}),T=(0,u.JP)({name:"enableLibraryGraphQLV2",description:"Use the `LibraryGraphQLV2` implementation using Pathfinder instead of Web API",default:!1}),I=(0,u.JP)({name:"enableSubtitlesUsingHarmony",description:"Enable subtitles using Harmony",default:!1}),A=(0,u.JP)({name:"enableUriLinks",description:"Enable the `uri_link` type in Web API /views",default:!1}),P=((0,u.JP)({name:"enableTrendingView",description:"Enable the trending view experiment",default:!1}),(0,u.VL)({name:"enableInternalTrackLinks",description:"Enable entity pages to have internal links to the track page",values:i,default:i.DEFAULT})),D=(0,u.VL)({name:"enableMultiVisit",description:"Multi Visit AA test",values:a,default:a.DEFAULT}),R=((0,u.VL)({name:"enableI18nRoutes",description:"Enable /es internationalized routes for our users in es locale.",values:o,default:o.DEFAULT}),(0,u.JP)({name:"enableCastConnect",description:"Enable Google's new Cast Connect feature for Android TV from Web Player's Cast Sender implementation",default:!1})),x=((0,u.JP)({name:"enableNewEpisodes",description:"Enable the new episodes view",default:!1}),(0,u.VL)({name:"merchVariantExperiment",description:"Merch shelf re-ordering experiment on Artist Profile Page(A/B/C test)",values:c,default:c.DEFAULT})),L=(0,u.JP)({name:"enableMerchOnAlbum",description:"Enable merch shelf view on album page",default:!1}),F=(0,u.JP)({name:"enablePickAndShuffle",description:"Enable pick and shuffle",default:!1}),U=((0,u.JP)({name:"enableNewTicketingSection",description:"Enable New Ticketing section on Concert Event Pages",default:!1}),(0,u.JP)({name:"enableSearchboxInAddToPlaylistMenu",description:"Adds a search box so users are able to filter playlists when trying to add songs to a playlist using the contextmenu",default:!1})),Z=(0,u.JP)({name:"enablePlaylistGraphQL",description:"Use the `PlaylistGraphQL` implementation using Pathfinder instead of Web API",default:!1}),M=(0,u.JP)({name:"enableSnakeJazz",description:"Enable the Soundtrap studio integration",default:!1}),B=(0,u.JP)({name:"enableEqualizer",description:"Enable audio equalizer for Desktop and Web Player",default:!1}),j=(0,u.JP)({name:"showServiceUseEsperanto",description:"Enable Esperanto endpoints usage instead of Cosmos ones in Show Service",default:!1}),V=(0,u.JP)({name:"enableCoreAutoplay",description:"Enable autoplay initiated by the core player rather than a local implementation",default:!1});(0,u.VL)({name:"enableLanguageSelection",description:"Enable language selection preference on open.spotify.com",values:l,default:l.DEFAULT})},15066:(e,t,n)=>{"use strict";n.d(t,{n:()=>r});var r={ALBUM:"ALBUM",AUDIOBOOK:"AUDIOBOOK",EP:"EP",COMPILATION:"COMPILATION",PODCAST:"PODCAST",SINGLE:"SINGLE",UNKNOWN:"UNKNOWN"}},42078:()=>{},92037:()=>{},90655:(e,t,n)=>{"use strict";var r;!function(e){e[e.SIMPLE=0]="SIMPLE",e[e.FULL=1]="FULL"}(r||(r={}))},42781:(e,t,n)=>{"use strict";var r;n.d(t,{p:()=>r}),function(e){e.AD="ad",e.ALBUM="album",e.ARTIST="artist",e.USER_PODCAST="user-podcast",e.AUDIOBOOK="audiobook",e.CHAPTER="chapter",e.EPISODE="episode",e.PODCAST_SHORT="podcast-short",e.GENRE="genre",e.VIEW="view",e.PLAYLIST="playlist",e.PLAYLISTV2="playlist-v2",e.RADIO="radio",e.SHOW="show",e.TRACK="track",e.UNKNOWN="unknown",e.USER="user",e.LIKED_SONGS="liked-songs",e.LOCAL_FILES="local-files",e.YOUR_EPISODES="your-episodes"}(r||(r={}))},143:(e,t,n)=>{"use strict";var r;n.d(t,{E:()=>r}),function(e){e[e.UNKNOWN=-1]="UNKNOWN",e[e.MIXED=0]="MIXED",e[e.AUDIO=1]="AUDIO",e[e.VIDEO=2]="VIDEO"}(r||(r={}))},26375:(e,t,n)=>{"use strict";n.d(t,{NowPlayingCoverStateEnum:()=>i.NowPlayingCoverStateEnum,albumType:()=>o.n});var r=n(92037);n.o(r,"NowPlayingCoverStateEnum")&&n.d(t,{NowPlayingCoverStateEnum:function(){return r.NowPlayingCoverStateEnum}}),n.o(r,"albumType")&&n.d(t,{albumType:function(){return r.albumType}});var i=n(89963);n.o(i,"albumType")&&n.d(t,{albumType:function(){return i.albumType}});n(90655);var a=n(42078);n.o(a,"albumType")&&n.d(t,{albumType:function(){return a.albumType}});var o=n(15066)},16526:(e,t,n)=>{"use strict";var r;n.d(t,{k:()=>r}),function(e){e.UnauthLyrics="ulotw",e.InternalTrackLinks="itl",e.RichAlbumPage="ralph",e.PathfinderAlbumPage="pfap",e.I18nSEO="i18nSEO",e.LanguageSelection="ls"}(r||(r={}))},90670:()=>{},45e3:()=>{},89963:(e,t,n)=>{"use strict";n.d(t,{NowPlayingCoverStateEnum:()=>i.y});var r=n(90670);n.o(r,"NowPlayingCoverStateEnum")&&n.d(t,{NowPlayingCoverStateEnum:function(){return r.NowPlayingCoverStateEnum}}),n.o(r,"albumType")&&n.d(t,{albumType:function(){return r.albumType}});var i=n(523),a=n(45e3);n.o(a,"albumType")&&n.d(t,{albumType:function(){return a.albumType}})},523:(e,t,n)=>{"use strict";var r;n.d(t,{y:()=>r}),function(e){e.expanded="expanded",e.collapsed="collapsed",e.none="none"}(r||(r={}))},23384:(e,t,n)=>{"use strict";function r(e){return null!==e}n.d(t,{K:()=>r})},92709:(e,t,n)=>{"use strict";n.d(t,{h$:()=>p,L6:()=>f,cM:()=>v});n(69600),n(21249),n(47941),n(92222),n(74916),n(15306),n(66992),n(41539),n(78783),n(33948),n(60285),n(41637),n(96647),n(83710),n(39714),n(24603),n(28450),n(88386),n(4129),n(85827),n(78011),n(83510),n(82526),n(41817),n(47042);var r=n(71002),i=n(60136),a=n(89611),o=(n(4723),n(82772),n(64765),n(36943),n(9554));function s(){s=function(e,t){return new n(e,void 0,t)};var e=RegExp.prototype,t=new WeakMap;function n(e,r,i){var o=new RegExp(e,r);return t.set(o,i||t.get(e)),(0,a.Z)(o,n.prototype)}function o(e,n){var r=t.get(n);return Object.keys(r).reduce((function(t,n){return t[n]=e[r[n]],t}),Object.create(null))}return(0,i.Z)(n,RegExp),n.prototype.exec=function(t){var n=e.exec.call(this,t);return n&&(n.groups=o(n,this)),n},n.prototype[Symbol.replace]=function(n,i){if("string"==typeof i){var a=t.get(this);return e[Symbol.replace].call(this,n,i.replace(/\$<([^>]+)>/g,(function(e,t){return"$"+a[t]})))}if("function"==typeof i){var s=this;return e[Symbol.replace].call(this,n,(function(){var e=arguments;return"object"!=(0,r.Z)(e[e.length-1])&&(e=[].slice.call(e)).push(o(e,s)),i.apply(this,e)}))}return e[Symbol.replace].call(this,n,i)},s.apply(this,arguments)}var l=s(/Spotify\/(.+)\s/,{version:1});function c(){if(!!window.navigator.userAgent.match(l))return o.W.Desktop;var e="serviceWorker"in window.navigator,t=window.matchMedia("(display-mode: standalone)").matches,n="Windows"in window;return e&&(t||n)?o.W.PWA:o.W.Web}n(77601);var u=function(){return c()===o.W.PWA||"1"===function(e){try{var t,n;return null===(t=window)||void 0===t||null===(n=t.google_optimize)||void 0===n?void 0:n.get(e)}catch(e){return}}("u7gmg4jBRTOUMmTZNyEx9w")},d=function(){if(u())return"".concat(location.origin,"/auth_redirect");if(/iphone|ipod|ipad/i.test(navigator.userAgent)||/android/i.test(navigator.userAgent)){var e=new URL(window.location.href);return e.pathname="/".concat("__noul__").concat(e.pathname),e.toString()}return window.location.href},m=function(e,t,n){var r;n&&(e+="&".concat((r=n,Object.keys(r).map((function(e){return"".concat(encodeURIComponent(e),"=").concat(encodeURIComponent(r[e]).replace(/%7C/g,"|"))})).join("&")))),u()?function(e,t){var n=void 0!==window.screenLeft?window.screenLeft:window.screenX,r=void 0!==window.screenTop?window.screenTop:window.screenY,i=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width,a=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height,o=i/window.screen.availWidth,s=(i-t.width)/2/o+n,l=(a-t.height)/2/o+r,c=window.open(e,void 0,"scrollbars=".concat(t.scrollbars?"yes":"no",",\n    toolbar=").concat(t.toolbar?"yes":"no",",\n    width=").concat(t.width/o,",\n    height=").concat(t.height/o,",\n    top=").concat(l,",\n    left=").concat(s));null!=c&&c.focus&&c.focus()}(e,t):window.location.assign(e)},p=function(e){var t="https://accounts.spotify.com/login?continue=".concat(encodeURIComponent(d()));m(t,{width:500,height:824,toolbar:!1,scrollbars:!0},e)},f=function(e){var t="https://www.spotify.com/signup?forward_url=".concat(encodeURIComponent(d()));m(t,{width:500,height:824,toolbar:!1,scrollbars:!0},e)},v=function(){window.addEventListener("storage",(function(e){"login_success"===e.key&&(window.focus(),window.localStorage.removeItem("login_success"),window.location.reload())}))}},49961:(e,t,n)=>{"use strict";n.d(t,{X:()=>i});var r=n(29439),i=(n(44363),n(9653),n(57327),n(41539),n(2707),n(21249),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.desiredSize,i=void 0===n?Number.MAX_SAFE_INTEGER:n,a=t.desiredHeight,o=void 0===a?i:a,s=t.desiredWidth,l=void 0===s?i:s,c=t.desiredLabel,u=void 0===c?"":c;if(e&&!(e.length<=0)){if(u){var d=e.filter((function(e){return e.label===u})),m=(0,r.Z)(d,1),p=m[0];if(p)return p}if(1===e.length)return e[0];var f=e.map((function(e){var t=[(e.width||0)*(e.height||0),o*l];return{ratio:Math.max.apply(Math,t)/Math.min.apply(Math,t),image:e}})).sort((function(e,t){return e.ratio-t.ratio})),v=(0,r.Z)(f,1),g=v[0];return g.image}})},38470:(e,t,n)=>{"use strict";n.d(t,{U:()=>r,_:()=>i});n(21703),n(96647),n(38862);function r(e,t){throw new Error(null!=t?t:"Unexpectedly hit unreachable code! Unhandled discriminated union member: ".concat(JSON.stringify(e)))}function i(e,t){try{r(e,t)}catch(e){console.error(e)}}},84788:(e,t,n)=>{"use strict";n.d(t,{r:()=>a});var r=n(7073),i=n(26482),a=function(e){var t=e.downloadAvailability,n=e.isExplicit,a=e.isMOGEFRestricted,o=e.contentRating,s=e.isPaywalled,l=e.isEnhanced,c=0,u={download:!1,explicit:!1,nineteen:!1,paid:!1,enhanced:!1};return t===i.Om.YES&&(u.download=!0,c++),(n&&!a||o===r.KS.Explicit)&&(u.explicit=!0,c++),(a||o===r.KS.NineteenPlus)&&(u.nineteen=!0,c++),s&&(u.paid=!0,c++),l&&(u.enhanced=!0,c++),{badges:u,hasBadges:c>0}}},25853:(e,t,n)=>{"use strict";n.d(t,{v:()=>o});var r=n(15861),i=n(87757),a=n.n(i);function o(e){return s.apply(this,arguments)}function s(){return(s=(0,r.Z)(a().mark((function e(t){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!("clipboard"in navigator)){e.next=9;break}return e.prev=1,e.next=4,navigator.clipboard.writeText(t);case 4:return e.abrupt("return");case 7:e.prev=7,e.t0=e.catch(1);case 9:(n=document.createElement("textarea")).value=t,n.setAttribute("readonly",""),n.style.position="absolute",n.style.left="-9999px",document.body.appendChild(n),n.select(),document.execCommand("copy"),document.body.removeChild(n);case 18:case"end":return e.stop()}}),e,null,[[1,7]])})))).apply(this,arguments)}},43315:(e,t,n)=>{"use strict";n.d(t,{BI:()=>a,FO:()=>s,RX:()=>i,rL:()=>o});n(83710);var r=n(96206),i=function(e){return new Date(e)},a=function(e,t,n){var r=6e4*e.getTimezoneOffset(),i=null!=n?n:{weekday:"long",year:"numeric",month:"long",day:"numeric"};return new Date(e.valueOf()+r).toLocaleDateString(t,i)},o=function(e){return(new Date).getUTCFullYear()===e.getUTCFullYear()?r.ag.formatDate(e,{month:"short",day:"numeric",timeZone:"UTC"}):r.ag.formatDate(e,{month:"short",year:"numeric",timeZone:"UTC"})},s=function(e){return r.ag.formatDate(e,{weekday:"short"})}},43611:(e,t,n)=>{"use strict";n.d(t,{P:()=>r});n(85827),n(41539);function r(e){var t=Math.floor(e/1e3),n=Math.floor(t/60),r=Math.floor(n/60),i=60*r,a=n-i;return{hours:r,minutes:a,seconds:t-60*i-60*a}}},12788:(e,t,n)=>{"use strict";n.d(t,{k:()=>d});var r=n(43144),i=n(15671),a=n(4942);n(66992),n(39575),n(41539),n(82472),n(48675),n(92990),n(18927),n(33105),n(35035),n(74345),n(7174),n(32846),n(44731),n(77209),n(96319),n(58867),n(37789),n(33739),n(29368),n(14483),n(12056),n(3462),n(30678),n(27462),n(33824),n(55021),n(12974),n(15016),n(37380),n(1118);function o(e){if("undefined"!=typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new Uint8Array(e.length),n=0;n<e.length;n+=1)t[n]=e.charCodeAt(n);return t}var s=n(15861),l=n(87757),c=n.n(l),u=(n(91038),n(78783),n(69600),n(21249),n(83112),n(96647),n(83710),n(39714),function(){var e=(0,s.Z)(c().mark((function e(t){var n,r,i;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d=(0,r.Z)((function e(){(0,i.Z)(this,e)}));(0,a.Z)(d,"encode",o),(0,a.Z)(d,"hash",u)},52419:(e,t,n)=>{"use strict";n.d(t,{BS:()=>o,LI:()=>i,M8:()=>a});n(5212),n(41539);var r=n(13947),i=function(e,t){return r.Ie.some((function(t){return t===e}))&&t},a=function(e,t){return r.vL.some((function(t){return t===e}))&&t},o=function(e,t,n){return i(e,n)&&a(t,n)}},91797:(e,t,n)=>{"use strict";var r,i,a;n.d(t,{FJ:()=>s}),function(e){e.UNAUTH_LYRICS="track-lyrics-unauth-1.0",e.RTP_AND_LYRICS_HOLDOUT="rtp-and-lyrics-holdout",e.RALPH_AND_ITL="ralph-itl-seo-test-1.0"}(r||(r={})),function(e){e.CONTROL="0",e.UNAUTH_LYRICS="1",e.RTP_HOLDOUT="2"}(i||(i={})),function(e){e.CONTROL="0",e.VARIANT="1"}(a||(a={}));var o=function(e){var t=e.treatment,n=e.entityId,r=e.experimentId,i=e.treatmentVariation;if(t&&t[n]){var a=t[n];return a.experimentId===r&&a.treatment===i}return!1},s=function(e,t){return o({treatment:e,entityId:t,experimentId:r.RALPH_AND_ITL,treatmentVariation:a.VARIANT})}},16468:(e,t,n)=>{"use strict";n.d(t,{V:()=>r});n(47941),n(26541),n(41539);function r(e,t){var n=e?Object.keys(e):[],r=t?Object.keys(t):[];return n.length===r.length&&n.every((function(n){return Object.prototype.hasOwnProperty.call(t,n)&&e[n]===t[n]}))}},53678:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r={container:"main-downloadClient-actionContainer"}},15368:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r={card:"main-card-card",cardLink:"main-card-cardLink",type:"main-card-type",draggable:"main-card-draggable",imageContainer:"main-card-imageContainer",cardMetadata:"main-card-cardMetadata",DownloadStatusIndicator:"main-card-DownloadStatusIndicator",PlayButtonContainer:"main-card-PlayButtonContainer",PlayButtonContainerVisible:"main-card-PlayButtonContainerVisible"}},80969:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r={imageWrapper:"main-cardImage-imageWrapper",image:"main-cardImage-image",imagePlaceholder:"main-card-imagePlaceholder",circular:"main-cardImage-circular",withWavesWrapper:"main-card-withWavesWrapper",withWaves:"main-card-withWaves",hero:"main-card-hero"}},53383:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r={xs:"(min-width: 0px)",xsOnly:"(min-width: 0px) and (max-width: 767px)",sm:"(min-width: 768px)",smOnly:"(min-width: 768px) and (max-width: 1023px)",md:"(min-width: 1024px)",mdOnly:"(min-width: 1024px) and (max-width: 1279px)",lg:"(min-width: 1280px)",lgOnly:"(min-width: 1280px) and (max-width: 1919px)",xl:"(min-width: 1920px)",navBarMinWidth:"120px",navBarWidth:"232px",navBarMaxWidth:"384px",MINIMUM_HEADER_HEIGHT:"250px",IMAGE_SIZE:"192px",IMAGE_SIZE_BIG:"232px",BACKGROUND_HEIGHT_PERCENTAGE:"40vh",container:"main-entityHeader-container",nonWrapped:"main-entityHeader-nonWrapped",withBackgroundImage:"main-entityHeader-withBackgroundImage",smallHeader:"main-entityHeader-smallHeader",backgroundColor:"main-entityHeader-backgroundColor",background:"main-entityHeader-background",overlay:"main-entityHeader-overlay",headerText:"main-entityHeader-headerText",topbarTitle:"main-entityHeader-topbarTitle",topbarContent:"main-entityHeader-topbarContent",topbarContentFadeIn:"main-entityHeader-topbarContentFadeIn",title:"main-entityHeader-title",titleInner:"main-entityHeader-titleInner",titleButton:"main-entityHeader-titleButton",subtitle:"main-entityHeader-subtitle",small:"main-entityHeader-small",medium:"main-entityHeader-medium",large:"main-entityHeader-large",bold:"main-entityHeader-bold",gray:"main-entityHeader-gray",subtitleButton:"main-entityHeader-subtitleButton",imageContainer:"main-entityHeader-imageContainer",image:"main-entityHeader-image",shadow:"main-entityHeader-shadow",imagePlaceholder:"main-entityHeader-imagePlaceholder",wavesBackground:"main-entityHeader-wavesBackground",roundedCorners:"main-entityHeader-roundedCorners",circle:"main-entityHeader-circle",detailsText:"main-entityHeader-detailsText",uppercase:"main-entityHeader-uppercase",metaData:"main-entityHeader-metaData",creatorWrapper:"main-entityHeader-creatorWrapper",creatorButton:"main-entityHeader-creatorButton",metaDataText:"main-entityHeader-metaDataText",metaDataAuthor:"main-entityHeader-metaDataAuthor",newEntriesIndicator:"main-entityHeader-newEntriesIndicator",divider:"main-entityHeader-divider",gradient:"main-entityHeader-gradient"}},59239:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r={tippyWrapper:"main-contextMenu-tippyWrapper"}},36522:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r={shelf:"main-shelf-shelf",header:"main-shelf-header",subHeader:"main-shelf-subHeader",topRow:"main-shelf-topRow",titleWrapper:"main-shelf-titleWrapper",title:"main-shelf-title",seeAll:"main-shelf-seeAll",shelfGrid:"main-shelf-shelfGrid",showAll:"main-shelf-showAll"}},82744:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r={xs:"(min-width: 0px)",xsOnly:"(min-width: 0px) and (max-width: 767px)",sm:"(min-width: 768px)",smOnly:"(min-width: 768px) and (max-width: 1023px)",md:"(min-width: 1024px)",mdOnly:"(min-width: 1024px) and (max-width: 1279px)",lg:"(min-width: 1280px)",lgOnly:"(min-width: 1280px) and (max-width: 1919px)",xl:"(min-width: 1920px)",buddyFeedMinWidth:"72px",buddyFeedMinExpandedWidth:"230px",buddyFeedCollapsedThresholdWidth:"160px",buddyFeedEmptyMinWidth:"270px",buddyFeedInitialWidth:"270px",buddyFeedMaxWidth:"384px",container:"main-topBar-container",indicators:"main-noConnection",background:"main-topBar-background",overlay:"main-topBar-overlay",loggedOut:"main-topBar-loggedOut",historyButtons:"main-topBar-historyButtons",icon:"main-topBar-icon",button:"main-topBar-button",forward:"main-topBar-forward",topbarContentWrapper:"main-topBar-topbarContentWrapper",topbarContent:"main-topBar-topbarContent",topNavBarLinks:"main-topBar-topNavBarLinks",topNavBarSeparator:"main-topBar-topNavBarSeperator",loginButtons:"main-topBar-loginButtons",signupButton:"main-topBar-signupButton",UpgradeButton:"main-topBar-UpgradeButton",contentArea:"main-topBar-contentArea"}},94107:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r={xs:"(min-width: 0px)",xsOnly:"(min-width: 0px) and (max-width: 767px)",sm:"(min-width: 768px)",smOnly:"(min-width: 768px) and (max-width: 1023px)",md:"(min-width: 1024px)",mdOnly:"(min-width: 1024px) and (max-width: 1279px)",lg:"(min-width: 1280px)",lgOnly:"(min-width: 1280px) and (max-width: 1919px)",xl:"(min-width: 1920px)",TRACKLIST_ROW_HEIGHT:"56px",trackList:"main-trackList-trackList",indexable:"main-trackList-indexable",trackListRowGrid:"main-trackList-trackListRowGrid",rowSectionVariable:"main-trackList-rowSectionVariable",trackListHeader:"main-trackList-trackListHeader",trackListHeaderRow:"main-trackList-trackListHeaderRow",trackListHeaderStuck:"main-trackList-trackListHeaderStuck",trackListRow:"main-trackList-trackListRow",isPreviousRowSelected:"main-trackList-isPreviousRowSelected",isNextRowSelected:"main-trackList-isNextRowSelected",dropTargetBefore:"main-trackList-dropTargetBefore",dropTargetAfter:"main-trackList-dropTargetAfter",rowHeartButton:"main-trackList-rowHeartButton",rowFeedbackButton:"main-trackList-rowFeedbackButton",rowMoreButton:"main-trackList-rowMoreButton",disabled:"main-trackList-disabled",rowImagePlayButton:"Y69JDt6Mxwej2rsrFFD7",rowPlayPauseButton:"main-trackList-rowImagePlayButton",rowSubTitle:"main-trackList-rowSubTitle",rowSectionEnd:"main-trackList-rowSectionEnd",text:"main-trackList-text",number:"main-trackList-number",icon:"main-trackList-icon",playingIcon:"main-trackList-playingIcon",rowChartStatus:"main-trackList-icon",selected:"main-trackList-selected",rowMarker:"main-trackList-rowMarker",active:"main-trackList-active",rowTitle:"main-trackList-rowTitle",rowSectionIndex:"main-trackList-rowSectionIndex",rowSectionStart:"main-trackList-rowSectionStart",playsHeader:"main-trackList-playsHeader",column:"main-trackList-column",sortable:"main-trackList-sortable",arrow:"main-trackList-arrow",durationHeader:"main-trackList-durationHeader",actionsHeader:"main-trackList-actionsHeader",rowMainContent:"main-trackList-rowMainContent",facepile:"main-trackList-facepile",rowBadges:"main-trackList-rowBadges",rowDuration:"main-trackList-rowDuration",nineteen:"main-trackList-nineteen",enhanced:"main-trackList-enhanced",rowMarkerChartStatus:"main-trackList-rowMarkerChartStatus",statusChangeDown:"main-trackList-statusChangeDown",statusChangeUp:"main-trackList-statusChangeUp",statusChangeNew:"main-trackList-statusChangeNew",rowImageWithPlay:"main-trackList-rowImageWithPlay",rowImagePlayPauseButton:"main-trackList-rowImagePlayPauseButton",rowImagePlayPauseButtonPlaying:"main-trackList-rowImagePlayPauseButtonPlaying",rowPlayCount:"main-trackList-rowPlayCount",rowImage:"main-trackList-rowImage",rowImageVideo:"main-trackList-rowImageVideo",rowImageFallback:"main-trackList-rowImageFallback",rowPlayPauseIcon:"main-trackList-rowPlayPauseIcon",placeholder:"main-trackList-placeholder",placeholderIndex:"main-trackList-placeholderIndex",placeholderStart:"main-trackList-placeholderStart",placeholderStartWithCoverImage:"main-trackList-placeholderStartWithCoverImage",placeholderEnd:"main-trackList-placeholderEnd",placeholderVariable:"main-trackList-placeholderVariable",discTitle:"main-trackList-discTitle",discRow:"main-trackList-discRow",addedBy:"main-trackList-addedBy",facepileAvatar:"main-trackList-facepileAvatar",delayedVisibility:"main-trackList-delayedVisibility",eventDate:"main-trackList-eventDate",eventTicketIcon:"main-trackList-eventTicketIcon",talkIcon:"main-trackList-talkIcon",talkSegmentDuration:"main-trackList-talkSegmentDuration",notificationDot:"main-trackList-notificationDot"}},21821:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r={coverContainer:"main-yourEpisodes-coverContainer",yourEpisodesCard:"main-yourEpisodes-yourEpisodesCard",coverIcon:"main-yourEpisodes-coverIcon"}},21803:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r={menu:"main-contextMenu-menu",menuHeading:"main-contextMenu-menuHeading",menuItemButton:"main-contextMenu-menuItemButton",disabled:"main-contextMenu-disabled",subMenuIcon:"main-contextMenu-subMenuIcon",menuItem:"main-contextMenu-menuItem",dividerBefore:"main-contextMenu-dividerBefore",dividerAfter:"main-contextMenu-dividerAfter",menuItemLabel:"main-contextMenu-menuItemLabel"}},68828:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r={wrapper:"main-rootlist-wrapper",topSentinel:"main-rootlist-topSentinel",bottomSentinel:"main-rootlist-bottomSentinel"}},37176:e=>{"use strict";e.exports=JSON.parse('{"Ls":"https://api.spotify.com","XA":"https://spclient.wg.spotify.com","xM":"https://accounts.spotify.com","l3":"https://api-partner.spotify.com"}')}},t={},n,r,i,a,o;function s(n){var r=t[n];if(void 0!==r)return r.exports;var i=t[n]={id:n,loaded:!1,exports:{}};return e[n].call(i.exports,i,i.exports,s),i.loaded=!0,i.exports}s.m=e,s.amdO={},n=[],s.O=(e,t,r,i)=>{if(!t){var a=1/0;for(u=0;u<n.length;u++){for(var[t,r,i]=n[u],o=!0,l=0;l<t.length;l++)(!1&i||a>=i)&&Object.keys(s.O).every((e=>s.O[e](t[l])))?t.splice(l--,1):(o=!1,i<a&&(a=i));if(o){n.splice(u--,1);var c=r();void 0!==c&&(e=c)}}return e}i=i||0;for(var u=n.length;u>0&&n[u-1][2]>i;u--)n[u]=n[u-1];n[u]=[t,r,i]},s.F={},s.E=e=>{Object.keys(s.F).map((t=>{s.F[t](e)}))},s.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return s.d(t,{a:t}),t},s.d=(e,t)=>{for(var n in t)s.o(t,n)&&!s.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},s.f={},s.e=e=>Promise.all(Object.keys(s.f).reduce(((t,n)=>(s.f[n](e,t),t)),[])),s.u=e=>(({682:"xpui-routes-enhanced-playlist",730:"xpui-routes-track",1289:"xpui-routes-collection-episodes",1997:"xpui-routes-offline-browse",2219:"xpui-routes-search",2342:"xpui-routes-album",2499:"xpui-routes-profile",3472:"xpui-routes-episode",3727:"xpui-routes-queue",3780:"xpui-routes-soundtrap-studio",3817:"browse-v2",3878:"xpui-routes-playlist",4179:"xpui-routes-track-v2",4246:"collection-music-download",5070:"home-v2-section",5713:"xpui-routes-show",5786:"xpui-routes-make-music",5835:"xpui-routes-collection-concerts",5929:"xpui-routes-soundtrap-playlists",6008:"xpui-desktop-routes-settings",6025:"xpui-routes-lyrics",6309:"xpui-routes-collection",6450:"xpui-routes-view",6658:"debug-locales",6923:"xpui-routes-all-show-sponsors",7288:"xpui-routes-concert",7379:"xpui-routes-collection-local-files",7405:"xpui-routes-enhanced-context",7553:"xpui-routes-collection-songs",7704:"home-v2",7985:"xpui-routes-create-playlist",7994:"xpui-desktop-modals",8059:"xpui-routes-all-episode-sponsors",8123:"xpui-routes-blend",8387:"xpui-routes-download-page",8804:"xpui-routes-artist",9124:"xpui-routes-folder",9439:"xpui-routes-web-settings",9694:"home-hpto"}[e]||e)+".js"),s.miniCssF=e=>(({682:"xpui-routes-enhanced-playlist",1289:"xpui-routes-collection-episodes",1997:"xpui-routes-offline-browse",2219:"xpui-routes-search",2342:"xpui-routes-album",2499:"xpui-routes-profile",3472:"xpui-routes-episode",3727:"xpui-routes-queue",3780:"xpui-routes-soundtrap-studio",3817:"browse-v2",3878:"xpui-routes-playlist",4179:"xpui-routes-track-v2",5070:"home-v2-section",5713:"xpui-routes-show",5786:"xpui-routes-make-music",5835:"xpui-routes-collection-concerts",6025:"xpui-routes-lyrics",6309:"xpui-routes-collection",6450:"xpui-routes-view",7288:"xpui-routes-concert",7379:"xpui-routes-collection-local-files",7405:"xpui-routes-enhanced-context",7553:"xpui-routes-collection-songs",7704:"home-v2",7994:"xpui-desktop-modals",8059:"xpui-routes-all-episode-sponsors",8123:"xpui-routes-blend",8387:"xpui-routes-download-page",8804:"xpui-routes-artist",9124:"xpui-routes-folder",9694:"home-hpto"}[e]||e)+".css"),s.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),s.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e),s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r={},i="client-web:",s.l=(e,t,n,a)=>{if(r[e])r[e].push(t);else{var o,l;if(void 0!==n)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==e||d.getAttribute("data-webpack")==i+n){o=d;break}}o||(l=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,s.nc&&o.setAttribute("nonce",s.nc),o.setAttribute("data-webpack",i+n),o.src=e),r[e]=[t];var m=(t,n)=>{o.onerror=o.onload=null,clearTimeout(p);var i=r[e];if(delete r[e],o.parentNode&&o.parentNode.removeChild(o),i&&i.forEach((e=>e(n))),t)return t(n)},p=setTimeout(m.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=m.bind(null,o.onerror),o.onload=m.bind(null,o.onload),l&&document.head.appendChild(o)}},s.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),s.p="/",a=e=>new Promise(((t,n)=>{var r=s.miniCssF(e),i=s.p+r;if(((e,t)=>{for(var n=document.getElementsByTagName("link"),r=0;r<n.length;r++){var i=(o=n[r]).getAttribute("data-href")||o.getAttribute("href");if("stylesheet"===o.rel&&(i===e||i===t))return o}var a=document.getElementsByTagName("style");for(r=0;r<a.length;r++){var o;if((i=(o=a[r]).getAttribute("data-href"))===e||i===t)return o}})(r,i))return t();((e,t,n,r)=>{var i=document.createElement("link");i.rel="stylesheet",i.type="text/css",i.onerror=i.onload=a=>{if(i.onerror=i.onload=null,"load"===a.type)n();else{var o=a&&("load"===a.type?"missing":a.type),s=a&&a.target&&a.target.href||t,l=new Error("Loading CSS chunk "+e+" failed.\n("+s+")");l.code="CSS_CHUNK_LOAD_FAILED",l.type=o,l.request=s,i.parentNode.removeChild(i),r(l)}},i.href=t,document.head.appendChild(i)})(e,i,t,n)})),o={9764:0},s.f.miniCss=(e,t)=>{o[e]?t.push(o[e]):0!==o[e]&&{682:1,1130:1,1289:1,1997:1,2219:1,2342:1,2499:1,3472:1,3727:1,3780:1,3817:1,3878:1,4096:1,4179:1,4791:1,5070:1,5713:1,5772:1,5786:1,5835:1,6025:1,6309:1,6450:1,6772:1,7288:1,7379:1,7405:1,7553:1,7704:1,7994:1,8059:1,8123:1,8387:1,8419:1,8804:1,9033:1,9124:1,9694:1,9818:1}[e]&&t.push(o[e]=a(e).then((()=>{o[e]=0}),(t=>{throw delete o[e],t})))},(()=>{var e={9764:0};s.f.j=(t,n)=>{var r=s.o(e,t)?e[t]:void 0;if(0!==r)if(r)n.push(r[2]);else if(682!=t){var i=new Promise(((n,i)=>r=e[t]=[n,i]));n.push(r[2]=i);var a=s.p+s.u(t),o=new Error;s.l(a,(n=>{if(s.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var i=n&&("load"===n.type?"missing":n.type),a=n&&n.target&&n.target.src;o.message="Loading chunk "+t+" failed.\n("+i+": "+a+")",o.name="ChunkLoadError",o.type=i,o.request=a,r[1](o)}}),"chunk-"+t,t)}else e[t]=0},s.F.j=t=>{if((!s.o(e,t)||void 0===e[t])&&682!=t){e[t]=null;var n=document.createElement("link");s.nc&&n.setAttribute("nonce",s.nc),n.rel="prefetch",n.as="script",n.href=s.p+s.u(t),document.head.appendChild(n)}},s.O.j=t=>0===e[t];var t=(t,n)=>{var r,i,[a,o,l]=n,c=0;if(a.some((t=>0!==e[t]))){for(r in o)s.o(o,r)&&(s.m[r]=o[r]);if(l)var u=l(s)}for(t&&t(n);c<a.length;c++)i=a[c],s.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return s.O(u)},n=("undefined"!=typeof self?self:global).webpackChunkopen=("undefined"!=typeof self?self:global).webpackChunkopen||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),s.O(0,[9764],(()=>{s.E(1997)}),5);var l=s.O(void 0,[1814],(()=>s(98102)));l=s.O(l)})();
//# sourceMappingURL=xpui.js.map