"use strict";(("undefined"!=typeof self?self:global).webpackChunkopen=("undefined"!=typeof self?self:global).webpackChunkopen||[]).push([[3472],{99922:(e,t,n)=>{n.d(t,{o:()=>r});var a=n(87577),i=n(49207);function r(){return{version:(0,a.W6)(i.GE)?2:1}}},40771:(e,t,n)=>{n.d(t,{Z:()=>c});var a=n(87462),i=n(45987),r=n(67294),l=n(67892),o=["href","children"],c=function(e){var t=e.href,n=e.children,c=(0,i.Z)(e,o);return r.createElement(l.Z,(0,a.Z)({to:t},c),n)}},43683:(e,t,n)=>{n.d(t,{q:()=>S,o:()=>I});var a=n(29439),i=n(4942),r=n(67294),l=n(94184),o=n.n(l),c=n(59440),s=n(97081),u=n(96206),d=n(83692),m=n(79896),p=n(26482),v=n(21663),f=n(88387),g=n(75012),y=n(40080),E=n(14130);const k="x-downloadButton-cancelDownloadButton",b="x-downloadButton-DownloadButton",h="x-downloadButton-button",N="x-downloadButton-removeDownload",C="x-downloadButton-cancelDownload",P="x-downloadButton-progress";var S;!function(e){e[e.sm=24]="sm",e[e.md=32]="md"}(S||(S={}));var T=function(e){var t=e.currentTarget;e.detail>0&&t&&t.blur()},I=function(e){var t=e.uri,n=e.isFollowing,l=e.canDownload,I=void 0===l||l,x=e.onFollow,w=e.size,D=void 0===w?S.sm:w,U=e.className,M=e.onClick,A=void 0===M?function(){}:M,R=(0,i.Z)({},"--size","".concat(D,"px")),F=(0,r.useState)(!1),L=(0,a.Z)(F,2),O=L[0],B=L[1],Z=(0,v._)(t),_=Z.capability,z=Z.availability,K=Z.addDownload,W=Z.removeDownload,X=(0,f.A)(t);!function(e,t){var n=(0,E.r)(),a=(0,r.useRef)(!1);(0,r.useEffect)((function(){e===p.Om.DOWNLOADING&&!1===a.current&&(a.current=!0,n.say(u.ag.get("download.downloading",t.totalItems)))}),[n,e,t]);var i=(0,y.D)(e);(0,r.useEffect)((function(){i===p.Om.DOWNLOADING&&e===p.Om.YES&&(a.current=!1,n.say(u.ag.get("download.complete")))}),[n,i,e])}(z,X);var H=(0,r.useCallback)((function(e){_===p.PQ.NO_PERMISSION?A(e,p.mc.NO_PERMISSION):(!1===n?(x(),B(!0)):K(),A(e,p.mc.ADD)),T(e)}),[K,_,n,A,x]),q=(0,r.useCallback)((function(e){W(),T(e),A(e,p.mc.REMOVE)}),[W,A]);(0,r.useEffect)((function(){!0===O&&!0===n&&(K(),B(!1))}),[n,O,K]);var V=z===p.Om.YES;return _===p.PQ.NO_CAPABILITY?null:I||V?_===p.PQ.NO_PERMISSION?r.createElement("div",{className:b},r.createElement(m.Nt,{offset:[-2,20],action:"toggle",trigger:"click",content:r.createElement(m.yv,null,r.createElement("span",null,u.ag.get("download.upsell"))),renderInline:!1},r.createElement("div",null,r.createElement(d.w,{label:u.ag.get("download.download")},r.createElement("button",{className:o()(h,U),role:"switch",onClick:H,"aria-label":u.ag.get("download.download"),"aria-checked":!1},r.createElement(c.D,{iconSize:D})))))):V?r.createElement(d.w,{label:u.ag.get("download.remove")},r.createElement("button",{className:o()(h,U,N),role:"switch",onClick:q,"aria-label":u.ag.get("download.remove"),"aria-checked":!0},r.createElement(s.E,{iconSize:D}))):z===p.Om.NO?r.createElement(d.w,{label:u.ag.get("download.download")},r.createElement("button",{className:o()(h,U),role:"switch",onClick:H,"aria-label":u.ag.get("download.download"),"aria-checked":!1},r.createElement(c.D,{iconSize:D}))):r.createElement("div",{className:o()(C,U),role:"switch","aria-checked":!0},r.createElement(d.w,{label:u.ag.get("download.cancel")},r.createElement("button",{style:R,className:o()(h,k,U),onClick:q,"aria-label":u.ag.get("download.cancel")})),r.createElement("span",{style:R,className:o()(P,k)},r.createElement(g.e,{"aria-valuetext":u.ag.get("progress.downloading-tracks"),percentage:X.percentage,size:D}))):null}},37483:(e,t,n)=>{n.d(t,{p:()=>d,q:()=>s.q});var a=n(29439),i=n(67294),r=n(86706),l=n(4383),o=n(67870),c=n(56802),s=n(43683),u=i.memo((function(e){var t=e.uri,n=e.size,u=void 0===n?s.q.md:n,d=e.className,m=e.onClick,p=(0,l.Z)(t),v=(0,a.Z)(p,2),f=v[0],g=v[1],y=(0,r.I0)(),E=(0,c.o)(),k=(0,i.useCallback)((function(){E({targetUri:t,intent:f?"remove-from-library":"add-to-library",type:"click"}),g(!f),y(f?(0,o.SS)():(0,o.kK)())}),[E,t,f,g,y]);return i.createElement(s.o,{className:d,isFollowing:f,onFollow:k,onClick:m,uri:t,size:u})})),d=i.memo((function(e){return i.createElement(u,e)}))},61864:(e,t,n)=>{n.d(t,{B:()=>A});var a=n(87462),i=(n(82526),n(41817),n(68309),n(83710),n(28733),n(67294)),r=n(96206),l=n(18261),o=n(87257),c=n(57978),s=n(89104),u=n(91355),d=n(43315),m=n(49961),p=n(25988),v=n(36590),f=n(8498),g=n(15861),y=n(29439),E=n(45987),k=n(87757),b=n.n(k),h=(n(92222),n(32667)),N=n(61251),C=n(85392);const P="z4popIk32AsyDKlV1o1v",S="_xxuonqkZEQ7pCffxlUD";var T=["src","description"],I=i.memo((function(e){var t=e.src,n=e.description,r=(0,E.Z)(e,T),l=(0,i.useState)("inherit"),o=(0,y.Z)(l,2),c=o[0],s=o[1];return(0,i.useEffect)((function(){function e(){return(e=(0,g.Z)(b().mark((function e(t){var n,a,i,r,l,o,c;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,C.extractColors)(t);case 2:n=e.sent,a=n.colorRaw,i=a.hsl,r=i.h,l=i.s,o=i.l,c="hsl(".concat(360*r,", ").concat(100*l,"%, ").concat(Math.min(100*o,30),"%)"),s(c);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}t&&function(t){e.apply(this,arguments)}(t)}),[t]),t?i.createElement("div",{className:P,style:{backgroundColor:c},"data-testid":"episode-fallback-image-container"},i.createElement("div",{className:S},i.createElement(h.D,{as:"p",variant:"canon"},n))):i.createElement(N.J,(0,a.Z)({},r,{iconSize:64}))})),x=n(21610),w=n(16257);const D="x1FErCk9Xh9VumpOLyfm",U="heeHk6hz8sAXLIU6P6an",M="Hhfi1xnYwoHoMP2rcltS";var A=function(e){var t,n=e.description,g=e.isExplicit,y=e.images,E=e.name,k=e.uri,b=e.durationMilliseconds,h=e.releaseDate,N=e.resume_point,C=e.showImages,P=e.sharingInfo,S=e.is19PlusOnly,T=e.isHero,A=e.onClick,R=e.testId,F=e.index,L=e.requestId,O=e.color,B=h?new Date(h):void 0,Z=B&&!isNaN(B.getTime())&&!isNaN(b),_=(0,m.X)(C,{desiredSize:48}),z=(0,u.G3)(k,null==B?void 0:B.toISOString(),null==N?void 0:N.resume_position_ms,null==N?void 0:N.fully_played);return t=T?i.createElement(x.Z,{index:F,onClick:A,headerText:E,featureIdentifier:"episode",uri:k,isPlayable:!1,isDownloadable:!0,hasNewEpisodeIndicator:z,renderCardImage:function(){return i.createElement(f.x,{isHero:!0,images:y,color:O,FallbackComponent:function(e){return i.createElement(I,(0,a.Z)({},e,{description:n,src:_&&_.url}))}},_&&i.createElement(s.E,{loading:"lazy",src:_.url,className:D,radius:4}))},renderSubHeaderContent:function(){return i.createElement(i.Fragment,null,g&&!S&&i.createElement(o.N,{className:U}),S&&i.createElement(c.X,{size:16,className:U}),Z&&i.createElement("span",{className:M},B&&(0,d.rL)(B)," ·"," ",r.ag.get("episode.length",Math.ceil(b/6e4))),i.createElement(w.k,null,r.ag.get("card.tag.episode")))},testId:R,requestId:L}):i.createElement(v.C,{index:F,onClick:A,headerText:E,featureIdentifier:"episode",uri:k,isPlayable:!1,isDownloadable:!0,hasNewEpisodeIndicator:z,renderCardImage:function(){return i.createElement(f.x,{images:y,color:O,FallbackComponent:function(e){return i.createElement(I,(0,a.Z)({},e,{description:n,src:_&&_.url}))}},_&&i.createElement(s.E,{loading:"lazy",src:_.url,className:D,radius:4,testid:"episode-card-show-image"}))},renderSubHeaderContent:function(){return i.createElement(i.Fragment,null,g&&!S&&i.createElement(o.N,{className:U}),S&&i.createElement(c.X,{size:16,className:U}),Z&&i.createElement("span",{className:M},B&&(0,d.rL)(B)," ·"," ",r.ag.get("episode.length",Math.ceil(b/6e4))))},testId:R,requestId:L}),i.createElement(l._,{menu:i.createElement(p.k,{uri:k,sharingInfo:P})},t)}},22578:(e,t,n)=>{n.d(t,{$:()=>m});n(26699),n(32023),n(69600),n(68309),n(21249);var a=n(67294),i=n(64593),r=n(96206),l=n(69691),o=n(8341),c=n(89952),s=n(51615),u=n(24183);function d(e){return e.includes("Spotify")?e:"Spotify – ".concat(e)}var m=function(e){var t,n,m,p,v,f,g,y=e.children,E=e.usePlayingItem,k=d(y);t=y,p=(0,u.Oh)().mainLandmarkRef,v=(0,s.k6)(),f=null===(n=v.location)||void 0===n||null===(m=n.state)||void 0===m?void 0:m.preventMoveFocus,(g=(0,a.useRef)(v.length<2)).current=v.length<2,(0,a.useEffect)((function(){var e=p.current;!f&&!g.current&&e&&t&&(e.setAttribute("aria-label",t),e.focus())}),[t,p,f]);var b=(0,l.IK)().isPlaying,h=(0,o.Y)((function(e){return null==e?void 0:e.item}));return h&&(b||E)&&((0,c.G_)(h)?k=[h.name,h.artists.map((function(e){return e.name})).join(r.ag.getSeparator())].join(" • "):(0,c.iw)(h)?k=[h.name,h.show.name].join(" • "):(0,c.k6)(h)&&(k=d(r.ag.get("ad-formats.advertisement")))),a.createElement(i.q,{defaultTitle:"Spotify",defer:!1},a.createElement("title",null,k))}},52125:(e,t,n)=>{n.r(t),n.d(t,{default:()=>Fn});var a=n(29439),i=(n(82526),n(41817),n(66992),n(41539),n(78783),n(33948),n(41637),n(74916),n(64765),n(91058),n(68309),n(15306),n(67294)),r=n(51615),l=n(69518),o=n.n(l),c=n(87577),s=n(97348),u=n(73305),d=n(96206),m=n(70369),p=n(63567),v=n(6158),f=n(86706),g=n(74257),y=n(77995),E=n(84629),k=n(18270),b=n(48690),h=n(22345),N=n(60289),C=n(59482),P=n(72907),S=n(67892),T=n(62515),I=n(32626),x=n(18261),w=n(57978),D=n(26482),U=n(84242),M=n(8341),A=n(5944),R=n(15852),F=n(7073),L=n(13759),O=n(84788),B=n(60410),Z=n(40771),_=n(38894),z=n(51441),K=n(79896),W=n(15861),X=n(87757),H=n.n(X),q=n(32667),V=n(86025),J=n(34011),Y=n(1447),G=n(9983),Q=n(49125),j=n(42781);const $="u0Jj3wfs4s9tmaXUTK41",ee="NSXGSulVKC8FxHx5f1f3",te="PN1uMk_51r_KQvgJ6sCR",ne="N6NnRc_msmFFxUoAfuKQ",ae="qaYOSFBanH3vJvosOwsU";var ie=function(e){var t,n,a,r,l=e.showUri,o=(0,Y.qT)(),c=(0,Q.l)(l,!0).data;if((null==c?void 0:c.type)!==j.p.AUDIOBOOK)return null;var s=null===(t=c.price)||void 0===t||null===(n=t.finalPrice)||void 0===n?void 0:n.amount,u=null===(a=c.price)||void 0===a||null===(r=a.finalPrice)||void 0===r?void 0:r.currency;return s&&u?i.createElement("div",{className:$},i.createElement(q.D,{as:"div",variant:"cello",className:ee},d.ag.get("web-player.audiobooks.chapterUpsell.title")),i.createElement(q.D,{as:"div",variant:"mesto",className:te},d.ag.get("web-player.audiobooks.chapterUpsell.description")),i.createElement("div",{className:ne},i.createElement(V.oM,{className:ae,buttonSize:"sm",onClick:function(){o({type:"close"})}},d.ag.get("action-trigger.button.not-now")),i.createElement(J.D,{buttonSize:"sm",colorSet:"invertedLight",onClick:(0,W.Z)(H().mark((function e(){return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,G.Q)({show_uri:l,currency:u,price:s});case 2:case"end":return e.stop()}}),e)})))},d.ag.get("web-player.audiobooks.chapterUpsell.cta")))):(console.error("Audiobook has no price information."),null)},re=function(e){var t=e.children,n=e.enabled,a=e.showUri,r=e.renderInline,l=void 0===r||r;return n?i.createElement(K.Nt,{trigger:"click",action:"toggle",offset:[-2,20],renderInline:l,content:i.createElement(K.yv,null,i.createElement(ie,{showUri:a}))},t):i.createElement(i.Fragment,null,t)},le=function(e){var t=e.chapterUri,n=e.showUri,a=e.isLocked,r=e.isPlayDisabled,l=e.isActive,o=e.isPlaying,c=e.togglePlay,s=e.triggerPlay,u=e.playButtonPlayLabel,d=e.playButtonPauseLabel,m=e.playPositionMs,p=e.durationMs,v=e.logger,f=e.event,g=(0,_.g)(),y=(0,i.useCallback)((function(e){a?v.logInteraction(f.hitShowPaywall({paywalledItem:t})):l?(o?v.logInteraction(f.hitPause({itemToBePaused:t})):v.logInteraction(f.hitResume({itemToBeResumed:t})),c()):(v.logInteraction(f.hitPlay({itemToBePlayed:t})),s({seekTo:e}))}),[a,l,v,f,t,o,c,s]);(0,i.useEffect)((function(){var e=new URLSearchParams(location.search);if(e.has("t")){var t=e.get("t")||"0",n=1e3*parseInt(t,10);n<=p&&y(n)}}),[p,y]);var E=function(){return i.createElement(z.JM,{size:z.qE.lg,onClick:function(){y(m)},isPlaying:o,disabled:r,locked:a,ariaPlayLabel:u,ariaPauseLabel:d})};return g?E():i.createElement(re,{showUri:n,enabled:a,renderInline:!1},E())},oe=n(31610);const ce="UVWRbDQd2DM0ShkvMq54",se="Eoy1M3AAKeAUI9cNWsuq",ue="rmgkmccGmTBvrw7gXMyS",de="JKIiOrx9EhZCkyBsu7YI";var me=i.memo((function(e){var t,n=e.chapter,r=n.name,l=n.uri,c=n.playedState,s=n.contentRating,u=n.duration,m=n.playability,p=n.book,v=n.coverArt.length?n.coverArt:p.coverArt||[],_=null===(t=v[0])||void 0===t?void 0:t.url,z=(0,T.Z)(_||null),K=(0,f.I0)(),W=(0,i.useState)(c.state===F.sY.Completed),X=(0,a.Z)(W,2),H=X[0],q=X[1],V=(0,R.fU)(y.createDesktopAudiobookChapterEventFactory,{data:{uri:l}}),J=V.spec,Y=V.logger,G=(0,U.n)({uri:l},{featureIdentifier:"chapter"}),Q=G.triggerPlay,j=G.togglePlay,$=G.isPlaying,ee=G.isActive,te=(0,M.Y)((function(e){var t;return null!==(t=(0,A.k)(e))&&void 0!==t?t:void 0})),ne=(0,B.S)(n),ae=(0,O.r)({contentRating:null==s?void 0:s.label}).badges,ie=(0,i.useCallback)((function(e){!m.playable&&ae.nineteen&&(e.stopPropagation(),K((0,E.RM)(l||"")))}),[l,m.playable,ae.nineteen,K]),re=p.uri,me=function(e){var t=o().from(e),n=o().hexToId((null==t?void 0:t.id)||"");return"/show/".concat(n)}(re),pe=(0,i.useCallback)((function(){var e=J.headerFactory().audiobookLinkFactory().hitUiNavigate({destination:me});Y.logInteraction(e)}),[Y,me,J]),ve=(0,i.useCallback)((function(e,t){var n=J.actionBarFactory().downloadButtonFactory();t===D.mc.ADD?Y.logInteraction(n.hitDownload({itemToDownload:l})):t===D.mc.REMOVE?Y.logInteraction(n.hitRemoveDownload({itemToRemoveFromDownloads:l})):t===D.mc.NO_PERMISSION&&Y.logInteraction(n.hitUiReveal())}),[Y,J,l]),fe=(0,i.useCallback)((function(){var e=J.actionBarFactory().contextMenuButtonFactory().hitUiReveal();Y.logInteraction(e)}),[Y,J]),ge=(0,i.useCallback)((function(){var e=J.allChaptersLinkFactory().hitUiNavigate({destination:me});Y.logInteraction(e)}),[Y,me,J]),ye=!ne&&!m.playable,Ee=p.name,ke=d.ag.get("tracklist.a11y.play",r,Ee),be=d.ag.get("tracklist.a11y.pause",r,Ee);return i.createElement("section",{"data-testid":"chapter",className:ce},i.createElement(N.gF,{backgroundColor:z},i.createElement(C.W,null,i.createElement(P.i,{text:r})),i.createElement("div",{className:ue},i.createElement(x._,{menu:i.createElement(h.r,{uri:l,isPlayed:H,onMarkAsPlayed:q,contextUri:l,isLocked:ne})},i.createElement(N.Oe,{loading:"eager",name:r,images:v,placeholderType:"episode",shape:N.Kc.ROUNDED_CORNERS}))),i.createElement(N.sP,null,i.createElement(N.dy,{small:!0,uppercase:!0},d.ag.get("web-player.audiobooks.chapter")),i.createElement(x._,{menu:i.createElement(h.r,{uri:l,isPlayed:H,onMarkAsPlayed:q,contextUri:l,isLocked:ne})},i.createElement(N.xd,{dragUri:l,dragLabel:r},i.createElement("span",{"data-testid":"chapterTitle"},r))),i.createElement(x._,{menu:i.createElement(h.r,{uri:l,isPlayed:H,onMarkAsPlayed:q,contextUri:l,isLocked:ne})},i.createElement(S.Z,{to:me,onClick:pe},i.createElement(N.dy,{large:!0,bold:!0},i.createElement("span",{"data-testid":"bookTitle"},Ee)))))),i.createElement(k.o,{backgroundColor:z},i.createElement(k.F,null,ae.nineteen&&i.createElement(w.X,{className:se,size:16}),i.createElement(L.E,{size:L.$.LARGE,fullyPlayed:H,durationMs:u.milliseconds,resumePositionMs:c.playPositionMilliseconds,isPlaying:$,position:ee&&te||void 0})),i.createElement(k.F,null,i.createElement("div",{onClick:ie},i.createElement(le,{chapterUri:l,showUri:re,isLocked:ne,durationMs:u.milliseconds,playPositionMs:c.playPositionMilliseconds,isPlayDisabled:ye,isActive:ee,isPlaying:$,togglePlay:j,triggerPlay:Q,playButtonPlayLabel:ke,playButtonPauseLabel:be,logger:Y,event:J.actionBarFactory().playButtonFactory()})),!ne&&i.createElement(oe.o,{uri:l,bookUri:re,onClick:ve}),!ne&&i.createElement(I.yj,{menu:i.createElement(h.r,{uri:l,isPlayed:H,onMarkAsPlayed:q,contextUri:l,isLocked:ne})},i.createElement(b.z,{label:d.ag.get("more.label.context",r),onClick:fe})))),i.createElement("div",{className:"contentSpacing"},i.createElement(g.P,{buttonSize:"sm",href:re,component:Z.Z,className:de,onClick:ge},"See all chapters")))})),pe=n(87462),ve=(n(88674),n(99922)),fe=n(74849),ge=(0,i.lazy)((function(){return Promise.all([n.e(1814),n.e(8396)]).then(n.bind(n,88396))}));function ye(e){var t=(0,fe.m)(),n=(0,ve.o)();return t?i.createElement(i.Suspense,{fallback:!0},i.createElement(ge,(0,pe.Z)({reason:"Episode page"},n,e))):null}const Ee="dpN5ViPOceUWNB5EQPHN",ke="vBcxPq3E2okwgXOkVPEM",be="HCCBXwdFvq6omWW2hR0N",he="bJOPO5Zo7dpjSVDwEpSw",Ne="TXdDDpokVTyJzDEDWHHf",Ce="HaSbtEVJnxBsaJ5SRi0M",Pe="YldGldlfaI9myEGXQf9g",Se="qJHVIpJn1vLPWsAKfTEZ",Te="wSIzjkVlr0Zdy7di2vRm",Ie="hYS_K1NATGyWt6tCSRqQ",xe="hVVaM4pF9arpQ8Nvn2a1",we="zf0Eac1LugsHUacz74Zf",De="TnNaqxbaI0hzhBQZ7wE0",Ue="zSw1lG1TNe_xm6KTqtCv",Me="MlEQDkXnjdKKJueJ9kkB",Ae="jg0xlyD1yjh0DPNG6eOg",Re="QiHXpFb4dLZNOFe5gpp3";n(73210);var Fe,Le=n(97656),Oe=n(49207),Be=function(e){var t=e.cardHeaderText,n=e.cardBodyText,a=e.buttonText,r=e.buttonTarget;return(0,c.W6)(Oe.Xd)?i.createElement("div",{className:Pe},i.createElement("div",{className:Se},i.createElement(q.D,{variant:"balladBold",semanticColor:"textBase"},t),i.createElement(q.D,{semanticColor:"textBase"},n)),i.createElement(J.D,{buttonSize:"sm",colorSet:"invertedLight",href:o().from(r).toURLPath(!0),component:Z.Z},a)):null},Ze=function(e){var t=e.areHTMLDescriptionsEnabled,n=e.contentInformation,a=e.description,r=e.hasDescription,l=e.htmlDescription,o=e.onExpanded,c=e.onTimeStampClick,s=e.playability,u=e.showHeader,m=void 0===u||u,p=e.spec,v=(0,R.$P)(),f=(r||n)&&m,g=(0,i.useCallback)((function(e){var t=p.readMoreButtonFactory();v.logInteraction(e?t.hitUiReveal():t.hitUiHide()),null==o||o()}),[p,v,o]);return i.createElement(i.Fragment,null,f&&i.createElement(q.D,{as:"h2",variant:"canon",semanticColor:"textBase",className:be},d.ag.get("episode.description-title")),n&&i.createElement(Be,{cardHeaderText:n.cardHeaderText,cardBodyText:n.cardBodyText,buttonText:n.buttonText,buttonTarget:n.buttonTarget}),r&&i.createElement(Le.o,{className:ke,onTimeStampClick:c,maxLines:4,onExpanded:g,content:(a||"").trim(),htmlContent:t&&l?l:void 0,enableTimestamps:s.playable}))},_e=n(4942),ze=n(94184),Ke=n.n(ze),We=n(97650),Xe=n(29325),He=n(61102),qe=n(3822),Ve=n(13406),Je=n(32648);!function(e){e.DESCRIPTION="description",e.TRANSCRIPT="transcript"}(Fe||(Fe={}));var Ye=i.memo((function(e){var t=e.transcriptSections,n=e.descriptionContent,r=e.transcriptContent,l=e.spec,o=(0,R.$P)(),c=(0,i.useState)(Fe.DESCRIPTION),s=(0,a.Z)(c,2),u=s[0],m=s[1],p=i.useContext(Je.VX).scrollNodeRef,v=(0,We.YD)({threshold:[1],root:p.current,rootMargin:"-".concat(Ve.K1+1,"px 100000px 0px 100000px")}),f=v.ref,g=v.inView,y=(0,i.useRef)(null),E=(0,i.useCallback)((function(e){y.current=e,f(e)}),[f]);return(0,i.useEffect)((function(){var e,t,n=null===(e=y.current)||void 0===e||null===(t=e.parentElement)||void 0===t?void 0:t.offsetTop,a=null==p?void 0:p.current;if(n&&a){var i=n-Ve.K1;a.scrollTop>i&&a.scrollTo({top:i})}}),[p,u]),i.createElement(Xe.l,{list:i.createElement(He.F,{className:Ke()(Me,(0,_e.Z)({},Ae,!g)),ref:E},i.createElement(qe.c,{label:d.ag.get("web-player.episode.description"),sentenceCase:!0,active:u===Fe.DESCRIPTION,onClick:function(){var e=l.tabsFactory().descriptionTabButtonFactory().hitUiReveal();o.logInteraction(e),m(Fe.DESCRIPTION)},className:Ke()(Re,(0,_e.Z)({},Te,u===Fe.DESCRIPTION))}),i.createElement(qe.c,{label:d.ag.get("web-player.episode.transcript"),sentenceCase:!0,disabled:null===t,active:u===Fe.TRANSCRIPT,onClick:function(){var e=l.tabsFactory().transcriptTabButtonFactory().hitUiReveal();o.logInteraction(e),m(Fe.TRANSCRIPT)},className:Ke()(Re,(0,_e.Z)({},Te,u===Fe.TRANSCRIPT))}))},null===t||u===Fe.DESCRIPTION?n:r)})),Ge=(n(21249),n(43914)),Qe=n(49104),je=i.memo((function(e){var t=e.transcriptSections,n=e.onTimeStampClick,a=e.episodeUri;return i.createElement(i.Fragment,null,i.createElement("div",{className:xe},i.createElement(q.D,{variant:"viola",semanticColor:"textBase"},d.ag.get("web-player.episode.transcript.disclaimer"))),t.map((function(e,t){var r="transcript-section-".concat(t);return i.createElement("div",{className:Ie,key:r},i.createElement("button",{className:we,onClick:function(){n(e.startMs,r)}},i.createElement(Ge.D,{id:r,targetURI:o().from(a),fadeOut:!0},i.createElement(q.D,{variant:"finaleBold",semanticColor:"textSubdued",className:De},(0,Qe.m)(e.startMs)))),e.content.map((function(e,t){return i.createElement(q.D,{variant:"viola",semanticColor:"textBase",className:Ue,key:"transcript-text-".concat(t),dir:"auto"},e)})))})))})),$e=n(61864);const et="axX_dOb7KXxh2BhADfuQ",tt="DIz7crU76YDtXXLx34nF",nt="R2a58pDnuIWBldpbVPRr";const at=i.memo((function(e){var t=e.title,n=e.episodes,a=e.className;return i.createElement("div",{className:Ke()(et,a)},i.createElement(q.D,{as:"h2",variant:"canon",className:tt},t),i.createElement("div",{className:nt},n.map((function(e){return i.createElement($e.B,(0,pe.Z)({key:e.uri},e))}))))}));var it=n(98984),rt={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"getRecommendedEpisodes"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uri"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"episode"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uri"},value:{kind:"Variable",name:{kind:"Name",value:"uri"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"recommendedEpisodes"},arguments:[{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"episode"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"description"}},{kind:"Field",name:{kind:"Name",value:"releaseDate"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isoString"}}]}},{kind:"Field",name:{kind:"Name",value:"duration"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalMilliseconds"}}]}},{kind:"Field",name:{kind:"Name",value:"contentRating"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"label"}}]}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"podcast"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}}]}}]}}]}}]}}]}}]}}]},lt=function(e){var t,n,a,r=e.uri,l=e.limit,o=(n={uri:r,limit:l},a={cacheTime:15*it.y},(0,it.a)(rt,n,a)).data,c=(null==o||null===(t=o.episode)||void 0===t?void 0:t.recommendedEpisodes.items)||[];return(null==c?void 0:c.length)>0?i.createElement(at,{title:d.ag.get("mwp.entity.might.like"),episodes:c.map((function(e,t){var n,a,i,r,l,o,c,s;return{index:t,id:e.episode.id,uri:e.episode.uri,name:e.episode.name,description:null!==(n=e.episode.description)&&void 0!==n?n:"",isExplicit:(null===(a=e.episode.contentRating)||void 0===a?void 0:a.label)===F.KS.Explicit,releaseDate:null===(i=e.episode.releaseDate)||void 0===i?void 0:i.isoString,is19PlusOnly:(null===(r=e.episode.contentRating)||void 0===r?void 0:r.label)===F.KS.NineteenPlus,durationMilliseconds:e.episode.duration.totalMilliseconds,images:null!==(l=null===(o=e.episode.coverArt)||void 0===o?void 0:o.sources)&&void 0!==l?l:[],showImages:null!==(c=null===(s=e.episode.podcast.coverArt)||void 0===s?void 0:s.sources)&&void 0!==c?c:[],resume_point:null,sharingInfo:null}}))}):null},ot=(n(92222),n(85827),n(74600)),ct=n(28248),st=n(86543),ut=n(38470),dt=n(1848),mt=n(88214),pt=n(21509),vt=n(82760),ft=n(86064),gt=n(42922);const yt="OYehkMWcGJRKPkByp46K",Et="uc1bXkrZqrCz0CMK4lBb",kt="qZeibBbA3SVClzEueYND";var bt=function(e){var t,n=e.episodeUri,a=e.index,r=e.duration,l=e.start,o=e.stop,c=e.name,s=e.uri,u=e.artists,m=e.album,p=e.playable,v=(0,ft.k)({episodeUri:n,start:l,stop:o}),f=v.isActive,g=v.isPlaying,y=v.onClick,E=(0,i.useCallback)((function(e,t){y(t)}),[y]),k=(0,R.fU)(dt.createDesktopTrackListRowEventFactory,{data:{position:a,reason:"",uri:s}}).spec;return i.createElement(gt.ZP,{value:"row",index:a},i.createElement(I.xV,{trigger:"right-click",action:"open",menu:i.createElement(mt.$,{uri:s})},i.createElement(vt.c,{uri:s,index:a,ariaRowIndex:a+1,dragMetadata:{name:c,createdBy:null!==(t=null==u?void 0:u[0].name)&&void 0!==t?t:""},onTriggerPlay:E,isActive:f,isPlayable:p,spec:k},i.createElement(pt.vZ,{ariaColIndex:0},i.createElement(pt.Du,{uri:s,playAriaLabel:d.ag.get("tracklist.a11y.play",c,null==u?void 0:u[0].name),onClick:E,isPlaying:g,isActive:f,spec:k},i.createElement(pt.km,null,i.createElement("img",{className:Et,src:m.image,alt:m.name}))),i.createElement(pt.vm,null,i.createElement(pt.Wh,{titleText:c},c),i.createElement(pt.K9,null,i.createElement(pt.T6,{artists:u,spec:k})))),i.createElement(pt.UA,{ariaColIndex:1},i.createElement(pt.BM,{uri:m.uri,name:m.name,spec:k},m.name)),i.createElement(pt.mU,{ariaColIndex:2},i.createElement(pt.qS,{uri:s,spec:k}),i.createElement(pt.A$,{duration:r}),i.createElement(pt.Zv,{spec:k,menu:i.createElement(mt.$,{uri:s,artists:u}),label:d.ag.get("more.label.track",c,null==u?void 0:u[0].name)})))))};function ht(e,t,n){return e.reduce((function(e,a,i){return(i>0||t>0)&&e.push({type:"SPACER",id:"spacer-".concat(e.length)}),"MUSIC"===a.type?e.push(function(e,t,n){return{type:"MUSIC",index:t,uri:n.uri,episodeUri:e,start:n.start,stop:n.stop,duration:n.duration,name:n.track.name,artists:n.track.artists,album:n.track.album,playable:n.track.playable}}(n,i,a)):"TALK"===a.type&&e.push(function(e,t,n){return{type:"TALK",index:t,uri:e,title:n.title,subtitle:n.subtitle,start:n.start,stop:n.stop,duration:n.duration,showUri:n.show.uri,showName:n.show.name}}(n,i,a)),e}),[])}const Nt=function(e){var t=e.uri,n=e.segmentCount,a=(0,st.G)(),r=(0,i.useCallback)(function(){var e=(0,W.Z)(H().mark((function e(n,i){var r,l;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Math.ceil(n/2),e.prev=1,e.next=4,a.getSegments(t,r,i);case 4:return l=e.sent,e.abrupt("return",ht(l,r,t));case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",[]);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,n){return e.apply(this,arguments)}}(),[a,t]),l=(0,i.useCallback)((function(e){switch(e.type){case"SPACER":return i.createElement("div",{key:e.id,className:kt});case"MUSIC":return i.createElement(bt,(0,pe.Z)({key:"".concat(t,"-").concat(e.index)},e));case"TALK":return i.createElement(ot.t,(0,pe.Z)({key:"".concat(t,"-").concat(e.index)},e));default:return(0,ut.U)(e)}}),[t]),o=d.ag.get("music_and_talk.in_this_episode");return i.createElement("div",null,i.createElement(q.D,{as:"h2",variant:"canon",semanticColor:"textBase",className:yt},o),i.createElement(ct.Pv,{ariaLabel:o,hasHeaderRow:!0,rowPlaceholder:ct.hU,columns:[ct.QD.TITLE,ct.QD.ALBUM_OR_SHOW,ct.QD.DURATION],renderRow:l,fetchTracks:r,resolveUri:function(e){return"MUSIC"===e.type?e.uri:""},limit:50,nrTracks:2*n-1,testID:"music-and-talk-tracklist"}))};n(39575),n(82472),n(48675),n(92990),n(18927),n(33105),n(35035),n(74345),n(7174),n(32846),n(44731),n(77209),n(96319),n(58867),n(37789),n(33739),n(29368),n(14483),n(12056),n(3462),n(30678),n(27462),n(33824),n(55021),n(12974),n(15016),n(37380),n(1118),n(79753),n(5735),n(83753),n(9653),n(47042),n(91038),n(77601),n(32165),n(21703),n(96647);var Ct=n(43720),Pt=n.n(Ct),St=n(62100),Tt=n.n(St);function It(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return xt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xt(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0,i=function(){};return{s:i,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,l=!0,o=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return l=e.done,e},e:function(e){o=!0,r=e},f:function(){try{l||null==n.return||n.return()}finally{if(o)throw r}}}}function xt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var wt;function Dt(e){switch(e){case 0:case"UNKNOWN":return wt.UNKNOWN;case 1:case"PLAINTEXT_CONTENT":return wt.PLAINTEXT_CONTENT;case 2:case"MUSIC_TRACK":return wt.MUSIC_TRACK;default:return wt.UNRECOGNIZED}}!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.PLAINTEXT_CONTENT=1]="PLAINTEXT_CONTENT",e[e.MUSIC_TRACK=2]="MUSIC_TRACK",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(wt||(wt={}));var Ut=function(e,t){for(var n=e instanceof Tt().Reader?e:new(Tt().Reader)(e),a=void 0===t?n.len:n.pos+t,i={version:"",episodeUri:"",publishedAt:"",sections:[],language:"",curated:!1};n.pos<a;){var r=n.uint32();switch(r>>>3){case 1:i.version=n.string();break;case 2:i.episodeUri=n.string();break;case 3:i.publishedAt=n.string();break;case 4:i.sections.push(Mt.decode(n,n.uint32()));break;case 5:i.language=n.string();break;case 6:i.curated=n.bool();break;default:n.skipType(7&r)}}return i};var Mt={encode:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Tt().Writer.create();return 0!==e.type&&t.uint32(8).int32(e.type),0!==e.startMs&&t.uint32(16).int32(e.startMs),void 0!==e.plaintextContent&&At.encode(e.plaintextContent,t.uint32(26).fork()).ldelim(),void 0!==e.musicTrack&&Rt.encode(e.musicTrack,t.uint32(50).fork()).ldelim(),""!==e.title&&t.uint32(34).string(e.title),void 0!==e.fallback&&At.encode(e.fallback,t.uint32(42).fork()).ldelim(),t},decode:function(e,t){for(var n=e instanceof Tt().Reader?e:new(Tt().Reader)(e),a=void 0===t?n.len:n.pos+t,i={type:0,startMs:0,plaintextContent:void 0,musicTrack:void 0,title:"",fallback:void 0};n.pos<a;){var r=n.uint32();switch(r>>>3){case 1:i.type=n.int32();break;case 2:i.startMs=n.int32();break;case 3:i.plaintextContent=At.decode(n,n.uint32());break;case 6:i.musicTrack=Rt.decode(n,n.uint32());break;case 4:i.title=n.string();break;case 5:i.fallback=At.decode(n,n.uint32());break;default:n.skipType(7&r)}}return i},fromJSON:function(e){return{type:Ft(e.type)?Dt(e.type):0,startMs:Ft(e.startMs)?Number(e.startMs):0,plaintextContent:Ft(e.plaintextContent)?At.fromJSON(e.plaintextContent):void 0,musicTrack:Ft(e.musicTrack)?Rt.fromJSON(e.musicTrack):void 0,title:Ft(e.title)?String(e.title):"",fallback:Ft(e.fallback)?At.fromJSON(e.fallback):void 0}},toJSON:function(e){var t={};return void 0!==e.type&&(t.type=function(e){switch(e){case wt.UNKNOWN:return"UNKNOWN";case wt.PLAINTEXT_CONTENT:return"PLAINTEXT_CONTENT";case wt.MUSIC_TRACK:return"MUSIC_TRACK";default:return"UNKNOWN"}}(e.type)),void 0!==e.startMs&&(t.startMs=Math.round(e.startMs)),void 0!==e.plaintextContent&&(t.plaintextContent=e.plaintextContent?At.toJSON(e.plaintextContent):void 0),void 0!==e.musicTrack&&(t.musicTrack=e.musicTrack?Rt.toJSON(e.musicTrack):void 0),void 0!==e.title&&(t.title=e.title),void 0!==e.fallback&&(t.fallback=e.fallback?At.toJSON(e.fallback):void 0),t},fromPartial:function(e){var t,n,a,i={type:0,startMs:0,plaintextContent:void 0,musicTrack:void 0,title:"",fallback:void 0};return i.type=null!==(t=e.type)&&void 0!==t?t:0,i.startMs=null!==(n=e.startMs)&&void 0!==n?n:0,i.plaintextContent=void 0!==e.plaintextContent&&null!==e.plaintextContent?At.fromPartial(e.plaintextContent):void 0,i.musicTrack=void 0!==e.musicTrack&&null!==e.musicTrack?Rt.fromPartial(e.musicTrack):void 0,i.title=null!==(a=e.title)&&void 0!==a?a:"",i.fallback=void 0!==e.fallback&&null!==e.fallback?At.fromPartial(e.fallback):void 0,i}};var At={encode:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Tt().Writer.create(),a=It(e.plaintext);try{for(a.s();!(t=a.n()).done;){var i=t.value;n.uint32(10).string(i)}}catch(e){a.e(e)}finally{a.f()}return n},decode:function(e,t){for(var n=e instanceof Tt().Reader?e:new(Tt().Reader)(e),a=void 0===t?n.len:n.pos+t,i={plaintext:[]};n.pos<a;){var r=n.uint32();if(r>>>3==1)i.plaintext.push(n.string());else n.skipType(7&r)}return i},fromJSON:function(e){return{plaintext:Array.isArray(null==e?void 0:e.plaintext)?e.plaintext.map((function(e){return String(e)})):[]}},toJSON:function(e){var t={};return e.plaintext?t.plaintext=e.plaintext.map((function(e){return e})):t.plaintext=[],t},fromPartial:function(e){var t,n={plaintext:[]};return n.plaintext=(null===(t=e.plaintext)||void 0===t?void 0:t.map((function(e){return e})))||[],n}};var Rt={encode:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Tt().Writer.create();return""!==e.uri&&t.uint32(10).string(e.uri),t},decode:function(e,t){for(var n=e instanceof Tt().Reader?e:new(Tt().Reader)(e),a=void 0===t?n.len:n.pos+t,i={uri:""};n.pos<a;){var r=n.uint32();if(r>>>3==1)i.uri=n.string();else n.skipType(7&r)}return i},fromJSON:function(e){return{uri:Ft(e.uri)?String(e.uri):""}},toJSON:function(e){var t={};return void 0!==e.uri&&(t.uri=e.uri),t},fromPartial:function(e){var t,n={uri:""};return n.uri=null!==(t=e.uri)&&void 0!==t?t:"",n}};function Ft(e){return null!=e}function Lt(e){var t,n,a;return e.type===wt.MUSIC_TRACK?{type:"track",startMs:e.startMs,content:(null===(n=e.fallback)||void 0===n?void 0:n.plaintext)||[],trackUri:null===(a=e.musicTrack)||void 0===a?void 0:a.uri}:{type:"text",startMs:e.startMs,content:(null===(t=e.plaintextContent)||void 0===t?void 0:t.plaintext)||[]}}function Ot(e){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,W.Z)(H().mark((function e(t){var n,a,i,r;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t,{});case 3:if(!(n=e.sent).ok||!n.body){e.next=11;break}return e.next=7,n.arrayBuffer();case 7:return a=e.sent,i=Ut(new Uint8Array(a)),r=i.sections.map(Lt),e.abrupt("return",r);case 11:return e.abrupt("return",null);case 14:return e.prev=14,e.t0=e.catch(0),e.abrupt("return",null);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})))).apply(this,arguments)}Tt().util.Long!==Pt()&&(Tt().util.Long=Pt(),Tt().configure());var Zt=function(e){var t=e.areHTMLDescriptionsEnabled,n=e.contentInformation,r=e.description,l=e.hasDescription,o=e.hasMusicAndTalkSegements,c=e.htmlDescription,s=e.onExpanded,u=e.onDescriptionTimestampClick,m=e.onTranscriptTimestampClick,p=e.playability,v=e.segmentCount,f=e.showUrl,y=e.transcript,E=e.transcriptEnabled,k=e.uri,b=e.spec,h=(0,R.$P)(),N=(0,i.useMemo)((function(){return b.recommendationsFactory()}),[b]),C=(0,i.useMemo)((function(){return b.descriptionSectionFactory()}),[b]),P=(0,i.useMemo)((function(){return C.trackListFactory()}),[C]),S=(0,i.useState)(null),T=(0,a.Z)(S,2),I=T[0],x=T[1],w=(0,i.useCallback)(function(){var e=(0,W.Z)(H().mark((function e(t){var n;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ot(t);case 2:n=e.sent,x(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]);(0,i.useEffect)((function(){y&&y.length>0&&w(y[0].cdnUrl)}),[w,y]);var D=function(e){return i.createElement(i.Fragment,null,i.createElement(Ze,{hasDescription:l,contentInformation:n,onTimeStampClick:u,onExpanded:s,description:r,areHTMLDescriptionsEnabled:t,htmlDescription:c,playability:p,showHeader:e,spec:C}),o&&i.createElement(R.Nh,{spec:P},i.createElement(Nt,{segmentCount:v,uri:k})),f&&i.createElement(g.P,{buttonSize:"sm",className:he,href:f,component:Z.Z,onClick:function(){h.logInteraction(C.allEpisodesLinkFactory().hitUiNavigate({destination:f}))}},d.ag.get("episode.see_all_episodes")),i.createElement(ye,{uri:k}),i.createElement(R.Nh,{spec:N},i.createElement(lt,{uri:k,limit:6})))};return i.createElement(i.Fragment,null,E&&y&&(null==y?void 0:y.length)>0?i.createElement(Ye,{transcriptSections:I,descriptionContent:D(!1),transcriptContent:i.createElement(je,{transcriptSections:I||[],onTimeStampClick:m,episodeUri:k}),spec:b}):D(!0))},_t=n(88435),zt=n(87093),Kt="activation-trigger-mme",Wt=function(e){var t=e.episodeUri,n=e.showUri,a=e.isLocked,r=e.isPlaying,l=e.isPlayDisabled,c=e.playButtonPlayLabel,s=e.playButtonPauseLabel,u=e.onClick,d=(0,zt.E)();if((0,_.g)())return i.createElement(z.JM,{size:z.qE.lg,onClick:u,isPlaying:r,disabled:l,locked:a,ariaPlayLabel:c,ariaPauseLabel:s});var m=i.createElement(_t.l,{showUri:n,enabled:a,renderInline:!1},i.createElement(z.JM,{size:z.qE.lg,onClick:u,isPlaying:r,disabled:l,locked:a,ariaPlayLabel:c,ariaPauseLabel:s}));return d?i.createElement(Ge.D,{id:Kt,targetURI:o().from(t),fadeOut:!0},m):m},Xt=n(74414),Ht=n(31990);const qt="o6AdXY67I_0xmTg8LBCI",Vt="MMZAjWZzcPpNIE06SNuf",Jt="Ccgbgvk9PwclKl5rA6Zj",Yt="NHVXJRN6IZANogQjMWei",Gt="orBUEK6aY0SZVOnrDerw",Qt="ym1d5PDeTaJLIK0SspBF",jt="Hko6tpIRefr4NKiTEemO",$t="ptUwXq9IK8IQAOE2UiDA",en="mpyCCCudeQ3uBmgrSAcA";var tn=function(e){var t=e.cardHeaderText,n=e.cardBodyText,a=e.buttonText,r=e.buttonTarget;return(0,c.W6)(Oe.Xd)?i.createElement("div",{className:jt},i.createElement("div",{className:$t},i.createElement(q.D,{variant:"balladBold",semanticColor:"textBase"},t),i.createElement(q.D,{semanticColor:"textBase"},n)),i.createElement(J.D,{buttonSize:"sm",colorSet:"invertedLight",href:o().from(r).toURLPath(!0),component:Z.Z},a)):null},nn=function(e){var t=e.areHTMLDescriptionsEnabled,n=e.contentInformation,a=e.description,r=e.hasDescription,l=e.htmlDescription,o=e.onExpanded,c=e.onTimeStampClick,s=e.playability,u=e.showHeader,m=(r||n)&&(void 0===u||u);return i.createElement(i.Fragment,null,m&&i.createElement(q.D,{as:"h2",variant:"canon",semanticColor:"textBase",className:Jt},d.ag.get("episode.description-title")),n&&i.createElement(tn,{cardHeaderText:n.cardHeaderText,cardBodyText:n.cardBodyText,buttonText:n.buttonText,buttonTarget:n.buttonTarget}),r&&i.createElement(Le.o,{className:Vt,onTimeStampClick:c,maxLines:4,onExpanded:o,content:(a||"").trim(),htmlContent:t&&l?l:void 0,enableTimestamps:s.playable}))},an=function(e){var t,n=e.areHTMLDescriptionsEnabled,a=e.contentInformation,r=e.description,l=e.hasDescription,o=e.htmlDescription,c=e.onExpanded,s=e.onTimeStampClick,u=e.playability,m=e.showUrl,p=e.uri,v=e.seeAllButtonClick;return t=!0,i.createElement(i.Fragment,null,i.createElement(nn,{hasDescription:l,contentInformation:a,onTimeStampClick:s,onExpanded:c,description:r,areHTMLDescriptionsEnabled:n,htmlDescription:o,playability:u,showHeader:t}),m&&i.createElement(g.P,{onClick:v,buttonSize:"sm",className:Yt,href:m,component:Z.Z},d.ag.get("episode.see_all_episodes")),i.createElement(ye,{uri:p}))},rn=n(82627),ln="activation-trigger-mme",on=function(e){var t=e.episodeUri,n=e.showUri,a=e.isLocked,r=e.isPlaying,l=e.isPlayDisabled,c=e.playButtonPlayLabel,s=e.playButtonPauseLabel,u=e.onClick,d=(0,zt.E)(),m=i.createElement(_t.l,{showUri:n,enabled:a,renderInline:!1},i.createElement(rn.f,{size:"lg",onClick:u,isPlaying:r,disabled:l,locked:a,ariaPlayLabel:c,ariaPauseLabel:s}));return d?i.createElement(Ge.D,{id:ln,targetURI:o().from(t),fadeOut:!0},m):m},cn=n(56802),sn=n(80219),un=n(61901),dn=n(53538),mn=n(23716),pn=n(69691),vn=n(37483),fn=n(89744),gn=n(95134),yn=n(20246),En=n(87257),kn=n(52759),bn=function(e){var t,n,r,l,o=e.podcastShort,c=e.onPlayEpisode,s=e.isPlaying,u=e.isActive,m=e.isFullyPlayed,p=e.setIsFullyPlayed,v=e.backgroundColor,g=e.isLocked,y=e.onDownloadClick,h=e.onContextMenuClick,N=o.uri,C=o.playedState,P=o.contentRating,S=o.playability,T=(0,f.I0)(),I=(0,kn.z)(1e4,(function(e){var t;return(null==e||null===(t=e.item)||void 0===t?void 0:t.uri)===N})),x=(0,a.Z)(I,1)[0],D=(0,M.Y)((function(e){return null==e?void 0:e.duration})),U=(0,O.r)({contentRating:null==P?void 0:P.label}),A=U.badges,R=U.hasBadges,F=(0,i.useCallback)((function(e){!S.playable&&A.nineteen&&(e.stopPropagation(),T((0,E.RM)(N||"")))}),[N,S.playable,A.nineteen,T]),B=!g&&!o.playability.playable,Z=d.ag.get("tracklist.a11y.play",o.name,null===(t=o.podcast)||void 0===t?void 0:t.name),_=d.ag.get("tracklist.a11y.pause",o.name,null===(n=o.podcast)||void 0===n?void 0:n.name),z=null===(r=o.podcast)||void 0===r?void 0:r.uri;return i.createElement(k.o,{backgroundColor:v},i.createElement("div",{className:en},R&&i.createElement(gn.g,null,A.nineteen&&i.createElement(w.X,{className:Gt,size:16}),A.explicit?i.createElement(En.N,null):null),i.createElement(k.F,null,i.createElement(L.E,{size:L.$.LARGE,fullyPlayed:m,durationMs:u&&D?D:o.duration.milliseconds,releaseDate:Pn(null===(l=o.releaseDate)||void 0===l?void 0:l.isoString),resumePositionMs:C.playPositionMilliseconds,isPlaying:s,position:u&&x||void 0}))),i.createElement(k.F,null,i.createElement("div",{onClick:F},i.createElement(on,{episodeUri:o.uri,showUri:z,isLocked:g,onClick:function(){c(C.playPositionMilliseconds,!1)},isPlaying:s,isPlayDisabled:B,playButtonPlayLabel:Z,playButtonPauseLabel:_})),!g&&i.createElement(vn.p,{onClick:y,uri:o.uri,showUri:z}),i.createElement(yn.y,{onShow:h,menu:i.createElement(fn.v,{uri:o.uri,sharingInfo:o.sharingInfo,showUri:z,contextUri:o.uri,isPlayed:m,onMarkAsPlayed:p,userCreated:o.userCreated})},i.createElement(b.z,{label:d.ag.get("more.label.context",o.name)}))))},hn=n(91355);var Nn=function(e){var t,n=e.podcastShort,a=e.isFullyPlayed,r=e.setIsFullyPlayed,l=e.backgroundColor,o=e.spec,c=n.uri,s=n.name,u=n.sharingInfo,m=n.playedState,p=n.episodeType,v=n.releaseDate,f=n.userCreated,g=(0,R.$P)(),y=function(e,t,n,a,r){var l=t===F.Wf.Episode;return(0,hn.G3)(e,a,n,r)?i.createElement(hn.Fg,{isMusicAndTalk:l}):l?d.ag.get("type.showEpisode"):d.ag.get("type.podcastEpisode")}(c,p||F.Wf.Unknown,m.playPositionMilliseconds,Pn(null==v?void 0:v.isoString),m.state===F.sY.Completed),E=null===(t=n.podcast)||void 0===t?void 0:t.uri;return i.createElement(N.gF,{backgroundColor:l},i.createElement(C.W,null,i.createElement(P.i,{text:n.name,dragUri:c,dragLabel:n.name})),i.createElement("div",{className:Qt},(null==f?void 0:f.userUri)&&i.createElement(x._,{menu:i.createElement(fn.v,{uri:n.uri,sharingInfo:n.sharingInfo,showUri:E,contextUri:n.uri,isPlayed:a,onMarkAsPlayed:r,userCreated:f})},i.createElement(N.Oe,{loading:"eager",name:n.name,images:n.coverArt,placeholderType:"episode",shape:N.Kc.ROUNDED_CORNERS}))),i.createElement(N.sP,null,i.createElement(N.dy,{small:!0,uppercase:!0},y),(null==f?void 0:f.userUri)&&i.createElement(x._,{menu:i.createElement(fn.v,{uri:c,sharingInfo:u,showUri:E,contextUri:c,isPlayed:a,onMarkAsPlayed:r,userCreated:f})},i.createElement(N.xd,{dragUri:c,dragLabel:s},s)),(null==f?void 0:f.userUri)&&i.createElement(x._,{menu:i.createElement(fn.v,{uri:n.uri,sharingInfo:n.sharingInfo,showUri:E,contextUri:n.uri,isPlayed:a,onMarkAsPlayed:r,userCreated:f})},i.createElement(S.Z,{onClick:function(){var e,t=o.hitUiNavigate({destination:null!==(e=null==f?void 0:f.userUri)&&void 0!==e?e:""});g.logInteraction(t)},to:f.userUri},i.createElement(N.dy,{large:!0,bold:!0},i.createElement("span",{"data-testid":"showTitle"},null==f?void 0:f.displayName))))))},Cn=function(e){var t,n,r,l,s=e.podcastShort,u=s.uri,v=s.episodeType,f=s.description,g=s.htmlDescription,y=s.podcastSubscription,E=s.segmentsCount,k=s.podcast,b=s.contentInformation,h=s.playedState,N=s.coverArt,C=s.userCreated,P=(0,R.fU)(Ht.createDesktopPodcastShortEventFactory,{data:{uri:u}}).spec,S=i.useMemo((function(){return P.userProfileLinkFactory({uri:u})}),[P,u]),T=i.useMemo((function(){return P.actionBarFactory()}),[P]),I=(0,i.useState)(h.state===F.sY.Completed),x=(0,a.Z)(I,2),w=x[0],D=x[1],A=(0,mn.g)(),L=(0,cn.o)(),O=(0,c.W6)(Oe.Cz),B=(0,c.W6)(Oe.Be),Z=void 0!==E&&E>0&&B,z=(0,_.g)(),K=(0,U.n)({uri:u},{featureIdentifier:"episode"}),W=K.triggerPlay,X=K.togglePlay,H=K.isActive,q=(0,pn.$o)(u),V=q.isPlaying,J=q.isActive,Y=N[0].url,G=(0,un.Zj)(Y||null),Q=(0,M.Y)((function(e){var t;return null!==(t=null==e?void 0:e.isPaused)&&void 0!==t?t:void 0})),j=(0,zt.E)(),$=(null==y?void 0:y.isPaywalled)&&!y.isUserSubscribed,ee=(0,sn.s)(s,k),te=(0,R.$P)(),ne=(0,i.useCallback)((function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0,a=function(){Q?A.resume():A.pause()};if(!$){var i="play";if(!V||0!==e&&t||(i="pause"),L({intent:i,targetUri:u,type:"click",itemIdSuffix:e>0?"podcast-description-timestamp":"button"}),v===F.Wf.Episode&&j)p.y.set((function(){return{triggerId:n||ln,triggerAction:null}}));else if(H&&!t)if(z)a();else{var r=(0,dn.aK)({isPlaying:V,isActive:J,spec:P.actionBarFactory().playButtonFactory(),logger:te,uri:u});X({loggingParams:r})}else J?a():z?ee({seekTo:e}):W({seekTo:e})}}),[$,V,L,u,J,P,te,X,v,j,H,Q,A,z,ee,W]),ae=(0,i.useCallback)((function(){(0,dn.qq)(T,te)}),[T,te]),ie=(0,i.useCallback)((function(e,t){(0,dn.l7)(t,T.downloadButtonFactory(),te,u)}),[te,u,T]),re=(0,i.useCallback)((function(){L({intent:"expand-description",type:"click"})}),[L]),le=(0,i.useCallback)((function(){var e,t=null!==(e=null==C?void 0:C.userUri)&&void 0!==e?e:"",n=P.seeAllEpisodesButtonFactory({uri:t}).hitUiNavigate({destination:t});te.logInteraction(n)}),[C,te,P]);(0,i.useEffect)((function(){var e=new URLSearchParams(location.search);if(e.has("t")){var t=e.get("t")||"0",n=1e3*parseInt(t,10);n<=s.duration.milliseconds&&ne(n)}}),[ne,s.duration.milliseconds]);var oe=!!f||O&&!!g,ce=null===(t=s.podcast)||void 0===t?void 0:t.uri,se=null===(n=o().from(ce))||void 0===n?void 0:n.toURLPath(!0);return i.createElement("section",{"data-testid":"episode",className:qt},i.createElement(m.$,null,d.ag.get("podcasts.episode.seo.title",{name:s.name,show:null!==(r=null===(l=s.podcast)||void 0===l?void 0:l.name)&&void 0!==r?r:""})),i.createElement(Nn,{podcastShort:s,isFullyPlayed:w,setIsFullyPlayed:D,backgroundColor:G,spec:S}),i.createElement(bn,{podcastShort:s,onPlayEpisode:ne,isPlaying:V,isActive:J||H,isFullyPlayed:w,setIsFullyPlayed:D,backgroundColor:G,isLocked:!!$,onContextMenuClick:ae,onDownloadClick:ie}),i.createElement("div",{className:"contentSpacing"},i.createElement(an,{seeAllButtonClick:le,hasDescription:oe,contentInformation:b,onTimeStampClick:ne,onExpanded:re,description:s.description,areHTMLDescriptionsEnabled:O,htmlDescription:s.htmlDescription,playability:s.playability,hasMusicAndTalkSegements:Z,segmentCount:E,uri:s.uri,showUrl:se})))};function Pn(e){return(null==e?void 0:e.replace(/T.*/,""))||""}var Sn=n(11486),Tn=n(52404),In=n(86649),xn=n(87834),wn=n(51871),Dn=n(25988),Un=n(44065),Mn=function(e){var t,n,r,l,o=e.episode,c=e.onPlayEpisode,s=e.isPlaying,u=e.isActive,m=e.isFullyPlayed,p=e.setIsFullyPlayed,v=e.backgroundColor,g=e.isLocked,y=e.spec,h=o.uri,N=o.playedState,C=o.contentRating,P=o.playability,S=(0,R.$P)(),T=(0,f.I0)(),I=(0,kn.z)(1e4,(function(e){var t;return(null==e||null===(t=e.item)||void 0===t?void 0:t.uri)===h})),x=(0,a.Z)(I,1)[0],D=(0,M.Y)((function(e){return null==e?void 0:e.duration})),U=(0,O.r)({contentRating:null==C?void 0:C.label}).badges,A=(0,i.useCallback)((function(e){!P.playable&&U.nineteen&&(e.stopPropagation(),T((0,E.RM)(h||"")))}),[h,P.playable,U.nineteen,T]),F=(0,i.useCallback)((function(){var e=y.contextMenuButtonFactory().hitUiReveal();S.logInteraction(e)}),[S,y]),B=(0,i.useCallback)((function(e,t){(0,dn.l7)(t,y.downloadButtonFactory(),S,h)}),[S,y,h]),Z=(0,i.useCallback)((function(e){var t=y.saveButtonFactory();S.logInteraction(e?t.hitLike({itemToBeLiked:h}):t.hitRemoveLike({itemNoLongerLiked:h}))}),[S,y,h]),_=!g&&!o.playability.playable,z=d.ag.get("tracklist.a11y.play",o.name,null===(t=o.podcast)||void 0===t?void 0:t.name),K=d.ag.get("tracklist.a11y.pause",o.name,null===(n=o.podcast)||void 0===n?void 0:n.name),W=null===(r=o.podcast)||void 0===r?void 0:r.uri;return i.createElement(k.o,{backgroundColor:v},i.createElement(k.F,null,U.nineteen&&i.createElement(w.X,{className:Ne,size:16}),i.createElement(L.E,{size:L.$.LARGE,fullyPlayed:m,durationMs:u&&D?D:o.duration.milliseconds,releaseDate:Ln(null===(l=o.releaseDate)||void 0===l?void 0:l.isoString),resumePositionMs:N.playPositionMilliseconds,isPlaying:s,position:u&&x||void 0})),i.createElement(k.F,null,i.createElement("div",{onClick:A},i.createElement(Wt,{episodeUri:o.uri,showUri:W,isLocked:g,onClick:function(){c(N.playPositionMilliseconds)},isPlaying:s,isPlayDisabled:_,playButtonPlayLabel:z,playButtonPauseLabel:K})),!g&&i.createElement(vn.p,{uri:o.uri,showUri:W,onClick:B}),i.createElement(wn.w,{uri:o.uri,size:Un.q.md,onClick:Z}),i.createElement(yn.y,{onShow:F,menu:i.createElement(Dn.k,{uri:o.uri,sharingInfo:o.sharingInfo,showUri:W,contextUri:o.uri,isPlayed:m,onMarkAsPlayed:p})},i.createElement(b.z,{label:d.ag.get("more.label.context",o.name)}))))};var An=function(e){var t,n,a=e.episode,r=e.isFullyPlayed,l=e.setIsFullyPlayed,c=e.backgroundColor,s=e.spec,u=a.uri,m=a.name,p=a.sharingInfo,v=a.playedState,f=a.episodeType,g=a.releaseDate,y=(0,R.$P)(),E=function(e,t,n,a,r){var l=t===F.Wf.Episode;return(0,hn.G3)(e,a,n,r)?i.createElement(hn.Fg,{isMusicAndTalk:l}):l?d.ag.get("type.showEpisode"):d.ag.get("type.podcastEpisode")}(u,f||F.Wf.Unknown,v.playPositionMilliseconds,Ln(null==g?void 0:g.isoString),v.state===F.sY.Completed),k=null===(t=a.podcast)||void 0===t?void 0:t.uri,b=function(e){var t=o().from(e),n=o().hexToId((null==t?void 0:t.id)||"");return"/show/".concat(n)}(k),h=(0,i.useCallback)((function(){y.logInteraction(s.podcastLinkFactory().hitUiNavigate({destination:b}))}),[y,b,s]);return i.createElement(N.gF,{backgroundColor:c},i.createElement(C.W,null,i.createElement(P.i,{text:a.name,dragUri:u,dragLabel:a.name})),i.createElement("div",{className:Ce},i.createElement(x._,{menu:i.createElement(Dn.k,{uri:a.uri,sharingInfo:a.sharingInfo,showUri:k,contextUri:a.uri,isPlayed:r,onMarkAsPlayed:l})},i.createElement(N.Oe,{loading:"eager",name:a.name,images:a.coverArt,placeholderType:"episode",shape:N.Kc.ROUNDED_CORNERS}))),i.createElement(N.sP,null,i.createElement(N.dy,{small:!0,uppercase:!0},E),i.createElement(x._,{menu:i.createElement(Dn.k,{uri:u,sharingInfo:p,showUri:k,contextUri:u,isPlayed:r,onMarkAsPlayed:l})},i.createElement(N.xd,{dragUri:u,dragLabel:m},i.createElement("span",{"data-testid":"episodeTitle"},m))),i.createElement(x._,{menu:i.createElement(Dn.k,{uri:a.uri,sharingInfo:a.sharingInfo,showUri:k,contextUri:a.uri,isPlayed:r,onMarkAsPlayed:l})},i.createElement(S.Z,{to:b,onClick:h},i.createElement(N.dy,{large:!0,bold:!0},i.createElement("span",{"data-testid":"showTitle"},null===(n=a.podcast)||void 0===n?void 0:n.name))))))},Rn=function(e){var t,n,r,l,u=e.episode,v=u.uri,f=u.episodeType,g=u.description,y=u.htmlDescription,E=u.podcastSubscription,k=u.segmentsCount,b=u.podcast,h=u.contentInformation,N=u.playedState,C=u.coverArt,P=(0,R.fU)(s.createDesktopEpisodeEventFactory,{data:{uri:v}}),S=P.spec,T=P.logger,I=(0,i.useMemo)((function(){return S.headerFactory()}),[S]),x=(0,i.useMemo)((function(){return S.actionBarFactory()}),[S]),w=(0,i.useState)(N.state===F.sY.Completed),D=(0,a.Z)(w,2),A=D[0],L=D[1],O=(0,mn.g)(),B=(0,cn.o)(),Z=(0,c.W6)(Oe.Cz),z=(0,c.W6)(Oe.Be),K=void 0!==k&&k>0&&z,W=(0,c.W6)(Oe.WE,{loadingValue:!1}),X=(0,_.g)(),H=(0,U.n)({uri:v},{featureIdentifier:"episode"}),q=H.triggerPlay,V=H.togglePlay,J=H.isActive,Y=(0,pn.$o)(v),G=Y.isPlaying,Q=Y.isActive,j=C[0].url,$=(0,un.Zj)(j||null),ee=(0,M.Y)((function(e){var t;return null!==(t=null==e?void 0:e.isPaused)&&void 0!==t?t:void 0})),te=(0,zt.E)(),ne=E.isPaywalled&&!E.isUserSubscribed,ae=Q||J,ie=(0,sn.s)(u,b),re=(0,i.useCallback)((function(e,t,n,a){var i=function(){ee?(null==a||a("resume"),O.resume()):(null==a||a("pause"),O.pause())};if(!ne){var r="play";if(!G||0!==e&&t||(r="pause"),B({intent:r,targetUri:v,type:"click",itemIdSuffix:e>0?"podcast-description-timestamp":"button"}),f===F.Wf.Episode&&te)p.y.set((function(){return{triggerId:n||Kt,triggerAction:null}}));else if(J&&!t)X?i():V({loggingParams:null==a?void 0:a()});else if(Q&&!t)i();else{var l=null==a?void 0:a("play");X?ie({seekTo:e,loggingParams:l}):q({seekTo:e,loggingParams:l})}}}),[ne,G,B,v,f,te,Q,J,X,ee,O,V,ie,q]),le=(0,i.useCallback)((function(e){re(e,!1,void 0,(function(e){var t,n=S.actionBarFactory().playButtonFactory();return t="pause"===e||G?n.hitPause({itemToBePaused:v}):"resume"===e||ae?n.hitResume({itemToBeResumed:v}):n.hitPlay({itemToBePlayed:v}),T.logInteraction(t)}))}),[re,ae,G,T,S,v]),oe=(0,i.useCallback)((function(e){re(e,!0,void 0,(function(){return T.logInteraction(S.descriptionSectionFactory().timestampLinkFactory().hitPlay({itemToBePlayed:v}))}))}),[re,T,S,v]),ce=(0,i.useCallback)((function(e,t){re(e,!0,t,(function(){return T.logInteraction(S.transcriptSectionFactory().timestampLinkFactory().hitPlay({itemToBePlayed:v}))}))}),[re,T,S,v]),se=(0,i.useCallback)((function(){B({intent:"expand-description",type:"click"})}),[B]);(0,i.useEffect)((function(){if(u){var e=new URLSearchParams(location.search);if(e.has("t")){var t=e.get("t")||"0",n=1e3*parseInt(t,10);n<=u.duration.milliseconds&&re(n,!0)}}}),[u]);var ue=!!g||Z&&!!y,de=null===(t=u.podcast)||void 0===t?void 0:t.uri,me=null===(n=o().from(de))||void 0===n?void 0:n.toURLPath(!0);return i.createElement("section",{"data-testid":"episode",className:Ee},i.createElement(m.$,null,d.ag.get("podcasts.episode.seo.title",{name:u.name,show:null!==(r=null===(l=u.podcast)||void 0===l?void 0:l.name)&&void 0!==r?r:""})),i.createElement(An,{episode:u,isFullyPlayed:A,setIsFullyPlayed:L,backgroundColor:$,spec:I}),i.createElement(Mn,{episode:u,onPlayEpisode:le,isPlaying:G,isActive:ae,isFullyPlayed:A,setIsFullyPlayed:L,backgroundColor:$,isLocked:ne,spec:x}),i.createElement("div",{className:"contentSpacing"},i.createElement(Zt,{transcriptEnabled:W,transcript:u.transcript,hasDescription:ue,contentInformation:h,onDescriptionTimestampClick:oe,onTranscriptTimestampClick:ce,onExpanded:se,description:u.description,areHTMLDescriptionsEnabled:Z,htmlDescription:u.htmlDescription,playability:u.playability,hasMusicAndTalkSegements:K,segmentCount:k,uri:u.uri,showUrl:me,spec:S})))};const Fn=i.memo((function(){var e=(0,r.UO)().episodeId,t=o().episodeURI(e).toURI(),n=(0,c.W6)(Oe.uB),a=(0,c.W6)(Oe.Nf),l=(0,Tn.I)(t,n),s=(0,Sn.V)("episode",l);return s?i.createElement(Xt.o,{to:s}):l?(0,In.Ey)(l)?i.createElement(i.Suspense,{fallback:null},i.createElement(xn.C,{pageId:u.Wg.PODCAST_EPISODE_AUDIOBOOK,uri:t},i.createElement(me,{chapter:l}))):(0,In.Qj)(l)&&a?i.createElement(i.Suspense,{fallback:null},i.createElement(xn.C,{pageId:u.Wg.PODCAST_EPISODE,uri:t},i.createElement(Cn,{podcastShort:l}))):i.createElement(i.Suspense,{fallback:null},i.createElement(xn.C,{pageId:u.Wg.PODCAST_EPISODE,uri:t},i.createElement(Rn,{episode:l}))):i.createElement(v.h,{hasError:!1,errorMessage:d.ag.get("error.not_found.title.podcast")})}));function Ln(e){return(null==e?void 0:e.replace(/T.*/,""))||""}},40080:(e,t,n)=>{n.d(t,{D:()=>i});var a=n(67294);function i(e){var t=(0,a.useRef)();return(0,a.useEffect)((function(){t.current=e}),[e]),t.current}},13759:(e,t,n)=>{n.d(t,{E:()=>M,$:()=>S});var a=n(4942),i=n(67294),r=n(43315),l=(n(41539),n(81299),n(12419),n(15671)),o=n(43144),c=n(60136),s=n(82963),u=n(61120);const d="wIA_5Ypq0rltNPeZQpM4",m="Swi6YtNEFCCVz8l4y75v",p="pklLPOhfigdytL9bPoth",v="sb24Y8kdMZInJ8aI8dXT";function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,u.Z)(e);if(t){var i=(0,u.Z)(this).constructor;n=Reflect.construct(a,arguments,i)}else n=a.apply(this,arguments);return(0,s.Z)(this,n)}}var g=function(e){(0,c.Z)(n,e);var t=f(n);function n(){return(0,l.Z)(this,n),t.apply(this,arguments)}return(0,o.Z)(n,[{key:"render",value:function(){var e=this.props,t=e.ariaValueText,n=e.max,a=e.current,r=n&&a?100*Math.min(1,a/n):0,l={transform:"translateX(-".concat(100-r,"%)")},o=t||"".concat(Math.round(r),"%");return i.createElement("div",{className:d,role:"progressbar",tabIndex:0,"aria-valuenow":a,"aria-valuemin":0,"aria-valuemax":n,"aria-valuetext":o},i.createElement("div",{className:m}),i.createElement("div",{className:p},i.createElement("div",{"data-testid":"progressBarFg",className:v,style:l})))}}]),n}(i.PureComponent);(0,a.Z)(g,"defaultProps",{current:0,max:1});const y=g,E="qfYkuLpETFW3axnfMntO",k="jOd7lbjiyc_kvRJaAbeL",b="_q93agegdE655O5zPz6l",h="z7Yl7CIT1AB0y91f_moh",N="iLIlkUcfIq56KncGtX7u",C="nV50yZ6BR_TIuWP3l7b1",P="qLjIx_SzBEpDRA_q7kxQ";var S,T=n(32667),I=n(28066),x=n(96206),w=n(94184),D=n.n(w),U=n(33953);!function(e){e[e.LARGE=0]="LARGE",e[e.SMALL=1]="SMALL"}(S||(S={}));var M=function(e){var t=e.resumePositionMs,n=void 0===t?0:t,l=e.releaseDate,o=e.isPlaying,c=e.fullyPlayed,s=e.durationMs,u=e.size,d=void 0===u?S.SMALL:u,m=e.position,p=void 0===m?n:m;return i.createElement("div",{className:D()(E,(0,a.Z)({},k,d===S.LARGE))},l?i.createElement(T.D,{as:"p",variant:"mesto",className:b},(0,r.rL)((0,r.RX)(l))):null,function(){if(c&&!o)return i.createElement("div",{className:N},i.createElement(T.D,{as:"p",variant:"mesto",className:h},x.ag.get("episode.played")),i.createElement(I.N,{iconSize:16,className:P}));if(p>0||o){var e=Math.ceil(Math.max(s-p,0));return i.createElement("div",{className:N},i.createElement(T.D,{as:"p",variant:"mesto",className:h},i.createElement(U.ng,{durationMs:e})))}return i.createElement(T.D,{as:"p",variant:"mesto",className:b},i.createElement(U.nL,{durationMs:s}))}(),!c&&p>0||o?i.createElement("div",{className:C},i.createElement(y,{current:p,max:s,isEnabled:!1})):null)}}}]);
//# sourceMappingURL=xpui-routes-episode.js.map