"use strict";(("undefined"!=typeof self?self:global).webpackChunkopen=("undefined"!=typeof self?self:global).webpackChunkopen||[]).push([[6309],{40771:(e,t,r)=>{r.d(t,{Z:()=>o});var n=r(87462),a=r(45987),l=r(67294),i=r(67892),c=["href","children"],o=function(e){var t=e.href,r=e.children,o=(0,a.Z)(e,c);return l.createElement(i.Z,(0,n.Z)({to:t},o),r)}},22578:(e,t,r)=>{r.d(t,{$:()=>f});r(26699),r(32023),r(69600),r(68309),r(21249);var n=r(67294),a=r(64593),l=r(96206),i=r(69691),c=r(8341),o=r(89952),u=r(51615),s=r(24183);function m(e){return e.includes("Spotify")?e:"Spotify – ".concat(e)}var f=function(e){var t,r,f,d,p,E,g,v=e.children,h=e.usePlayingItem,A=m(v);t=v,d=(0,s.Oh)().mainLandmarkRef,p=(0,u.k6)(),E=null===(r=p.location)||void 0===r||null===(f=r.state)||void 0===f?void 0:f.preventMoveFocus,(g=(0,n.useRef)(p.length<2)).current=p.length<2,(0,n.useEffect)((function(){var e=d.current;!E&&!g.current&&e&&t&&(e.setAttribute("aria-label",t),e.focus())}),[t,d,E]);var b=(0,i.IK)().isPlaying,y=(0,c.Y)((function(e){return null==e?void 0:e.item}));return y&&(b||h)&&((0,o.G_)(y)?A=[y.name,y.artists.map((function(e){return e.name})).join(l.ag.getSeparator())].join(" • "):(0,o.iw)(y)?A=[y.name,y.show.name].join(" • "):(0,o.k6)(y)&&(A=m(l.ag.get("ad-formats.advertisement")))),n.createElement(a.q,{defaultTitle:"Spotify",defer:!1},n.createElement("title",null,A))}},70369:(e,t,r)=>{r.d(t,{$:()=>n.$});var n=r(22578)},30731:(e,t,r)=>{r.d(t,{u:()=>g});var n=r(4942),a=r(67294),l=r(94184),i=r.n(l),c=r(32667),o=r(34011),u=r(6330),s=r(40771);const m="FvfvGU3jvHRskUU9v9_8",f="Q9AlbZn2EGzy3MTWXa8X",d="mxmxS0y8LiwSs5nueKPT",p="GXxVAveNFStY3pBI_NO4",E="eHcXC2s97InYP7rMNT0H";var g=a.memo((function(e){var t=e.children,r=e.message,l=e.title,g=e.linkTitle,v=e.linkTo,h=e.onClick,A=e.renderInline,b=void 0!==A&&A,y=(0,u.e)(),C=y.isXSOnly,O=y.isSMOnly,k=C||O;return a.createElement("section",{className:i()(m,(0,n.Z)({},f,b))},t,a.createElement(c.D,{as:"h1",variant:k?"cello":"alto",className:p},l),a.createElement(c.D,{variant:k?"mesto":"ballad",className:E},r),g&&(v||h)&&a.createElement(o.D,{colorSet:"invertedLight",className:d,href:v,onClick:h,component:s.Z},g))}))},76119:(e,t,r)=>{r.d(t,{A:()=>y});var n=r(4942),a=r(29439),l=r(67294),i=r(94184),c=r.n(i),o=r(32667),u=r(34142),s=r(47921),m=r(20246),f=(r(21249),r(71379)),d=r(78267),p=r(30005),E=r(36652),g=r(21691),v=r(28248),h=function(e){var t,r=e.heading,n=e.selected,a=e.onSelect,i=e.options,c=e.sortOrder;return c&&(c===v.kn.ASC||c===v.kn.SECONDARY_ASC?t=l.createElement(f.C,{iconSize:16}):c!==v.kn.DESC&&c!==v.kn.SECONDARY_DESC||(t=l.createElement(d.B,{iconSize:16}))),l.createElement(p.v,null,r?l.createElement(E.F,null,r):null,i.map((function(e){var r=e.key,i=e.value;return l.createElement(g.s,{role:"menuitemradio","aria-checked":r===n.key&&!t,key:r,onClick:function(){return a(r)},icon:r===n.key&&t},l.createElement(o.D,{variant:"mesto"},i))})))};const A="x-sortBox-sortDropdown",b="CbHJjxYxldG7uUPMYMaP";var y=function(e){var t=e.heading,r=e.options,i=e.selected,f=e.onSelect,d=e.isSelectionChanged,p=e.sortOrder,E=e.variant,g=void 0===E?"mesto":E,v=e.semanticColor,y=e.disabled,C=e.onClick,O=(0,a.Z)(r,1)[0];i||(i=O);var k=d?d(i):i!==O;return l.createElement(m.y,{menu:l.createElement(h,{selected:i,options:r,onSelect:f,sortOrder:p,heading:t})},(function(e,t,r){return l.createElement("button",{className:c()(A,(0,n.Z)({},b,k)),onClick:function(e){y||(null==C||C(e),t(e))},ref:r,type:"button"},l.createElement(o.D,{semanticColor:v,variant:g},i.value),e?l.createElement(u.U,{iconSize:16}):l.createElement(s.i,{iconSize:16}))}))}},69376:(e,t,r)=>{r.d(t,{n:()=>P});var n=r(4942),a=r(29439),l=(r(69826),r(41539),r(91038),r(78783),r(21249),r(85827),r(47042),r(89554),r(54747),r(57327),r(26699),r(32023),r(67294)),i=r(94184),c=r.n(i),o=r(51615),u=r(32667),s=r(34142),m=r(47921),f=r(96206),d=r(24697),p=r(32648),E=r(85951);var g=r(32626),v=r(43031),h=r(30005),A=r(21691);const b="main-topBar-contentArea",y="queue-tabBar-headerIsCentered",C="queue-tabBar-headerItem",O="queue-tabBar-moreButton",k="queue-tabBar-moreButtonActive",T="yxf_6IsQEmHjijEBUMTP",L="queue-tabBar-active",D="queue-tabBar-headerItemLink",I="queue-tabBar-header",S="queue-tabBar-chevron";var R=function(e){var t=e.items,r=e.activeItemId;return l.createElement(h.v,null,t.map((function(e){return e.disabled?l.createElement(A.s,{key:e.uri,disabled:!0,role:"menuitemradio",className:T,onClick:e.handleClick},e.title):l.createElement(A.s,{key:e.uri,role:"menuitemradio",to:e.to,exact:!0,"aria-checked":e.itemId===r,className:T,activeClassName:L,onClick:e.handleClick},e.title)})))},P=l.memo((function(e){var t,r=e.isCentered,i=e.links,h=e.landmarkLabel,A=e.className,T=(0,l.useRef)(null),P=(0,l.useState)([]),w=(0,a.Z)(P,2),x=w[0],_=w[1],Z=(0,l.useState)(0),N=(0,a.Z)(Z,2),B=N[0],M=N[1],H=(0,l.useState)([]),Y=(0,a.Z)(H,2),j=Y[0],U=Y[1],F=null!==(t=function(){var e=(0,l.useState)(window.innerWidth),t=(0,a.Z)(e,2),r=t[0],n=t[1],i=(0,l.useContext)(p.VX).scrollNodeChildRef,c=(0,d.y1)((function(e){null!=e&&e.width&&n(e.width)}),250);return(0,E.y)({refOrElement:i,observeOnly:"width",onResize:c}),r}())&&void 0!==t?t:1/0,V=(0,o.TH)().pathname,W=i.find((function(e){return e.to===V}));return(0,l.useEffect)((function(){T.current&&M(T.current.clientWidth)}),[F]),(0,l.useEffect)((function(){if(T.current){var e=Array.from(T.current.children).map((function(e){return e.clientWidth}));_(e)}}),[i]),(0,l.useEffect)((function(){if(T.current)if(x.slice(0,-1).reduce((function(e,t){return e+t}),0)<=B)U([]);else{var e=x.reduce((function(e,t){return e>t?e:t}),0),t=[],r=e;x.forEach((function(e,n){B>=r+e?r+=e:t.push(n)})),U(t)}}),[B,x]),l.createElement("nav",{className:c()(A,b),"aria-label":h},l.createElement("ul",{className:r?y:I,ref:T},i.filter((function(e,t){return!j.includes(t)})).map((function(e){var t;return(null!==(t=null==e?void 0:e.render)&&void 0!==t?t:function(e){return e})(l.createElement("li",{key:e.to,className:C},e.disabled?l.createElement("div",{className:D},l.createElement(u.D,{variant:"mestoBold"},e.title)):l.createElement(v.O,{exact:!0,className:D,activeClassName:L,to:e.to,onClick:e.handleClick},l.createElement(u.D,{variant:"mestoBold"},e.title))))})),j.length||0===x.length?l.createElement("li",{className:C},l.createElement(g.xV,{renderInline:!0,menu:l.createElement(R,{items:i.filter((function(e,t){return j.includes(t)})),activeItemId:null==W?void 0:W.itemId})},(function(e,t,r){return l.createElement("button",{className:c()(O,(0,n.Z)({},k,W)),type:"button",onClick:t,ref:r},l.createElement(u.D,{variant:"mestoBold"},W?W.title:f.ag.get("more")),e?l.createElement(s.U,{iconSize:16,className:S}):l.createElement(m.i,{iconSize:16,className:S}))}))):null))}))},1834:(e,t,r)=>{r.d(t,{$:()=>c,Q:()=>i});r(21703),r(96647);var n=r(67294),a=r(22583),l=r(97641),i=(0,n.createContext)({setSortState:function(){throw new Error("setSortState must be used within a LibrarySortProvider")},sortState:l.oT.ADDED_AT}),c=n.memo((function(e){var t=e.uri,r=e.children,l=e.defaultSortOption;return n.createElement(a.r,{uri:t,defaultState:l,sortContext:i},r)}))},97641:(e,t,r)=>{r.d(t,{Aq:()=>h,Bf:()=>_,EY:()=>k,G5:()=>D,JV:()=>Z,MY:()=>E,Ru:()=>g,ZP:()=>T,a6:()=>C,aY:()=>P,e3:()=>y,ei:()=>p,o$:()=>A,oT:()=>u,pT:()=>R,rJ:()=>x,u3:()=>w,w0:()=>I});var n,a,l,i,c,o,u,s=r(4942),m=(r(26699),r(32023),r(96206)),f=r(74483),d=r(9659);!function(e){e.SHOW_ALPHABETICAL="SHOW_ALPHABETICAL",e.BOOK_ALPHABETICAL="BOOK_ALPHABETICAL",e.EPISODE_ALPHABETICAL="EPISODE_ALPHABETICAL",e.PLAYLIST_ALPHABETICAL="PLAYLIST_ALPHABETICAL",e.ALBUM_ALPHABETICAL="ALBUM_ALPHABETICAL",e.ADDED_AT="ADDED_AT",e.CREATOR_NAME="CREATOR_NAME",e.CREATOR_NAME_ALPHABETICAL="CREATOR_NAME_ALPHABETICAL",e.ALBUM_CREATOR_NAME="ALBUM_CREATOR_NAME",e.RECENTLY_PLAYED="RECENTLY_PLAYED",e.MOST_RELEVANT="MOST_RELEVANT",e.CUSTOM_ORDER="CUSTOM_ORDER"}(u||(u={}));var p={"show-alphabetical":u.SHOW_ALPHABETICAL,"book-alphabetical":u.BOOK_ALPHABETICAL,"episode-alphabetical":u.EPISODE_ALPHABETICAL,"playlist-alphabetical":u.PLAYLIST_ALPHABETICAL,"album-alphabetical":u.ALBUM_ALPHABETICAL,"recently-added":u.ADDED_AT,"creator-name":u.CREATOR_NAME,"creator-name-alphabetical":u.CREATOR_NAME_ALPHABETICAL,"album-creator-name":u.ALBUM_CREATOR_NAME,"recently-played":u.RECENTLY_PLAYED,"playlist-most-relevant":u.MOST_RELEVANT,"playlist-custom-order":u.CUSTOM_ORDER},E=(n={},(0,s.Z)(n,u.RECENTLY_PLAYED,{key:"recently-played",get value(){return m.ag.get("collection.sort.recently-played")}}),(0,s.Z)(n,u.ADDED_AT,{key:"recently-added",get value(){return m.ag.get("collection.sort.recently-added")}}),(0,s.Z)(n,u.SHOW_ALPHABETICAL,{key:"show-alphabetical",get value(){return m.ag.get("collection.sort.alphabetical")}}),(0,s.Z)(n,u.BOOK_ALPHABETICAL,{key:"book-alphabetical",get value(){return m.ag.get("collection.sort.alphabetical")}}),(0,s.Z)(n,u.EPISODE_ALPHABETICAL,{key:"episode-alphabetical",get value(){return m.ag.get("collection.sort.alphabetical")}}),(0,s.Z)(n,u.PLAYLIST_ALPHABETICAL,{key:"playlist-alphabetical",get value(){return m.ag.get("collection.sort.alphabetical")}}),(0,s.Z)(n,u.ALBUM_CREATOR_NAME,{key:"album-creator-name",get value(){return m.ag.get("collection.sort.creator")}}),(0,s.Z)(n,u.CREATOR_NAME,{key:"creator-name",get value(){return m.ag.get("collection.sort.creator")}}),(0,s.Z)(n,u.CREATOR_NAME_ALPHABETICAL,{key:"creator-name-alphabetical",get value(){return m.ag.get("collection.sort.alphabetical")}}),(0,s.Z)(n,u.ALBUM_ALPHABETICAL,{key:"album-alphabetical",get value(){return m.ag.get("collection.sort.alphabetical")}}),(0,s.Z)(n,u.MOST_RELEVANT,{key:"playlist-most-relevant",get value(){return m.ag.get("collection.sort.most-relevant")}}),(0,s.Z)(n,u.CUSTOM_ORDER,{key:"playlist-custom-order",get value(){return m.ag.get("collection.sort.custom-order")}}),n),g=[u.ADDED_AT,u.ALBUM_ALPHABETICAL,u.CREATOR_NAME],v=(a={},(0,s.Z)(a,u.ADDED_AT,{field:f.lY.ADDED_AT,order:f.As.DESC}),(0,s.Z)(a,u.ALBUM_ALPHABETICAL,{field:f.lY.NAME,order:f.As.ASC}),(0,s.Z)(a,u.CREATOR_NAME,{field:f.lY.ARTIST_NAME,order:f.As.ASC}),a),h=function(e){if(g.includes(e))return v[e]},A=[u.ADDED_AT,u.CREATOR_NAME_ALPHABETICAL],b=(l={},(0,s.Z)(l,u.ADDED_AT,{field:f.hx.ADDED_AT,order:f.As.DESC}),(0,s.Z)(l,u.CREATOR_NAME_ALPHABETICAL,{field:f.hx.NAME,order:f.As.ASC}),l),y=function(e){if(A.includes(e))return b[e]},C=[u.ADDED_AT,u.SHOW_ALPHABETICAL],O=(i={},(0,s.Z)(i,u.ADDED_AT,{field:f.hx.ADDED_AT,order:f.As.DESC}),(0,s.Z)(i,u.SHOW_ALPHABETICAL,{field:f.aW.NAME,order:f.As.ASC}),i),k=function(e){if(C.includes(e))return O[e]},T=[u.ADDED_AT,u.BOOK_ALPHABETICAL],L=(c={},(0,s.Z)(c,u.ADDED_AT,f.VN.ADDED_AT),(0,s.Z)(c,u.BOOK_ALPHABETICAL,f.VN.NAME),c),D=function(e){if(T.includes(e))return L[e]},I=[u.MOST_RELEVANT,u.RECENTLY_PLAYED,u.ADDED_AT,u.PLAYLIST_ALPHABETICAL,u.CUSTOM_ORDER],S=(o={},(0,s.Z)(o,u.ADDED_AT,{field:d.bD.ADDED_AT,order:d.As.DESC}),(0,s.Z)(o,u.RECENTLY_PLAYED,{field:d.bD.RECENTLY_PLAYED,order:d.As.ASC}),(0,s.Z)(o,u.PLAYLIST_ALPHABETICAL,{field:d.bD.NAME,order:d.As.ASC}),(0,s.Z)(o,u.MOST_RELEVANT,{field:d.bD.RELEVANCE,order:d.As.DESC}),(0,s.Z)(o,u.CUSTOM_ORDER,void 0),o),R=function(e){if(I.includes(e))return S[e]},P=u.ADDED_AT,w=u.ADDED_AT,x=u.ADDED_AT,_=u.MOST_RELEVANT,Z=u.ADDED_AT},64971:(e,t,r)=>{r.d(t,{h:()=>d});var n=r(67294),a=r(98816),l=r(98562),i=r(45342),c=r(15852),o=(r(21249),r(76119)),u=r(1834),s=r(97641),m=n.memo((function(e){var t=e.sortOptions,r=e.onSort,a=(0,n.useContext)(u.Q),l=a.sortState,i=a.setSortState,c=(0,n.useCallback)((function(e){var t=s.ei[e];null==r||r(t),i(t)}),[r,i]),m=t.map((function(e){return s.MY[e]})),f=s.MY[l];return n.createElement(o.A,{options:m,onSelect:c,selected:f})}));const f="collection-searchBar-searchBar";var d=n.memo((function(e){var t=e.filterPlaceholder,r=e.sortOptions,o=(0,c.fU)(a.createDesktopSearchBarEventFactory,{}),u=o.spec,s=o.logger,d=(0,n.useContext)(i.H),p=(0,n.useCallback)((function(){s.logInteraction(u.filterFieldFactory().keyStrokeFilter())}),[s,u]),E=(0,n.useCallback)((function(){s.logInteraction(u.filterFieldFactory().hitClearFilter())}),[s,u]),g=(0,n.useCallback)((function(){s.logInteraction(u.sortButtonFactory().hitSort())}),[s,u]);return n.createElement("div",{className:f},null!=d&&d.getCapabilities().canFilter?n.createElement(n.Suspense,{fallback:null},n.createElement(l.K,{placeholder:t,onFilter:p,onClear:E})):null,null!=d&&d.getCapabilities().canSort?n.createElement(m,{sortOptions:r,onSort:g}):null)}))},47032:(e,t,r)=>{r.d(t,{$:()=>n.$,Q:()=>n.Q});var n=r(1834)},38911:(e,t,r)=>{r.d(t,{Aq:()=>n.Aq,Bf:()=>n.Bf,EY:()=>n.EY,G5:()=>n.G5,JV:()=>n.JV,Ru:()=>n.Ru,ZP:()=>n.ZP,a6:()=>n.a6,aY:()=>n.aY,e3:()=>n.e3,o$:()=>n.o$,oT:()=>n.oT,pT:()=>n.pT,rJ:()=>n.rJ,u3:()=>n.u3,w0:()=>n.w0});var n=r(97641)},57099:(e,t,r)=>{r.r(t),r.d(t,{default:()=>It});var n=r(15861),a=r(87757),l=r.n(a),i=(r(66992),r(41539),r(88674),r(78783),r(33948),r(67294)),c=r(86706),o=r(87577),u=r(73305),s=r(96206),m=r(70369),f=r(26700),d=r(13983),p=r(49207),E=r(98773),g=r(29439),v=(r(57327),r(68309),r(32667)),h=r(72803),A=r(3634),b=r(4942),y=(r(21249),r(94184)),C=r.n(y);r(21703),r(96647),r(85827),r(47941),r(82526),r(38880),r(89554),r(54747),r(49337),r(33321),r(69070);function O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function k(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?O(Object(r),!0).forEach((function(t){(0,b.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function T(){var e=function(e,t){switch(t.type){case"INVALIDATE":return k(k({},e),{},{isValid:!1});case"CACHE_ITEMS":return e.isValid?k(k({},e),{},{items:k(k({},e.items),t.data),hasData:!0}):{isValid:!0,items:k({},t.data),hasData:!0};default:throw new Error("Action not supported")}},t=(0,i.useReducer)(e,{items:{},isValid:!0,hasData:!1}),r=(0,g.Z)(t,2),n=r[0],a=r[1];return{cacheItems:(0,i.useCallback)((function(e,t){var r=e.reduce((function(e,r,n){return e[n+t]=r,e}),{});a({type:"CACHE_ITEMS",data:r})}),[a]),getCachedItems:(0,i.useCallback)((function(e,t){for(var r=[],a=[],l=e;l<=t;l++)n.items[l]||r.push(l),a.push(n.items[l]);return n.isValid?{items:a,missing:r.length>0?{firstMissingIndex:Math.min.apply(Math,r),lastMissingIndex:Math.max.apply(Math,r)}:null}:{items:a,missing:{firstMissingIndex:e,lastMissingIndex:t}}}),[n]),invalidateCache:(0,i.useCallback)((function(){a({type:"INVALIDATE"})}),[a]),hasCachedData:n.hasData}}var L=r(10912);var D=r(48817),I=r(68828),S=function(e){var t=e.renderItems,r=e.nrItems,n=e.estimatedItemMaxHeight,a=e.scrollNodeRef,l=e.nrRowsOverscan,c=void 0===l?5:l,o=(0,i.useRef)(null),u=(0,i.useRef)(null),s=(0,i.useRef)(null),m=(0,i.useRef)(0),f=(0,i.useRef)({rowCount:0,rowHeight:n,columnCount:1}),d=(0,i.useState)({firstItemToRender:0,lastItemToRender:-1}),p=(0,g.Z)(d,2),E=p[0],v=p[1],h=(0,i.useCallback)((function(e,t){var r=a.current;if(r){var n=Math.floor(r.offsetHeight/t)+2*c;f.current={rowCount:n,rowHeight:t,columnCount:e}}}),[c,a]),A=(0,i.useCallback)((function(){var e=a.current;if(e){var t=Math.floor((e.scrollTop-m.current)/f.current.rowHeight),n=Math.max(t-c,0),l=n*f.current.columnCount,i=Math.min((n+f.current.rowCount-1)*f.current.columnCount-1,r-1);l===E.firstItemToRender&&i===E.lastItemToRender||v({firstItemToRender:l,lastItemToRender:i})}}),[E.firstItemToRender,E.lastItemToRender,r,c,a]),b=(0,i.useCallback)((function(e){return t(E.firstItemToRender,E.lastItemToRender,e)}),[E.firstItemToRender,E.lastItemToRender,t]),y=(0,i.useCallback)((function(e){var t=e.columnCount,r=e.rowHeight+D.w;r!==f.current.rowHeight&&t>0&&(h(t,r),A())}),[h,A]);(0,i.useEffect)((function(){var e=s.current,t=a.current;e&&t&&(m.current=e.getBoundingClientRect().top-t.getBoundingClientRect().top+t.scrollTop)}),[a]),(0,i.useEffect)((function(){if(!window.IntersectionObserver)return function(){};var e=new window.IntersectionObserver((function(e){e.forEach((function(e){e.isIntersecting&&A()}))}));return o.current&&e.observe(o.current),u.current&&e.observe(u.current),function(){e.disconnect()}}),[A]);var C=Math.ceil(r/f.current.columnCount),O=Math.min(C*f.current.rowHeight,f.current.rowHeight*(c-2)),k=f.current.rowHeight*(E.firstItemToRender/f.current.columnCount),T=E.lastItemToRender/f.current.columnCount+1<C?f.current.rowHeight*(C-f.current.rowCount)-k:0;return i.createElement("div",{ref:s,className:I.Z.wrapper,style:{height:"".concat(C*f.current.rowHeight,"px")}},i.createElement("div",{ref:o,className:I.Z.topSentinel,style:{height:"".concat(k+O,"px")}},i.createElement("div",{style:{height:"".concat(O,"px")}})),i.createElement("div",{style:{transform:"translateY(".concat(k,"px)")}},i.createElement(D.T,{render:b,onLayoutChange:y})),i.createElement("div",{ref:u,className:I.Z.bottomSentinel,style:{height:"".concat(T+O,"px")}},i.createElement("div",{style:{height:"".concat(O,"px")}})))},R=r(32648),P=r(36590),w=r(8498),x=i.memo((function(e){var t=e.index;return i.createElement(P.C,{index:t,headerText:"",uri:"",renderCardImage:function(){return i.createElement(w.x,{images:[]})},featureIdentifier:"unknown"})}));const _="lA3jnNwnLc3CoYKT06Vz";function Z(e){var t=e.renderCard,r=e.nrCards,n=e.fetchData,a=e.limit,l=void 0===a?50:a,c=e.cardGridApiRef,o=(0,i.useContext)(R.VX).scrollNodeRef,u=function(e){var t=T(),r=t.getCachedItems,n=t.cacheItems,a=t.invalidateCache,l=t.hasCachedData,c=(0,i.useRef)(!1),o=(0,L.t)(),u=(0,i.useCallback)((function(t,r){var a=Math.max(t,0);c.current||(c.current=!0,e(a,r).then((function(e){c.current=!1,e.length>0&&o()&&n(e,a)})))}),[n,e,o]);return{invalidateCache:a,getItemsFromCache:(0,i.useCallback)((function(e,t,n){var a=r(e,t),l=a.items,i=a.missing;if(i){var c=i.firstMissingIndex,o=i.lastMissingIndex;o===t?u(c,n):c===e?u(o-n+1,n):u(c,o-c+1)}return l}),[u,r]),hasCachedData:l}}(n),s=u.invalidateCache,m=u.getItemsFromCache,f=u.hasCachedData;(0,i.useImperativeHandle)(c,(function(){return{update:function(){return s()}}}));return i.createElement("div",{className:C()((0,b.Z)({},_,!f))},i.createElement(S,{renderItems:function(e,n,a){var c=m(e,n,l);return-1===n&&r>0?[i.createElement(x,{key:"placeholder",index:0})]:c.map((function(r,n){var l=r?t(r,e+n,a):null;return null!=l?l:i.createElement(x,{key:n,index:n})}))},scrollNodeRef:o,nrItems:r,estimatedItemMaxHeight:500}))}var N=r(30731),B=r(84200),M=r(6158),H=r(22423),Y=r(42922),j=r(45342),U=r(15852),F=r(64971),V=r(47032),W=r(38911),G=(r(92222),r(6489)),z=r(76391);function K(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function J(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?K(Object(r),!0).forEach((function(t){(0,b.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function q(e,t,r){var n=J({},r);return n.entities=t?e.items||[]:n.entities.concat(e.items||[]),n.total=e.totalLength,n.next=e.next,n}function Q(e,t){var r=J({},t),n=t.entities.filter((function(t){return t.uri!==e}));return r.total=(t.total||0)-(t.entities.length-n.length),r.entities=n,r}var X={offset:0,limit:1},$=function(){var e,t,r,a,c,o,u=(0,i.useContext)(j.H),s=(0,i.useCallback)((function(){return u?null==u?void 0:u.getShows(X):Promise.resolve({totalLength:0})}),[u]);return e=s,t=(0,i.useState)(null),r=(0,g.Z)(t,2),a=r[0],c=r[1],o=(0,i.useCallback)((0,n.Z)(l().mark((function t(){var r;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,e();case 4:r=t.sent,c((null==r?void 0:r.totalLength)||0);case 6:case"end":return t.stop()}}),t)}))),[e]),(0,i.useEffect)((function(){null===a&&o()}),[a,o]),{total:a}},ee=r(47975),te=i.memo((function(e){var t=e.nrAlbums,r=(0,i.useContext)(j.H),a=(0,i.useContext)(H.fo).filter,c=(0,i.useContext)(V.Q).sortState,o=(0,i.useRef)(null),m=(0,i.useState)(t),f=(0,g.Z)(m,2),d=f[0],p=f[1],E=(0,U.fU)(h.createDesktopLibraryEventFactory,{data:{uri:"spotify:app:collection:albums",identifier:u.Wg.YOURLIBRARY_ALBUMS}}),b=E.spec,y=E.UBIFragment,C=(0,i.useMemo)((function(){return b.headerFactory()}),[b]),O=(0,i.useCallback)(function(){var e=(0,n.Z)(l().mark((function e(t,n){var i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.getAlbums({offset:t,limit:n,filter:a,sort:(0,W.Aq)(c)});case 2:return(i=e.sent).totalLength!==d&&p(i.totalLength),e.abrupt("return",i.items);case 5:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),[r,a,c,d]),k=(0,i.useCallback)((function(e,t){return i.createElement(Y.ZP,{key:e.uri,value:"card",index:t},i.createElement(A.r,{index:t,uri:e.uri,name:e.name,images:e.images,artists:e.artists,sharingInfo:e.sharingInfo}))}),[]);return(0,i.useEffect)((function(){o.current&&o.current.update()}),[c,a,t]),i.createElement(y,{spec:b},i.createElement(y,{spec:C},i.createElement("div",{className:ee.Z.header},i.createElement(v.D,{as:"h1",variant:"canon"},s.ag.get("albums")),i.createElement(i.Suspense,{fallback:null},i.createElement(F.h,{filterPlaceholder:s.ag.get("collection.filter.albums"),sortOptions:W.Ru})))),i.createElement(Z,{nrCards:d,renderCard:k,fetchData:O,cardGridApiRef:o}))})),re=i.memo((function(){var e=function(){var e=(0,i.useContext)(j.H),t=(0,i.useState)(null),r=(0,g.Z)(t,2),a=r[0],c=r[1],o=(0,i.useCallback)((0,n.Z)(l().mark((function t(){var r;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,null==e?void 0:e.getAlbums(X);case 4:r=t.sent,c((null==r?void 0:r.totalLength)||0);case 6:case"end":return t.stop()}}),t)}))),[e]);return(0,i.useEffect)((function(){null===a&&o()}),[a,o]),(0,z.b)(G.EW.UPDATE,o),{total:a}}(),t=e.total;return null===t?i.createElement(M.h,{hasError:!1,errorMessage:s.ag.get("error.request-collection-albums-failure")}):t?i.createElement(te,{nrAlbums:t}):i.createElement(N.u,{linkTo:"/search",linkTitle:s.ag.get("collection.empty-page.albums-cta"),message:s.ag.get("collection.empty-page.albums-subtitle"),title:s.ag.get("collection.empty-page.albums-title")},i.createElement(B.Z,null))})),ne=i.memo((function(){return i.createElement(V.$,{uri:"collection/albums",defaultSortOption:W.aY},i.createElement(H.hz,{uri:"collection/albums"},i.createElement(re,null)))})),ae=r(39278),le=r(89477),ie=r(70937),ce=r(66257),oe=i.memo((function(e){var t=e.nrArtists,r=(0,i.useContext)(j.H),a=(0,i.useContext)(H.fo).filter,c=(0,i.useContext)(V.Q).sortState,o=(0,i.useRef)(null),m=(0,i.useState)(t),f=(0,g.Z)(m,2),d=f[0],p=f[1],E=(0,U.fU)(h.createDesktopLibraryEventFactory,{data:{uri:"spotify:app:collection:artists",identifier:u.Wg.YOURLIBRARY_ARTISTS}}),A=E.spec,b=E.UBIFragment,y=(0,i.useMemo)((function(){return A.headerFactory()}),[A]),C=(0,i.useCallback)(function(){var e=(0,n.Z)(l().mark((function e(t,n){var i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.getArtists({offset:t,limit:n,filter:a,sort:(0,W.e3)(c)});case 2:return(i=e.sent).totalLength!==d&&p(i.totalLength),e.abrupt("return",i.items);case 5:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),[r,a,c,d]),O=(0,i.useCallback)((function(e,t){return i.createElement(Y.ZP,{key:e.uri,value:"card",index:t},i.createElement(le.I,{index:t,name:e.name,uri:e.uri,images:e.images}))}),[]);return(0,i.useEffect)((function(){o.current&&o.current.update()}),[c,a,t]),i.createElement(b,{spec:A},i.createElement(b,{spec:y},i.createElement("div",{className:ee.Z.header},i.createElement(v.D,{as:"h1",variant:"canon"},s.ag.get("artists")),i.createElement(i.Suspense,{fallback:null},i.createElement(F.h,{filterPlaceholder:s.ag.get("collection.filter.artists"),sortOptions:W.o$})))),i.createElement(Z,{nrCards:d,renderCard:O,fetchData:C,cardGridApiRef:o}))})),ue=i.memo((function(e){var t=e.nrArtists,r=(0,i.useContext)(j.H),a=(0,i.useState)({entities:[],total:t}),c=(0,g.Z)(a,2),o=c[0],u=c[1],m=(0,i.useRef)(!1),f=(0,i.useRef)(!1),d=(0,i.useCallback)((0,n.Z)(l().mark((function e(){var t,n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(f.current||m.current){e.next=8;break}return m.current=!0,e.next=4,r.getArtists({offset:null!==(t=o.next)&&void 0!==t?t:void 0});case 4:(n=e.sent).next||(f.current=!0),m.current=!1,o.next&&n.next===o.next||u(q(n,!1,o));case 8:case"end":return e.stop()}}),e)}))),[r,o]),p=(0,i.useCallback)((function(e){u(Q(e,o))}),[o]);return i.createElement(ie.C,{onReachBottom:d,triggerOnInitialLoad:!0},i.createElement("div",{className:ee.Z.header},i.createElement(v.D,{as:"h1",variant:"canon"},s.ag.get("artists"))),i.createElement(ce.r,{onLibraryItemRemove:p},i.createElement(Y.ZP,{value:"EntitiesGrid"},i.createElement(D.T,{render:function(){return o.entities.map((function(e,t){return i.createElement(Y.ZP,{key:e.uri,value:"card",index:t},i.createElement(le.I,{index:t,uri:e.uri,name:e.name,images:e.images}))}))}}))))})),se=i.memo((function(){var e=function(){var e=(0,i.useContext)(j.H),t=(0,i.useState)(null),r=(0,g.Z)(t,2),a=r[0],c=r[1],o=(0,i.useCallback)((0,n.Z)(l().mark((function t(){var r;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,null==e?void 0:e.getArtists(X);case 4:r=t.sent,c((null==r?void 0:r.totalLength)||0);case 6:case"end":return t.stop()}}),t)}))),[e]);return(0,i.useEffect)((function(){null===a&&o()}),[a,o]),(0,z.b)(G.EW.UPDATE,o),{total:a}}(),t=e.total,r=(0,i.useContext)(j.H).getCapabilities().canFetchArtistsWithOffset;return null===t?i.createElement(M.h,{hasError:!1,errorMessage:s.ag.get("error.request-collection-artists-failure")}):t>0?r?i.createElement(oe,{nrArtists:t}):i.createElement(ue,{nrArtists:t}):i.createElement(N.u,{message:s.ag.get("collection.empty-page.artists-subtitle"),title:s.ag.get("collection.empty-page.artists-title"),linkTo:"/search",linkTitle:s.ag.get("collection.empty-page.artists-cta")},i.createElement(ae.a,{iconSize:64}))})),me=i.memo((function(){return i.createElement(V.$,{uri:"collection/artists",defaultSortOption:W.u3},i.createElement(H.hz,{uri:"collection/artists"},i.createElement(se,null)))})),fe=r(51216),de=r(48064),pe=i.memo((function(e){var t=e.nrBooks,r=(0,i.useContext)(j.H),a=(0,i.useContext)(H.fo).filter,c=(0,i.useContext)(V.Q).sortState,o=(0,i.useState)(t),m=(0,g.Z)(o,2),f=m[0],d=m[1],p=(0,U.fU)(h.createDesktopLibraryEventFactory,{data:{uri:"spotify:app:collection:audiobooks",identifier:u.Wg.YOURLIBRARY_AUDIOBOOKS}}),E=p.spec,A=p.UBIFragment,b=(0,i.useMemo)((function(){return E.headerFactory()}),[E]),y=(0,i.useRef)(null),C=(0,i.useCallback)(function(){var e=(0,n.Z)(l().mark((function e(t,n){var i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.getBooks({offset:t,limit:n,filter:a,sort:(0,W.G5)(c)});case 2:return(i=e.sent).totalLength!==f&&d(i.totalLength),e.abrupt("return",i.items);case 5:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),[r,a,c,f]),O=(0,i.useCallback)((function(e,t){return i.createElement(Y.ZP,{key:e.uri,value:"card",index:t},i.createElement(fe.c,{index:t,uri:e.uri,name:e.name,images:e.images,authorName:e.authorName,isLocked:e.isLocked}))}),[]);return(0,i.useEffect)((function(){y.current&&y.current.update()}),[c,a,t]),i.createElement(A,{spec:E},i.createElement(A,{spec:b},i.createElement("div",{className:ee.Z.header},i.createElement(v.D,{as:"h1",variant:"canon"},s.ag.get("search.title.audiobooks")),i.createElement(F.h,{filterPlaceholder:"Search in Audiobooks",sortOptions:W.ZP}))),i.createElement(Z,{nrCards:f,renderCard:O,fetchData:C,cardGridApiRef:y}))})),Ee=i.memo((function(){var e=function(){var e=(0,i.useContext)(j.H),t=(0,i.useState)(null),r=(0,g.Z)(t,2),a=r[0],c=r[1],o=(0,i.useCallback)((0,n.Z)(l().mark((function t(){var r;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,null==e?void 0:e.getBooks(X);case 4:r=t.sent,c((null==r?void 0:r.totalLength)||0);case 6:case"end":return t.stop()}}),t)}))),[e]);return(0,i.useEffect)((function(){null===a&&o()}),[a,o]),(0,z.b)(G.EW.UPDATE,o),{total:a}}(),t=e.total;return null===t?i.createElement(M.h,{hasError:!1,errorMessage:s.ag.get("error.request-collection-albums-failure")}):t>0?i.createElement(pe,{nrBooks:t}):i.createElement(N.u,{linkTo:"/search",linkTitle:s.ag.get("collection.empty-page.books-cta"),message:s.ag.get("collection.empty-page.books-subtitle"),title:s.ag.get("collection.empty-page.books-title")},i.createElement(de.Z,null))})),ge=i.memo((function(){return i.createElement(V.$,{uri:"collection/books",defaultSortOption:W.JV},i.createElement(H.hz,{uri:"collection/books"},i.createElement(Ee,null)))})),ve=(r(41817),r(47042),r(46309)),he=r(55508),Ae=r(74895),be=r(24697),ye=r(72573),Ce=r(98620),Oe=r(13947),ke=r(72131),Te=r(45788),Le=r(66393),De=r(5229),Ie=r(84242),Se=r(69691),Re=r(28230);const Pe="tlNAdRNP5lIeiD85nMcL",we="FmJEtzkC9046pKloStht";var xe=function(){var e=(0,Re.g)("images/playlist-folder-filled.svg");return i.createElement("div",{className:Pe},i.createElement("img",{src:e,alt:s.ag.get("local-files"),className:we}))};function _e(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ze(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_e(Object(r),!0).forEach((function(t){(0,b.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_e(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Ne=function(e){var t,r=e.uri,a=e.name,c=e.images,o=e.index,u=(0,Te.u)(),m=(0,i.useRef)(null),f=(0,i.useRef)(!0),d=(0,i.useContext)(Le.t),p=(0,Se.cR)(ke.b).isPlaying,E=(0,Ie.n)({uri:ke.b,pages:[{items:(null===(t=m.current)||void 0===t?void 0:t.map((function(e){return Ze(Ze({},e),{},{provider:null})})))||[]}]},{featureIdentifier:"local_files"}).togglePlay;(0,i.useEffect)((function(){return f.current=!0,function(){f.current=!1}}),[]);var v=(0,De.z)(ye.J,!1),h=(0,g.Z)(v,1)[0],A=(0,be.y1)(function(){var e=(0,n.Z)(l().mark((function e(t,r){var n,a;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(m.current){e.next=5;break}return e.next=3,d.getTracks();case 3:n=e.sent,m.current=n;case 5:f&&E({loggingParams:r},{uri:ke.b,pages:[{items:(null===(a=m.current)||void 0===a?void 0:a.map((function(e){return Ze(Ze({},e),{},{provider:null})})))||[]}]});case 6:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),Oe.s_,{leading:!0,trailing:!1});return u.canFetchAllTracks&&h?i.createElement(P.Z,{index:o,delegatePlayback:!0,delegateLogging:!0,isPlaying:p,onPlay:A,headerText:a,featureIdentifier:"local_files",uri:r,renderCardImage:function(){return i.createElement(w.x,{images:c,FallbackComponent:xe})},renderSubHeaderContent:function(){return i.createElement("span",null,s.ag.get("local-files.description"))}}):null},Be=function(e){var t=e.index,r=(0,Ce.gB)();return i.createElement(i.Suspense,{fallback:null},i.createElement(Ne,{index:t,name:r.name,uri:r.uri,images:r.images}))},Me=r(49068),He=r(64269),Ye=r(29255),je=r(72138),Ue=r(63282),Fe=r(42781),Ve=r(38470),We=(r(91038),r(21610)),Ge=r(39561),ze=r(22247);const Ke="collection-collectionEntityHeroCard-likedSongs",Je="collection-collectionEntityHeroCard-container",qe="collection-collectionEntityHeroCard-yourEpisodes",Qe="collection-collectionEntityHeroCard-headerContainer",Xe="collection-collectionEntityHeroCard-tracksContainer",$e="collection-collectionEntityHeroCard-skeletonRow",et="collection-collectionEntityHeroCard-descriptionContainer",tt="collection-collectionEntityHeroCard-opacityText";function rt(e,t){return Array.from(new Array(e).keys()).map((function(e){return i.createElement(ze.C,{key:e,as:"div",className:$e,charCount:t,isLoading:!0})}))}var nt=function(e){var t=e.index,r=e.onClick,n=(0,Ge.MY)({limit:7}),a=(0,c.v9)(Ye.Gg).user,l=(0,Ce.I2)(null==a?void 0:a.id);return l?i.createElement(We.Z,{index:t,className:C()(Ke,Je),onClick:r,headerText:l.name,featureIdentifier:"your_library",uri:l.uri,ariaPlayLabel:s.ag.get("playlist.a11y.play",l.name),ariaPauseLabel:s.ag.get("playlist.a11y.pause",l.name),renderCardImage:function(){return i.createElement("div",{className:Qe},i.createElement("div",{className:Xe},n?n.items.map((function(e,t){var r=e.uri,n=e.name,a=(0,g.Z)(e.artists,1)[0];return i.createElement("span",{key:r},i.createElement("span",{className:tt},t?" • ":""),i.createElement("span",{dir:"auto"},a.name),i.createElement("span",{dir:"auto",className:tt},n))})):rt(3)))},renderSubHeaderContent:function(){return i.createElement("div",{className:et},n?"".concat(n.totalLength," ").concat(l.name):rt(1,l.name.length))}}):null},at=function(e,t,r){var n;return i.createElement(Y.ZP,{key:null!==(n=e.uri)&&void 0!==n?n:t,value:"card",index:t},r)},lt=function(e,t,r){var n;switch(e.type){case Fe.p.LIKED_SONGS:return at(e,t,r>1?i.createElement(nt,{key:e.uri,index:t}):i.createElement(Ae.p,{key:e.uri,index:t}));case Fe.p.YOUR_EPISODES:return at(e,t,i.createElement(He.T,{key:e.uri,index:t}));case Fe.p.LOCAL_FILES:return at(e,t,i.createElement(Be,{key:e.uri,index:t}));case Fe.p.PLAYLIST:return at(e,t,i.createElement(ve.Z,{key:e.uri,index:t,name:e.name,uri:e.uri,images:e.images,description:e.description,authorName:null===(n=e.owner)||void 0===n?void 0:n.displayName}));case"placeholder":return at(e,t,i.createElement(ve.Z,{index:t,key:e.uri,uri:e.uri,name:"",images:[],description:"",authorName:""}));case"empty":return i.createElement(i.Fragment,{key:t});case"folder":return null;default:return(0,Ve._)(e),null}},it=i.memo((function(e){var t=e.nrPlaylists,r=e.showYourEpisodesCard,a=e.showLocalFilesCard,o=(0,i.useContext)(H.fo).filter,m=(0,i.useContext)(V.Q).sortState,f=(0,i.useContext)(je.BS),d=(0,i.useState)(t),p=(0,g.Z)(d,2),E=p[0],A=p[1],b=(0,i.useRef)(null),y=(0,c.v9)(Ye.Gg).user,C=(0,U.fU)(h.createDesktopLibraryEventFactory,{data:{uri:"spotify:app:collection:playlists",identifier:u.Wg.YOURLIBRARY_PLAYLISTS}}),O=C.spec,k=C.UBIFragment,T=(0,i.useMemo)((function(){return O.headerFactory()}),[O]),L=(0,i.useMemo)((function(){var e=[];if(o)return e;var t=(0,Ce.I2)(null==y?void 0:y.id);t&&(e.push(t),e.push({uri:"",type:"empty"}));var n=r?(0,Ce.bl)(null==y?void 0:y.id):null;n&&e.push(n);var l=a?(0,Ce.gB)():null;return l&&e.push(l),e}),[o,a,r,y]),D=(0,i.useCallback)((function(){null!=b&&b.current&&b.current.update()}),[b]);(0,je.iu)(D);var I=(0,i.useCallback)(function(){var e=(0,n.Z)(l().mark((function e(t,r){var n,a,i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=L.slice(t),a=t-(L.length-n.length),e.next=4,f.getContents({offset:a,limit:r,filter:o,sort:(0,W.pT)(m),flatten:!0,decorateImagesAndOwner:!0});case 4:return(i=e.sent).totalItemCount!==E&&A(i.totalItemCount),e.abrupt("return",n.concat(i.items));case 7:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),[L,f,o,m,E]);return(0,i.useEffect)((function(){b.current&&b.current.update()}),[m,o,t]),i.createElement(k,{spec:O},i.createElement(k,{spec:T},i.createElement("div",{className:ee.Z.header},i.createElement(v.D,{as:"h1",variant:"canon"},s.ag.get("playlists")),i.createElement(i.Suspense,{fallback:null},i.createElement(F.h,{filterPlaceholder:s.ag.get("collection.filter.playlists"),sortOptions:W.w0})))),i.createElement(Z,{nrCards:E+L.length,renderCard:lt,fetchData:I,cardGridApiRef:b}))})),ct=i.memo((function(){var e=(0,je.Rt)(),t=(0,Me.x)(),r=(0,Te.u)(),n=(0,Ue.K)().createPlaylist,a=(0,De.z)(ye.J,!1),l=(0,g.Z)(a,1)[0],c=(0,i.useCallback)((function(){n()}),[n]);return null===e||null===t?i.createElement(M.h,{hasError:!1,errorMessage:s.ag.get("error.request-collection-albums-failure")}):null!=e&&e.playlistCount?i.createElement(it,{nrPlaylists:e.playlistCount,showYourEpisodesCard:t.totalLength>0,showLocalFilesCard:r.canFetchAllTracks&&l}):i.createElement(N.u,{linkTitle:s.ag.get("collection.empty-page.playlists-cta"),onClick:c,title:s.ag.get("collection.empty-page.playlists-title"),message:s.ag.get("collection.empty-page.playlists-subtitle")},i.createElement(he.Z,null))})),ot=i.memo((function(){return i.createElement(V.$,{uri:"collection/playlists",defaultSortOption:W.Bf},i.createElement(H.hz,{uri:"collection/playlists"},i.createElement(ct,null)))})),ut=(r(91058),r(95332)),st=r(49552),mt=r(21794),ft=r(143),dt=r(19480),pt=function(){var e="ginger-audio-shows-top-20-web",t=(0,st.P)(e).view;if(!t)return null;var r=t.content,n=t.name,a=r.total,l=void 0===a?0:a,c=r.items;return i.createElement(dt.P,{title:n,total:l,seeAllUri:(0,mt.p)(e)},c.filter((function(e){return"show"===e.type})).map((function(e,t){var r;return i.createElement(ut._,{key:e.uri,name:e.name,uri:e.uri,images:e.images,publisher:e.publisher,mediaType:null!==(r={audio:ft.E.AUDIO,video:ft.E.VIDEO,mixed:ft.E.MIXED}[e.media_type])&&void 0!==r?r:ft.E.AUDIO,sharingInfo:null,index:t})})))};function Et(e,t){return Array.from(new Array(e).keys()).map((function(e){return i.createElement(ze.C,{key:e,as:"div",className:$e,charCount:t,isLoading:!0})}))}var gt=function(e){var t=e.index,r=(0,Ge.j$)({limit:7}),n=(0,c.v9)(Ye.Gg).user,a=(0,Ce.bl)(null==n?void 0:n.id);return a?i.createElement(We.Z,{index:t,className:C()(Ke,qe),headerText:a.name,featureIdentifier:"your_library",uri:a.uri,ariaPlayLabel:s.ag.get("playlist.a11y.play",a.name),ariaPauseLabel:s.ag.get("playlist.a11y.pause",a.name),renderCardImage:function(){return i.createElement("div",{className:Qe},i.createElement("div",{className:Xe},r?r.items.map((function(e,t){var r=e.uri,n=e.name,a=e.show;return i.createElement("span",{key:r},i.createElement("span",{className:tt},t?" • ":""),i.createElement("span",{dir:"auto"},n),i.createElement("span",{dir:"auto",className:tt},a.name))})):Et(3)))},renderSubHeaderContent:function(){return i.createElement("div",{className:et},r?s.ag.get("tracklist-header.episodes-counter",r.totalLength):Et(1,a.name.length))}}):null},vt=i.memo((function(e){var t=e.nrShows,r=(0,i.useContext)(j.H),a=(0,i.useContext)(H.fo).filter,o=(0,i.useContext)(V.Q).sortState,m=(0,i.useRef)(!1),f=(0,i.useRef)({entities:[],total:t}),d=(0,i.useState)(0),p=(0,g.Z)(d,2),E=p[0],A=p[1],b=(0,c.v9)(Ye.Gg).user,y=(0,U.fU)(h.createDesktopLibraryEventFactory,{data:{uri:"spotify:app:collection:podcasts",identifier:u.Wg.YOURLIBRARY_SHOWS}}),C=y.spec,O=y.UBIFragment,k=(0,i.useMemo)((function(){return C.headerFactory()}),[C]),T=(0,i.useCallback)(function(){var e=(0,n.Z)(l().mark((function e(t,n){var i,c,u=arguments;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=u.length>2&&void 0!==u[2]&&u[2],m.current){e.next=9;break}return m.current=!i,e.next=5,r.getShows({offset:t,limit:n,filter:a,sort:(0,W.EY)(o)});case 5:c=e.sent,f.current=q(c,i,f.current),m.current=!1,A((function(e){return e+1}));case 9:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),[r,a,o,f]),L=(0,i.useCallback)((function(e){f.current=Q(e,f.current),A((function(e){return e+1}))}),[]);(0,i.useEffect)((function(){T(0,50,!!E)}),[a,o]);var I=(0,i.useCallback)((function(){f.current.entities.length!==f.current.total&&T(f.current.entities.length,50)}),[T,f]);return i.createElement(O,{spec:C},i.createElement(ie.C,{onReachBottom:I},i.createElement(O,{spec:k},i.createElement("div",{className:ee.Z.header},i.createElement(v.D,{as:"h1",variant:"canon"},s.ag.get("podcasts")),i.createElement(i.Suspense,{fallback:null},i.createElement(F.h,{filterPlaceholder:s.ag.get("collection.filter.podcasts"),sortOptions:W.a6})))),i.createElement(ce.r,{onLibraryItemRemove:L},i.createElement(Y.ZP,{value:"EntitiesGrid"},i.createElement(D.T,{render:function(){var e=(0,Ce.bl)(null==b?void 0:b.id),t=a||!e||0===f.current.entities.length?[]:[i.createElement(i.Suspense,{fallback:null,key:"your-episodes-card"},i.createElement(gt,{index:0}))],r=t.length>0;return t.concat(f.current.entities.map((function(e,t){var n=r?t+1:t;return i.createElement(Y.ZP,{key:e.uri,value:"card",index:n},i.createElement(ut._,{index:n,name:e.name,uri:e.uri,images:e.images,publisher:e.publisher,sharingInfo:null}))})))}})))))})),ht=i.memo((function(){var e=$().total,t=(0,c.v9)(Ye.Gg).productState,r=!!t&&parseInt(t.ads,10)>0;return null===e?i.createElement(M.h,{hasError:!1,errorMessage:s.ag.get("error.request-collection-shows-failure")}):e?i.createElement(vt,{nrShows:e}):i.createElement("div",{className:C()(ee.Z.emptyStateContainer,(0,b.Z)({},ee.Z.adBarEnabled,r))},i.createElement(N.u,{linkTo:"/genre/podcasts-web",linkTitle:s.ag.get("collection.empty-page.shows-cta"),message:s.ag.get("collection.empty-page.shows-subtitle"),title:s.ag.get("collection.empty-page.shows-title"),renderInline:!0},i.createElement(de.Z,null)),i.createElement(pt,null))})),At=i.memo((function(){return i.createElement(V.$,{uri:"collection/podcasts",defaultSortOption:W.rJ},i.createElement(H.hz,{uri:"collection/podcasts"},i.createElement(ht,null)))})),bt=r(93433),yt=r(48414),Ct=r(69376),Ot=r(28638);function kt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Tt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?kt(Object(r),!0).forEach((function(t){(0,b.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Lt=function(e){var t=e.isAudiobooksEnabled,r=(0,c.v9)(E.rH),n=(0,U.fU)(yt.createDesktopLibraryTopbarEventFactory,{}),a=n.spec,l=n.logger,o=(0,i.useMemo)((function(){return[{title:s.ag.get("playlists"),itemId:"collection.tab-playlists",to:"/collection/playlists",uri:"spotify:app:collection:playlists"}].concat((0,bt.Z)(r?[{title:s.ag.get("podcasts"),itemId:"collection.tab-podcasts",to:"/collection/podcasts",uri:"spotify:app:collection:podcasts"}]:[]),(0,bt.Z)(t?[{title:s.ag.get("search.title.audiobooks"),itemId:"collection.tab-audiobooks",to:"/collection/audiobooks",uri:"spotify:app:collection:audiobooks"}]:[]),[{title:s.ag.get("artists"),itemId:"collection.tab-artists",to:"/collection/artists",uri:"spotify:app:collection:artists"},{title:s.ag.get("albums"),itemId:"collection.tab-albums",to:"/collection/albums",uri:"spotify:app:collection:albums"}]).map((function(e,t){var r=e.uri;return Tt(Tt({},e),{},{handleClick:function(){var e=a.linkFactory({position:t,uri:r}).hitUiNavigate({destination:r});l.logInteraction(e)}})}))}),[r,t,l,a]);return i.createElement(Ot.w,null,i.createElement(Ct.n,{className:ee.Z.tabBar,links:o}))},Dt=i.lazy((0,n.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.e(4246).then(r.bind(r,33377));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))));const It=function(){var e=(0,c.v9)(E.rH),t=(0,o.W6)(p.uB);return(0,d.z)("your_library"),i.createElement("section",{className:"contentSpacing"},i.createElement(m.$,null,s.ag.get("collection.page-title")),i.createElement(f.l,{path:"/collection/artists",pageId:u.Wg.YOURLIBRARY_ARTISTS},i.createElement(me,null)),i.createElement(f.l,{path:"/collection/albums",pageId:u.Wg.YOURLIBRARY_ALBUMS},i.createElement(ne,null)),i.createElement(f.l,{path:"/collection/playlists",pageId:u.Wg.YOURLIBRARY_PLAYLISTS},i.createElement(ot,null)),e&&i.createElement(f.l,{path:"/collection/podcasts",pageId:u.Wg.YOURLIBRARY_SHOWS},i.createElement(At,null)),t&&i.createElement(f.l,{path:"/collection/audiobooks",pageId:u.Wg.YOURLIBRARY_AUDIOBOOKS},i.createElement(ge,null)),i.createElement(f.l,{path:"/collection/music-downloads",pageId:u.Wg.YOURLIBRARY_DOWNLOADS},i.createElement(Dt,null)),i.createElement(Lt,{isAudiobooksEnabled:t}))}},49552:(e,t,r)=>{r.d(t,{P:()=>h});var n=r(4942),a=r(15861),l=(r(85827),r(41539),r(92222),r(47941),r(82526),r(57327),r(38880),r(89554),r(54747),r(49337),r(33321),r(69070),r(87757)),i=r.n(l),c=r(67294),o=r(88767),u=r(87961),s=r(6024),m=(r(69600),r(86706)),f=r(87577),d=r(94321),p=r(29255),E=r(8247);function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var h=function(e,t){var r,n,l,u,s,g,h,b,C,O=(l=(0,f.W6)(E.Xf),u=(0,m.v9)(d.rZ),s=(0,m.v9)(p.Gg),g=s.locale,h=s.overrides,b=(null==h?void 0:h.country)||u,C=(null==h?void 0:h.locale)||g,(0,c.useMemo)((function(){var e=["album","playlist","artist","show","station","episode"];return l&&e.push("uri_link"),{country:b,locale:C,types:e.join(",")}}),[b,l,C])),k=(0,o.useInfiniteQuery)(["useView",e,O],function(){var t=(0,a.Z)(i().mark((function t(r){var n,a;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.pageParam,a=void 0===n?void 0:n,t.abrupt("return",void 0===a?A(e,O):y(a));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),{cacheTime:null!==(r=null==t?void 0:t.cacheTime)&&void 0!==r?r:18e5,staleTime:null!==(n=null==t?void 0:t.staleTime)&&void 0!==n?n:3e5,getNextPageParam:function(e){var t;return null!==(t=e.content.next)&&void 0!==t?t:void 0},getPreviousPageParam:function(e){var t;return null!==(t=e.content.previous)&&void 0!==t?t:void 0}}),T=k.data,L=k.fetchNextPage;return{view:(0,c.useMemo)((function(){return null==T?void 0:T.pages.reduce((function(e,t){return v(v({},e),{},{content:v(v({},e.content),{},{href:t.content.href,next:t.content.next,offset:t.content.offset,previous:t.content.previous,total:t.content.total,items:e.content.items.concat(t.content.items)})})}))}),[null==T?void 0:T.pages]),getNextPage:L}};function A(e,t){return b.apply(this,arguments)}function b(){return(b=(0,a.Z)(i().mark((function e(t,r){var n,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.kO.getView(u.b.getInstance(),t,r);case 2:return n=e.sent,a=n.body,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(e){return C.apply(this,arguments)}function C(){return(C=(0,a.Z)(i().mark((function e(t){var r,n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.TV.getGeneric(u.b.getInstance(),t);case 2:return r=e.sent,n=r.body,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},70937:(e,t,r)=>{r.d(t,{C:()=>s});var n=r(4942),a=r(67294),l=r(97650),i=r(94184),c=r.n(i);const o="eqw9lvuoZHrkWMTdyTpY",u="lb08f71wES9AQnKx6e0R";var s=a.memo((function(e){var t,r=e.triggerOnInitialLoad,i=void 0!==r&&r,s=e.onReachBottom,m=e.showScrollbar,f=void 0===m||m,d=e.horizontalScroll,p=void 0!==d&&d,E=(0,l.YD)({initialInView:i}),g=E.ref,v=E.inView;return(0,a.useEffect)((function(){v&&s&&s()}),[v,s]),a.createElement("div",{className:c()((t={},(0,n.Z)(t,u,!f),(0,n.Z)(t,o,p),t)),"data-testid":"infinite-scroll-list"},e.children,a.createElement("div",{ref:g}))}))},47975:(e,t,r)=>{r.d(t,{Z:()=>n});const n={header:"collection-collection-header",tabBar:"collection-collection-tabBar",AddToPlaylistIcon:"collection-collection-AddToPlaylistIcon",emptyStateContainer:"collection-collection-emptyStateContainer",adBarEnabled:"collection-collection-adBarEnabled"}}}]);
//# sourceMappingURL=xpui-routes-collection.js.map